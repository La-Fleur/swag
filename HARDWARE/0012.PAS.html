<html>
<head><title> "Determine CPU Type" by GAYLE DAVIS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to HARDWARE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>Unit </b></font>CPU<font color="#000080">;

</font><font color="#FF0000"><b>INTERFACE

Type
  </b></font>CpuType <font color="#000080">= ( </font>cpu8088<font color="#000080">,
              </font>cpu8086<font color="#000080">,
              </font>cpu80286<font color="#000080">,
              </font>cpu80386<font color="#000080">,
              </font>cpu80486<font color="#000080">,
              </font>cpuPentium<font color="#000080">,
              </font>cpuFuture
             <font color="#000080">);
  </font>CpuStrType <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">7</font><font color="#000080">];

</font><font color="#FF0000"><b>Function </b></font>GetCpuType <font color="#000080">: </font>CpuType<font color="#000080">;
  </font><font color="#008000"><i>{ Returns the currently executing CPU type }

</i></font><font color="#FF0000"><b>Function </b></font>GetCpuTypeStr <font color="#000080">: </font>CpuStrType<font color="#000080">;
  </font><font color="#008000"><i>{ Returns the currently executing CPU type as a string }

</i></font><font color="#FF0000"><b>IMPLEMENTATION

Const
  </b></font>CpuTypeIdentified <font color="#000080">: </font>Boolean <font color="#000080">= </font>False<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>ConfirmedCpuType <font color="#000080">: </font>CpuType<font color="#000080">;

</font><font color="#008000"><i>{$L CPU.OBJ}

{$F+}
</i></font><font color="#FF0000"><b>Function </b></font>WhichCPU <font color="#000080">: </font>CpuType<font color="#000080">;
  </font><font color="#008000"><i>{ Determines and returns the currently executing CPU type }
</i></font><font color="#FF0000"><b>EXTERNAL</b></font><font color="#000080">;
</font><font color="#008000"><i>{$F-}

</i></font><font color="#FF0000"><b>Procedure </b></font>IdentifyCpuType<font color="#000080">;
  </font><font color="#008000"><i>{ Handles initialization of CPU type }
</i></font><font color="#FF0000"><b>Begin
  If Not </b></font>CpuTypeIdentified <font color="#FF0000"><b>Then
  Begin
    </b></font>ConfirmedCpuType  <font color="#000080">:= </font>WhichCPU<font color="#000080">;
    </font>CpuTypeIdentified <font color="#000080">:= </font>True<font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;   </font><font color="#008000"><i>{ Procedure IdentifyCpuType }

</i></font><font color="#FF0000"><b>Function </b></font>GetCpuType <font color="#000080">: </font>CpuType<font color="#000080">;
  </font><font color="#008000"><i>{ Returns the currently executing CPU type }
</i></font><font color="#FF0000"><b>Begin
  </b></font>IdentifyCpuType<font color="#000080">;
  </font>GetCpuType <font color="#000080">:= </font>ConfirmedCpuType<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;   </font><font color="#008000"><i>{ Function GetCpuType }

</i></font><font color="#FF0000"><b>Function </b></font>GetCpuTypeStr <font color="#000080">: </font>CpuStrType<font color="#000080">;
  </font><font color="#008000"><i>{ Returns the currently executing CPU type as a string }
</i></font><font color="#FF0000"><b>Begin
  </b></font>IdentifyCpuType<font color="#000080">;
  </font><font color="#FF0000"><b>Case </b></font>ConfirmedCpuType <font color="#FF0000"><b>Of
    </b></font>cpu8088    <font color="#000080">: </font>GetCpuTypeStr <font color="#000080">:= </font><font color="#800000">'8088'</font><font color="#000080">;
    </font>cpu8086    <font color="#000080">: </font>GetCpuTypeStr <font color="#000080">:= </font><font color="#800000">'8086'</font><font color="#000080">;
    </font>cpu80286   <font color="#000080">: </font>GetCpuTypeStr <font color="#000080">:= </font><font color="#800000">'80286'</font><font color="#000080">;
    </font>cpu80386   <font color="#000080">: </font>GetCpuTypeStr <font color="#000080">:= </font><font color="#800000">'80386'</font><font color="#000080">;
    </font>cpu80486   <font color="#000080">: </font>GetCpuTypeStr <font color="#000080">:= </font><font color="#800000">'80486'</font><font color="#000080">;
    </font>cpuPentium <font color="#000080">: </font>GetCpuTypeStr <font color="#000080">:= </font><font color="#800000">'Pentium'</font><font color="#000080">;
    </font>cpuFuture  <font color="#000080">: </font>GetCpuTypeStr <font color="#000080">:= </font><font color="#800000">'Future'</font><font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;   </font><font color="#008000"><i>{ Case }
</i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;   </font><font color="#008000"><i>{ Function GetCpuTypeStr }

</i></font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font><font color="#008000"><i>{ eof CPU.PAS }


</i></font>NOTE  <font color="#000080">:    </font>Cut the following code <font color="#FF0000"><b>to </b></font>a seperate <font color="#FF0000"><b>file</b></font><font color="#000080">, </font><font color="#FF0000"><b>and then
           </b></font>USE XX34 <font color="#FF0000"><b>to </b></font>DECODE the block which <font color="#FF0000"><b>contains </b></font>CPU<font color="#000080">.</font>OBJ
           needed <font color="#FF0000"><b>with </b></font>this <font color="#FF0000"><b>unit</b></font><font color="#000080">.

*</font>XX3401<font color="#000080">-</font><font color="#800000">000399</font><font color="#000080">-</font><font color="#800000">290893</font><font color="#000080">--</font><font color="#800000">68</font><font color="#000080">--</font><font color="#800000">85</font><font color="#000080">-</font><font color="#800000">63424</font><font color="#000080">---------</font>CPU<font color="#000080">.</font>OBJ<font color="#000080">--</font><font color="#800000">1</font><font color="#000080">-</font><font color="#FF0000"><b>OF</b></font><font color="#000080">--</font><font color="#800000">1
</font>U<font color="#000080">+</font>s<font color="#000080">+</font><font color="#800000">14</font>BkRKZYMLBh9Y3HHE466<font color="#000080">++++-</font>lIRL7WPm<font color="#000080">--</font>QrBZPK7gNL6U63NZQbBdPqsUAmsm
aMUI<font color="#000080">+</font><font color="#800000">21</font>dBaTF4UlXQ5JdN43nPGt<font color="#000080">-</font>Iop0W<font color="#000080">+</font>A<font color="#000080">+</font>ECZAZU6<font color="#000080">++</font><font color="#800000">4</font>W6<font color="#000080">+</font>k<font color="#000080">-+</font>cNGK<font color="#000080">-</font>U<font color="#000080">+</font><font color="#800000">2E</font>ox2FIKM
<font color="#000080">-</font>k<font color="#000080">-</font><font color="#800000">6</font>wk<font color="#000080">+</font><font color="#800000">0</font><font color="#000080">+</font>E2WY<font color="#000080">+</font>w<font color="#000080">+++</font><font color="#800000">26</font>JoV7EoV1I3I<font color="#000080">+++</font><font color="#800000">1</font>xW<font color="#000080">+</font>E<font color="#000080">+</font>E86<font color="#000080">-</font>YO1r<font color="#000080">++</font><font color="#800000">2</font><font color="#000080">++-</font>uAm6vMu<font color="#000080">-</font>k<font color="#000080">+</font>D<font color="#000080">+</font><font color="#800000">7</font>x
<font color="#000080">-</font>SUk<font color="#000080">+</font>CgFu2Y<font color="#000080">+</font>D<font color="#000080">+</font>Bw0iVV<font color="#000080">+</font><font color="#800000">1</font>k2T<font color="#000080">+</font>DcV<font color="#000080">++</font>TmtmQKs5XzkxHbNlPUSA<font color="#000080">+</font>w1D<font color="#000080">+</font>UTg<font color="#000080">+</font>w5E0g<font color="#000080">+</font><font color="#800000">8</font>R
kkOAm6v<font color="#000080">+</font>zPc<font color="#000080">-+</font><font color="#800000">9</font>xM<font color="#000080">+</font><font color="#800000">90E</font>iEA<font color="#000080">+</font>wufwY70EGd0EWw65ktkD<font color="#000080">+</font>S1Fq5A3i<font color="#000080">+</font>A<font color="#000080">+</font>ul0s<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">-</font>EbNlM
UCFki<font color="#000080">+</font><font color="#800000">6</font><font color="#000080">+</font>R<font color="#000080">+</font><font color="#800000">3</font><font color="#000080">+</font>bQC9y6jQNdlab4NMNUo<font color="#000080">+++</font>E<font color="#000080">+</font>NZ<font color="#000080">-</font>abKOQNZVaeE<font color="#000080">++-+-</font>o<font color="#000080">+</font>t0EFqORWyC9
lwBab4NMNcjMNXI<font color="#000080">++</font><font color="#800000">0</font><font color="#000080">++</font>NZ<font color="#000080">-</font>abKOQNZVaIqORNWI<font color="#000080">++</font><font color="#800000">0</font><font color="#000080">++</font>Nc5X<font color="#000080">+++</font>U<font color="#000080">+</font><font color="#800000">4</font>MvkrESY7<font color="#000080">-</font>ai<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">+
+++</font>Dch5coSXFuB5coSXFuB5coSUZ1k11i<font color="#000080">+</font>E<font color="#000080">+</font>kumQ<font color="#000080">-</font>E12GJE<font color="#000080">-</font>zMc0<font color="#000080">++-</font>o
<font color="#000080">***** </font><font color="#FF0000"><b>END OF </b></font>XX<font color="#000080">-</font>BLOCK <font color="#000080">*****


</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to HARDWARE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p></body>
</html>
