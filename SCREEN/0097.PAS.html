<html>
<head><title> "Changing Dos Chars How?" by ROBERT NEWCOMBE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0097.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{MR&gt; How can I change say char 255 (A blank) into anything I want?

I don't know exactly how to do it, but here's a little program that'll
help you get started with this.}


</i></font><font color="#FF0000"><b>PROGRAM </b></font>CHANGE_CHARACTER_SET<font color="#000080">;
</font><font color="#FF0000"><b>USES </b></font>CRT<font color="#000080">;

</font><font color="#FF0000"><b>TYPE
  </b></font>CharSet <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>of Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">8</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
            </font><font color="#008000"><i>{255 characters} {8 bytes per character  }
            {of which each } {each bit in each byte  }
            {uses 8 bytes  } {specifies if something }
                             {must be outputted to   }
                             {screen, eg. a 255 is   }
                             {********, a dot in each}
                             {position, a 253 is     }
                             {****** *, a dot in each}
                             {position, except the   }
                             {second last.           }
                       


</i></font><font color="#FF0000"><b>VAR
  </b></font>It  <font color="#000080">: </font>CharSet <font color="#FF0000"><b>ABSOLUTE </b></font><font color="#800000">$C396</font><font color="#000080">:</font><font color="#800000">$0</font><font color="#000080">; </font><font color="#008000"><i>{set up an array of the character}
                                   {set, $C396:$0, being the position}
                                   {in memory for this}
  </i></font>It2 <font color="#000080">: </font>CharSet<font color="#000080">;  </font><font color="#008000"><i>{set up a second array of the character set so that}
                  {you can restore them on exiting of your program}
  </i></font>LP<font color="#000080">, </font>Lp2<font color="#000080">, </font>Lp3 <font color="#000080">: </font>BYTE<font color="#000080">;   </font><font color="#008000"><i>{Some variables for looping}


</i></font><font color="#FF0000"><b>BEGIN
</b></font>CLRSCR<font color="#000080">;
</font>IT2<font color="#000080">:=</font>IT<font color="#000080">;  </font><font color="#008000"><i>{Store the set into a backup array}

{This is where you would do your character manipulation}
{I've tried it out, by changing the memory, but it doesn't}
{seem to work, I think you have to run it on an interrupt}
{bases, ie. Play around with your interrupt vectors, if you}
{manage to figure it out, please tell me how you did it}
{The programming that follows is just a simple example to}
{show you how the character set information is stored, what}
{it does, is it outputs on screen what the character looks like}
{kind of like 64*64 instead of 8*8 text mode}


</i></font><font color="#FF0000"><b>FOR </b></font>LP3<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO                               </b></font><font color="#008000"><i>{This part of the}
  </i></font><font color="#FF0000"><b>BEGIN                                            </b></font><font color="#008000"><i>{program outputs the}
    </i></font><font color="#FF0000"><b>FOR </b></font>LP<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">8 </font><font color="#FF0000"><b>DO                              </b></font><font color="#008000"><i>{characters onto the}
      </i></font><font color="#FF0000"><b>BEGIN                                        </b></font><font color="#008000"><i>{screen, eg, a 1 }
        </i></font><font color="#FF0000"><b>FOR </b></font>LP2<font color="#000080">:=</font><font color="#800000">7 </font><font color="#FF0000"><b>DOWNTO </b></font><font color="#800000">0 </font><font color="#FF0000"><b>DO                     </b></font><font color="#008000"><i>{would look something}
          </i></font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>IT<font color="#000080">[</font>LP3<font color="#000080">][</font>LP<font color="#000080">] </font><font color="#FF0000"><b>SHR </b></font>LP2<font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#800000">$1</font><font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>THEN   </b></font><font color="#008000"><i>{like this:}
             </i></font>MEM<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:(</font>LP<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+(</font><font color="#800000">7</font><font color="#000080">-</font>LP2<font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">]:=</font><font color="#800000">219  </font><font color="#008000"><i>{  ***   Not exactly,}
                                            </i></font><font color="#FF0000"><b>ELSE   </b></font><font color="#008000"><i>{ * **   But close}
             </i></font>MEM<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:(</font>LP<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+(</font><font color="#800000">7</font><font color="#000080">-</font>LP2<font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;   </font><font color="#008000"><i>{   **   enough.}
        </i></font>WRITELN<font color="#000080">;                                   </font><font color="#008000"><i>{   **   }
      </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;                                         </font><font color="#008000"><i>{   **   }
    </i></font>READLN<font color="#000080">;                                        </font><font color="#008000"><i>{   **   }
    </i></font>CLRSCR<font color="#000080">;                                        </font><font color="#008000"><i>{   **   }
  </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;                                             </font><font color="#008000"><i>{********}

{Once you're finished with the program, or when people wish to exit, I 
suggest that you reset the character set to the original set, that's why
I made IT2 equal IT, so that you have a backup of the old set, just use 
the following to restore it}

</i></font>IT<font color="#000080">:=</font>IT2<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0097.PAS">Original</a><b>]</b></p></body>
</html>
