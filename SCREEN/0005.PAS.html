<html>
<head><title> "GETCHAR1.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0005.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&sup3;What would be the best way to find out what Character is at a certain
&sup3;location on the screen.  For example, Lets say I went to location
&sup3;(10,2) and at that location is the letter 'S' now without
&sup3;disturbing the letter S how can I determine if it is there or not?


A 25-line by 80-column screen has 2,000 possible cursor positions. The
2,000 Words that begin at the memory location $B800:0000 (or $B000:0000 if
your machine is monochrome) define the current image. The first Byte of
each Word is the ASCII Character to be displayed, and the second Byte is
the attribute of the display, which controls such Characteristics as color
and whether it should blink....

I you used the standard (X,Y) coordinate system to define a cursor positon
on the screen, With the upper left corner at (1,1) and lower right corner
at (80,25), then With a lettle algebra you can see that the offset value
For a cursor position can be found at:

   Words:  80*(Y-1) + (X-1)
or
   Bytes:  160*(Y-1) + 2*(X-1)


Here's a Function that will return the Character at location (X,Y):

}
</i></font><font color="#FF0000"><b>Function </b></font>GetChar<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">:</font>Byte<font color="#000080">):</font>Char<font color="#000080">;
  </font><font color="#008000"><i>(* Returns the Character at location (X,Y) *)
</i></font><font color="#FF0000"><b>Const
  </b></font>ColorSeg <font color="#000080">= </font><font color="#800000">$B800</font><font color="#000080">;     </font><font color="#008000"><i>(* For color system *)
  </i></font>MonoSeg  <font color="#000080">= </font><font color="#800000">$B000</font><font color="#000080">;     </font><font color="#008000"><i>(* For mono system  *)
</i></font><font color="#FF0000"><b>begin
  </b></font>GetChar <font color="#000080">:= </font>Chr<font color="#000080">(</font>Mem<font color="#000080">[</font>ColorSeg<font color="#000080">:</font><font color="#800000">160</font><font color="#000080">*(</font>Y<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) + </font><font color="#800000">2</font><font color="#000080">*(</font>X<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)])
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0005.PAS">Original</a><b>]</b></p></body>
</html>
