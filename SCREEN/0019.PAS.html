<html>
<head><title> "A CRT Replacement" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>unit </b></font>scrn<font color="#000080">;
</font><font color="#008000"><i>{$D-,I-,S-,V-}
</i></font><font color="#FF0000"><b>interface
Uses
        </b></font>Dos<font color="#000080">;
</font><font color="#FF0000"><b>Const
      </b></font>display <font color="#000080">: </font>Boolean <font color="#000080">= </font>true<font color="#000080">;
      </font>FGround <font color="#000080">: </font>Byte <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
      </font>BGround <font color="#000080">: </font>Byte <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
      </font>attribute <font color="#000080">: </font>Byte <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
      </font>apage <font color="#000080">: </font>Word <font color="#000080">= </font><font color="#800000">$B800</font><font color="#000080">;
      </font>apoint <font color="#000080">: </font>Word <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#008000"><i>{ foreground and background colors }
      </i></font>Black        <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
      </font>Blue         <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;
      </font>Green        <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;
      </font>Cyan         <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">;
      </font>Red          <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;
      </font>Magenta      <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;
      </font>Brown        <font color="#000080">= </font><font color="#800000">6</font><font color="#000080">;
      </font>LightGray    <font color="#000080">= </font><font color="#800000">7</font><font color="#000080">;

      </font><font color="#008000"><i>{ foreground colors }
      </i></font>DarkGray     <font color="#000080">= </font><font color="#800000">8</font><font color="#000080">;
      </font>LightBlue    <font color="#000080">= </font><font color="#800000">9</font><font color="#000080">;
      </font>LightGreen   <font color="#000080">= </font><font color="#800000">10</font><font color="#000080">;
      </font>LightCyan    <font color="#000080">= </font><font color="#800000">11</font><font color="#000080">;
      </font>LightRed     <font color="#000080">= </font><font color="#800000">12</font><font color="#000080">;
      </font>LightMagenta <font color="#000080">= </font><font color="#800000">13</font><font color="#000080">;
      </font>Yellow       <font color="#000080">= </font><font color="#800000">14</font><font color="#000080">;
      </font>White        <font color="#000080">= </font><font color="#800000">15</font><font color="#000080">;

      </font><font color="#008000"><i>{ add for blinking characters }
      </i></font>Blink        <font color="#000080">= </font><font color="#800000">128</font><font color="#000080">;

</font><font color="#FF0000"><b>VAR
        </b></font>regs <font color="#000080">: </font>Registers<font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>GetMode <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#008000"><i>{returns the current video mode}

</i></font><font color="#FF0000"><b>Procedure </b></font>SetMode <font color="#000080">(</font>m <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{sets the video mode}

</i></font><font color="#FF0000"><b>Procedure </b></font>Scroll <font color="#000080">(</font>ur<font color="#000080">, </font>lc<font color="#000080">, </font>lr<font color="#000080">, </font>rc <font color="#000080">: </font>Byte<font color="#000080">; </font>nbr <font color="#000080">: </font>ShortInt<font color="#000080">);
</font><font color="#008000"><i>{scrolls the window up (nbr is +) or down (nbr is -)}
{If nbr is 0 or out of range then the screen clears}
{ur is the upper row, lc is the left column,
 lr is the lower row, and rc is the right column}
{Note:  using an out-of-range number may have unpredictable
 results on the colors...it is not recommended}

</i></font><font color="#FF0000"><b>Procedure </b></font>SetCursor <font color="#000080">(</font>s<font color="#000080">, </font>e <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{sets the size of the cursor}
{s is the starting line, e is the ending line}

</i></font><font color="#FF0000"><b>Procedure </b></font>SetAPage <font color="#000080">(</font>page <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#008000"><i>{Set the Active (drawing) page}

</i></font><font color="#FF0000"><b>Procedure </b></font>SetVPage <font color="#000080">(</font>vpage <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{Set the display page}

</i></font><font color="#FF0000"><b>Function </b></font>DisplayCursor <font color="#000080">(</font>display1 <font color="#000080">: </font>Boolean<font color="#000080">) : </font>Boolean<font color="#000080">;
</font><font color="#008000"><i>{hides or displays the cursor}

</i></font><font color="#FF0000"><b>Function </b></font>Xis <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#008000"><i>{Tells you what the X coordinate is for the current active page}

</i></font><font color="#FF0000"><b>Function </b></font>Yis <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#008000"><i>{Tells you what the Y coordinate is for the current active page}

</i></font><font color="#FF0000"><b>Procedure </b></font>PXY <font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{sets the coordinates on the current active page}
{To move the cursor on the visual page, first make the visual page
 and active page the same}
{x is the row, y is the column}

</i></font><font color="#FF0000"><b>Procedure </b></font>SetFGround <font color="#000080">(</font>FG <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{sets the foreground color}
{constants can be used}
{add 128 or the constant BLINK to make the foreground blink}

</i></font><font color="#FF0000"><b>Procedure </b></font>SetBGround <font color="#000080">(</font>BG <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{sets the background color}
{constants can be used}

</i></font><font color="#FF0000"><b>Procedure </b></font>PWrite <font color="#000080">(</font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
</font><font color="#008000"><i>{writes a string to the current active page}
{numbers must be converted to a string before calling this procedure}

</i></font><font color="#FF0000"><b>Procedure </b></font>PWriteln <font color="#000080">(</font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);

</font><font color="#FF0000"><b>Procedure </b></font>ClrScrn<font color="#000080">;
</font><font color="#008000"><i>{Clear the current active page}

</i></font><font color="#FF0000"><b>implementation

Function </b></font>GetMode <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#008000"><i>{returns the current video mode}
</i></font><font color="#FF0000"><b>Begin
     </b></font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">$0F</font><font color="#000080">;
     </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
     </font>GetMode <font color="#000080">:= </font>regs<font color="#000080">.</font>al<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetMode <font color="#000080">(</font>m <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{sets the video mode}
</i></font><font color="#FF0000"><b>Begin
     </b></font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
     </font>regs<font color="#000080">.</font>al <font color="#000080">:= </font>m<font color="#000080">;
     </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Scroll <font color="#000080">(</font>ur<font color="#000080">, </font>lc<font color="#000080">, </font>lr<font color="#000080">, </font>rc <font color="#000080">: </font>Byte<font color="#000080">; </font>nbr <font color="#000080">: </font>ShortInt<font color="#000080">);
</font><font color="#008000"><i>{scrolls the window up (nbr is +) or down (nbr is -)}
{If nbr is 0 or out of range then the screen clears}
</i></font><font color="#FF0000"><b>Begin
        </b></font>Dec<font color="#000080">(</font>ur<font color="#000080">);
        </font>Dec<font color="#000080">(</font>lc<font color="#000080">);
        </font>Dec<font color="#000080">(</font>lr<font color="#000080">);
        </font>Dec<font color="#000080">(</font>rc<font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font>nbr <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">7 </font><font color="#FF0000"><b>Else </b></font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">6</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>al <font color="#000080">:= </font>Abs<font color="#000080">(</font>nbr<font color="#000080">);
        </font>regs<font color="#000080">.</font>bh <font color="#000080">:= </font>attribute<font color="#000080">;
        </font>regs<font color="#000080">.</font>ch <font color="#000080">:= </font>ur<font color="#000080">;
        </font>regs<font color="#000080">.</font>cl <font color="#000080">:= </font>lc<font color="#000080">;
        </font>regs<font color="#000080">.</font>dh <font color="#000080">:= </font>lr<font color="#000080">;
        </font>regs<font color="#000080">.</font>dl <font color="#000080">:= </font>rc<font color="#000080">;
        </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetCursor <font color="#000080">(</font>s<font color="#000080">, </font>e <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>ch <font color="#000080">:= </font>s<font color="#000080">;
        </font>regs<font color="#000080">.</font>cl <font color="#000080">:= </font>e<font color="#000080">;
        </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetAPage <font color="#000080">(</font>page <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>apage <font color="#000080">:= </font><font color="#800000">$B800 </font><font color="#000080">+ (</font>page <font color="#000080">* </font><font color="#800000">$100</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetVPage <font color="#000080">(</font>vpage <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>al <font color="#000080">:= </font>vpage<font color="#000080">;
        </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>DisplayCursor<font color="#000080">(</font>display1 <font color="#000080">: </font>Boolean<font color="#000080">) : </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        If Not</b></font><font color="#000080">(</font>display1<font color="#000080">) </font><font color="#FF0000"><b>Then Begin
           </b></font>regs<font color="#000080">.</font>dh <font color="#000080">:= </font><font color="#800000">50</font><font color="#000080">;
           </font>regs<font color="#000080">.</font>dl <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
           </font><font color="#FF0000"><b>End
        Else </b></font>regs<font color="#000080">.</font>dx <font color="#000080">:= </font>apoint<font color="#000080">;
        </font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>bh <font color="#000080">:= (</font>apage <font color="#000080">- </font><font color="#800000">$B800</font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">$100</font><font color="#000080">;
        </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
        </font>display <font color="#000080">:= </font>display1<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>Xis <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Var        </b></font>cpage <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>cpage <font color="#000080">:= (</font>apage <font color="#000080">- </font><font color="#800000">$B800</font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">$100</font><font color="#000080">;
        </font>Xis <font color="#000080">:= (</font>Mem<font color="#000080">[</font><font color="#800000">$40</font><font color="#000080">:</font><font color="#800000">$51</font><font color="#000080">+(</font>cpage <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">)]) + </font><font color="#800000">1</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>Yis <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Var        </b></font>cpage <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>cpage <font color="#000080">:= (</font>apage <font color="#000080">- </font><font color="#800000">$B800</font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">$100</font><font color="#000080">;
        </font>Yis <font color="#000080">:= (</font>Mem<font color="#000080">[</font><font color="#800000">$40</font><font color="#000080">:</font><font color="#800000">$50</font><font color="#000080">+(</font>cpage <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">)]) + </font><font color="#800000">1</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Procedure </b></font>PXY <font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>Dec<font color="#000080">(</font>x<font color="#000080">);
        </font>Dec<font color="#000080">(</font>y<font color="#000080">);
        </font>regs<font color="#000080">.</font>dh <font color="#000080">:= </font>x<font color="#000080">;
        </font>regs<font color="#000080">.</font>dl <font color="#000080">:= </font>y<font color="#000080">;
        </font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>bh <font color="#000080">:= (</font>apage <font color="#000080">- </font><font color="#800000">$B800</font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">$100</font><font color="#000080">;
        </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
        </font><font color="#FF0000"><b>If Not</b></font><font color="#000080">(</font>display<font color="#000080">) </font><font color="#FF0000"><b>Then Begin
           </b></font>regs<font color="#000080">.</font>dh <font color="#000080">:= </font><font color="#800000">50</font><font color="#000080">;
           </font>regs<font color="#000080">.</font>dl <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>bh <font color="#000080">:= (</font>apage <font color="#000080">- </font><font color="#800000">$B800</font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">$100</font><font color="#000080">;
        </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font>apoint <font color="#000080">:= </font>x <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ </font>y <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetFGround <font color="#000080">(</font>FG <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>FGround <font color="#000080">:= </font>FG<font color="#000080">;
        </font>attribute <font color="#000080">:= </font>BGround <font color="#000080">* </font><font color="#800000">16 </font><font color="#000080">+ </font>FGround<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetBGround <font color="#000080">(</font>BG <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>BGround <font color="#000080">:= </font>BG<font color="#000080">;
        </font>attribute <font color="#000080">:= </font>BGround <font color="#000080">* </font><font color="#800000">16 </font><font color="#000080">+ </font>FGround<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>PWrite <font color="#000080">(</font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
</font><font color="#FF0000"><b>Var
        </b></font>Len<font color="#000080">, </font>x<font color="#000080">, </font>y <font color="#000080">: </font>Byte<font color="#000080">;
        </font>tmp <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        If </b></font>Length<font color="#000080">(</font>S<font color="#000080">) = </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Exit<font color="#000080">;
        </font>tmp <font color="#000080">:= </font>apoint<font color="#000080">;
        </font><font color="#FF0000"><b>For </b></font>Len <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font>Length<font color="#000080">(</font>S<font color="#000080">) - </font><font color="#800000">1 </font><font color="#FF0000"><b>Do Begin
            </b></font>Mem<font color="#000080">[</font>apage<font color="#000080">:</font>apoint<font color="#000080">+</font>Len<font color="#000080">] := </font>Ord<font color="#000080">(</font>S<font color="#000080">[</font>Len<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">]);
            </font>Inc<font color="#000080">(</font>apoint<font color="#000080">);
            </font>Mem<font color="#000080">[</font>apage<font color="#000080">:</font>apoint<font color="#000080">+</font>Len<font color="#000080">] := </font>attribute<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font>apoint <font color="#000080">:= (</font>tmp <font color="#000080">+ </font>Length<font color="#000080">(</font>S<font color="#000080">) * </font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">2</font><font color="#000080">;
        </font>y <font color="#000080">:= </font>apoint <font color="#FF0000"><b>MOD </b></font><font color="#800000">80</font><font color="#000080">;
        </font>x <font color="#000080">:= </font>apoint <font color="#FF0000"><b>DIV </b></font><font color="#800000">80</font><font color="#000080">;
        </font>Inc<font color="#000080">(</font>x<font color="#000080">);
        </font>Inc<font color="#000080">(</font>y<font color="#000080">);
        </font>PXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">);
        </font><font color="#FF0000"><b>If Not</b></font><font color="#000080">(</font>display<font color="#000080">) </font><font color="#FF0000"><b>Then Begin
           </b></font>regs<font color="#000080">.</font>dh <font color="#000080">:= </font><font color="#800000">50</font><font color="#000080">;
           </font>regs<font color="#000080">.</font>dl <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>bh <font color="#000080">:= (</font>apage <font color="#000080">- </font><font color="#800000">$B800</font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">$100</font><font color="#000080">;
        </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>PWriteln <font color="#000080">(</font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
</font><font color="#FF0000"><b>Var
        </b></font>Len<font color="#000080">, </font>x<font color="#000080">, </font>y <font color="#000080">: </font>Byte<font color="#000080">;
        </font>tmp <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        If </b></font>Length<font color="#000080">(</font>S<font color="#000080">) = </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Exit<font color="#000080">;
        </font>tmp <font color="#000080">:= </font>apoint<font color="#000080">;
        </font><font color="#FF0000"><b>For </b></font>Len <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font>Length<font color="#000080">(</font>S<font color="#000080">) - </font><font color="#800000">1 </font><font color="#FF0000"><b>Do Begin
            </b></font>Mem<font color="#000080">[</font>apage<font color="#000080">:</font>apoint<font color="#000080">+</font>Len<font color="#000080">] := </font>Ord<font color="#000080">(</font>S<font color="#000080">[</font>Len<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">]);
            </font>Inc<font color="#000080">(</font>apoint<font color="#000080">);
            </font>Mem<font color="#000080">[</font>apage<font color="#000080">:</font>apoint<font color="#000080">+</font>Len<font color="#000080">] := </font>attribute<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font>apoint <font color="#000080">:= (</font>tmp <font color="#000080">+ </font>Length<font color="#000080">(</font>S<font color="#000080">) * </font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">2</font><font color="#000080">;
        </font>x <font color="#000080">:= </font>apoint <font color="#FF0000"><b>DIV </b></font><font color="#800000">80 </font><font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
        </font>y <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
        </font>PXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">);
        </font><font color="#FF0000"><b>If Not</b></font><font color="#000080">(</font>display<font color="#000080">) </font><font color="#FF0000"><b>Then Begin
           </b></font>regs<font color="#000080">.</font>dh <font color="#000080">:= </font><font color="#800000">50</font><font color="#000080">;
           </font>regs<font color="#000080">.</font>dl <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>bh <font color="#000080">:= (</font>apage <font color="#000080">- </font><font color="#800000">$B800</font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">$100</font><font color="#000080">;
        </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ClrScrn<font color="#000080">;
</font><font color="#FF0000"><b>Var
        </b></font>x <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>x <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
        </font><font color="#FF0000"><b>While </b></font>x <font color="#000080">&lt; </font><font color="#800000">4048 </font><font color="#FF0000"><b>Do Begin
          </b></font>Mem<font color="#000080">[</font>apage<font color="#000080">:</font>x<font color="#000080">] := </font><font color="#800000">$20</font><font color="#000080">;
          </font>Inc<font color="#000080">(</font>x<font color="#000080">);
          </font>Mem<font color="#000080">[</font>apage<font color="#000080">:</font>x<font color="#000080">] := </font>attribute<font color="#000080">;
          </font>Inc<font color="#000080">(</font>x<font color="#000080">);
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{initializes the foreground and backbround colors}
</i></font><font color="#FF0000"><b>Begin
        </b></font>regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">8</font><font color="#000080">;
        </font>regs<font color="#000080">.</font>bh <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
        </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>regs<font color="#000080">);
        </font>attribute <font color="#000080">:= </font>regs<font color="#000080">.</font>ah<font color="#000080">;
        </font>FGround <font color="#000080">:= </font>attribute <font color="#FF0000"><b>MOD </b></font><font color="#800000">16</font><font color="#000080">;
        </font>BGround <font color="#000080">:= (</font>attribute <font color="#000080">- </font>FGround<font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">16</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p></body>
</html>
