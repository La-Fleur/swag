<html>
<head><title> "Display Chars at $A000" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0036.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt;Does anyone know how display characters in 320x200x256 ($A000)??
&gt;I want to write letters on the screen, but how do I? Is there a
&gt;way without a special program???

  You need to use interrupt calls to the BIOS video routines to write a
  character to the screen.  Include the DOS unit in your program as
  you'll need it for the definition of &quot;Intr&quot; and &quot;Registers&quot; below:
}

</i></font><font color="#FF0000"><b>procedure </b></font>SetCursorPosition<font color="#000080">(</font>Column<font color="#000080">, </font>Row <font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>reg <font color="#000080">: </font>registers<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>reg<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$02</font><font color="#000080">;
   </font>reg<font color="#000080">.</font>BH <font color="#000080">:= </font><font color="#800000">$00</font><font color="#000080">;    </font><font color="#008000"><i>{* Display Page Number. 0 for Graphics Modes! *}
   </i></font>reg<font color="#000080">.</font>DL <font color="#000080">:= </font>Column<font color="#000080">; </font><font color="#008000"><i>{* Row/Column are Zero-Based! *}
   </i></font>reg<font color="#000080">.</font>DH <font color="#000080">:= </font>Row<font color="#000080">;
   </font>intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">, </font>reg<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>WriteCharAtCursor<font color="#000080">(</font>x <font color="#000080">: </font>char<font color="#000080">; </font>Color <font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>reg <font color="#000080">: </font>registers<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>reg<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$0A</font><font color="#000080">;
   </font>reg<font color="#000080">.</font>AL <font color="#000080">:= </font>ord<font color="#000080">(</font>x<font color="#000080">);
   </font>reg<font color="#000080">.</font>BH <font color="#000080">:= </font><font color="#800000">$00</font><font color="#000080">;    </font><font color="#008000"><i>{* Display Page Number. * for Graphics Modes! *}
   </i></font>reg<font color="#000080">.</font>BL <font color="#000080">:= </font>Color   <font color="#008000"><i>{* For Graphics Modes only? *}
   </i></font>reg<font color="#000080">.</font>CX <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;      </font><font color="#008000"><i>{* Word for number of characters to write *}
   </i></font>intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">, </font>reg<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
Use the first routine to set the cursor position and the second routine
to write the character.  (I don't remember if writing a character will
modify the cursor position or not--you'll have to play with that one).
Play with these routines a bit and write another to output a string &amp;
you should be all set.  WARNING: the characters you write in 300x200
mode will be very large and VIC-20-like....

I recommend you get a copy of Ron Brown's Interrupt List files
(INTERnnA.ZIP through INTERnnC.ZIP, where nn is the current number--my
guess if 34 or 35 by now).  I also have a copy of the &quot;DOS Programmer's
Reference 2nd Edition&quot; (Que Books) which describes many of the
Interrupts and how to interface with them in ASM, BASIC, C or Pascal,
as well as how DOS, BIOS, VIDEO, etc. are arranged.  It is a VERY
worthwhile reference....
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0036.PAS">Original</a><b>]</b></p></body>
</html>
