<html>
<head><title> "Sorta good WritePattern" by STERLING BATES</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0081.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#FF0000"><b>Procedure </b></font>WriteP <font color="#000080">(</font>DispStr <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>X<font color="#000080">,</font>Y<font color="#000080">,</font>Colr <font color="#000080">: </font>Byte<font color="#000080">; </font>FChar <font color="#000080">: </font>Char<font color="#000080">;
                  </font>Patrn <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);

               </font><font color="#008000"><i>(* DispStr   = non-formatted string to be output to the screen.
                              ie: pass '4031234567', not '(403) 123-4567'.
                  X,Y       = location to begin writing string to screen.  If
                              the pattern begins with an 'X', this WILL be
                              taken into account and will advance one space.
                  Colr      = attribute of DispStr.
                  FChar     = Filler character for strings that don't complete
                              the pattern.
                  Patrn     = Template for writing string to screen.
                              Essentially, the only character required in this
                              template is the 'X', to show where a character
                              is NOT displayed.
               *)

  (* This procedure will write DispStr to the screen, following the guidelines
     given in Patrn.  For example, calling

           WriteP ('40312345',10,11,7,'_','X###XX###X####');

     will display:

            403  123 45__
           ^advancing space

     on the screen.  Of course, the '(   )    -' would make it complete, but
     that's just an example.
  *)

  (* Standard disclaimer: I'm not liable for anything this procedure does
                          outside the original purpose of the procedure.  If
                          something bad happens, let me know, but that's all
                          I can do.
  *)

</i></font><font color="#FF0000"><b>Var
   </b></font>Loc<font color="#000080">, </font>PX                              <font color="#000080">: </font>Integer<font color="#000080">;

</font><font color="#FF0000"><b>Begin
     </b></font>Colr <font color="#000080">:= </font>CheckColor <font color="#000080">(</font>Colr<font color="#000080">);
     </font>Loc <font color="#000080">:= ((</font>X<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">)+((</font>Y<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">);
     </font>Loop <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
     </font>PX <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>While </b></font>PX <font color="#000080">&lt;= </font>Length <font color="#000080">(</font>Patrn<font color="#000080">) </font><font color="#FF0000"><b>Do
     Begin
          If </b></font>Patrn<font color="#000080">[</font>PX<font color="#000080">] = </font><font color="#800000">'X' </font><font color="#FF0000"><b>Then
             While </b></font>Patrn<font color="#000080">[</font>PX<font color="#000080">] = </font><font color="#800000">'X' </font><font color="#FF0000"><b>Do
             Begin
                  </b></font>Inc <font color="#000080">(</font>Loc<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
                  </font>Inc <font color="#000080">(</font>PX<font color="#000080">);
             </font><font color="#FF0000"><b>End
          Else
          Begin
               If </b></font>Loop <font color="#000080">&lt;= </font>Length <font color="#000080">(</font>DispStr<font color="#000080">) </font><font color="#FF0000"><b>Then
               Begin
                    </b></font>Mem<font color="#000080">[</font>VidSeg<font color="#000080">:</font>Loc<font color="#000080">] := </font>Ord <font color="#000080">(</font>DispStr<font color="#000080">[</font>Loop<font color="#000080">]);
                    </font>Mem<font color="#000080">[</font>VidSeg<font color="#000080">:</font>Loc<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>Colr<font color="#000080">;
               </font><font color="#FF0000"><b>End
               Else
               Begin
                    </b></font>Mem<font color="#000080">[</font>VidSeg<font color="#000080">:</font>Loc<font color="#000080">] := </font>Ord <font color="#000080">(</font>FChar<font color="#000080">);
                    </font>Mem<font color="#000080">[</font>VidSeg<font color="#000080">:</font>Loc<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>HiColr<font color="#000080">;
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font>Inc <font color="#000080">(</font>Loop<font color="#000080">);
               </font>Inc <font color="#000080">(</font>Loc<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
               </font>Inc <font color="#000080">(</font>PX<font color="#000080">);
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0081.PAS">Original</a><b>]</b></p></body>
</html>
