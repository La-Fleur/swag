<html>
<head><title> "Advanced Text Mode Formats" by SEAN PALMER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0085.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
From: sean.palmer@delta.com (Sean Palmer)

&gt;Here it is, the latest collection of VGA 80 character text modes. So fa
&gt;have been able to collect 14 text modes, 10 of them being actually usef
&gt;(i.e. 25x80 or larger). The plum in the pudding is a 60x80 character te
&gt;mode, for people who are really desperate to spoil their eyes. All the
&gt;modes should operate on standard VGA cards.

Cool.

&gt;Have fun, and let me (or the newsgroup) know of any suggestions, bugs o
&gt;improvements you might have. I have heard rumours of x90 character mode
&gt;Anybody know about that? If it gets rid of the 1 pixel spacing between
&gt;character cells, wouldn't all the letters run together?

No. They have 2 pixel gaps normally.

Once you turn off 9th bit padding, you have to adjust the bios save data
area appropriately or it freaks out.
}

</i></font><font color="#FF0000"><b>const </b></font>HorizParms<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">6</font><font color="#000080">]</font><font color="#FF0000"><b>of </b></font>word<font color="#000080">=
 ((</font><font color="#800000">$6A00</font><font color="#000080">,</font><font color="#800000">$5901</font><font color="#000080">,</font><font color="#800000">$5A02</font><font color="#000080">,</font><font color="#800000">$8D03</font><font color="#000080">,</font><font color="#800000">$6004</font><font color="#000080">,</font><font color="#800000">$8505</font><font color="#000080">,</font><font color="#800000">$2D13</font><font color="#000080">),
  (</font><font color="#800000">$5F00</font><font color="#000080">,</font><font color="#800000">$4F01</font><font color="#000080">,</font><font color="#800000">$5002</font><font color="#000080">,</font><font color="#800000">$8203</font><font color="#000080">,</font><font color="#800000">$5504</font><font color="#000080">,</font><font color="#800000">$8105</font><font color="#000080">,</font><font color="#800000">$2813</font><font color="#000080">));

</font><font color="#FF0000"><b>procedure </b></font>SetCharWidth<font color="#000080">(</font>w<font color="#000080">:</font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
 </b></font><font color="#FF00FF">mov ax,$40; mov es,ax;
 mov dx,es:[$63];  </font><font color="#008000"><i>{locate CRTC}
 </i></font><font color="#FF00FF">mov al,$11; out dx,al; inc dx; in al,dx; dec dx;
 mov ah,al; mov al,$11; push ax; and ah,$7F; out dx,ax; </font><font color="#008000"><i>{no write protect}
 </i></font><font color="#FF00FF">mov bx,w; sub bl,8; neg bx; and bx,14; lea si,horizParms[bx];
 mov cx,7
@L: lodsw; out dx,ax; loop @L;
 pop ax; out dx,ax; </font><font color="#008000"><i>{restore write protect}
 </i></font><font color="#FF00FF">mov dx,$3C4;   </font><font color="#008000"><i>{sequencer}
 </i></font><font color="#FF00FF">cli
 mov ax,$100; out dx,ax;
 mov bx,1; cmp byte ptr w,8; je @S; mov bx,$800; @S:
 mov ah,bl; mov al,1; out dx,ax;
 mov ax,$300; out dx,ax;
 sti
 xor dx,dx; mov ax,720; div w; mov es:[$4A],ax;  </font><font color="#008000"><i>{set bios cols}
 </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var </b></font>i<font color="#000080">:</font>word<font color="#000080">;

</font><font color="#FF0000"><b>begin
 </b></font>setCharWidth<font color="#000080">(</font><font color="#800000">8</font><font color="#000080">);
 </font>writeln<font color="#000080">(</font><font color="#800000">'Hellacious dude!'</font><font color="#000080">);
 </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">9 </font><font color="#FF0000"><b>do </b></font>write<font color="#000080">(</font><font color="#800000">'!---------'</font><font color="#000080">);
 </font>readln<font color="#000080">;
 </font>setCharWidth<font color="#000080">(</font><font color="#800000">9</font><font color="#000080">);
 </font>writeln<font color="#000080">(</font><font color="#800000">'Hellacious dude!'</font><font color="#000080">);
 </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">9 </font><font color="#FF0000"><b>do </b></font>write<font color="#000080">(</font><font color="#800000">'!---------'</font><font color="#000080">);
 </font>readln<font color="#000080">;
 </font><font color="#FF0000"><b>asm </b></font><font color="#FF00FF">mov ax,3; int $10; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0085.PAS">Original</a><b>]</b></p></body>
</html>
