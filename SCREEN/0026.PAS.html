<html>
<head><title> "Direct Video in BASM" by JOHN GIESBRECT</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0026.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
===========================================================================
 BBS: Canada Remote Systems
Date: 08-17-93 (19:47)             Number: 34561
From: JOHN GIESBRECHT              Refer#: NONE
  To: CHRIS PORTMAN                 Recvd: NO
Subj: DIRECT VIDEO WRITES            Conf: (1221) F-PASCAL
---------------------------------------------------------------------------
Chris Portman (1:229/15) wrote to All on &lt;15 Aug 10:38&gt; :

 CP&gt; Can anyone write me a procedure that will write a character on
 CP&gt; the screen without moving the cursor (ie - DirWrite (80, 25,
 CP&gt; '!');). I just need this to write to the space at 80x25
 CP&gt; without scrolling the screen.
}
</i></font><font color="#FF0000"><b>USES
  </b></font>crt<font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>writechar <font color="#000080">(</font>c <font color="#000080">: </font>CHAR<font color="#000080">; </font>attr<font color="#000080">, </font>x<font color="#000080">, </font>y <font color="#000080">: </font>BYTE<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;

</font><font color="#008000"><i>(*  assumes video page 0
 *  upper left-hand corner is (1, 1)
 *)
</i></font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax, $0300   </font><font color="#008000"><i>(* get cursor position *)
  </i></font><font color="#FF00FF">XOR bh, bh
  INT $10
  push dx         </font><font color="#008000"><i>(* and save it *)
  </i></font><font color="#FF00FF">mov ax, $0200   </font><font color="#008000"><i>(* set cursor position *)
  </i></font><font color="#FF00FF">XOR bh, bh
  mov dh, BYTE PTR y
  DEC dh
  mov dl, BYTE PTR x
  DEC dl
  INT $10
  mov ah, $09     </font><font color="#008000"><i>(* write char and attribute *)
  </i></font><font color="#FF00FF">mov al, BYTE PTR c
  XOR bh, bh
  mov bl, BYTE PTR attr
  mov cx, $0001
  INT $10         </font><font color="#008000"><i>(* restore original cursor position *)
  </i></font><font color="#FF00FF">mov ax, $0200
  XOR bh, bh
  pop dx
  INT $10
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>WriteString <font color="#000080">(</font>Row<font color="#000080">, </font>Col<font color="#000080">, </font>Attr <font color="#000080">: </font>BYTE<font color="#000080">; </font>STR <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">);
</font><font color="#FF0000"><b>VAR </b></font>Len <font color="#000080">: </font>Byte <font color="#FF0000"><b>ABSOLUTE </b></font>Str<font color="#000080">;
    </font>I   <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  FOR </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>Len <font color="#FF0000"><b>DO  </b></font>writechar <font color="#000080">(</font>STR<font color="#000080">[</font>i<font color="#000080">], </font>Attr<font color="#000080">, </font>Col <font color="#000080">+ </font>i<font color="#000080">, </font>Row<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
  </b></font>CLRSCR<font color="#000080">;
  </font>GOTOXY <font color="#000080">(</font><font color="#800000">40</font><font color="#000080">, </font><font color="#800000">13</font><font color="#000080">);
  </font>writechar <font color="#000080">(</font><font color="#800000">'*'</font><font color="#000080">, </font><font color="#800000">$0F</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font>writechar <font color="#000080">(</font><font color="#800000">'*'</font><font color="#000080">, </font><font color="#800000">$0e</font><font color="#000080">, </font><font color="#800000">80</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font>writechar <font color="#000080">(</font><font color="#800000">'*'</font><font color="#000080">, </font><font color="#800000">$0d</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">);
  </font>writechar <font color="#000080">(</font><font color="#800000">'*'</font><font color="#000080">, </font><font color="#800000">$0c</font><font color="#000080">, </font><font color="#800000">80</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">);
  </font>WriteString<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">31</font><font color="#000080">,</font><font color="#800000">'Gayle Davis was here'</font><font color="#000080">);
  </font>READKEY<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.

- - - </font>MSQ <font color="#000080">- </font>EE <font color="#800000">2.1</font>a <font color="#000080">/ </font>e2
 <font color="#000080">* </font>Origin <font color="#000080">: * </font>idiot savant <font color="#000080">* </font>St<font color="#000080">. </font>Catharines<font color="#000080">, </font><font color="#FF0000"><b>ON</b></font><font color="#000080">, </font>Canada <font color="#000080">* (</font><font color="#800000">1 </font><font color="#000080">: </font><font color="#800000">247 </font><font color="#000080">/ </font><font color="#800000">128</font><font color="#000080">)
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0026.PAS">Original</a><b>]</b></p></body>
</html>
