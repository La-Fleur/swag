<html>
<head><title> "Screen Copy Utility" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0020.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>unit </b></font>scrncopy<font color="#000080">;
</font><font color="#FF0000"><b>interface

Const
         </b></font>bord <font color="#000080">: </font><font color="#FF0000"><b>ARRAY </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">5</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Byte <font color="#000080">= (
         ( </font><font color="#800000">32</font><font color="#000080">, </font><font color="#800000">32</font><font color="#000080">, </font><font color="#800000">32</font><font color="#000080">, </font><font color="#800000">32</font><font color="#000080">, </font><font color="#800000">32</font><font color="#000080">, </font><font color="#800000">32</font><font color="#000080">),
         ( </font><font color="#800000">196</font><font color="#000080">, </font><font color="#800000">179</font><font color="#000080">, </font><font color="#800000">218</font><font color="#000080">, </font><font color="#800000">191</font><font color="#000080">, </font><font color="#800000">217</font><font color="#000080">, </font><font color="#800000">192</font><font color="#000080">),
         ( </font><font color="#800000">205</font><font color="#000080">, </font><font color="#800000">186</font><font color="#000080">, </font><font color="#800000">201</font><font color="#000080">, </font><font color="#800000">187</font><font color="#000080">, </font><font color="#800000">188</font><font color="#000080">, </font><font color="#800000">200</font><font color="#000080">));

</font><font color="#FF0000"><b>procedure </b></font>copyscrn <font color="#000080">(</font>scrn1<font color="#000080">,</font>scrn2 <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{copy the screen}

</i></font><font color="#FF0000"><b>Procedure </b></font>savescrn <font color="#000080">(</font>scrn <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{saves the designated screen in RAM memory}

</i></font><font color="#FF0000"><b>Procedure </b></font>restorescrn <font color="#000080">(</font>scrn <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{restores the screen to the designated page}

</i></font><font color="#FF0000"><b>procedure </b></font>drawborder <font color="#000080">(</font>Fg<font color="#000080">,</font>Bg<font color="#000080">,</font>ur<font color="#000080">,</font>lc<font color="#000080">,</font>lr<font color="#000080">,</font>rc<font color="#000080">,</font>lines<font color="#000080">,</font>page <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#008000"><i>{draw the borders, optionally clears the screen}
{Fg is the foreground color, Bg is the background color,
 ur is the upper row, lc is the left column,
 lr is the lower row, rc is the right column,
 lines is:
   0 for clear screen;
   1 for single lines (&Auml;&iquest;);
   2 for double lines (&Iacute;&raquo;);
 page is the screen page to draw the border on}

</i></font><font color="#FF0000"><b>implementation
Type
        </b></font>Hold <font color="#000080">= </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">4047</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>VAR
        </b></font>x <font color="#000080">: </font>Word<font color="#000080">;
        </font>tmpscrn <font color="#000080">: ^</font>Hold<font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>copyscrn <font color="#000080">(</font>scrn1<font color="#000080">, </font>scrn2 <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        For </b></font>x <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">4047 </font><font color="#FF0000"><b>Do
            </b></font>Mem<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:(</font>scrn2<font color="#000080">*</font><font color="#800000">$1000</font><font color="#000080">+</font>x<font color="#000080">)] := </font>Mem<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:(</font>scrn1<font color="#000080">*</font><font color="#800000">$1000</font><font color="#000080">+</font>x<font color="#000080">)];
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>savescrn <font color="#000080">(</font>scrn <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>New<font color="#000080">(</font>tmpscrn<font color="#000080">);
        </font><font color="#FF0000"><b>For </b></font>x <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">4047 </font><font color="#FF0000"><b>Do
            </b></font>tmpscrn<font color="#000080">^[</font>x<font color="#000080">] := </font>Mem<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:(</font>scrn<font color="#000080">*</font><font color="#800000">$1000</font><font color="#000080">+</font>x<font color="#000080">)];
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>restorescrn <font color="#000080">(</font>scrn <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        For </b></font>x <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">4047 </font><font color="#FF0000"><b>Do
            </b></font>Mem<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:(</font>scrn<font color="#000080">*</font><font color="#800000">$1000</font><font color="#000080">+</font>x<font color="#000080">)] := </font>tmpscrn<font color="#000080">^[</font>x<font color="#000080">];
            </font>Dispose<font color="#000080">(</font>tmpscrn<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>drawborder <font color="#000080">(</font>Fg<font color="#000080">,</font>Bg<font color="#000080">,</font>ur<font color="#000080">,</font>lc<font color="#000080">,</font>lr<font color="#000080">,</font>rc<font color="#000080">,</font>lines<font color="#000080">,</font>page <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#FF0000"><b>VAR
        </b></font>x<font color="#000080">, </font>y<font color="#000080">, </font>point <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>page <font color="#000080">:= </font><font color="#800000">$B800 </font><font color="#000080">+ (</font>page <font color="#000080">* </font><font color="#800000">$100</font><font color="#000080">);
        </font>Fg <font color="#000080">:= </font><font color="#800000">16 </font><font color="#000080">* </font>Bg <font color="#000080">+ </font>Fg<font color="#000080">;
        </font>Dec<font color="#000080">(</font>ur<font color="#000080">);
        </font>Dec<font color="#000080">(</font>lc<font color="#000080">);
        </font>Dec<font color="#000080">(</font>lr<font color="#000080">);
        </font>Dec<font color="#000080">(</font>rc<font color="#000080">);
        </font>point <font color="#000080">:= </font>ur <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ </font>lc <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
        </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">] := </font>bord<font color="#000080">[</font>lines<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">];
        </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] := </font>Fg<font color="#000080">;
        </font>point <font color="#000080">:= </font>point <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
        </font><font color="#FF0000"><b>For </b></font>x <font color="#000080">:= </font>point <font color="#FF0000"><b>To </b></font><font color="#000080">(</font>ur <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ (</font>rc<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1 </font><font color="#FF0000"><b>Do Begin
            </b></font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>x<font color="#000080">] := </font>bord<font color="#000080">[</font>lines<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">];
            </font>Inc<font color="#000080">(</font>x<font color="#000080">);
            </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>x<font color="#000080">] := </font>Fg<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font>point <font color="#000080">:= </font>ur <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ </font>rc <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
        </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">] := </font>bord<font color="#000080">[</font>lines<font color="#000080">,</font><font color="#800000">3</font><font color="#000080">];
        </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>Fg<font color="#000080">;
        </font><font color="#FF0000"><b>For </b></font>x <font color="#000080">:= </font>ur <font color="#000080">+ </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>lr <font color="#000080">- </font><font color="#800000">1 </font><font color="#FF0000"><b>Do Begin
            </b></font>point <font color="#000080">:= </font>x <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ </font>lc <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
            </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">] := </font>bord<font color="#000080">[</font>lines<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">];
            </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] := </font>Fg<font color="#000080">;
            </font><font color="#FF0000"><b>For </b></font>y <font color="#000080">:= </font>lc <font color="#000080">+ </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>rc <font color="#000080">- </font><font color="#800000">1 </font><font color="#FF0000"><b>Do Begin
                </b></font>point <font color="#000080">:= </font>x <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ </font>y <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
                </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">] := </font><font color="#800000">32</font><font color="#000080">;
                </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>Fg<font color="#000080">;
                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
            </font>point <font color="#000080">:= </font>x <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ </font>rc <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
            </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">] := </font>bord<font color="#000080">[</font>lines<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">];
            </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] := </font>Fg<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font>point <font color="#000080">:= </font>lr <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ </font>lc <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
        </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">] := </font>bord<font color="#000080">[</font>lines<font color="#000080">,</font><font color="#800000">5</font><font color="#000080">];
        </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] := </font>Fg<font color="#000080">;
        </font>point <font color="#000080">:= </font>point <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
        </font><font color="#FF0000"><b>For </b></font>x <font color="#000080">:= </font>point <font color="#FF0000"><b>To </b></font><font color="#000080">(</font>lr <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ (</font>rc<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1 </font><font color="#FF0000"><b>Do Begin
            </b></font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>x<font color="#000080">] := </font>bord<font color="#000080">[</font>lines<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">];
            </font>Inc<font color="#000080">(</font>x<font color="#000080">);
            </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>x<font color="#000080">] := </font>Fg<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font>point <font color="#000080">:= </font>lr <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ </font>rc <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
        </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">] := </font>bord<font color="#000080">[</font>lines<font color="#000080">,</font><font color="#800000">4</font><font color="#000080">];
        </font>Mem<font color="#000080">[</font>page<font color="#000080">:</font>point<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>Fg<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0020.PAS">Original</a><b>]</b></p></body>
</html>
