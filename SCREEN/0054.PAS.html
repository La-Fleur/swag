<html>
<head><title> "Screen Segment" by MAYNARD PHILBROOK</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0054.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; I have always addressed $B800 as the screen segment for direct video
&gt; writes in text.... Err, umm, does anyone have the code to detect
&gt; whether it is $B000 or $B800 (for Herc.'s and the like)...

 call the Bios INt $10 Function $0f to get video mode.
}

</i></font><font color="#FF0000"><b>Function </b></font>GetVideoSegment<font color="#000080">:</font>Word<font color="#000080">;
 </font><font color="#FF0000"><b>Begin
  Asm
       </b></font><font color="#FF00FF">Mov     AH,$0f;
       INT    $10;
       Cmp     AL, $07;        </font><font color="#008000"><i>{ Monochrome? }
       </i></font><font color="#FF00FF">Jne     @No;
       Mov     @Result, $B000;
       Jmp     @Done;
@No:   Mov     @Result, $B800;
@Done:
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
 </b></font>Write<font color="#000080">( </font>GetVideoSegment<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCREEN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0054.PAS">Original</a><b>]</b></p></body>
</html>
