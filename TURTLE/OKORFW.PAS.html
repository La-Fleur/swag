<html>
<head><title> "Unit - turtle graphic with untype files" by ZAHORANSKY VLADIMIR</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TURTLE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="OKORFW.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>(* &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Programated by Vladimir Zahoransky                        &sup3;
   &sup3;                Vladko software                            &sup3;
   &sup3; Contact      : zahoran@cezap.ii.fmph.uniba.sk             &sup3;
   &sup3; Program tema : Unit - turtle graphic with untypefiles     &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave; *)

{    Well this is very usefull unit. This unit can write all turtle
  work and then can read it. If you want to save your work, you have
  3 possibilitis :
  1: write your file system
  2: write dates to file with screensaver metod
  3: use this unit
  4: write unit working with binary type file (okorfwb.pas)

    Well, first possibility is for profesional programers, because it is
  not easy to define structures for turtle commands.
    Secend passibility is good if you want then convert it to image
  format for example gif, pcx, bmp, jpg ... . If you want then to step
  the drawing then it is unpassible.
   Third passibility is good for all who want to use turtle commands and
  want sometimes step it. If you want to have fast picture then use
  passibility 2.
  Fourth passibility is good for good programers. This unit can work with
   penetrate cycles. (realisated with rekusion outside) This is very usefull
   end effektive unit if you have some commands repeated. This effekt can
   be realizated only with binary type files!

    Here is a table for prepare a file for work :

   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Acirc;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Code &sup3; File type work                  &sup3;
   &Atilde;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Aring;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&acute;
   &sup3;  0   &sup3; Rewrite(f,Flenght);             &sup3;
   &sup3;  1   &sup3; Append file with Flenght        &sup3;
   &sup3;  2   &sup3; Reset file if exist with Flengt &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Aacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;

     This code table is a table for update the files for ower work :
    (All codes are value for CX register. (this is for all who know
     assembler))

   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Acirc;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Code &sup3; File type      &sup3;
   &Atilde;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Aring;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&acute;
   &sup3;  0   &sup3; Normal    file &sup3;
   &sup3;  1   &sup3; ReadOnly  file &sup3;
   &sup3;  2   &sup3; Hide      file &sup3;
   &sup3;  4   &sup3; System    file &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Aacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;

     Good is if you have some commands for work with files. I am giveing
  you this :

   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Acirc;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Code &sup3; File type   &sup3;
   &Atilde;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Aring;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&acute;
   &sup3;  0   &sup3; Exist  file &sup3;
   &sup3;  1   &sup3; Copy   file &sup3;
   &sup3;  2   &sup3; Rename file &sup3;
   &sup3;  3   &sup3; Delete file &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Aacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;

    How to use this commands ? In my programing life unpraktic to know a lot
  of commands. A lot of programers want to know a good parameter then names.
  My system is : Know which parameter what do. This is usefull, because
  you can to print tables (here are three) and work with tables.
    If you have this system in all file commands then it is perfekt. If
  you want to update it then it is make your command and work item (in case)
  it general command. (command with case)

   How to work with turtle commands? It is very easy. In your program write
 uses okorf; Then work with commands how we use okor.pas. This program work
 okor.pas and write it to untype binary file. All commands in this unit
 work okor.pas and write to file. This unit can write unit commands. (cakaj
 cakajklaves and zmaz1;

   And here is dictionary :

   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Acirc;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3;    Name     &sup3; In English  &sup3;
   &Atilde;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Aring;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&acute;
   &sup3; Zmaz1       &sup3; ClearScreen &sup3;
   &sup3; Cakaj       &sup3; Wait        &sup3;
   &sup3; CakajKlaves &sup3; Wait key    &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Aacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;

     Good modification is if you have source of your metod (or tpu) and
  you write to file only imput parameters and in file viewer will read
  it and make your metod. Good is if you modify unit okorfr.pas.

     Well, this unit okorfw.pas and okorfr.pas are working with statical
  metods. It will be good if you work with statical unit then all units
  in turtle are statical. Statical unit (with statical metods) is not
  so good, but for all who don't work with turtle or don't know this
  collection is it good. Well if you are skiful (expert) then you can
  work with all versions. Who want dynamical fileturtle unit here is -
  in swag. This unit can work once with one file. It is not so bed, but
  if you want to work once with lot of files then good is to realise it
  with DDS. (dynamical date structure)  See Dokorfw.pas or Dokorfr.pas.
}

</i></font><font color="#FF0000"><b>unit </b></font>oKorFW<font color="#000080">;

</font><font color="#FF0000"><b>interface

uses
  </b></font>graph<font color="#000080">, </font>crt<font color="#000080">;

</font><font color="#FF0000"><b>type
  </b></font>KorFW<font color="#000080">=</font><font color="#FF0000"><b>object
    Procedure </b></font>Init<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>u<font color="#000080">:</font>real<font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>Koniec<font color="#000080">;
    </font><font color="#FF0000"><b>Procedure </b></font>Domov<font color="#000080">;
    </font><font color="#FF0000"><b>Procedure </b></font>Dopredu<font color="#000080">(</font>D<font color="#000080">:</font>real<font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>Vpravo<font color="#000080">(</font>u<font color="#000080">:</font>real<font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>Vlavo<font color="#000080">(</font>u<font color="#000080">:</font>real<font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>ZmenSmer<font color="#000080">(</font>u<font color="#000080">:</font>real<font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>ZmenXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>real<font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>PresunXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>real<font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>Ukaz<font color="#000080">;
    </font><font color="#FF0000"><b>Procedure </b></font>Skry<font color="#000080">;
    </font><font color="#FF0000"><b>Procedure </b></font>PH<font color="#000080">;
    </font><font color="#FF0000"><b>Procedure </b></font>PD<font color="#000080">;
    </font><font color="#FF0000"><b>Procedure </b></font>ZmenFP<font color="#000080">(</font>nfp<font color="#000080">:</font>integer<font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>ZmenHP<font color="#000080">(</font>nhp<font color="#000080">:</font>integer<font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>Pis<font color="#000080">(</font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
    </font><font color="#FF0000"><b>Procedure </b></font>Vypln<font color="#000080">(</font>fv<font color="#000080">:</font>byte<font color="#000080">);
    </font><font color="#FF0000"><b>Function  </b></font>XSur<font color="#000080">:</font>real<font color="#000080">;
    </font><font color="#FF0000"><b>Function  </b></font>YSur<font color="#000080">:</font>real<font color="#000080">;
    </font><font color="#FF0000"><b>Function  </b></font>Smer<font color="#000080">:</font>real<font color="#000080">;
    </font><font color="#FF0000"><b>Function  </b></font>Dole<font color="#000080">:</font>boolean<font color="#000080">;
    </font><font color="#FF0000"><b>Function  </b></font>Ukazana<font color="#000080">:</font>boolean<font color="#000080">;
    </font><font color="#FF0000"><b>Function  </b></font>FP<font color="#000080">:</font>byte<font color="#000080">;
    </font><font color="#FF0000"><b>Function  </b></font>HP<font color="#000080">:</font>byte<font color="#000080">;
    </font><font color="#FF0000"><b>Function  </b></font>Smerom<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>real<font color="#000080">):</font>real<font color="#000080">;
  </font><font color="#FF0000"><b>Private
    </b></font>XSur0<font color="#000080">,</font>YSur0<font color="#000080">,</font>Smer0<font color="#000080">:</font>real<font color="#000080">;
    </font>Dole0<font color="#000080">,</font>Ukazana0<font color="#000080">:</font>boolean<font color="#000080">;
    </font>FP0<font color="#000080">,</font>HP0<font color="#000080">: </font>byte<font color="#000080">;
    </font>dXSur<font color="#000080">,</font>dYSur<font color="#000080">,</font>dSmer<font color="#000080">:</font>real<font color="#000080">;
    </font><font color="#FF0000"><b>Procedure </b></font>ukaz0<font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>Zmaz1<font color="#000080">;
  </font><font color="#FF0000"><b>Procedure </b></font>CakajKlaves<font color="#000080">;
  </font><font color="#FF0000"><b>Procedure </b></font>Cakaj<font color="#000080">(</font>n<font color="#000080">:</font>integer<font color="#000080">);

  </font><font color="#FF0000"><b>Procedure </b></font>Fileinit<font color="#000080">(</font>Filename<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>code<font color="#000080">:</font>Byte<font color="#000080">);
  </font><font color="#FF0000"><b>Procedure </b></font>FileDone<font color="#000080">(</font>Filename<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
  </font><font color="#FF0000"><b>Procedure </b></font>Filetype<font color="#000080">(</font>Filename<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>code<font color="#000080">:</font>Byte<font color="#000080">);
  </font><font color="#FF0000"><b>Procedure </b></font>Filework<font color="#000080">(</font>Filename<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>code<font color="#000080">:</font>Byte<font color="#000080">);

</font><font color="#FF0000"><b>var
  </b></font>Klaves<font color="#000080">:</font>integer<font color="#000080">;
  </font>krokuj<font color="#000080">:</font>boolean<font color="#000080">;
  </font>X0<font color="#000080">,</font>Y0<font color="#000080">:</font>integer<font color="#000080">;
  </font>f<font color="#000080">:</font><font color="#FF0000"><b>file</b></font><font color="#000080">;
  </font>p<font color="#000080">:</font>byte<font color="#000080">;
  </font>Openfile<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;
  </font>kod<font color="#000080">:</font>byte<font color="#000080">;

</font><font color="#FF0000"><b>implementation

Const </b></font>Driver_Path<font color="#000080">=</font><font color="#800000">'C:\language\Bp7\bgi'</font><font color="#000080">;
          </font>Flenght<font color="#000080">=</font><font color="#800000">1</font><font color="#000080">;
              </font>rad<font color="#000080">=</font>pi<font color="#000080">/</font><font color="#800000">180</font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>FileExist<font color="#000080">(</font>filename <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">) : </font>Boolean<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
        </b></font><font color="#FF00FF">PUSH   DS
        LDS    SI, [filename]
        XOR    AH, AH
        LODSB
        XCHG   AX, BX
        MOV    Byte Ptr [SI+BX], 0
        MOV    DX, SI
        MOV    AX, 4300h
        INT    21h
        MOV    AL, False
        JC     @1
        INC    AX
@1:     POP    DS
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>HideFile<font color="#000080">(</font>FileName <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">) : </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">Push DS
  LDS DX, FileName
  Inc DX
  Mov AH, 43h
  Mov AL, 1
  Mov CX, 2
  Int 21h
  JC @Done
  Mov AL, 0
  @Done:
  Pop DS
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>SystemFile<font color="#000080">(</font>FileName <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">) : </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">Push DS
  LDS DX, FileName
  Inc DX
  Mov AH, 43h
  Mov AL, 1
  Mov CX, 4
  Int 21h
  JC @Done
  Mov AL, 0
  @Done:
  Pop DS
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>ReadOnlyFile<font color="#000080">(</font>FileName <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">) : </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">Push DS
  LDS DX, FileName
  Inc DX
  Mov AH, 43h
  Mov AL, 1
  Mov CX, 1
  Int 21h
  JC @Done
  Mov AL, 0
  @Done:
  Pop DS
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>NormalFile<font color="#000080">(</font>FileName <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">) : </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">Push DS
  LDS DX, FileName
  Inc DX
  Mov AH, 43h
  Mov AL, 1
  Mov CX, 0
  Int 21h
  JC @Done
  Mov AL, 0
  @Done:
  Pop DS
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>DeleteFile<font color="#000080">(</font>FileName <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">) : </font>integer<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">push ds
  lds si,FileName
  inc byte ptr [si]
  mov bl,byte ptr [si]
  xor bh,bh
  mov dx,si
  inc dx
  mov byte ptr [si+bx],0
  mov ah,41h
  int 21h
  jc  @error
  xor ax,ax
@error:
  dec byte ptr [si]
  pop ds
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>CopyFile<font color="#000080">(</font>Outname<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">):</font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>InFile<font color="#000080">, </font>OutFile <font color="#000080">: </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
    </font>Buffer          <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">8192</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Char<font color="#000080">;
    </font>NumberRead<font color="#000080">,
    </font>NumberWritten   <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>Assign<font color="#000080">( </font>InFile<font color="#000080">, </font>OpenFile<font color="#000080">);
   </font>Reset <font color="#000080">( </font>InFile<font color="#000080">, </font><font color="#800000">1 </font><font color="#000080">);
   </font>Assign  <font color="#000080">( </font>OutFile<font color="#000080">,</font>Outname<font color="#000080">);
   </font>ReWrite <font color="#000080">( </font>OutFile<font color="#000080">, </font><font color="#800000">1 </font><font color="#000080">);
   </font><font color="#FF0000"><b>Repeat
      </b></font>BlockRead <font color="#000080">( </font>InFile<font color="#000080">, </font>Buffer<font color="#000080">, </font>Sizeof<font color="#000080">( </font>Buffer <font color="#000080">), </font>NumberRead <font color="#000080">);
      </font>BlockWrite<font color="#000080">( </font>OutFile<font color="#000080">, </font>Buffer<font color="#000080">, </font>NumberRead<font color="#000080">, </font>NumberWritten <font color="#000080">);
   </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>NumberRead <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>NumberRead <font color="#000080">&lt;&gt; </font>NumberWritten<font color="#000080">);
   </font>Close<font color="#000080">( </font>InFile <font color="#000080">);
   </font>Close<font color="#000080">( </font>OutFile <font color="#000080">);
   </font>Copyfile<font color="#000080">:=</font>ioresult<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>RenameFile<font color="#000080">(</font>Filename<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">):</font>integer<font color="#000080">;
  </font><font color="#FF0000"><b>Begin
  </b></font>CopyFile<font color="#000080">(</font>Filename<font color="#000080">);
  </font>Close<font color="#000080">(</font>f<font color="#000080">);
  </font>DeleteFile<font color="#000080">(</font>Openfile<font color="#000080">);
  </font>OpenFIle<font color="#000080">:=</font>Filename<font color="#000080">;
  </font>Fileinit<font color="#000080">(</font>Filename<font color="#000080">,</font>kod<font color="#000080">);
  </font>Renamefile<font color="#000080">:=</font>ioresult<font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>CakajKlaves<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>P<font color="#000080">:=</font><font color="#800000">13</font><font color="#000080">;
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Klaves<font color="#000080">:=</font>ord<font color="#000080">(</font>readkey<font color="#000080">); </font><font color="#FF0000"><b>if </b></font>Klaves<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>Klaves<font color="#000080">:=-</font>ord<font color="#000080">(</font>readkey<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>Klaves<font color="#000080">=</font><font color="#800000">27 </font><font color="#FF0000"><b>then
    begin
      </b></font>CloseGraph<font color="#000080">;
      </font>halt<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>test<font color="#000080">;
  </font><font color="#FF0000"><b>var
    </b></font>b<font color="#000080">:</font>boolean<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>b<font color="#000080">:=</font>krokuj<font color="#000080">;
    </font><font color="#FF0000"><b>while </b></font>keypressed <font color="#FF0000"><b>or </b></font>b <font color="#FF0000"><b>do
    begin
      </b></font>CakajKlaves<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>Klaves<font color="#000080">=</font><font color="#800000">19 </font><font color="#FF0000"><b>then </b></font>b<font color="#000080">:=</font><font color="#FF0000"><b>not </b></font>b <font color="#FF0000"><b>else </b></font>b<font color="#000080">:=</font>false<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>Fileinit<font color="#000080">(</font>Filename<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>code<font color="#000080">:</font>Byte<font color="#000080">);
  </font><font color="#FF0000"><b>Begin
  </b></font>Assign<font color="#000080">(</font>f<font color="#000080">,</font>Filename<font color="#000080">);

  </font><font color="#FF0000"><b>Case </b></font>code <font color="#FF0000"><b>of
            </b></font><font color="#800000">0</font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>Rewrite<font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
                     </font>OpenFIle<font color="#000080">:=</font>Filename<font color="#000080">;
                     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
            </font><font color="#800000">1</font><font color="#000080">: </font><font color="#FF0000"><b>If </b></font>fileexist<font color="#000080">(</font>Filename<font color="#000080">) </font><font color="#FF0000"><b>Then Begin
                                           </b></font>Reset<font color="#000080">(</font>f<font color="#000080">,</font>Flenght<font color="#000080">);
                                           </font>OpenFIle<font color="#000080">:=</font>Filename<font color="#000080">;
                                           </font>Seek<font color="#000080">(</font>f<font color="#000080">,</font>Filesize<font color="#000080">(</font>f<font color="#000080">));
                                           </font><font color="#FF0000"><b>End
                                      Else </b></font>Writeln<font color="#000080">(</font><font color="#800000">'File not exist!'</font><font color="#000080">);
            </font><font color="#800000">2</font><font color="#000080">: </font><font color="#FF0000"><b>If </b></font>fileexist<font color="#000080">(</font>Filename<font color="#000080">) </font><font color="#FF0000"><b>Then Begin
                                           </b></font>Reset<font color="#000080">(</font>f<font color="#000080">,</font>Flenght<font color="#000080">);
                                           </font>OpenFIle<font color="#000080">:=</font>Filename<font color="#000080">;
                                           </font><font color="#FF0000"><b>End
                                      Else </b></font>Writeln<font color="#000080">(</font><font color="#800000">'File not exist!'</font><font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font>kod<font color="#000080">:=</font>code<font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>FileDone<font color="#000080">(</font>Filename<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
  </font><font color="#FF0000"><b>Begin
  </b></font>Close<font color="#000080">(</font>f<font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>Filetype<font color="#000080">(</font>Filename<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>code<font color="#000080">:</font>Byte<font color="#000080">);
  </font><font color="#FF0000"><b>Var </b></font>vb<font color="#000080">:</font>Byte<font color="#000080">;
  </font><font color="#FF0000"><b>Begin
  Case </b></font>code <font color="#FF0000"><b>of
  </b></font><font color="#800000">0</font><font color="#000080">: </font>vb<font color="#000080">:=</font>NormalFile<font color="#000080">(</font>Filename<font color="#000080">);
  </font><font color="#800000">1</font><font color="#000080">: </font>vb<font color="#000080">:=</font>ReadOnlyFile<font color="#000080">(</font>Filename<font color="#000080">);
  </font><font color="#800000">2</font><font color="#000080">: </font>vb<font color="#000080">:=</font>HideFile<font color="#000080">(</font>Filename<font color="#000080">);
  </font><font color="#800000">4</font><font color="#000080">: </font>vb<font color="#000080">:=</font>SystemFile<font color="#000080">(</font>Filename<font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>If </b></font>vb<font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Writeln<font color="#000080">(</font><font color="#800000">#7</font><font color="#000080">,</font><font color="#800000">'Problem with files.'</font><font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>Filework<font color="#000080">(</font>Filename<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>code<font color="#000080">:</font>Byte<font color="#000080">);
  </font><font color="#FF0000"><b>Var </b></font>vb<font color="#000080">:</font>Integer<font color="#000080">;
  </font><font color="#FF0000"><b>Begin

  Case </b></font>code <font color="#FF0000"><b>of
  </b></font><font color="#800000">0</font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>Fileexist <font color="#000080">(</font>Filename<font color="#000080">) </font><font color="#FF0000"><b>then </b></font>vb<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>else </b></font>vb<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#800000">1</font><font color="#000080">: </font>vb<font color="#000080">:=</font>CopyFile<font color="#000080">(</font>Filename<font color="#000080">);
  </font><font color="#800000">2</font><font color="#000080">: </font>vb<font color="#000080">:=</font>RenameFile<font color="#000080">(</font>Filename<font color="#000080">);
  </font><font color="#800000">3</font><font color="#000080">: </font>vb<font color="#000080">:=</font>DeleteFile<font color="#000080">(</font>Filename<font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>If </b></font>vb<font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Writeln<font color="#000080">(</font><font color="#800000">#7</font><font color="#000080">,</font><font color="#800000">'Problem with files.'</font><font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>Init<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>u<font color="#000080">:</font>real<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>x<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>y<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>u<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>XSur0<font color="#000080">:=</font>x<font color="#000080">;
    </font>YSur0<font color="#000080">:=</font>y<font color="#000080">;
    </font>Smer0<font color="#000080">:=</font>u<font color="#000080">;
    </font>FP0<font color="#000080">:=</font><font color="#800000">7</font><font color="#000080">;
    </font>HP0<font color="#000080">:=</font>NormWidth<font color="#000080">;
    </font>Dole0<font color="#000080">:=</font>true<font color="#000080">;
    </font>Ukazana0<font color="#000080">:=</font>false<font color="#000080">;
    </font>dSmer<font color="#000080">:=</font>u<font color="#000080">;
    </font>dXSur<font color="#000080">:=</font>x<font color="#000080">;
    </font>dYSur<font color="#000080">:=</font>y<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>Koniec<font color="#000080">;
  </font><font color="#FF0000"><b>Begin
  </b></font>CloseGraph<font color="#000080">;
  </font>Halt<font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>Domov<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>ZmenXY<font color="#000080">(</font>dXSur<font color="#000080">,</font>dYSur<font color="#000080">);
    </font>ZmenSmer<font color="#000080">(</font>dSmer<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>Dopredu<font color="#000080">(</font>d<font color="#000080">:</font>real<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>d<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>ZmenXY<font color="#000080">(</font>XSur0<font color="#000080">+</font>sin<font color="#000080">(</font>Smer0<font color="#000080">*</font>rad<font color="#000080">)*</font>d<font color="#000080">,</font>YSur0<font color="#000080">+</font>cos<font color="#000080">(</font>Smer0<font color="#000080">*</font>rad<font color="#000080">)*</font>d<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>Vpravo<font color="#000080">(</font>u<font color="#000080">:</font>real<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">3</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>u<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>ZmenSmer<font color="#000080">(</font>Smer0<font color="#000080">+</font>u<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>Vlavo<font color="#000080">(</font>u<font color="#000080">:</font>real<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">4</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>u<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>ZmenSmer<font color="#000080">(</font>Smer0<font color="#000080">-</font>u<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>ZmenSmer<font color="#000080">(</font>u<font color="#000080">:</font>real<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>P<font color="#000080">:=</font><font color="#800000">14</font><font color="#000080">;
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>u<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>ukaz0<font color="#000080">;
    </font>Smer0<font color="#000080">:=</font>u<font color="#000080">;
    </font><font color="#FF0000"><b>while </b></font>Smer0<font color="#000080">&lt;</font><font color="#800000">0 </font><font color="#FF0000"><b>do </b></font>Smer0<font color="#000080">:=</font>Smer0<font color="#000080">+</font><font color="#800000">360</font><font color="#000080">;
    </font><font color="#FF0000"><b>while </b></font>Smer0<font color="#000080">&gt;=</font><font color="#800000">360 </font><font color="#FF0000"><b>do </b></font>Smer0<font color="#000080">:=</font>Smer0<font color="#000080">-</font><font color="#800000">360</font><font color="#000080">;
    </font>ukaz0<font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>ZmenXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>real<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>P<font color="#000080">:=</font><font color="#800000">16</font><font color="#000080">;
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>x<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>y<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font><font color="#FF0000"><b>if not </b></font>Dole0 <font color="#FF0000"><b>then Begin
    </b></font>PresunXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">)
    </font><font color="#FF0000"><b>End
    else
    begin
      </b></font>ukaz0<font color="#000080">;
      </font>MoveTo<font color="#000080">(</font>trunc<font color="#000080">(</font>XSur0<font color="#000080">)+</font>X0<font color="#000080">,</font>Y0<font color="#000080">-</font>trunc<font color="#000080">(</font>YSur0<font color="#000080">));
      </font>SetColor<font color="#000080">(</font>FP0<font color="#000080">); </font>SetLineStyle<font color="#000080">(</font>SolidLn<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>HP0<font color="#000080">);
      </font>XSur0<font color="#000080">:=</font>x<font color="#000080">;
      </font>YSur0<font color="#000080">:=</font>y<font color="#000080">;
      </font>LineTo<font color="#000080">(</font>trunc<font color="#000080">(</font>XSur0<font color="#000080">)+</font>X0<font color="#000080">,</font>Y0<font color="#000080">-</font>trunc<font color="#000080">(</font>YSur0<font color="#000080">));
      </font>ukaz0<font color="#000080">;
      </font>test<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>PresunXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>real<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>P<font color="#000080">:=</font><font color="#800000">15</font><font color="#000080">;
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>x<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>y<font color="#000080">,</font><font color="#800000">6</font><font color="#000080">);
    </font>ukaz0<font color="#000080">;
    </font>XSur0<font color="#000080">:=</font>x<font color="#000080">;
    </font>YSur0<font color="#000080">:=</font>y<font color="#000080">;
    </font>MoveTo<font color="#000080">(</font>trunc<font color="#000080">(</font>XSur0<font color="#000080">)+</font>X0<font color="#000080">,</font>Y0<font color="#000080">-</font>trunc<font color="#000080">(</font>YSur0<font color="#000080">));
    </font>ukaz0<font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>PH<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">5</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Dole0<font color="#000080">:=</font>false<font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>PD<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">6</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Dole0<font color="#000080">:=</font>true<font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>Ukaz<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">7</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font><font color="#FF0000"><b>if not </b></font>Ukazana0 <font color="#FF0000"><b>then
    begin
      </b></font>Ukazana0<font color="#000080">:=</font>true<font color="#000080">;
      </font>ukaz0<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>Skry<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">8</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>Ukazana0 <font color="#FF0000"><b>then
    begin
      </b></font>ukaz0<font color="#000080">;
      </font>Ukazana0<font color="#000080">:=</font>false<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>ZmenFP<font color="#000080">(</font>nfp<font color="#000080">:</font>integer<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>p<font color="#000080">:=</font><font color="#800000">9</font><font color="#000080">;
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>nfp<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
    </font>FP0<font color="#000080">:=</font>abs<font color="#000080">(</font>nfp<font color="#000080">) </font><font color="#FF0000"><b>mod </b></font><font color="#800000">16</font><font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>ZmenHP<font color="#000080">(</font>nhp<font color="#000080">:</font>integer<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>P<font color="#000080">:=</font><font color="#800000">10</font><font color="#000080">;
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>nhp<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>nhp<font color="#000080">&gt;</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>HP0<font color="#000080">:=</font>ThickWidth
    <font color="#FF0000"><b>else </b></font>HP0<font color="#000080">:=</font>NormWidth<font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>KorFW<font color="#000080">.</font>XSur<font color="#000080">:</font>real<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>XSur<font color="#000080">:=</font>Xsur0<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>KorFW<font color="#000080">.</font>YSur<font color="#000080">:</font>real<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>YSur<font color="#000080">:=</font>Ysur0<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>KorFW<font color="#000080">.</font>Smer<font color="#000080">:</font>real<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>Smer<font color="#000080">:=</font>Smer0<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>KorFW<font color="#000080">.</font>Dole<font color="#000080">:</font>boolean<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>Dole<font color="#000080">:=</font>Dole0<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>KorFW<font color="#000080">.</font>Ukazana<font color="#000080">:</font>boolean<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>Ukazana<font color="#000080">:=</font>Ukazana0<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>KorFW<font color="#000080">.</font>FP<font color="#000080">:</font>byte<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>FP<font color="#000080">:=</font>FP0<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>KorFW<font color="#000080">.</font>HP<font color="#000080">:</font>byte<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>HP<font color="#000080">:=</font>HP0<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>KorFW<font color="#000080">.</font>Vypln<font color="#000080">(</font>fv<font color="#000080">:</font>byte<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>P<font color="#000080">:=</font><font color="#800000">11</font><font color="#000080">;
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>fv<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>ukaz0<font color="#000080">;
    </font>SetFillStyle<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font>abs<font color="#000080">(</font>fv<font color="#000080">) </font><font color="#FF0000"><b>mod </b></font><font color="#800000">16</font><font color="#000080">);
    </font>FloodFill<font color="#000080">(</font>trunc<font color="#000080">(</font>XSur0<font color="#000080">)+</font>X0<font color="#000080">,</font>Y0<font color="#000080">-</font>trunc<font color="#000080">(</font>YSur0<font color="#000080">),</font>FP0<font color="#000080">);
    </font>ukaz0<font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>function </b></font>KorFW<font color="#000080">.</font>Smerom<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>real<font color="#000080">):</font>real<font color="#000080">;
  </font><font color="#FF0000"><b>var
    </b></font>u<font color="#000080">:</font>real<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>x<font color="#000080">:=</font>x<font color="#000080">-</font>XSur0<font color="#000080">;
    </font>y<font color="#000080">:=</font>y<font color="#000080">-</font>YSur0<font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>y<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then
      if </b></font>x<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>u<font color="#000080">:=</font><font color="#800000">0
      </font><font color="#FF0000"><b>else if </b></font>x<font color="#000080">&lt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>u<font color="#000080">:=</font><font color="#800000">270 </font><font color="#FF0000"><b>else </b></font>u<font color="#000080">:=</font><font color="#800000">90
    </font><font color="#FF0000"><b>else
      if </b></font>y<font color="#000080">&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then
        if </b></font>x<font color="#000080">&gt;=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>u<font color="#000080">:=</font>arctan<font color="#000080">(</font>x<font color="#000080">/</font>y<font color="#000080">)*</font><font color="#800000">180</font><font color="#000080">/</font>pi
        <font color="#FF0000"><b>else </b></font>u<font color="#000080">:=</font><font color="#800000">360</font><font color="#000080">-</font>arctan<font color="#000080">(-</font>x<font color="#000080">/</font>y<font color="#000080">)*</font><font color="#800000">180</font><font color="#000080">/</font>pi
      <font color="#FF0000"><b>else
       if </b></font>x<font color="#000080">&gt;=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>u<font color="#000080">:=</font><font color="#800000">180</font><font color="#000080">-</font>arctan<font color="#000080">(-</font>x<font color="#000080">/</font>y<font color="#000080">)*</font><font color="#800000">180</font><font color="#000080">/</font>pi
       <font color="#FF0000"><b>else </b></font>u<font color="#000080">:=</font><font color="#800000">180</font><font color="#000080">+</font>arctan<font color="#000080">(</font>x<font color="#000080">/</font>y<font color="#000080">)*</font><font color="#800000">180</font><font color="#000080">/</font>pi<font color="#000080">;
    </font>Smerom<font color="#000080">:=</font>u<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>procedure </b></font>KorFW<font color="#000080">.</font>Pis<font color="#000080">(</font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>P<font color="#000080">:=</font><font color="#800000">12</font><font color="#000080">;
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>s<font color="#000080">,</font>Sizeof<font color="#000080">(</font>s<font color="#000080">));
    </font>ukaz0<font color="#000080">;
    </font>SetColor<font color="#000080">(</font>FP0<font color="#000080">);
    </font>OutTextXY<font color="#000080">(</font>trunc<font color="#000080">(</font>XSur0<font color="#000080">)+</font>X0<font color="#000080">,</font>Y0<font color="#000080">-</font>trunc<font color="#000080">(</font>YSur0<font color="#000080">),</font>s<font color="#000080">);
    </font>ukaz0<font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>procedure </b></font>KorFW<font color="#000080">.</font>Ukaz0<font color="#000080">;
  </font><font color="#008000"><i>{const
    dt=8; ut=75; ut0=0;}
  </i></font><font color="#FF0000"><b>const
    </b></font>dt<font color="#000080">=</font><font color="#800000">10</font><font color="#000080">; </font>ut<font color="#000080">=</font><font color="#800000">45</font><font color="#000080">; </font>ut0<font color="#000080">=</font><font color="#800000">30</font><font color="#000080">;
  </font><font color="#FF0000"><b>var
    </b></font>x<font color="#000080">,</font>y<font color="#000080">,</font>s<font color="#000080">,</font>d0<font color="#000080">,</font>d1<font color="#000080">:</font>real<font color="#000080">;

    </font><font color="#FF0000"><b>procedure </b></font>krok<font color="#000080">(</font>u<font color="#000080">,</font>d<font color="#000080">:</font>real<font color="#000080">);
    </font><font color="#FF0000"><b>begin
      </b></font>s<font color="#000080">:=</font>s<font color="#000080">+</font>u<font color="#000080">;
      </font>x<font color="#000080">:=</font>x<font color="#000080">+</font>sin<font color="#000080">(</font>s<font color="#000080">*</font>rad<font color="#000080">)*</font>d<font color="#000080">; </font>y<font color="#000080">:=</font>y<font color="#000080">+</font>cos<font color="#000080">(</font>s<font color="#000080">*</font>rad<font color="#000080">)*</font>d<font color="#000080">;
      </font>LineTo<font color="#000080">(</font>trunc<font color="#000080">(</font>x<font color="#000080">)+</font>X0<font color="#000080">,</font>Y0<font color="#000080">-</font>trunc<font color="#000080">(</font>y<font color="#000080">));
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>begin
    if not </b></font>Ukazana0 <font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
    </font>MoveTo<font color="#000080">(</font>trunc<font color="#000080">(</font>XSur0<font color="#000080">)+</font>X0<font color="#000080">,</font>Y0<font color="#000080">-</font>trunc<font color="#000080">(</font>YSur0<font color="#000080">));
    </font>SetWriteMode<font color="#000080">(</font>XORPut<font color="#000080">);
    </font>SetColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">); </font>SetLineStyle<font color="#000080">(</font>SolidLn<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>NormWidth<font color="#000080">);
    </font>x<font color="#000080">:=</font>XSur0<font color="#000080">;
    </font>y<font color="#000080">:=</font>YSur0<font color="#000080">;
    </font>s<font color="#000080">:=</font>Smer0<font color="#000080">;
    </font>d0<font color="#000080">:=</font>dt<font color="#000080">/</font>cos<font color="#000080">(-</font>ut0<font color="#000080">*</font>rad<font color="#000080">);
    </font>d1<font color="#000080">:=</font>dt<font color="#000080">/</font>cos<font color="#000080">((</font>ut<font color="#000080">+</font>ut0<font color="#000080">)*</font>rad<font color="#000080">);
    </font>krok<font color="#000080">(</font><font color="#800000">90</font><font color="#000080">+</font>ut0<font color="#000080">,</font>d0<font color="#000080">);
    </font>krok<font color="#000080">(</font>ut<font color="#000080">-</font><font color="#800000">180</font><font color="#000080">,</font>d1<font color="#000080">);
    </font>krok<font color="#000080">(-</font><font color="#800000">2</font><font color="#000080">*(</font>ut<font color="#000080">+</font>ut0<font color="#000080">),</font>d1<font color="#000080">);
    </font>krok<font color="#000080">(</font>ut<font color="#000080">-</font><font color="#800000">180</font><font color="#000080">,</font>d0<font color="#000080">);
    </font>SetWriteMode<font color="#000080">(</font>NormalPut<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>procedure </b></font>Zmaz1<font color="#000080">;    </font><font color="#008000"><i>{Before you use Zmaz1, then hide all turtles !!!}
  </i></font><font color="#FF0000"><b>begin
    </b></font>P<font color="#000080">:=</font><font color="#800000">17</font><font color="#000080">;
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>ClearViewPort<font color="#000080">;
    </font>test<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>Cakaj<font color="#000080">(</font>n<font color="#000080">:</font>integer<font color="#000080">);
</font><font color="#FF0000"><b>const
  </b></font>cas<font color="#000080">=</font><font color="#800000">1000</font><font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>i<font color="#000080">:</font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
    </b></font>P<font color="#000080">:=</font><font color="#800000">18</font><font color="#000080">;
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>p<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>Blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>n<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
  </font>i<font color="#000080">:=</font>cas<font color="#000080">;
  </font><font color="#FF0000"><b>repeat
    </b></font>test<font color="#000080">;
    </font>dec<font color="#000080">(</font>i<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>i<font color="#000080">&lt;</font><font color="#800000">1 </font><font color="#FF0000"><b>then
    begin
      </b></font>dec<font color="#000080">(</font>n<font color="#000080">);
      </font>i<font color="#000080">:=</font>cas<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>until </b></font>n<font color="#000080">&lt;=</font><font color="#800000">0</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>gd<font color="#000080">,</font>gm<font color="#000080">:</font>integer<font color="#000080">;

</font><font color="#FF0000"><b>begin

  </b></font>gd<font color="#000080">:=</font>vga<font color="#000080">;
  </font>gm<font color="#000080">:=</font>vgahi<font color="#000080">;
  </font>InitGraph<font color="#000080">(</font>gd<font color="#000080">,</font>gm<font color="#000080">,</font>Driver_path<font color="#000080">);

  </font><font color="#FF0000"><b>if </b></font>GraphResult<font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then
  begin
    </b></font>writeln<font color="#000080">(</font><font color="#800000">'Problem with graphic driver!'</font><font color="#000080">);
    </font>halt<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>X0<font color="#000080">:=</font>GetMaxX <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
  </font>Y0<font color="#000080">:=</font>GetMaxY <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
  </font>Klaves<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font>krokuj<font color="#000080">:=</font>false<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TURTLE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="OKORFW.PAS">Original</a><b>]</b></p></body>
</html>
