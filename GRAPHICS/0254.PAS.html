<html>
<head><title> "Scrolling Map: Graphics" by WESLEY BURNS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0254.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{If any one is interested, a scrolling demo like the one's uses in RPG games}

{Subject: Scrolling Demo}
{Written by: Wesley Burns}
{EMAIL: microcon@iafrica.com}

{Email: me if you have ANY questions about                                   }
{ : 64k DMA Sound Blaster Programming using XMS                              }
{ : Fast Memory Management                                                   }
{ : PCX using XMS                                                            }
{ : XMS Units                                                                }
{ : Pascal in general                                                        }
{ : Or if you have some fast procedures that you don't mind parting with.    }

</i></font><font color="#FF0000"><b>Var </b></font>TerrainData<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">10000</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
</font><font color="#FF0000"><b>const </b></font>xsize <font color="#000080">= </font><font color="#800000">16</font><font color="#000080">; </font><font color="#008000"><i>{x size of each pixture block}
      </i></font>ysize <font color="#000080">= </font><font color="#800000">16</font><font color="#000080">; </font><font color="#008000"><i>{y size of each pixture block}
      </i></font>screenxsize <font color="#000080">= </font><font color="#800000">320</font><font color="#000080">;
      </font>screenysize <font color="#000080">= </font><font color="#800000">200</font><font color="#000080">;

</font><font color="#008000"><i>{You must add a range checking proc, so that you cant scroll off of the &quot;MAP&quot;}
{                        | | Top left hand co-ords of where to start drawing 
the &quot;map&quot;}
</i></font><font color="#FF0000"><b>Procedure </b></font>DrawScreenFill<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>xx<font color="#000080">,</font>yy<font color="#000080">,</font>xpos<font color="#000080">,</font>ypos<font color="#000080">,</font>PicToUse<font color="#000080">:</font>integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin
 </b></font>Ypos <font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>XPos <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
 </font><font color="#FF0000"><b>for </b></font>yy <font color="#000080">:= </font>y <font color="#FF0000"><b>to </b></font>y <font color="#000080">+ (</font>screenysize <font color="#FF0000"><b>div </b></font>ysize<font color="#000080">) </font><font color="#FF0000"><b>do
  begin
   for </b></font>xx <font color="#000080">:= </font>x <font color="#FF0000"><b>to </b></font>x <font color="#000080">+ (</font>screenxsize <font color="#FF0000"><b>div </b></font>ysize<font color="#000080">) </font><font color="#FF0000"><b>do
    begin
     </b></font>PicToUse <font color="#000080">:= </font>TerrainData<font color="#000080">[</font><font color="#800000">100</font><font color="#000080">*</font>yy<font color="#000080">+</font>xx<font color="#000080">];</font><font color="#008000"><i>{Work out matrix for pic to use}

     </i></font>MaskPic<font color="#000080">(</font>XPos<font color="#000080">,</font>YPos<font color="#000080">, </font>PicToUse<font color="#000080">, </font><font color="#800000">255</font><font color="#000080">, </font>VScreen<font color="#000080">^);
     </font><font color="#008000"><i>{YOU CAN FIND THIS ABOVER PROCEDURE IN THE GRAPHICS SECTION OF SWAG}

     </i></font>inc<font color="#000080">(</font>xpos<font color="#000080">,</font>xsize<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>inc<font color="#000080">(</font>Ypos<font color="#000080">,</font>ysize<font color="#000080">);
  </font>XPos <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0254.PAS">Original</a><b>]</b></p></body>
</html>
