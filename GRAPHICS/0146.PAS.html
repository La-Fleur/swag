<html>
<head><title> "TRON Game" by LUIS EVARISTO FONSECA</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0146.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>(* Just one of the (dozens) of possible ways of doing the old Tron game in *)
(* Pascal... Have fun!                                                     *)
(* Two players only. Cursor keys, and O, P, Q, R                           *)
(* Freeware - 1994 - Luis Evaristo Beda Netto Marques da Fonseca           *)
(* Thunderball Software Inc.                                               *)

</i></font><font color="#FF0000"><b>Program </b></font>Tron<font color="#000080">;

</font><font color="#FF0000"><b>Uses </b></font>Graph<font color="#000080">,</font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Var </b></font>Cpos1<font color="#000080">,</font>Lpos1<font color="#000080">,</font>Cpos2<font color="#000080">,</font>Lpos2<font color="#000080">,</font>Npos1<font color="#000080">,</font>Npos2<font color="#000080">,</font>Winner<font color="#000080">,</font>Vel<font color="#000080">,</font>Ngames<font color="#000080">:</font>Integer<font color="#000080">;
    </font>Conta<font color="#000080">,</font>Bluep<font color="#000080">,</font>Yellowp<font color="#000080">:</font>Integer<font color="#000080">;
    </font><font color="#FF0000"><b>Out</b></font><font color="#000080">:</font>Boolean<font color="#000080">;
    </font>Exitgame<font color="#000080">:</font>Char<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Initg<font color="#000080">;                      </font><font color="#008000"><i>{initialize graphics}
</i></font><font color="#FF0000"><b>var </b></font>gd<font color="#000080">,</font>gm<font color="#000080">:</font>integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin
    </b></font>Gd<font color="#000080">:=</font>detect<font color="#000080">;
    </font>Initgraph<font color="#000080">(</font>Gd<font color="#000080">,</font>Gm<font color="#000080">,</font><font color="#800000">'C:\TP\BGI'</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>InitVar<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>Cpos1<font color="#000080">,</font>Lpos1<font color="#000080">,</font>Cpos2<font color="#000080">,</font>Lpos2<font color="#000080">,</font>Npos1<font color="#000080">,</font>Npos2<font color="#000080">:</font>Integer<font color="#000080">;</font><font color="#FF0000"><b>Var out</b></font><font color="#000080">:</font>Boolean<font color="#000080">);
</font><font color="#FF0000"><b>Begin                                   </b></font><font color="#008000"><i>{initilize game variables}
    </i></font>Npos1<font color="#000080">:=</font><font color="#800000">3</font><font color="#000080">;
    </font>Npos2<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
    </font>Lpos1<font color="#000080">:=</font><font color="#800000">240</font><font color="#000080">;
    </font>Lpos2<font color="#000080">:=</font><font color="#800000">240</font><font color="#000080">;
    </font>Cpos1<font color="#000080">:=</font><font color="#800000">370</font><font color="#000080">;
    </font>Cpos2<font color="#000080">:=</font><font color="#800000">270</font><font color="#000080">;
    </font><font color="#FF0000"><b>out</b></font><font color="#000080">:=</font>False<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>PressKey<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>Npos1<font color="#000080">,</font>Npos2<font color="#000080">:</font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>Ch<font color="#000080">:</font>Char<font color="#000080">;
    </font>Num<font color="#000080">:</font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin
If </b></font>Keypressed <font color="#FF0000"><b>then                              </b></font><font color="#008000"><i>{get the key pressed and}
    </i></font>Ch<font color="#000080">:=</font>ReadKey<font color="#000080">;                                 </font><font color="#008000"><i>{change course accordingly}
    </i></font><font color="#FF0000"><b>if </b></font>Ch<font color="#000080">=</font><font color="#800000">#0 </font><font color="#FF0000"><b>then
    begin
        </b></font>Ch<font color="#000080">:=</font>ReadKey<font color="#000080">;
        </font>Num<font color="#000080">:=</font>Ord<font color="#000080">(</font>Ch<font color="#000080">);
        </font><font color="#FF0000"><b>Case </b></font>Num <font color="#FF0000"><b>of
            </b></font><font color="#800000">75</font><font color="#000080">:</font><font color="#FF0000"><b>If </b></font>Npos1<font color="#000080">&lt;&gt;</font><font color="#800000">3 </font><font color="#FF0000"><b>then </b></font>Npos1<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
            </font><font color="#800000">72</font><font color="#000080">:</font><font color="#FF0000"><b>If </b></font>Npos1<font color="#000080">&lt;&gt;</font><font color="#800000">4 </font><font color="#FF0000"><b>then </b></font>Npos1<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;
            </font><font color="#800000">77</font><font color="#000080">:</font><font color="#FF0000"><b>If </b></font>Npos1<font color="#000080">&lt;&gt;</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>Npos1<font color="#000080">:=</font><font color="#800000">3</font><font color="#000080">;
            </font><font color="#800000">80</font><font color="#000080">:</font><font color="#FF0000"><b>If </b></font>Npos1<font color="#000080">&lt;&gt;</font><font color="#800000">2 </font><font color="#FF0000"><b>then </b></font>Npos1<font color="#000080">:=</font><font color="#800000">4</font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>End
    Else
    Begin
        </b></font>Num<font color="#000080">:=</font>Ord<font color="#000080">(</font>Ch<font color="#000080">);
        </font><font color="#FF0000"><b>Case </b></font>Num <font color="#FF0000"><b>of
            </b></font><font color="#800000">111</font><font color="#000080">:</font><font color="#FF0000"><b>If </b></font>Npos2<font color="#000080">&lt;&gt;</font><font color="#800000">3 </font><font color="#FF0000"><b>then </b></font>Npos2<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
            </font><font color="#800000">113</font><font color="#000080">:</font><font color="#FF0000"><b>If </b></font>Npos2<font color="#000080">&lt;&gt;</font><font color="#800000">4 </font><font color="#FF0000"><b>then </b></font>Npos2<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;
            </font><font color="#800000">112</font><font color="#000080">:</font><font color="#FF0000"><b>If </b></font>Npos2<font color="#000080">&lt;&gt;</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>Npos2<font color="#000080">:=</font><font color="#800000">3</font><font color="#000080">;
             </font><font color="#800000">97</font><font color="#000080">:</font><font color="#FF0000"><b>If </b></font>Npos2<font color="#000080">&lt;&gt;</font><font color="#800000">2 </font><font color="#FF0000"><b>then </b></font>Npos2<font color="#000080">:=</font><font color="#800000">4</font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ScrnOutput<font color="#000080">(</font>Npos1<font color="#000080">,</font>Npos2<font color="#000080">:</font>integer<font color="#000080">;</font><font color="#FF0000"><b>Var </b></font>Lpos1<font color="#000080">,</font>Lpos2<font color="#000080">,</font>Cpos1<font color="#000080">,</font>Cpos2<font color="#000080">,</font>Winner<font color="#000080">,</font>Vel<font color="#000080">:</font>Integer<font color="#000080">; </font><font color="#FF0000"><b>Var out</b></font><font color="#000080">:</font>Boolean<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>Color<font color="#000080">:</font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     Case </b></font>Npos1 <font color="#FF0000"><b>of                              </b></font><font color="#008000"><i>{write output at screen and}
          </i></font><font color="#800000">1</font><font color="#000080">:</font>Cpos1<font color="#000080">:=</font>Cpos1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;                     </font><font color="#008000"><i>{actualize position variables}
          </i></font><font color="#800000">2</font><font color="#000080">:</font>Lpos1<font color="#000080">:=</font>Lpos1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
          </font><font color="#800000">3</font><font color="#000080">:</font>Cpos1<font color="#000080">:=</font>Cpos1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
          </font><font color="#800000">4</font><font color="#000080">:</font>Lpos1<font color="#000080">:=</font>Lpos1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font>Color<font color="#000080">:=</font>GetPixel<font color="#000080">(</font>Cpos1<font color="#000080">,</font>Lpos1<font color="#000080">);
     </font><font color="#FF0000"><b>If </b></font>Color<font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then
     Begin
        out</b></font><font color="#000080">:=</font>true<font color="#000080">;
        </font>winner<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font>Color<font color="#000080">:=</font>Cyan<font color="#000080">;
     </font>PutPixel<font color="#000080">(</font>Cpos1<font color="#000080">,</font>Lpos1<font color="#000080">,</font>Color<font color="#000080">);
     </font><font color="#FF0000"><b>Case </b></font>Npos2 <font color="#FF0000"><b>of
          </b></font><font color="#800000">1</font><font color="#000080">:</font>Cpos2<font color="#000080">:=</font>Cpos2<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
          </font><font color="#800000">2</font><font color="#000080">:</font>Lpos2<font color="#000080">:=</font>Lpos2<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
          </font><font color="#800000">3</font><font color="#000080">:</font>Cpos2<font color="#000080">:=</font>Cpos2<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
          </font><font color="#800000">4</font><font color="#000080">:</font>Lpos2<font color="#000080">:=</font>Lpos2<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font>Color<font color="#000080">:=</font>GetPixel<font color="#000080">(</font>Cpos2<font color="#000080">,</font>Lpos2<font color="#000080">);
     </font><font color="#FF0000"><b>If </b></font>Color<font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then
     Begin
        out</b></font><font color="#000080">:=</font>true<font color="#000080">;
        </font>winner<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font>Color<font color="#000080">:=</font>Yellow<font color="#000080">;
     </font>PutPixel<font color="#000080">(</font>Cpos2<font color="#000080">,</font>Lpos2<font color="#000080">,</font>Color<font color="#000080">);
     </font>Delay<font color="#000080">(</font>Vel<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
</b></font>exitgame<font color="#000080">:=</font><font color="#800000">'Y'</font><font color="#000080">;
</font><font color="#FF0000"><b>While </b></font>Upcase<font color="#000080">(</font>exitgame<font color="#000080">)=</font><font color="#800000">'Y' </font><font color="#FF0000"><b>do
Begin
     </b></font>yellowp<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
     </font>bluep<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
     </font>Clrscr<font color="#000080">;
     </font>Writeln<font color="#000080">(</font><font color="#800000">'Choose speed (1-very fast to 100-really slow):'</font><font color="#000080">);
     </font>Readln<font color="#000080">(</font>Vel<font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'Choose number of games:'</font><font color="#000080">);
     </font>Readln<font color="#000080">(</font>ngames<font color="#000080">);
     </font><font color="#FF0000"><b>if not </b></font>odd<font color="#000080">(</font>ngames<font color="#000080">) </font><font color="#FF0000"><b>then
     begin
         </b></font>writeln<font color="#000080">(</font><font color="#800000">'Only odd numbers are accepted. Adding one.'</font><font color="#000080">);
         </font>inc<font color="#000080">(</font>ngames<font color="#000080">);
         </font>readln<font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>For </b></font>Conta<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>ngames <font color="#FF0000"><b>do
     Begin
          </b></font>Initg<font color="#000080">;
          </font>InitVar<font color="#000080">(</font>Cpos1<font color="#000080">,</font>Lpos1<font color="#000080">,</font>Cpos2<font color="#000080">,</font>Lpos2<font color="#000080">,</font>Npos1<font color="#000080">,</font>Npos2<font color="#000080">,</font><font color="#FF0000"><b>out</b></font><font color="#000080">);
          </font>SetColor<font color="#000080">(</font>Blue<font color="#000080">);
          </font>Rectangle<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">639</font><font color="#000080">,</font><font color="#800000">479</font><font color="#000080">);
          </font><font color="#FF0000"><b>While out</b></font><font color="#000080">=</font>False <font color="#FF0000"><b>do
          Begin
               </b></font>Presskey<font color="#000080">(</font>Npos1<font color="#000080">,</font>Npos2<font color="#000080">);
               </font>ScrnOutput<font color="#000080">(</font>Npos1<font color="#000080">,</font>Npos2<font color="#000080">,</font>Lpos1<font color="#000080">,</font>Lpos2<font color="#000080">,</font>Cpos1<font color="#000080">,</font>Cpos2<font color="#000080">,</font>winner<font color="#000080">,</font>Vel<font color="#000080">,</font><font color="#FF0000"><b>out</b></font><font color="#000080">);
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
          </font>Clrscr<font color="#000080">;
          </font><font color="#FF0000"><b>If </b></font>winner<font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then
              </b></font>bluep<font color="#000080">:=</font>bluep<font color="#000080">+</font><font color="#800000">1
          </font><font color="#FF0000"><b>else
              </b></font>yellowp<font color="#000080">:=</font>yellowp<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
     </font>Closegraph<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font>Write<font color="#000080">(</font><font color="#800000">'And the winner is the '</font><font color="#000080">);
     </font><font color="#FF0000"><b>if </b></font>bluep<font color="#000080">&gt;</font>yellowp <font color="#FF0000"><b>then
         </b></font>Write<font color="#000080">(</font><font color="#800000">'blue'</font><font color="#000080">)
     </font><font color="#FF0000"><b>else
         </b></font>Write<font color="#000080">(</font><font color="#800000">'yellow'</font><font color="#000080">);
     </font>writeln<font color="#000080">(</font><font color="#800000">' player!'</font><font color="#000080">);
     </font>Write<font color="#000080">(</font><font color="#800000">'New game? (Y/N): '</font><font color="#000080">);
     </font>Readln<font color="#000080">(</font>exitgame<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0146.PAS">Original</a><b>]</b></p></body>
</html>
