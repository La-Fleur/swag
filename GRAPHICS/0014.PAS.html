<html>
<head><title> "Drawing Graphic Circles" by MICHAEL NICOLAI</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0014.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
MICHAEL NICOLAI


The basic formula (and quickest) For drawing a circle is: x^2 + y^2 = r^2.
The r stands For radius (half the diameter). You know this formula, i am
sure. A guy called Phytagoras set i up very long ago to calculate the
hypotenuse of a given triangle. (there has to be a 90&oslash; angel between a and b)


                   |\
                   | \
                 a |  \ c      c^2 = a^2 + b^2
                   |   \
                   |____\

                     b

Remember?

Now look at this:        ...|     a quater of the circle
                       ..   |
                      . ____|y
                     . |\   |
                    .  | \  |
                    .  | r\ |
                    .  |   \|
               --------------------------
                    r  x    |0
                            |
                            |


r is given and take 0 - r as a starting point For x. Then all you have to do
is to calculate y and plot the point.

    y = sqrt((r * r) - (x * x))      sqrt : square root

After each calculation x is increased Until it has reached 0. Then one
quarter of the circle is drawn. The other three quarters are symmetrical.

I have written a short Program For you to draw a circle in 320x200x256
Graphics mode. When you key in some values please remember that NO error
checking will be done. x has to be between 0 and 319, and y between 0 and
199. The radius must not be greater than x and y.

Example: x : 160; y : 100; r : 90

When you start this Program you will not get correct circles because in
Graphics mode ONE pixel is not square!!! You have to calculate an aspect
ratio to get nice looking circles.
}

</i></font><font color="#FF0000"><b>Program </b></font>circle<font color="#000080">;

</font><font color="#FF0000"><b>Uses
  </b></font>Crt<font color="#000080">, </font>Dos<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>regs    <font color="#000080">: </font>Registers<font color="#000080">;
  </font>x0<font color="#000080">, </font>y0  <font color="#000080">: </font>Word<font color="#000080">;
  </font>x<font color="#000080">, </font>y<font color="#000080">, </font>R <font color="#000080">: </font>Real<font color="#000080">;
  </font>temp    <font color="#000080">: </font>Real<font color="#000080">;
  </font>c       <font color="#000080">: </font>Char<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>putpixel<font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">: </font>Word<font color="#000080">; </font>color <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
  </b></font>mem<font color="#000080">[</font><font color="#800000">$A000</font><font color="#000080">: (</font>y <font color="#000080">* </font><font color="#800000">320 </font><font color="#000080">+ </font>x<font color="#000080">)] := </font>color<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>ClrScr<font color="#000080">;
  </font>Writeln<font color="#000080">(</font><font color="#800000">'Enter coordinates of middle-point :'</font><font color="#000080">);
  </font>Writeln<font color="#000080">;
  </font>Write<font color="#000080">(</font><font color="#800000">'x : '</font><font color="#000080">); </font>readln<font color="#000080">(</font>x0<font color="#000080">);
  </font>Write<font color="#000080">(</font><font color="#800000">'y : '</font><font color="#000080">); </font>readln<font color="#000080">(</font>y0<font color="#000080">);
  </font>Writeln<font color="#000080">;
  </font>Write<font color="#000080">(</font><font color="#800000">'Enter radius :'</font><font color="#000080">); </font>readln<font color="#000080">(</font>R<font color="#000080">);

  </font><font color="#008000"><i>{ Switch to 320x200x256 }

  </i></font>regs<font color="#000080">.</font>ax <font color="#000080">:= </font><font color="#800000">$0013</font><font color="#000080">;
  </font>intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">, </font>regs<font color="#000080">);

  </font>x <font color="#000080">:= (-</font><font color="#800000">1</font><font color="#000080">) * </font>R<font color="#000080">;  </font><font color="#008000"><i>{ go from 0 - R to 0 }
  </i></font>temp <font color="#000080">:= </font>R <font color="#000080">* </font>R<font color="#000080">;
  </font><font color="#FF0000"><b>Repeat
    </b></font>y <font color="#000080">:= </font>sqrt<font color="#000080">(</font>temp <font color="#000080">- (</font>x <font color="#000080">* </font>x<font color="#000080">));
    </font>putpixel<font color="#000080">((</font>x0 <font color="#000080">+ </font>trunc<font color="#000080">(</font>x<font color="#000080">)), (</font>y0 <font color="#000080">- </font>trunc<font color="#000080">(</font>y<font color="#000080">)), </font><font color="#800000">15</font><font color="#000080">); </font><font color="#008000"><i>{ 4.th quadrant }
    </i></font>putpixel<font color="#000080">((</font>x0 <font color="#000080">- </font>trunc<font color="#000080">(</font>x<font color="#000080">)), (</font>y0 <font color="#000080">- </font>trunc<font color="#000080">(</font>y<font color="#000080">)), </font><font color="#800000">15</font><font color="#000080">); </font><font color="#008000"><i>{ 1.st quadrant }
    </i></font>putpixel<font color="#000080">((</font>x0 <font color="#000080">+ </font>trunc<font color="#000080">(</font>x<font color="#000080">)), (</font>y0 <font color="#000080">+ </font>trunc<font color="#000080">(</font>y<font color="#000080">)), </font><font color="#800000">15</font><font color="#000080">); </font><font color="#008000"><i>{ 3.rd quadrant }
    </i></font>putpixel<font color="#000080">((</font>x0 <font color="#000080">- </font>trunc<font color="#000080">(</font>x<font color="#000080">)), (</font>y0 <font color="#000080">+ </font>trunc<font color="#000080">(</font>y<font color="#000080">)), </font><font color="#800000">15</font><font color="#000080">); </font><font color="#008000"><i>{ 2.nd quadrant }
    </i></font>x <font color="#000080">:= </font>x <font color="#000080">+ </font><font color="#800000">0.1</font><font color="#000080">; </font><font color="#008000"><i>{ change this if you want coarse or fine circle. }
  </i></font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>x <font color="#000080">&gt;= </font><font color="#800000">0.0</font><font color="#000080">);
  </font>c <font color="#000080">:= </font>ReadKey<font color="#000080">;  </font><font color="#008000"><i>{ wait For keypress. }

  { Switch back to Textmode. }

  </i></font>regs<font color="#000080">.</font>ax <font color="#000080">:= </font><font color="#800000">$0003</font><font color="#000080">;
  </font>intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">, </font>regs<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0014.PAS">Original</a><b>]</b></p></body>
</html>
