<html>
<head><title> "Plasma" by PETER GRUHN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0089.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
This is my plasma code. Written here for windows 24bit mode. There's
some comments in it. It had a problem. I tried to fix it. Couldn't.
Deleted some POSITIVELY ABSOLUTELY ESSENTIAL bits of code, and the
problem went away. Don't ask me, I just wrote it.

You should be able to put it to palette based code pretty easy. It
started out that way and then got converted to RGB. Probably all you'd
need to do, is kill red and green, and just use blue as the palette
entry. Your problem to make sure your palette has nice colours.

It still tends to be a little ridgy on the primary axes. If anybody can
get rid of that, that would be cool. Let me know.

It's also a fractal terrain generator. Same alg. This is just 3 fractal
terrain altitude maps overlaid in rgb.

(Oh, yeah, it's not really windows code. All the real windows code
should be separate from the useful code, just in case you don't do
windows, don't be scared.)

--8&lt;--------------------------------------------------------
}

</i></font><font color="#FF0000"><b>program </b></font>plasma<font color="#000080">;
</font><font color="#008000"><i>{integer version of cloud.
 Only works 24bit. Change resolution
 constants width, height if you need.}
{Left button starts drawing.
 CTRL-ALT-DEL to stop. Or wait for it to finish, and
 right button}
</i></font><font color="#FF0000"><b>uses </b></font>OWindows<font color="#000080">, </font>ODialogs<font color="#000080">, </font>WinTypes<font color="#000080">, </font>WinProcs<font color="#000080">;

</font><font color="#FF0000"><b>const
</b></font><font color="#008000"><i>{integer version of old real constant.
 For calm versions, try FUZZ1/FUZZ2=0.3
 For wild versions, try FUZZ1/FUZZ2=10}
  </i></font>FUZZ1<font color="#000080">=</font><font color="#800000">1</font><font color="#000080">;
  </font>FUZZ2<font color="#000080">=</font><font color="#800000">6</font><font color="#000080">;

  </font>width<font color="#000080">= </font><font color="#800000">800</font><font color="#000080">;
  </font>height<font color="#000080">= </font><font color="#800000">600</font><font color="#000080">;

</font><font color="#FF0000"><b>type
     </b></font>TMyApp<font color="#000080">=</font><font color="#FF0000"><b>object </b></font><font color="#000080">(</font>TApplication<font color="#000080">)
       </font><font color="#FF0000"><b>procedure </b></font>InitMainWindow<font color="#000080">; </font><font color="#FF0000"><b>virtual</b></font><font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font>PMyWindow<font color="#000080">=^</font>TPlasmaWindow<font color="#000080">;
     </font>TPlasmaWindow<font color="#000080">=</font><font color="#FF0000"><b>object </b></font><font color="#000080">(</font>TWindow<font color="#000080">)
       </font>r<font color="#000080">,</font>g<font color="#000080">,</font>b<font color="#000080">:</font>byte<font color="#000080">;
       </font>w<font color="#000080">,</font>h<font color="#000080">:</font>integer<font color="#000080">;
       </font><font color="#FF0000"><b>constructor </b></font>init<font color="#000080">(</font>AParent<font color="#000080">:</font>PWindowsObject<font color="#000080">; </font>ATitle<font color="#000080">:</font>PChar<font color="#000080">);
       </font><font color="#FF0000"><b>procedure </b></font>SetUpWindow<font color="#000080">; </font><font color="#FF0000"><b>virtual</b></font><font color="#000080">;
       </font><font color="#FF0000"><b>procedure </b></font>WMLButtonDown<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Msg<font color="#000080">:</font>TMessage<font color="#000080">); </font><font color="#FF0000"><b>virtual </b></font>wm_First<font color="#000080">+</font>wm_LButtonDown<font color="#000080">;
       </font><font color="#FF0000"><b>procedure </b></font>WMRButtonDown<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Msg<font color="#000080">:</font>TMessage<font color="#000080">); </font><font color="#FF0000"><b>virtual </b></font>wm_First<font color="#000080">+</font>wm_RButtonDown<font color="#000080">;
       </font><font color="#FF0000"><b>function </b></font>getclassname<font color="#000080">:</font>pchar<font color="#000080">; </font><font color="#FF0000"><b>virtual</b></font><font color="#000080">;
       </font><font color="#FF0000"><b>procedure </b></font>getwindowclass<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>awndclass<font color="#000080">:</font>twndclass<font color="#000080">); </font><font color="#FF0000"><b>virtual</b></font><font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var </b></font>maxx<font color="#000080">,</font>maxy<font color="#000080">:</font>integer<font color="#000080">;
    </font>backg<font color="#000080">:</font>TColorRef<font color="#000080">;
    </font>i<font color="#000080">:</font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>clamp<font color="#000080">(</font>x<font color="#000080">:</font>integer<font color="#000080">):</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font><font color="#008000"><i>{  if x&lt;0 then x:=0
  else if x&gt;255 then x:=255;
  clamp:=x;}
  </i></font><font color="#FF0000"><b>case </b></font>x <font color="#FF0000"><b>of
   </b></font><font color="#000080">-</font><font color="#800000">32767</font><font color="#000080">..</font><font color="#800000">0 </font><font color="#000080">: </font>clamp<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
   </font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255    </font><font color="#000080">: </font>clamp<font color="#000080">:=</font>x<font color="#000080">;
   </font><font color="#800000">256</font><font color="#000080">..</font><font color="#800000">32767</font><font color="#000080">: </font>clamp<font color="#000080">:=</font><font color="#800000">255</font><font color="#000080">;
   </font><font color="#FF0000"><b>else </b></font><font color="#008000"><i>{oops}</i></font><font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{case}
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>randomcolour<font color="#000080">:</font>TColorRef<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>r<font color="#000080">,</font>g<font color="#000080">,</font>b<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
    </b></font>randomcolour<font color="#000080">:=</font>rgb<font color="#000080">(</font>random<font color="#000080">(</font><font color="#800000">256</font><font color="#000080">),</font>random<font color="#000080">(</font><font color="#800000">256</font><font color="#000080">),</font>random<font color="#000080">(</font><font color="#800000">256</font><font color="#000080">));
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>TMyApp<font color="#000080">.</font>InitMainWindow<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>MainWindow <font color="#000080">:= </font>New<font color="#000080">(</font>PMyWindow<font color="#000080">, </font>Init<font color="#000080">(</font><font color="#FF0000"><b>NIL</b></font><font color="#000080">,</font><font color="#800000">'Plasma'</font><font color="#000080">));
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>constructor </b></font>TPlasmaWindow<font color="#000080">.</font>init<font color="#000080">(</font>AParent<font color="#000080">:</font>PWindowsObject<font color="#000080">; </font>ATitle<font color="#000080">:</font>PChar<font color="#000080">);
</font><font color="#FF0000"><b>begin
  inherited </b></font>init<font color="#000080">(</font>AParent<font color="#000080">,</font>ATitle<font color="#000080">);
  </font>r<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>g<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>b<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font>w<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;</font>h<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;
  </font>attr<font color="#000080">.</font>x<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>attr<font color="#000080">.</font>y<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font>attr<font color="#000080">.</font>w<font color="#000080">:=</font>width<font color="#000080">; </font>attr<font color="#000080">.</font>h<font color="#000080">:=</font>height<font color="#000080">;
  </font>attr<font color="#000080">.</font>style<font color="#000080">:=</font>ws_popup <font color="#000080">+ </font>ws_visible<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>TPlasmaWindow<font color="#000080">.</font>SetUpWindow<font color="#000080">;
</font><font color="#FF0000"><b>begin
  inherited </b></font>setupwindow<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>TPlasmaWindow<font color="#000080">.</font>WMLButtonDown<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Msg<font color="#000080">:</font>TMessage<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>ADC<font color="#000080">:</font>HDC<font color="#000080">;
    </font>AP<font color="#000080">,</font>TempP<font color="#000080">:</font>HPen<font color="#000080">;
    </font>AB<font color="#000080">,</font>TempB<font color="#000080">:</font>HBrush<font color="#000080">;

    </font><font color="#FF0000"><b>function </b></font>max<font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">):</font>integer<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      if </b></font>a<font color="#000080">&lt;</font>b <font color="#FF0000"><b>then        </b></font>max<font color="#000080">:=</font>b      <font color="#FF0000"><b>else        </b></font>max<font color="#000080">:=</font>a<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>function </b></font>mid<font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">):</font>integer<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      </b></font>mid<font color="#000080">:=(</font>a <font color="#000080">+ </font>b<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>function </b></font>ridge<font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">,</font>c<font color="#000080">,</font>d<font color="#000080">:</font>integer<font color="#000080">):</font>TColorref<font color="#000080">;
    </font><font color="#008000"><i>{Take two endpoints, shift the mid point, based on how far apart they are.}
    </i></font><font color="#FF0000"><b>var </b></font>variance<font color="#000080">:</font>integer<font color="#000080">;
        </font>r<font color="#000080">,</font>g<font color="#000080">,</font>l<font color="#000080">:</font>byte<font color="#000080">;
        </font>m<font color="#000080">,</font>n<font color="#000080">:</font>TColorref<font color="#000080">;
        </font>vd2<font color="#000080">:</font>integer<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      </b></font>variance<font color="#000080">:=</font>max<font color="#000080">(</font>c<font color="#000080">-</font>a<font color="#000080">,</font>d<font color="#000080">-</font>b<font color="#000080">) * </font>FUZZ1 <font color="#FF0000"><b>div </b></font>FUZZ2<font color="#000080">;
      </font>vd2<font color="#000080">:=</font>variance <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
      </font>m<font color="#000080">:=</font>getpixel<font color="#000080">(</font>adc<font color="#000080">,(</font>a<font color="#000080">),(</font>b<font color="#000080">));
      </font>n<font color="#000080">:=</font>getpixel<font color="#000080">(</font>adc<font color="#000080">,(</font>c<font color="#000080">),(</font>d<font color="#000080">));
      </font>r<font color="#000080">:=</font>clamp<font color="#000080">(((</font>getrvalue<font color="#000080">(</font>m<font color="#000080">) + </font>getrvalue<font color="#000080">(</font>n<font color="#000080">)) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#008000"><i>{ + (random(variance))-vd2}</i></font><font color="#000080">));
      </font>g<font color="#000080">:=</font>clamp<font color="#000080">(((</font>getgvalue<font color="#000080">(</font>m<font color="#000080">) + </font>getgvalue<font color="#000080">(</font>n<font color="#000080">)) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#008000"><i>{ + (random(variance))-vd2}</i></font><font color="#000080">));
      </font>l<font color="#000080">:=</font>clamp<font color="#000080">(((</font>getbvalue<font color="#000080">(</font>m<font color="#000080">) + </font>getbvalue<font color="#000080">(</font>n<font color="#000080">)) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#008000"><i>{ + (random(variance))-vd2}</i></font><font color="#000080">));
      </font>ridge<font color="#000080">:=</font>rgb<font color="#000080">(</font>r<font color="#000080">,</font>g<font color="#000080">,</font>l<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>function </b></font>shift<font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">,</font>c<font color="#000080">,</font>d<font color="#000080">:</font>integer<font color="#000080">; </font>col<font color="#000080">:</font>tcolorref<font color="#000080">):</font>tcolorref<font color="#000080">;
    </font><font color="#FF0000"><b>var </b></font>variance<font color="#000080">:</font>integer<font color="#000080">;
        </font>r<font color="#000080">,</font>g<font color="#000080">,</font>l<font color="#000080">:</font>byte<font color="#000080">;
        </font>vd2<font color="#000080">:</font>integer<font color="#000080">;
    </font><font color="#FF0000"><b>begin
</b></font><font color="#008000"><i>{      variance:=max(d-b,c-a) * FUZZ1 div FUZZ2;}
      </i></font>variance<font color="#000080">:=(</font>c<font color="#000080">-</font>a<font color="#000080">) * </font>FUZZ1 <font color="#FF0000"><b>div </b></font>FUZZ2<font color="#000080">;
      </font>vd2<font color="#000080">:=</font>variance <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
      </font>r<font color="#000080">:=</font>clamp<font color="#000080">(</font>getrvalue<font color="#000080">(</font>col<font color="#000080">) + (</font>random<font color="#000080">(</font>variance<font color="#000080">))-</font>vd2<font color="#000080">);
      </font>g<font color="#000080">:=</font>clamp<font color="#000080">(</font>getgvalue<font color="#000080">(</font>col<font color="#000080">) + (</font>random<font color="#000080">(</font>variance<font color="#000080">))-</font>vd2<font color="#000080">);
      </font>l<font color="#000080">:=</font>clamp<font color="#000080">(</font>getbvalue<font color="#000080">(</font>col<font color="#000080">) + (</font>random<font color="#000080">(</font>variance<font color="#000080">))-</font>vd2<font color="#000080">);
      </font>shift<font color="#000080">:=</font>rgb<font color="#000080">(</font>r<font color="#000080">,</font>g<font color="#000080">,</font>l<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>procedure </b></font>quarter<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">);
    </font><font color="#FF0000"><b>var </b></font>mx<font color="#000080">,</font>my<font color="#000080">,</font>width<font color="#000080">,</font>colour<font color="#000080">,</font>variance<font color="#000080">:</font>integer<font color="#000080">;
        </font>mzr<font color="#000080">,</font>mzg<font color="#000080">,</font>mzb<font color="#000080">:</font>byte<font color="#000080">;
        </font>c<font color="#000080">:</font>char<font color="#000080">;
        </font>m<font color="#000080">,</font>n<font color="#000080">,</font>o<font color="#000080">,</font>p<font color="#000080">,</font>tc<font color="#000080">:</font>TColorRef<font color="#000080">;
        </font>vd2<font color="#000080">:</font>integer<font color="#000080">;
        </font>abrush<font color="#000080">:</font>hbrush<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      </b></font>width<font color="#000080">:=</font>r<font color="#000080">-</font>l<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>width<font color="#000080">&gt;</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>b<font color="#000080">-</font>t<font color="#000080">&gt;</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>then
        begin
        </b></font>variance<font color="#000080">:=</font>width <font color="#000080">* </font>FUZZ1 <font color="#FF0000"><b>div </b></font>fuzz2 <font color="#000080">;
        </font>vd2<font color="#000080">:=</font>variance <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
        </font>mx<font color="#000080">:=</font>mid<font color="#000080">(</font>l<font color="#000080">,</font>r<font color="#000080">);
        </font>my<font color="#000080">:=</font>mid<font color="#000080">(</font>t<font color="#000080">,</font>b<font color="#000080">);
        </font>m<font color="#000080">:=</font>getpixel<font color="#000080">(</font>adc<font color="#000080">,</font>l<font color="#000080">,</font>t<font color="#000080">);
        </font>n<font color="#000080">:=</font>getpixel<font color="#000080">(</font>adc<font color="#000080">,</font>l<font color="#000080">,</font>b<font color="#000080">);
        </font>o<font color="#000080">:=</font>getpixel<font color="#000080">(</font>adc<font color="#000080">,</font>r<font color="#000080">,</font>t<font color="#000080">);
        </font>p<font color="#000080">:=</font>getpixel<font color="#000080">(</font>adc<font color="#000080">,</font>r<font color="#000080">,</font>b<font color="#000080">);
        </font>mzr<font color="#000080">:=</font>clamp<font color="#000080">((</font>getrvalue<font color="#000080">(</font>m<font color="#000080">) + </font>getrvalue<font color="#000080">(</font>n<font color="#000080">) + </font>getrvalue<font color="#000080">(</font>o<font color="#000080">) + </font>getrvalue<font color="#000080">(</font>p<font color="#000080">)) </font><font color="#FF0000"><b>div </b></font><font color="#800000">4 </font><font color="#000080">+ </font>random<font color="#000080">(</font>variance<font color="#000080">)-</font>vd2<font color="#000080">);
        </font>mzg<font color="#000080">:=</font>clamp<font color="#000080">((</font>getgvalue<font color="#000080">(</font>m<font color="#000080">) + </font>getgvalue<font color="#000080">(</font>n<font color="#000080">) + </font>getgvalue<font color="#000080">(</font>o<font color="#000080">) + </font>getgvalue<font color="#000080">(</font>p<font color="#000080">)) </font><font color="#FF0000"><b>div </b></font><font color="#800000">4 </font><font color="#000080">+ </font>random<font color="#000080">(</font>variance<font color="#000080">)-</font>vd2<font color="#000080">);
        </font>mzb<font color="#000080">:=</font>clamp<font color="#000080">((</font>getbvalue<font color="#000080">(</font>m<font color="#000080">) + </font>getbvalue<font color="#000080">(</font>n<font color="#000080">) + </font>getbvalue<font color="#000080">(</font>o<font color="#000080">) + </font>getbvalue<font color="#000080">(</font>p<font color="#000080">)) </font><font color="#FF0000"><b>div </b></font><font color="#800000">4 </font><font color="#000080">+ </font>random<font color="#000080">(</font>variance<font color="#000080">)-</font>vd2<font color="#000080">);

        </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,</font>mx<font color="#000080">,</font>my<font color="#000080">,</font>rgb<font color="#000080">(</font>mzr<font color="#000080">,</font>mzg<font color="#000080">,</font>mzb<font color="#000080">));
        </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,(</font>l<font color="#000080">),(</font>my<font color="#000080">),</font>ridge<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>l<font color="#000080">,</font>b<font color="#000080">));
        </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,(</font>r<font color="#000080">),(</font>my<font color="#000080">),</font>ridge<font color="#000080">(</font>r<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>b<font color="#000080">));
        </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,(</font>mx<font color="#000080">),(</font>t<font color="#000080">),</font>ridge<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>t<font color="#000080">));
        </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,(</font>mx<font color="#000080">),(</font>b<font color="#000080">),</font>ridge<font color="#000080">(</font>l<font color="#000080">,</font>b<font color="#000080">,</font>r<font color="#000080">,</font>b<font color="#000080">));

        </font>quarter<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>mx<font color="#000080">,</font>my<font color="#000080">);
        </font>quarter<font color="#000080">(</font>l<font color="#000080">,</font>my<font color="#000080">,</font>mx<font color="#000080">,</font>b<font color="#000080">);
        </font>quarter<font color="#000080">(</font>mx<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>my<font color="#000080">);
        </font>quarter<font color="#000080">(</font>mx<font color="#000080">,</font>my<font color="#000080">,</font>r<font color="#000080">,</font>b<font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>ADC<font color="#000080">:=</font>getdc<font color="#000080">(</font>HWindow<font color="#000080">);
  </font>randomize<font color="#000080">;
  </font>maxx<font color="#000080">:=</font>width<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">; </font>maxy<font color="#000080">:=</font>height<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
  </font>backg<font color="#000080">:=</font>getpixel<font color="#000080">(</font>ADC<font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
  </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>randomcolour<font color="#000080">);
  </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>maxy<font color="#000080">,</font>randomcolour<font color="#000080">);
  </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,</font>maxx<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>randomcolour<font color="#000080">);
  </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,</font>maxx<font color="#000080">,</font>maxy<font color="#000080">,</font>randomcolour<font color="#000080">);
  </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,</font>mid<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>maxx<font color="#000080">),</font><font color="#800000">0</font><font color="#000080">,</font>randomcolour<font color="#000080">);
  </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,</font>mid<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>maxx<font color="#000080">),</font>maxy<font color="#000080">,</font>randomcolour<font color="#000080">);
  </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>mid<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>maxy<font color="#000080">),</font>randomcolour<font color="#000080">);
  </font>setpixel<font color="#000080">(</font>adc<font color="#000080">,</font>maxx<font color="#000080">,</font>mid<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>maxy<font color="#000080">),</font>randomcolour<font color="#000080">);
  </font>quarter<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>maxx<font color="#000080">,</font>maxy<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>TPlasmaWindow<font color="#000080">.</font>WMRButtonDown<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Msg<font color="#000080">:</font>TMessage<font color="#000080">);
</font><font color="#FF0000"><b>begin
  </b></font>destroy<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>TPlasmaWindow<font color="#000080">.</font>getclassname<font color="#000080">:</font>pchar<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>getclassname<font color="#000080">:=</font><font color="#800000">'Cloud Window'</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>TPlasmaWindow<font color="#000080">.</font>getwindowclass<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>awndclass<font color="#000080">:</font>twndclass<font color="#000080">);
</font><font color="#FF0000"><b>begin
  inherited </b></font>getwindowclass<font color="#000080">(</font>awndclass<font color="#000080">);
  </font>awndclass<font color="#000080">.</font>hbrbackground<font color="#000080">:=</font>getstockobject<font color="#000080">(</font>white_brush<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var </b></font>DitherApp<font color="#000080">:</font>TMyApp<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>DitherApp<font color="#000080">.</font>init<font color="#000080">(</font><font color="#800000">'Cloud'</font><font color="#000080">);
  </font>DitherApp<font color="#000080">.</font>run<font color="#000080">;
  </font>DitherApp<font color="#000080">.</font>done<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0089.PAS">Original</a><b>]</b></p></body>
</html>
