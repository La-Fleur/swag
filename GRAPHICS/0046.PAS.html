<html>
<head><title> "3D Rotation" by PETER M. GRUHN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0046.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>program </b></font>BoxRot<font color="#000080">;

</font><font color="#008000"><i>{PUBLIC DOMAIN  1993 Peter M. Gruhn

Program draws a box on screen. Allows user to rotate the box around
the three primary axes. Viewing transform is simple ignore z.

I used _Computer_Graphics:_Principles_and_Practice_, Foley et al
ISBN 0-201-12110-7 as a reference

RUNNING:
Borland Pascal 7. Should run on any graphics device supported by BGI.
If you have smaller than 280 resolution, change '+200' to something
smaller and/or change 75 to something smaller.

Since this machine is
not really set up for doing DOS graphics, I hard coded my BGI path, so
you have to find 'initgraph' and change the bgi path to something that
works on your machine. Try ''.

Okey dokey. This is kinda slow, and does a nice job of demonstrating the
problems of repeatedly modifying the same data set. That is, the more and
more you rotate the box, the more and more distorted it gets. This is
because computers are not perfect at calculations, and all of those little
errors add up quite quickly.

It's because of that that I used reals, not reals. I used floating point
because the guy doesn't know what is going on at all with 3d, so better to
look at only the math that is really happening. Besides, I still have to
think to use fixed point. Whaddaya want for .5 hour programming.

 DIRECTIONS:
   ',' - rotates around the x axis
   '.' - rotates around the y axis
   '/' - rotates around the z axis
   'q' - quits

   All rotations are done around global axes, not object axes.
}

</i></font><font color="#FF0000"><b>uses
  </b></font>graph<font color="#000080">,
  </font>crt<font color="#000080">;

</font><font color="#FF0000"><b>const
  </b></font>radtheta <font color="#000080">= </font><font color="#800000">1 </font><font color="#008000"><i>{degrees} </i></font><font color="#000080">* </font><font color="#800000">3.1415926535 </font><font color="#008000"><i>{radians} </i></font><font color="#000080">/ </font><font color="#800000">180 </font><font color="#008000"><i>{per degrees}</i></font><font color="#000080">;
  </font><font color="#008000"><i>{ sin and cos on computers are done in radians. }

</i></font><font color="#FF0000"><b>type
  </b></font>tpointr <font color="#000080">= </font><font color="#FF0000"><b>record   </b></font><font color="#008000"><i>{ Just a record to hold 3d points }
    </i></font>x<font color="#000080">, </font>y<font color="#000080">, </font>z <font color="#000080">: </font>real<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>box <font color="#000080">: </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>tpointr<font color="#000080">;   </font><font color="#008000"><i>{ The box we will manipulate }
  </i></font>c   <font color="#000080">: </font>char<font color="#000080">;                      </font><font color="#008000"><i>{ Our input mechanism }

</i></font><font color="#FF0000"><b>procedure </b></font>init<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>gd<font color="#000080">, </font>gm <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#008000"><i>{ turns on graphics and creates a cube. Since the rotation routines
  rotate around the origin, I have centered the cube on the origin, so
  that it stays in place and only spins. }
</i></font><font color="#FF0000"><b>begin
  </b></font>gd <font color="#000080">:= </font>detect<font color="#000080">;
  </font>initgraph<font color="#000080">(</font>gd<font color="#000080">, </font>gm<font color="#000080">, </font><font color="#800000">'e:\bp\bgi'</font><font color="#000080">);
  </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>x <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;  </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>y <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;  </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>z <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;
  </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;   </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;  </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>z <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;
  </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>x <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;   </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>y <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;   </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>z <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;
  </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>x <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;  </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>y <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;   </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>z <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;
  </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;  </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;  </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>z <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;
  </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>x <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;   </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>y <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;  </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>z <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;
  </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>x <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;   </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>y <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;   </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>z <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;
  </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>x <font color="#000080">:= -</font><font color="#800000">75</font><font color="#000080">;  </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>y <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;   </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>z <font color="#000080">:= </font><font color="#800000">75</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>myline<font color="#000080">(</font>x1<font color="#000080">, </font>y1<font color="#000080">, </font>z1<font color="#000080">, </font>x2<font color="#000080">, </font>y2<font color="#000080">, </font>z2 <font color="#000080">: </font>real<font color="#000080">);
</font><font color="#008000"><i>{ Keeps the draw routine pretty. Pixels are integers, so I round. Since the
 cube is centered around 0,0 I move it over 200 to put it on screen. }
</i></font><font color="#FF0000"><b>begin
</b></font><font color="#008000"><i>{ if you think those real mults are slow, here's some rounds too... hey, you
  may wonder, what happened to the stinking z coordinate? Ah, says I, this
  is the simplest of 3d viewing transforms. You just take the z coord out of
  things and boom. Looking straight down the z axis on the object. If I get
  inspired, I will add simple perspective transform to these.  There, got
  inspired. Made mistakes. Foley et al are not very good at tutoring
  perspective and I'm kinda ready to be done and post this. }
  </i></font>line<font color="#000080">(</font>round<font color="#000080">(</font>x1<font color="#000080">) + </font><font color="#800000">200</font><font color="#000080">, </font>round<font color="#000080">(</font>y1<font color="#000080">) + </font><font color="#800000">200</font><font color="#000080">, </font>round<font color="#000080">(</font>x2<font color="#000080">) + </font><font color="#800000">200</font><font color="#000080">, </font>round<font color="#000080">(</font>y2<font color="#000080">) + </font><font color="#800000">200</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>draw<font color="#000080">;
</font><font color="#008000"><i>{ my model is hard coded. No cool things like vertex and edge and face lists.}
</i></font><font color="#FF0000"><b>begin
  </b></font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>z<font color="#000080">);

  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>z<font color="#000080">);

  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">].</font>z<font color="#000080">);

  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>z<font color="#000080">);
  </font>myline<font color="#000080">(</font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>z<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y<font color="#000080">, </font>box<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>z<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>rotx<font color="#000080">;
</font><font color="#008000"><i>{if you know your matrix multiplication, the following equations
 are derived from

 [x   [ 1  0  0  0   [x',y',z',1]
  y     0  c -s  0 =
  z     0  s  c  0
  1]    0  0  0  1]
}
</i></font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>setcolor<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
  </font>draw<font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7 </font><font color="#FF0000"><b>do
  begin
    </b></font>box<font color="#000080">[</font>i<font color="#000080">].</font>x <font color="#000080">:=  </font>box<font color="#000080">[</font>i<font color="#000080">].</font>x<font color="#000080">;
    </font>box<font color="#000080">[</font>i<font color="#000080">].</font>y <font color="#000080">:=  </font>box<font color="#000080">[</font>i<font color="#000080">].</font>y <font color="#000080">* </font>cos<font color="#000080">(</font>radTheta<font color="#000080">) + </font>box<font color="#000080">[</font>i<font color="#000080">].</font>z <font color="#000080">* </font>sin<font color="#000080">(</font>radTheta<font color="#000080">);
    </font>box<font color="#000080">[</font>i<font color="#000080">].</font>z <font color="#000080">:= -</font>box<font color="#000080">[</font>i<font color="#000080">].</font>y <font color="#000080">* </font>sin<font color="#000080">(</font>radTheta<font color="#000080">) + </font>box<font color="#000080">[</font>i<font color="#000080">].</font>z <font color="#000080">* </font>cos<font color="#000080">(</font>radTheta<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>setcolor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
  </font>draw<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>roty<font color="#000080">;
</font><font color="#008000"><i>{if you know your matrix multiplication, the following equations
 are derived from

 [x   [ c  0  s  0   [x',y',z',1]
  y     0  1  0  0 =
  z    -s  0  c  0
  1]    0  0  0  1]
}
</i></font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>setcolor<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
  </font>draw<font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7 </font><font color="#FF0000"><b>do
  begin
    </b></font>box<font color="#000080">[</font>i<font color="#000080">].</font>x <font color="#000080">:= </font>box<font color="#000080">[</font>i<font color="#000080">].</font>x <font color="#000080">* </font>cos<font color="#000080">(</font>radTheta<font color="#000080">) - </font>box<font color="#000080">[</font>i<font color="#000080">].</font>z <font color="#000080">* </font>sin<font color="#000080">(</font>radTheta<font color="#000080">);
    </font>box<font color="#000080">[</font>i<font color="#000080">].</font>y <font color="#000080">:= </font>box<font color="#000080">[</font>i<font color="#000080">].</font>y<font color="#000080">;
    </font>box<font color="#000080">[</font>i<font color="#000080">].</font>z <font color="#000080">:= </font>box<font color="#000080">[</font>i<font color="#000080">].</font>x <font color="#000080">* </font>sin<font color="#000080">(</font>radTheta<font color="#000080">) + </font>box<font color="#000080">[</font>i<font color="#000080">].</font>z <font color="#000080">* </font>cos<font color="#000080">(</font>radTheta<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>setcolor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
  </font>draw<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>rotz<font color="#000080">;
</font><font color="#008000"><i>{if you know your matrix multiplication, the following equations
 are derived from

 [x   [ c -s  0  0   [x',y',z',1]
  y     s  c  0  0 =
  z     0  0  1  0
  1]    0  0  0  1]
}
</i></font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>setcolor<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
  </font>draw<font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7 </font><font color="#FF0000"><b>do
  begin
    </b></font>box<font color="#000080">[</font>i<font color="#000080">].</font>x <font color="#000080">:=  </font>box<font color="#000080">[</font>i<font color="#000080">].</font>x <font color="#000080">* </font>cos<font color="#000080">(</font>radTheta<font color="#000080">) + </font>box<font color="#000080">[</font>i<font color="#000080">].</font>y <font color="#000080">* </font>sin<font color="#000080">(</font>radTheta<font color="#000080">);
    </font>box<font color="#000080">[</font>i<font color="#000080">].</font>y <font color="#000080">:= -</font>box<font color="#000080">[</font>i<font color="#000080">].</font>x <font color="#000080">* </font>sin<font color="#000080">(</font>radTheta<font color="#000080">) + </font>box<font color="#000080">[</font>i<font color="#000080">].</font>y <font color="#000080">* </font>cos<font color="#000080">(</font>radTheta<font color="#000080">);
    </font>box<font color="#000080">[</font>i<font color="#000080">].</font>z <font color="#000080">:=  </font>box<font color="#000080">[</font>i<font color="#000080">].</font>z<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>setcolor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
  </font>draw<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>begin
  </b></font>init<font color="#000080">;
  </font>setcolor<font color="#000080">(</font><font color="#800000">14</font><font color="#000080">);
  </font>draw<font color="#000080">;
  </font><font color="#FF0000"><b>repeat
    </b></font>c <font color="#000080">:= </font>readkey<font color="#000080">;
    </font><font color="#FF0000"><b>case </b></font>c <font color="#FF0000"><b>of
      </b></font><font color="#800000">',' </font><font color="#000080">: </font>rotx<font color="#000080">;
      </font><font color="#800000">'.' </font><font color="#000080">: </font>roty<font color="#000080">;
      </font><font color="#800000">'/' </font><font color="#000080">: </font>rotz<font color="#000080">;
      </font><font color="#FF0000"><b>else </b></font><font color="#008000"><i>{who gives a}</i></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{case}
  </i></font><font color="#FF0000"><b>until </b></font>c <font color="#000080">= </font><font color="#800000">'q'</font><font color="#000080">;
  </font>closegraph<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.


</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0046.PAS">Original</a><b>]</b></p></body>
</html>
