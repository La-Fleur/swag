<html>
<head><title> "Bresenham's Line" by SEAN PALMER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0047.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt;&gt; I was wondering if anyone could show me the equations (and perhaps a
&gt;&gt; demo in standard pascal) of the following shapes. What I need to know is
&gt;&gt; where to plot the point.
&gt;&gt; Circle. (I've tried using the equation taught to me at school, but it
&gt;&gt; Line  (What I would like would be to be able to plot a line by giving it

There seems yet again to be enough interest/need so I'll post this stuff just
ONCE more.... somebody put this in SWAG or something.... PLEASE!!!

 [Okay Sean, here you go!  -Kerry]

You need a plot(x,y) procedure and a global color variable to use these as
posted.
}

{bresenham's line}
</i></font><font color="#FF0000"><b>procedure </b></font>line<font color="#000080">(</font>x<font color="#000080">, </font>y<font color="#000080">, </font>x2<font color="#000080">, </font>y2 <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>d<font color="#000080">, </font>dx<font color="#000080">, </font>dy<font color="#000080">,
  </font>ai<font color="#000080">, </font>bi<font color="#000080">,
  </font>xi<font color="#000080">, </font>yi <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font><font color="#000080">(</font>x <font color="#000080">&lt; </font>x2<font color="#000080">) </font><font color="#FF0000"><b>then
  begin
    </b></font>xi <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
    </font>dx <font color="#000080">:= </font>x2 <font color="#000080">- </font>x<font color="#000080">;
  </font><font color="#FF0000"><b>end
  else
  begin
    </b></font>xi <font color="#000080">:= - </font><font color="#800000">1</font><font color="#000080">;
    </font>dx <font color="#000080">:= </font>x <font color="#000080">- </font>x2<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>y <font color="#000080">&lt; </font>y2<font color="#000080">) </font><font color="#FF0000"><b>then
  begin
    </b></font>yi <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
    </font>dy <font color="#000080">:= </font>y2 <font color="#000080">- </font>y<font color="#000080">;
  </font><font color="#FF0000"><b>end
  else
  begin
    </b></font>yi <font color="#000080">:= - </font><font color="#800000">1</font><font color="#000080">;
    </font>dy <font color="#000080">:= </font>y <font color="#000080">- </font>y2<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>plot<font color="#000080">(</font>x<font color="#000080">, </font>y<font color="#000080">);

  </font><font color="#FF0000"><b>if </b></font>dx <font color="#000080">&gt; </font>dy <font color="#FF0000"><b>then
  begin
    </b></font>ai <font color="#000080">:= (</font>dy <font color="#000080">- </font>dx<font color="#000080">) * </font><font color="#800000">2</font><font color="#000080">;
    </font>bi <font color="#000080">:= </font>dy <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
    </font>d  <font color="#000080">:= </font>bi <font color="#000080">- </font>dx<font color="#000080">;
    </font><font color="#FF0000"><b>repeat
      if </b></font><font color="#000080">(</font>d <font color="#000080">&gt;= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
      begin
        </b></font>inc<font color="#000080">(</font>y<font color="#000080">, </font>yi<font color="#000080">);
        </font>inc<font color="#000080">(</font>d<font color="#000080">, </font>ai<font color="#000080">);
      </font><font color="#FF0000"><b>end
      else
        </b></font>inc<font color="#000080">(</font>d<font color="#000080">, </font>bi<font color="#000080">);

      </font>inc<font color="#000080">(</font>x<font color="#000080">, </font>xi<font color="#000080">);
      </font>plot<font color="#000080">(</font>x<font color="#000080">, </font>y<font color="#000080">);
    </font><font color="#FF0000"><b>until </b></font><font color="#000080">(</font>x <font color="#000080">= </font>x2<font color="#000080">);
  </font><font color="#FF0000"><b>end
  else
  begin
    </b></font>ai <font color="#000080">:= (</font>dx <font color="#000080">- </font>dy<font color="#000080">) * </font><font color="#800000">2</font><font color="#000080">;
    </font>bi <font color="#000080">:= </font>dx <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">;
    </font>d  <font color="#000080">:= </font>bi <font color="#000080">- </font>dy<font color="#000080">;
    </font><font color="#FF0000"><b>repeat
      if </b></font><font color="#000080">(</font>d <font color="#000080">&gt;= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
      begin
        </b></font>inc<font color="#000080">(</font>x<font color="#000080">, </font>xi<font color="#000080">);
        </font>inc<font color="#000080">(</font>d<font color="#000080">, </font>ai<font color="#000080">);
      </font><font color="#FF0000"><b>end
      else
        </b></font>inc<font color="#000080">(</font>d<font color="#000080">, </font>bi<font color="#000080">);

      </font>inc<font color="#000080">(</font>y<font color="#000080">, </font>yi<font color="#000080">);
      </font>plot<font color="#000080">(</font>x<font color="#000080">, </font>y<font color="#000080">);
    </font><font color="#FF0000"><b>until </b></font><font color="#000080">(</font>y <font color="#000080">= </font>y2<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#008000"><i>{filled ellipse}
</i></font><font color="#FF0000"><b>procedure </b></font>disk<font color="#000080">(</font>xc<font color="#000080">,  </font>yc<font color="#000080">,  </font>a<font color="#000080">,  </font>b <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>x<font color="#000080">, </font>y      <font color="#000080">: </font>integer<font color="#000080">;
  </font>aa<font color="#000080">, </font>aa2<font color="#000080">,
  </font>bb<font color="#000080">, </font>bb2<font color="#000080">,
  </font>d<font color="#000080">, </font>dx<font color="#000080">, </font>dy <font color="#000080">: </font>longint<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>x   <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>y   <font color="#000080">:= </font>b<font color="#000080">;
  </font>aa  <font color="#000080">:= </font>longint<font color="#000080">(</font>a<font color="#000080">) * </font>a<font color="#000080">;
  </font>aa2 <font color="#000080">:= </font><font color="#800000">2 </font><font color="#000080">* </font>aa<font color="#000080">;
  </font>bb  <font color="#000080">:= </font>longint<font color="#000080">(</font>b<font color="#000080">) * </font>b<font color="#000080">;
  </font>bb2 <font color="#000080">:= </font><font color="#800000">2 </font><font color="#000080">* </font>bb<font color="#000080">;
  </font>d   <font color="#000080">:= </font>bb <font color="#000080">- </font>aa <font color="#000080">* </font>b <font color="#000080">+ </font>aa <font color="#FF0000"><b>div </b></font><font color="#800000">4</font><font color="#000080">;
  </font>dx  <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>dy  <font color="#000080">:= </font>aa2 <font color="#000080">* </font>b<font color="#000080">;
  </font>vLin<font color="#000080">(</font>xc<font color="#000080">, </font>yc <font color="#000080">- </font>y<font color="#000080">, </font>yc <font color="#000080">+ </font>y<font color="#000080">);

  </font><font color="#FF0000"><b>while </b></font><font color="#000080">(</font>dx <font color="#000080">&lt; </font>dy<font color="#000080">) </font><font color="#FF0000"><b>do
  begin
    if </b></font><font color="#000080">(</font>d <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
    begin
      </b></font>dec<font color="#000080">(</font>y<font color="#000080">);
      </font>dec<font color="#000080">(</font>dy<font color="#000080">, </font>aa2<font color="#000080">);
      </font>dec<font color="#000080">(</font>d<font color="#000080">, </font>dy<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>inc<font color="#000080">(</font>x<font color="#000080">);
    </font>inc<font color="#000080">(</font>dx<font color="#000080">, </font>bb2<font color="#000080">);
    </font>inc<font color="#000080">(</font>d<font color="#000080">, </font>bb <font color="#000080">+ </font>dx<font color="#000080">);
    </font>vLin<font color="#000080">(</font>xc <font color="#000080">- </font>x<font color="#000080">, </font>yc <font color="#000080">- </font>y<font color="#000080">, </font>yc <font color="#000080">+ </font>y<font color="#000080">);
    </font>vLin<font color="#000080">(</font>xc <font color="#000080">+ </font>x<font color="#000080">, </font>yc <font color="#000080">- </font>y<font color="#000080">, </font>yc <font color="#000080">+ </font>y<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>inc<font color="#000080">(</font>d<font color="#000080">, (</font><font color="#800000">3 </font><font color="#000080">* (</font>aa <font color="#000080">- </font>bb<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2 </font><font color="#000080">- (</font>dx <font color="#000080">+ </font>dy<font color="#000080">)) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>while </b></font><font color="#000080">(</font>y <font color="#000080">&gt;= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>do
  begin
    if </b></font><font color="#000080">(</font>d <font color="#000080">&lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
    begin
      </b></font>inc<font color="#000080">(</font>x<font color="#000080">);
      </font>inc<font color="#000080">(</font>dx<font color="#000080">, </font>bb2<font color="#000080">);
      </font>inc<font color="#000080">(</font>d<font color="#000080">, </font>bb <font color="#000080">+ </font>dx<font color="#000080">);
      </font>vLin<font color="#000080">(</font>xc <font color="#000080">- </font>x<font color="#000080">, </font>yc <font color="#000080">- </font>y<font color="#000080">, </font>yc <font color="#000080">+ </font>y<font color="#000080">);
      </font>vLin<font color="#000080">(</font>xc <font color="#000080">+ </font>x<font color="#000080">, </font>yc <font color="#000080">- </font>y<font color="#000080">, </font>yc <font color="#000080">+ </font>y<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>dec<font color="#000080">(</font>y<font color="#000080">);
    </font>dec<font color="#000080">(</font>dy<font color="#000080">, </font>aa2<font color="#000080">);
    </font>inc<font color="#000080">(</font>d<font color="#000080">, </font>aa <font color="#000080">- </font>dy<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0047.PAS">Original</a><b>]</b></p></body>
</html>
