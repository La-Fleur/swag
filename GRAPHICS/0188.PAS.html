<html>
<head><title> "3D Rotation" by AXEL PLINGE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0188.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Hello Folks!

Here is some 3D-Roation stuff.

Tell me, what you think of it, please!

---------------------------------------------------------------------
}

</i></font><font color="#FF0000"><b>Uses </b></font>Crt<font color="#000080">,</font>dos<font color="#000080">;

</font><font color="#008000"><i>(*******************************************************************
 * Displaying a 3D-Cube of point from any difference in any angle. *
 * THIS CODE IS PUBLIC DOMAIN!                                     *
 *                                                                 *
 * Writen by Axel Plinge                                           *
 *   Fido Net:  Axel Plinge @ 2:2448/327.11                        *
 *   InterNet:  axel.plinge@tca-os.ruhr.de                         *
 *******************************************************************)

</i></font><font color="#FF0000"><b>Type </b></font>Mat33               <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>longint<font color="#000080">;
     </font>Point2D             <font color="#000080">= </font><font color="#FF0000"><b>Record </b></font>X<font color="#000080">,</font>Y <font color="#000080">: </font>LongInt <font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font>Point3D             <font color="#000080">= </font><font color="#FF0000"><b>Record </b></font>X<font color="#000080">,</font>Y<font color="#000080">,</font>Z <font color="#000080">: </font>LongInt <font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>const </b></font>CharLength      <font color="#000080">= </font><font color="#800000">8</font><font color="#000080">;
      </font>CharSetNr       <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">;

</font><font color="#FF0000"><b>Type  </b></font>OneChar <font color="#000080">= </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>CharLength<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>TYPE  </b></font>ZDEF <font color="#000080">= </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">#0</font><font color="#000080">..</font><font color="#800000">#255</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>onechar<font color="#000080">;
      </font>ZPtr <font color="#000080">= ^</font>ZDEF<font color="#000080">;

</font><font color="#FF0000"><b>CONST </b></font>BIOS_Font <font color="#000080">: </font>ZPtr <font color="#000080">= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;
</font><font color="#FF0000"><b>const </b></font>RS <font color="#000080">= </font><font color="#800000">40</font><font color="#000080">;

</font><font color="#FF0000"><b>VAR </b></font>vio_seg <font color="#000080">: </font>Word<font color="#000080">;
    </font>page    <font color="#000080">: </font>Byte<font color="#000080">;
    </font>Ofstab  <font color="#000080">: </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">399</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>Word<font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Init<font color="#000080">;</font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
    </b></font><font color="#FF00FF">MOV  AX,0EH
    INT  10h

    MOV  DX,3d4h
    MOV  AL,9
    OUT  DX,AL
    INC  DX
    IN   AL,DX
    AND  AL,01110000b
    OUT  DX,AL

    MOV  vio_seg,0a000h
    MOV  page,0

    XOR  AX,AX
    MOV  DI,offset Ofstab
    PUSH DS
    POP  ES
    MOV  CX,400
 @L:
    STOSW
    ADD  AX,80
    LOOP @L
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>flip<font color="#000080">;</font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
    </b></font><font color="#FF00FF">XOR  BX,BX
    CMP  page,0
    JE   @s0
    MOV  BX, 7d0h
  @s0:
    ADD  BX,0a000h
    MOV  vio_seg,BX
    XOR  BX,BX
    CMP  page,1
    JE   @s1
    MOV  BX, 7d00h
    MOV  page,1
    jmp  @w
  @s1:
    MOV  page,0
  @w:
    MOV  DX, 3d4h
    MOV  AL, 0DH
    CLI
    OUT  DX, AL
    INC  DX
    MOV  AL, BL
    OUT  DX, AL
    DEC  DX
    MOV  AL, 0CH
    OUT  DX, AL
    INC  DX
    MOV  AL, BH
    OUT  DX, AL
    STI
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>VAR </b></font>Color<font color="#000080">:</font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>SetzPixel<font color="#000080">(</font>X<font color="#000080">,</font>y<font color="#000080">:</font>Word<font color="#000080">);</font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
    </b></font><font color="#FF00FF">MOV  BX,y
    ADD  BX,BX
    MOV  AX,[offset Ofstab+BX]
    MOV  BX,X
    MOV  CL,BL
    shr  BX,3
    ADD  BX,AX
    AND  CL,7
    XOR  CL,7
    MOV  AH,1
    shl  AH,CL
    MOV  DX,3ceh
    MOV  AL,8
    OUT  DX,AX
    MOV  AX,(02h shl 8) + 5
    OUT  DX,AX
    MOV  AX,vio_seg
    MOV  ES,AX
    MOV  AL,ES:[BX]
    MOV  AL,color
    MOV  ES:[BX],AL
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>PutLine<font color="#000080">(</font>X<font color="#000080">,</font>y<font color="#000080">:</font>Word<font color="#000080">;</font>L<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
    </b></font><font color="#FF00FF">MOV   BX,y
    ADD   BX,BX
    MOV   AX,[offset Ofstab+BX]
    MOV   BX,X
    ADD   BX,AX
    MOV   AH,L
    MOV   DX,3ceh
    MOV   AL,8
    OUT   DX,AX
    MOV   AX,(02h SHL 8) + 5
    OUT   DX,AX
    MOV   AX,vio_seg
    MOV   ES,AX
    MOV   AL,ES:[BX]
    MOV   AL,Color
    MOV   ES:[BX],AL
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>cls<font color="#000080">;</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
    </b></font><font color="#FF00FF">MOV   DX,3ceh
    mov ah,0ffh
    MOV   AL,8
    OUT   DX,AX
    MOV   AX,(02h SHL 8) + 5
    OUT   DX,AX
    MOV   AX,vio_seg
    MOV   ES,AX
    xor   bx,bx
    MOV   cx,640*400/16
    @l:
    MOV   Ax,ES:[BX]
    xor   Ax,ax
    MOV   ES:[BX],Ax
    inc bx
    inc bx
    dec cx
    jnz @l
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Retrace<font color="#000080">;</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">MOV DX, 3dah
  @WaitNotVSyncLoop:
    in   al, dx
    and  al, 8
    jnz  @WaitNotVSyncLoop
  @WaitVSyncLoop:
    in   al, dx
    and  al, 8
    jz   @WaitVSyncLoop
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Procedure </b></font>GetChars<font color="#000080">;
</font><font color="#FF0000"><b>VAR </b></font>Regs<font color="#000080">:</font>Registers<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
 </b></font>Regs<font color="#000080">.</font>AH<font color="#000080">:=</font><font color="#800000">$11</font><font color="#000080">;
 </font>Regs<font color="#000080">.</font>AL<font color="#000080">:=</font><font color="#800000">$30</font><font color="#000080">;
 </font>Regs<font color="#000080">.</font>BH<font color="#000080">:=  </font>CharSetNr<font color="#000080">;
 </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
 </font>BIOS_Font<font color="#000080">:=</font>Ptr<font color="#000080">(</font>Regs<font color="#000080">.</font>ES<font color="#000080">,</font>Regs<font color="#000080">.</font>BP<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>WriteChr<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">:</font>Integer<font color="#000080">;</font>Z<font color="#000080">:</font>Char<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>I<font color="#000080">,</font>c<font color="#000080">,</font>Maske <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
 FOR </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font>charLength<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>DO BEGIN
  </b></font>PutLine<font color="#000080">(</font>X <font color="#FF0000"><b>SHR </b></font><font color="#800000">3</font><font color="#000080">,</font>y<font color="#000080">+</font>i<font color="#000080">,</font>BIOS_Font<font color="#000080">^[</font>Z<font color="#000080">,</font>I<font color="#000080">]);
 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>WriteStr<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">:</font>Integer<font color="#000080">;</font>S<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">);
</font><font color="#FF0000"><b>VAR </b></font>I<font color="#000080">:</font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
 FOR </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>Length<font color="#000080">(</font>S<font color="#000080">) </font><font color="#FF0000"><b>DO BEGIN
  </b></font>WriteChr<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>S<font color="#000080">[</font>I<font color="#000080">]);
  </font>Inc<font color="#000080">(</font>X<font color="#000080">,</font><font color="#800000">8</font><font color="#000080">);
 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>WriteNr<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">:</font>Integer<font color="#000080">;</font>L<font color="#000080">:</font>Longint<font color="#000080">);
</font><font color="#FF0000"><b>VAR </b></font>I<font color="#000080">:</font>Byte<font color="#000080">;
    </font>S<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">8</font><font color="#000080">];
</font><font color="#FF0000"><b>BEGIN
 </b></font>Str<font color="#000080">(</font>L<font color="#000080">:</font><font color="#800000">3</font><font color="#000080">,</font>S<font color="#000080">);
 </font><font color="#FF0000"><b>FOR </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>Length<font color="#000080">(</font>S<font color="#000080">) </font><font color="#FF0000"><b>DO BEGIN
  </b></font>WriteChr<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>S<font color="#000080">[</font>I<font color="#000080">]);
  </font>Inc<font color="#000080">(</font>X<font color="#000080">,</font><font color="#800000">8</font><font color="#000080">);
 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Var </b></font>x<font color="#000080">, </font>y<font color="#000080">, </font>z                 <font color="#000080">: </font>Real<font color="#000080">;
    </font>i<font color="#000080">,</font>j<font color="#000080">,</font>k                   <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>tz                      <font color="#000080">: </font>longint<font color="#000080">;
    </font>Mat                     <font color="#000080">: </font>Mat33<font color="#000080">;
    </font>Dist_X<font color="#000080">, </font>Dist_Y<font color="#000080">, </font>Dist_Z  <font color="#000080">: </font>Integer<font color="#000080">;
    </font>Ang_X<font color="#000080">,  </font>Ang_Y<font color="#000080">,  </font>Ang_Z   <font color="#000080">: </font>word<font color="#000080">;
    </font>Ende                    <font color="#000080">: </font>Boolean<font color="#000080">;
    </font>Point                   <font color="#000080">: </font>Point3d<font color="#000080">;
    </font>px<font color="#000080">,</font>py                   <font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
 </b></font>GetChars<font color="#000080">;
 </font>Init<font color="#000080">;
 </font>Dist_X<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>Dist_Y<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>Dist_Z<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
 </font>Ang_X<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;  </font>Ang_Y<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;  </font>Ang_Z<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
 </font>Ende<font color="#000080">:=</font>False<font color="#000080">;
 </font><font color="#FF0000"><b>Repeat
  </b></font><font color="#008000"><i>{ Tastaturbehandlung }
  </i></font><font color="#FF0000"><b>If </b></font>KeyPressed <font color="#FF0000"><b>then Begin
    case </b></font>ReadKey <font color="#FF0000"><b>of
      </b></font><font color="#800000">'+' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>Dist_Z<font color="#000080">&gt;  </font><font color="#800000">1 </font><font color="#FF0000"><b>THEN </b></font>DEC<font color="#000080">(</font>Dist_Z<font color="#000080">);
      </font><font color="#800000">'-' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>Dist_Z<font color="#000080">&lt; </font><font color="#800000">70 </font><font color="#FF0000"><b>THEN </b></font>Inc<font color="#000080">(</font>Dist_Z<font color="#000080">);
      </font><font color="#800000">'4' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>Dist_X<font color="#000080">&gt;-</font><font color="#800000">99 </font><font color="#FF0000"><b>THEN </b></font>DEC<font color="#000080">(</font>Dist_X<font color="#000080">);
      </font><font color="#800000">'6' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>Dist_X<font color="#000080">&lt; </font><font color="#800000">99 </font><font color="#FF0000"><b>THEN </b></font>Inc<font color="#000080">(</font>Dist_X<font color="#000080">);
      </font><font color="#800000">'8' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>Dist_Y<font color="#000080">&gt;-</font><font color="#800000">99 </font><font color="#FF0000"><b>THEN </b></font>DEC<font color="#000080">(</font>Dist_Y<font color="#000080">);
      </font><font color="#800000">'2' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>Dist_Y<font color="#000080">&lt; </font><font color="#800000">99 </font><font color="#FF0000"><b>THEN </b></font>Inc<font color="#000080">(</font>Dist_Y<font color="#000080">);
      </font><font color="#800000">#27 </font><font color="#000080">: </font>Ende<font color="#000080">:=</font>true<font color="#000080">;
      </font><font color="#800000">#0  </font><font color="#000080">: </font><font color="#FF0000"><b>CASE </b></font>readkey <font color="#FF0000"><b>of
             </b></font><font color="#800000">#77 </font><font color="#000080">: </font>Ang_Y<font color="#000080">:=</font>Ang_Y <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
             </font><font color="#800000">#75 </font><font color="#000080">: </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>Ang_Y <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
                    </b></font>Ang_Y<font color="#000080">:=</font>Ang_Y <font color="#000080">- </font><font color="#800000">1
                   </font><font color="#FF0000"><b>else if </b></font>Ang_Y<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>Ang_Y<font color="#000080">:=</font><font color="#800000">359</font><font color="#000080">;

             </font><font color="#800000">#80 </font><font color="#000080">: </font>Ang_X<font color="#000080">:=</font>Ang_X <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
             </font><font color="#800000">#72 </font><font color="#000080">: </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>Ang_X <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
                      </b></font>Ang_X<font color="#000080">:=</font>Ang_X <font color="#000080">- </font><font color="#800000">1
                   </font><font color="#FF0000"><b>else if </b></font>Ang_X<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>Ang_X<font color="#000080">:=</font><font color="#800000">359</font><font color="#000080">;

             </font><font color="#800000">#81 </font><font color="#000080">: </font>Ang_Z<font color="#000080">:=</font>Ang_Z <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
             </font><font color="#800000">#73 </font><font color="#000080">: </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>Ang_Z <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
                      </b></font>Ang_Z<font color="#000080">:=</font>Ang_Z <font color="#000080">- </font><font color="#800000">1
                   </font><font color="#FF0000"><b>else if </b></font>Ang_Z<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>Ang_Z<font color="#000080">:=</font><font color="#800000">359</font><font color="#000080">;
             </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>end
   End</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>IF </b></font>ang_x<font color="#000080">&gt;=</font><font color="#800000">360 </font><font color="#FF0000"><b>THEN </b></font>ang_x<font color="#000080">:=</font>ang_x<font color="#000080">-</font><font color="#800000">360</font><font color="#000080">;
   </font><font color="#FF0000"><b>IF </b></font>ang_y<font color="#000080">&gt;=</font><font color="#800000">360 </font><font color="#FF0000"><b>THEN </b></font>ang_y<font color="#000080">:=</font>ang_y<font color="#000080">-</font><font color="#800000">360</font><font color="#000080">;
   </font><font color="#FF0000"><b>IF </b></font>ang_z<font color="#000080">&gt;=</font><font color="#800000">360 </font><font color="#FF0000"><b>THEN </b></font>ang_z<font color="#000080">:=</font>ang_z<font color="#000080">-</font><font color="#800000">360</font><font color="#000080">;
   </font>x<font color="#000080">:=</font>ang_x <font color="#000080">* </font>Pi <font color="#000080">/ </font><font color="#800000">180</font><font color="#000080">;
   </font>y<font color="#000080">:=</font>ang_y <font color="#000080">* </font>Pi <font color="#000080">/ </font><font color="#800000">180</font><font color="#000080">;
   </font>z<font color="#000080">:=</font>ang_z <font color="#000080">* </font>Pi <font color="#000080">/ </font><font color="#800000">180</font><font color="#000080">;
   </font><font color="#008000"><i>{
    &Uacute;                                                                      &iquest;
    &sup3;     cosZ*cosY                      -cosY*sinZ                 sinY   &sup3;
    &sup3; cosX*sinZ-sinY*cosZ*sinX      cosZ*cosX+sinX*sinZ*sinY     cosY*sinX &sup3;
    &sup3;-sinX*sinZ-sinY*cosZ*cosX     -cosZ*sinX+sinZ*sinY*cosX     cosX*cosY &sup3;
    &Agrave;                                                                      &Ugrave;
   }
   </i></font>Mat<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">][</font><font color="#800000">1</font><font color="#000080">]:=</font>round<font color="#000080">(</font>cos<font color="#000080">(</font>z<font color="#000080">)*</font>cos<font color="#000080">(</font>y<font color="#000080">)*(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">12</font><font color="#000080">));
   </font>Mat<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">][</font><font color="#800000">2</font><font color="#000080">]:=</font>round<font color="#000080">(-</font>sin<font color="#000080">(</font>z<font color="#000080">)*</font>cos<font color="#000080">(</font>y<font color="#000080">)*(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">12</font><font color="#000080">));
   </font>Mat<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">][</font><font color="#800000">3</font><font color="#000080">]:=</font>round<font color="#000080">(</font>sin<font color="#000080">(</font>y<font color="#000080">)*(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">12</font><font color="#000080">));
   </font>Mat<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">][</font><font color="#800000">1</font><font color="#000080">]:=</font>round<font color="#000080">((</font>cos<font color="#000080">(</font>x<font color="#000080">)*</font>sin<font color="#000080">(</font>z<font color="#000080">)-</font>sin<font color="#000080">(</font>y<font color="#000080">)*</font>cos<font color="#000080">(</font>z<font color="#000080">)*</font>sin<font color="#000080">(</font>x<font color="#000080">))*(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">12</font><font color="#000080">));
   </font>Mat<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">][</font><font color="#800000">2</font><font color="#000080">]:=</font>round<font color="#000080">((</font>cos<font color="#000080">(</font>z<font color="#000080">)*</font>cos<font color="#000080">(</font>x<font color="#000080">)+</font>sin<font color="#000080">(</font>x<font color="#000080">)*</font>sin<font color="#000080">(</font>z<font color="#000080">)*</font>sin<font color="#000080">(</font>y<font color="#000080">))*(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">12</font><font color="#000080">));
   </font>Mat<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">][</font><font color="#800000">3</font><font color="#000080">]:=</font>round<font color="#000080">((</font>cos<font color="#000080">(</font>y<font color="#000080">)*</font>sin<font color="#000080">(</font>x<font color="#000080">))*(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">12</font><font color="#000080">));
   </font>Mat<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">][</font><font color="#800000">1</font><font color="#000080">]:=</font>round<font color="#000080">((-</font>sin<font color="#000080">(</font>x<font color="#000080">)*</font>sin<font color="#000080">(</font>z<font color="#000080">)-</font>sin<font color="#000080">(</font>y<font color="#000080">)*</font>cos<font color="#000080">(</font>z<font color="#000080">)*</font>cos<font color="#000080">(</font>x<font color="#000080">))*(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">12</font><font color="#000080">));
   </font>Mat<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">][</font><font color="#800000">2</font><font color="#000080">]:=</font>round<font color="#000080">((-</font>cos<font color="#000080">(</font>z<font color="#000080">)*</font>sin<font color="#000080">(</font>x<font color="#000080">)+</font>sin<font color="#000080">(</font>z<font color="#000080">)*</font>sin<font color="#000080">(</font>y<font color="#000080">)*</font>cos<font color="#000080">(</font>x<font color="#000080">))*(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">12</font><font color="#000080">));
   </font>Mat<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">][</font><font color="#800000">3</font><font color="#000080">]:=</font>round<font color="#000080">(</font>cos<font color="#000080">(</font>x<font color="#000080">)*</font>cos<font color="#000080">(</font>y<font color="#000080">)*(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">12</font><font color="#000080">));
   </font><font color="#008000"><i>{ Z-Divisor }
   </i></font>tz<font color="#000080">:=</font>abs<font color="#000080">(</font>Dist_Z<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">;
   </font>flip<font color="#000080">;
   </font>retrace<font color="#000080">;
   </font>cls<font color="#000080">;
   </font><font color="#008000"><i>{ show Data }
   </i></font>Color<font color="#000080">:=</font>white<font color="#000080">;
   </font>WriteStr<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">'X'</font><font color="#000080">);
   </font>WriteNr<font color="#000080">( </font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">, </font>Dist_X<font color="#000080">);
   </font>WriteNr<font color="#000080">( </font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,  </font>Ang_X<font color="#000080">);
   </font>WriteStr<font color="#000080">(</font><font color="#800000">74</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">'&oslash;'</font><font color="#000080">);
   </font>WriteStr<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">'Y'</font><font color="#000080">);
   </font>WriteNr<font color="#000080">( </font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">, </font>Dist_Y<font color="#000080">);
   </font>WriteNr<font color="#000080">( </font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,  </font>Ang_Y<font color="#000080">);
   </font>WriteStr<font color="#000080">(</font><font color="#800000">74</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">'&oslash;'</font><font color="#000080">);
   </font>WriteStr<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">'Z'</font><font color="#000080">);
   </font>WriteNr<font color="#000080">( </font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">30</font><font color="#000080">, </font>Dist_Z<font color="#000080">);
   </font>WriteNr<font color="#000080">( </font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">30</font><font color="#000080">,  </font>Ang_Z<font color="#000080">);
   </font>WriteStr<font color="#000080">(</font><font color="#800000">74</font><font color="#000080">,</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">'&oslash;'</font><font color="#000080">);
    </font><font color="#008000"><i>{ Raster }
   </i></font>color<font color="#000080">:=</font>white<font color="#000080">;
   </font><font color="#FF0000"><b>FOR </b></font>k<font color="#000080">:=-</font><font color="#800000">5 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">5  </font><font color="#FF0000"><b>DO
   FOR </b></font>j<font color="#000080">:=-</font><font color="#800000">5 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">5 </font><font color="#FF0000"><b>DO
   FOR </b></font>i<font color="#000080">:=-</font><font color="#800000">5 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">5 </font><font color="#FF0000"><b>DO BEGIN
     </b></font>Point<font color="#000080">.</font>X<font color="#000080">:=</font>RS<font color="#000080">*</font>I<font color="#000080">-</font>Dist_X<font color="#000080">;
     </font>Point<font color="#000080">.</font>Y<font color="#000080">:=</font>RS<font color="#000080">*</font>J<font color="#000080">-</font>Dist_Y<font color="#000080">;
     </font>Point<font color="#000080">.</font>Z<font color="#000080">:=</font>RS<font color="#000080">*</font>K<font color="#000080">-</font>Dist_z<font color="#000080">;
     </font><font color="#008000"><i>{ Rotation through Matrix Multiplication }
     </i></font>Point<font color="#000080">.</font>X<font color="#000080">:=(</font>Point<font color="#000080">.</font>X<font color="#000080">*</font>MAT<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">][</font><font color="#800000">1</font><font color="#000080">] + </font>Point<font color="#000080">.</font>Y<font color="#000080">*</font>MAT<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">][</font><font color="#800000">2</font><font color="#000080">] + </font>Point<font color="#000080">.</font>Z<font color="#000080">*</font>MAT<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">][</font><font color="#800000">3</font><font color="#000080">]) </font><font color="#FF0000"><b>div
</b></font><font color="#000080">(</font><font color="#800000">1 </font><font color="#FF0000"><b>shl </b></font><font color="#800000">12</font><font color="#000080">);     </font>Point<font color="#000080">.</font>Y<font color="#000080">:=(</font>Point<font color="#000080">.</font>X<font color="#000080">*</font>MAT<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">][</font><font color="#800000">1</font><font color="#000080">] + </font>Point<font color="#000080">.</font>Y<font color="#000080">*</font>MAT<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">][</font><font color="#800000">2</font><font color="#000080">] +
</font>Point<font color="#000080">.</font>Z<font color="#000080">*</font>MAT<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">][</font><font color="#800000">3</font><font color="#000080">]) </font><font color="#FF0000"><b>div </b></font><font color="#000080">(</font><font color="#800000">1 </font><font color="#FF0000"><b>shl </b></font><font color="#800000">12</font><font color="#000080">);     </font>Point<font color="#000080">.</font>Z<font color="#000080">:=(</font>Point<font color="#000080">.</font>X<font color="#000080">*</font>MAT<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">][</font><font color="#800000">1</font><font color="#000080">] +
</font>Point<font color="#000080">.</font>Y<font color="#000080">*</font>MAT<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">][</font><font color="#800000">2</font><font color="#000080">] + </font>Point<font color="#000080">.</font>Z<font color="#000080">*</font>MAT<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">][</font><font color="#800000">3</font><font color="#000080">]) </font><font color="#FF0000"><b>div </b></font><font color="#000080">(</font><font color="#800000">1 </font><font color="#FF0000"><b>shl </b></font><font color="#800000">12</font><font color="#000080">);     </font><font color="#008000"><i>{ 3D -&gt; 2D }
     </i></font>Point<font color="#000080">.</font>x<font color="#000080">:= </font>point<font color="#000080">.</font>x <font color="#FF0000"><b>div </b></font>tz<font color="#000080">;
     </font>Point<font color="#000080">.</font>y<font color="#000080">:= </font>point<font color="#000080">.</font>y <font color="#FF0000"><b>div </b></font>tz<font color="#000080">;
     </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>abs<font color="#000080">(</font>Point<font color="#000080">.</font>x<font color="#000080">)&lt;</font><font color="#800000">320</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>abs<font color="#000080">(</font>point<font color="#000080">.</font>y<font color="#000080">)&lt;</font><font color="#800000">200</font><font color="#000080">) </font><font color="#FF0000"><b>THEN BEGIN
     </b></font><font color="#008000"><i>{ Did I mention this was not optimized ??  ;-) }
      </i></font>Point<font color="#000080">.</font>X<font color="#000080">:=</font>Point<font color="#000080">.</font>X<font color="#000080">+</font><font color="#800000">320</font><font color="#000080">;
      </font>Point<font color="#000080">.</font>Y<font color="#000080">:=</font>Point<font color="#000080">.</font>Y<font color="#000080">+</font><font color="#800000">200</font><font color="#000080">;
      </font>SetzPixel<font color="#000080">(</font>Point<font color="#000080">.</font>x<font color="#000080">,</font>point<font color="#000080">.</font>y<font color="#000080">);
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>Until </b></font>Ende<font color="#000080">;
 </font>textmode<font color="#000080">(</font>lastmode<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.


--------------------------------------------------------------------------

</font>Greetings


Axel

<font color="#000080">--- </font>CrossPoint v3<font color="#000080">.</font><font color="#800000">02 </font>R
 <font color="#000080">* </font>Origin<font color="#000080">: </font><font color="#FF0000"><b>Pascal is </b></font>nice<font color="#000080">, </font>but <font color="#FF0000"><b>ASM </b></font><font color="#FF00FF">is fast! (2:2448/327.11)
SEEN-BY: 270/101 280/1 396/1 3615/50 51
PATH: 2448/327 3000 4000 10 69 2426/2011 2001 2449/600 2433/1200
PATH: 242/42 2452/110 105/42 103 270/101 396/1 3615/50
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0188.PAS">Original</a><b>]</b></p></body>
</html>
