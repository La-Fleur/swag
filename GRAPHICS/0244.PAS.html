<html>
<head><title> "Fast Graphics Unit" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0244.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{$F+,O+}
</i></font><font color="#FF0000"><b>UNIT </b></font>GAPP2<font color="#000080">;
</font><font color="#008000"><i>{-----------}</i></font><font color="#FF0000"><b>INTERFACE</b></font><font color="#008000"><i>{------------}

</i></font><font color="#FF0000"><b>USES </b></font>Graph<font color="#000080">,</font>crt<font color="#000080">,</font>dos<font color="#000080">;

</font><font color="#FF0000"><b>VAR
   </b></font>Size<font color="#000080">,</font>Result<font color="#000080">: </font>word<font color="#000080">;
   </font>p<font color="#000080">: </font>Pointer<font color="#000080">;
   </font>f<font color="#000080">: </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
   </font>g <font color="#000080">: </font><font color="#FF0000"><b>file of </b></font>word<font color="#000080">;
   </font>Regs <font color="#000080">: </font>Registers<font color="#000080">;
   </font>Count<font color="#000080">, </font>Count2 <font color="#000080">: </font>Byte<font color="#000080">;
   </font>Pal1<font color="#000080">, </font>Pal2 <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>CONST
  </b></font>Speed1 <font color="#000080">= </font><font color="#800000">75</font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>FadeOut<font color="#000080">;
</font><font color="#008000"><i>{This procedure fades out a screen}
</i></font><font color="#FF0000"><b>Procedure </b></font>Fadein<font color="#000080">;
</font><font color="#008000"><i>{This procedure fades in a screen}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>StatusBar<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>snum<font color="#000080">,</font>enum <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#008000"><i>{This procedure animates the status bar}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>Status_Bar<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#008000"><i>{Establishes the status bar}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>Animate_Bar<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>Snum<font color="#000080">,</font>Enum <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#008000"><i>{a second animation}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>ReadLnXY<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>t<font color="#000080">: </font>Integer<font color="#000080">;</font><font color="#FF0000"><b>VAR </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;</font>col1<font color="#000080">,</font>col2<font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#008000"><i>{A graphics readln}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>shadow<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">;</font>f<font color="#000080">,</font>s <font color="#000080">: </font>word<font color="#000080">;</font>st <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#008000"><i>{Shadows the text}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>frame<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1 <font color="#000080">: </font>integer<font color="#000080">;</font>c1<font color="#000080">,</font>c2 <font color="#000080">: </font>word<font color="#000080">);
</font><font color="#008000"><i>{frames a given area}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>dobutton<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">; </font>s <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#008000"><i>{draws the button}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>banimate<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">; </font>s <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#008000"><i>{animates the button}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>CButton<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">; </font>s <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">) : </font>Boolean<font color="#000080">;
</font><font color="#008000"><i>{checks the button}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>SaveXY<font color="#000080">(</font>X1<font color="#000080">,</font>Y1<font color="#000080">,</font>X2<font color="#000080">,</font>Y2<font color="#000080">: </font>Integer<font color="#000080">;</font>s <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#FF0000"><b>PROCEDURE </b></font>showXY<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">;</font>s <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#FF0000"><b>PROCEDURE </b></font>erase_file<font color="#000080">(</font>s <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#008000"><i>{Those procedures save, restores a saved screen, or deletes a file}
{Mouse Functions}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>Mouseinbox<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1 <font color="#000080">: </font>integer<font color="#000080">) : </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>FUNCTION </b></font>InitMouse <font color="#000080">: </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>FUNCTION </b></font>GetXPosition <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>FUNCTION </b></font>GetYPosition <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>FUNCTION </b></font>GetButtonPressed <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>PROCEDURE </b></font>ShowMouseCursor<font color="#000080">;
</font><font color="#FF0000"><b>PROCEDURE </b></font>HideMouseCursor<font color="#000080">;
</font><font color="#FF0000"><b>PROCEDURE </b></font>SetMousePosition<font color="#000080">(</font>X<font color="#000080">, </font>Y <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#008000"><i>{The following procedures draw a windows like line}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>Rectangle2<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1 <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>PROCEDURE </b></font>Line2<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1 <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>PROCEDURE </b></font>boxit<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">; </font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;</font>St <font color="#000080">: </font>Boolean<font color="#000080">);

</font><font color="#008000"><i>{-------}</i></font><font color="#FF0000"><b>IMPLEMENTATION</b></font><font color="#008000"><i>{----------}

</i></font><font color="#FF0000"><b>PROCEDURE </b></font>status_Bar<font color="#000080">;
</font><font color="#FF0000"><b>VAR
   </b></font>x1<font color="#000080">,</font>y1 <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>x1 <font color="#000080">:= </font>x <font color="#000080">+ </font><font color="#800000">306</font><font color="#000080">;
     </font>y1 <font color="#000080">:= </font>y <font color="#000080">+ </font><font color="#800000">30</font><font color="#000080">;
     </font>Setfillstyle<font color="#000080">(</font>solidfill<font color="#000080">,</font>white<font color="#000080">);
     </font>Bar<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>Darkgray<font color="#000080">);
     </font>Line<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x<font color="#000080">,</font>y1<font color="#000080">);
     </font>line<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>White<font color="#000080">);
     </font>line<font color="#000080">(</font>x<font color="#000080">,</font>y1<font color="#000080">,</font>x1<font color="#000080">,</font>y1<font color="#000080">);
     </font>line<font color="#000080">(</font>x1<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>Black<font color="#000080">);
     </font>Line<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
     </font>line<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>Lightgray<font color="#000080">);
     </font>line<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
     </font>line<font color="#000080">(</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>animate_Bar<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>Setfillstyle<font color="#000080">(</font>solidfill<font color="#000080">,</font>blue<font color="#000080">);
     </font>bar<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">3</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">3</font><font color="#000080">,</font>round<font color="#000080">(</font>snum <font color="#000080">/ </font>enum <font color="#000080">* </font><font color="#800000">300</font><font color="#000080">)+</font>x<font color="#000080">+</font><font color="#800000">3</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">27</font><font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>ReadLnXY<font color="#000080">;
</font><font color="#FF0000"><b>VAR
  </b></font>Ch       <font color="#000080">: </font>Char<font color="#000080">;
  </font>Done     <font color="#000080">: </font>boolean<font color="#000080">;
  </font>OldX     <font color="#000080">: </font>Integer<font color="#000080">;
  </font>limit    <font color="#000080">: </font>integer<font color="#000080">;
  </font>refresh<font color="#000080">,</font>dele <font color="#000080">: </font>Word<font color="#000080">;

          </font><font color="#FF0000"><b>procedure </b></font>prompt<font color="#000080">;
          </font><font color="#FF0000"><b>begin
               </b></font>Moveto<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">);
               </font>Outtext<font color="#000080">(</font><font color="#800000">'_'</font><font color="#000080">);
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>procedure </b></font>del<font color="#000080">;
          </font><font color="#FF0000"><b>begin
               </b></font>Setcolor<font color="#000080">(</font>dele<font color="#000080">);
               </font>Outtext<font color="#000080">(</font><font color="#800000">'_'</font><font color="#000080">);
               </font>Oldx <font color="#000080">:= </font>getx <font color="#000080">- </font>textwidth<font color="#000080">(</font>S<font color="#000080">[</font>Length<font color="#000080">(</font>S<font color="#000080">)]);
               </font>Moveto<font color="#000080">(</font>oldx<font color="#000080">,</font>y<font color="#000080">);
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>procedure </b></font>show<font color="#000080">;
          </font><font color="#FF0000"><b>begin
               </b></font>Setcolor<font color="#000080">(</font>refresh<font color="#000080">);
               </font>Outtext<font color="#000080">(</font><font color="#800000">'_'</font><font color="#000080">);
               </font>Oldx <font color="#000080">:= </font>getx <font color="#000080">- </font>textwidth<font color="#000080">(</font>S<font color="#000080">[</font>Length<font color="#000080">(</font>S<font color="#000080">)]);
               </font>Moveto<font color="#000080">(</font>oldx<font color="#000080">,</font>y<font color="#000080">);
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>Procedure </b></font>Blink<font color="#000080">;
          </font><font color="#FF0000"><b>Begin
               </b></font>Show<font color="#000080">;
               </font>delay<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">);
               </font>del<font color="#000080">;
               </font>delay<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">)
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>Settextstyle<font color="#000080">(</font>font8x8<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
  </font>S <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
  </font>limit <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>MoveTo<font color="#000080">(</font>X<font color="#000080">, </font>Y<font color="#000080">);
  </font>Dele <font color="#000080">:= </font>Col1<font color="#000080">;
  </font>Refresh <font color="#000080">:= </font>Col2<font color="#000080">;
  </font>prompt<font color="#000080">;
  </font>MoveTo<font color="#000080">(</font>X<font color="#000080">, </font>Y<font color="#000080">);
  </font>Done <font color="#000080">:= </font>False<font color="#000080">;
  </font><font color="#FF0000"><b>WHILE NOT </b></font>Done <font color="#FF0000"><b>DO
  BEGIN
     While not </b></font>keypressed <font color="#FF0000"><b>do </b></font>Blink<font color="#000080">;
     </font>Ch <font color="#000080">:= </font>Readkey<font color="#000080">;
    </font><font color="#FF0000"><b>CASE </b></font>Ch <font color="#FF0000"><b>of
      </b></font><font color="#800000">#0  </font><font color="#000080">: </font>Ch <font color="#000080">:= </font>Readkey<font color="#000080">;
      </font><font color="#800000">#13 </font><font color="#000080">: </font>Done <font color="#000080">:= </font>true<font color="#000080">;
      </font><font color="#800000">#27 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
                 </b></font>S <font color="#000080">:= </font><font color="#800000">'ESCAPE KEY'</font><font color="#000080">;
                 </font>Done <font color="#000080">:= </font>True<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
      </font><font color="#800000">'A'</font><font color="#000080">..</font><font color="#800000">'Z'</font><font color="#000080">,</font><font color="#800000">'a'</font><font color="#000080">..</font><font color="#800000">'z'</font><font color="#000080">,</font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9'</font><font color="#000080">,</font><font color="#800000">'.'</font><font color="#000080">,</font><font color="#800000">'-'</font><font color="#000080">:
        </font><font color="#FF0000"><b>BEGIN
          if </b></font>limit <font color="#000080">&lt;&gt; </font><font color="#800000">10 </font><font color="#FF0000"><b>then
          begin
               </b></font>del<font color="#000080">;
               </font>setcolor<font color="#000080">(</font>Col2<font color="#000080">);
               </font>Outtext<font color="#000080">(</font>ch<font color="#000080">);
               </font>show<font color="#000080">;
               </font>S <font color="#000080">:= </font>Concat<font color="#000080">(</font>S<font color="#000080">, </font>Ch<font color="#000080">);
               </font>inc<font color="#000080">(</font>limit<font color="#000080">);
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

      </font><font color="#800000">#8  </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>Length<font color="#000080">(</font>S<font color="#000080">) &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
        BEGIN
          </b></font>del<font color="#000080">;
          </font>dec<font color="#000080">(</font>limit<font color="#000080">);
          </font>OldX <font color="#000080">:= </font>GetX <font color="#000080">- </font>TextWidth<font color="#000080">(</font>S<font color="#000080">[</font>Length<font color="#000080">(</font>S<font color="#000080">)]);
          </font>MoveTo<font color="#000080">(</font>OldX<font color="#000080">, </font>GetY<font color="#000080">);
          </font>setcolor<font color="#000080">(</font>dele<font color="#000080">);
          </font>OutText<font color="#000080">(</font><font color="#800000">'&Ucirc;'</font><font color="#000080">);
          </font>SetColor<font color="#000080">(</font>refresh<font color="#000080">);
          </font>MoveTo<font color="#000080">(</font>OldX<font color="#000080">, </font>GetY<font color="#000080">);
          </font>Delete<font color="#000080">(</font>S<font color="#000080">, </font>Length<font color="#000080">(</font>S<font color="#000080">), </font><font color="#800000">1</font><font color="#000080">);
          </font>show<font color="#000080">;
        </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font>del<font color="#000080">;
  </font>setcolor<font color="#000080">(</font>refresh<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Shadow<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>SetTextStyle<font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>S<font color="#000080">);
     </font>SetColor<font color="#000080">(</font>Black<font color="#000080">);
     </font>OutTextXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>st<font color="#000080">);
     </font>Outtextxy<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>st<font color="#000080">);
     </font>Outtextxy<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>st<font color="#000080">);
     </font>SetColor<font color="#000080">(</font>White<font color="#000080">);
     </font>OutTextXY<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>st<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Frame<font color="#000080">;
</font><font color="#FF0000"><b>VAR
   </b></font>I <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     FOR </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">1 </font><font color="#FF0000"><b>DO
     BEGIN
          </b></font>setcolor<font color="#000080">(</font>c1<font color="#000080">);
          </font>line<font color="#000080">(</font>x<font color="#000080">+</font>i<font color="#000080">,</font>y<font color="#000080">+</font>i<font color="#000080">,</font>x<font color="#000080">+</font>i<font color="#000080">,</font>y1<font color="#000080">-</font>i<font color="#000080">);
          </font>line<font color="#000080">(</font>x<font color="#000080">+</font>i<font color="#000080">,</font>y<font color="#000080">+</font>i<font color="#000080">,</font>x1<font color="#000080">-</font>i<font color="#000080">,</font>y<font color="#000080">+</font>i<font color="#000080">);
          </font>setcolor<font color="#000080">(</font>C2<font color="#000080">);
          </font>line<font color="#000080">(</font>x1<font color="#000080">-</font>i<font color="#000080">,</font>y<font color="#000080">+</font>i<font color="#000080">,</font>x1<font color="#000080">-</font>i<font color="#000080">,</font>y1<font color="#000080">-</font>i<font color="#000080">);
          </font>line<font color="#000080">(</font>x1<font color="#000080">-</font>i<font color="#000080">,</font>y1<font color="#000080">-</font>i<font color="#000080">,</font>x<font color="#000080">+</font>i<font color="#000080">,</font>y1<font color="#000080">-</font>i<font color="#000080">);
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font>Setcolor<font color="#000080">(</font>Black<font color="#000080">);
     </font>Rectangle<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>dobutton<font color="#000080">;
</font><font color="#FF0000"><b>begin
     </b></font>setfillstyle<font color="#000080">(</font>solidfill<font color="#000080">,</font>blue<font color="#000080">);
     </font>Settextstyle<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
     </font>bar<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textwidth<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">3</font><font color="#000080">);
     </font>frame<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textwidth<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">3</font><font color="#000080">,</font>white<font color="#000080">,</font>blue<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>Black<font color="#000080">);
     </font>Outtextxy<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">,</font>y<font color="#000080">,</font>s<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>white<font color="#000080">);
     </font>Outtextxy<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">4</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>s<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>black<font color="#000080">);
     </font>rectangle<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textwidth<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">3</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>banimate<font color="#000080">;
</font><font color="#FF0000"><b>begin
     </b></font>hidemousecursor<font color="#000080">;
     </font>setfillstyle<font color="#000080">(</font>solidfill<font color="#000080">,</font>blue<font color="#000080">);
     </font>bar<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textwidth<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">3</font><font color="#000080">);
     </font>Settextstyle<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
     </font>frame<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textwidth<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">3</font><font color="#000080">,</font>darkgray<font color="#000080">,</font>blue<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>white<font color="#000080">);
     </font>Outtextxy<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">4</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>s<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>black<font color="#000080">);
     </font>rectangle<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textwidth<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">3</font><font color="#000080">);
     </font>showmousecursor<font color="#000080">;
     </font><font color="#FF0000"><b>repeat
     until </b></font><font color="#000080">(</font>getbuttonpressed <font color="#000080">&lt;&gt; </font><font color="#800000">1</font><font color="#000080">);
     </font>hidemousecursor<font color="#000080">;
     </font>dobutton<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>s<font color="#000080">);
     </font>showmousecursor<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>CButton<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>Settextstyle<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
     </font>CButton <font color="#000080">:= </font>MouseinBox<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textwidth<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">10</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">3</font><font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>saveXY<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>Assign<font color="#000080">(</font>F<font color="#000080">,</font>s<font color="#000080">+</font><font color="#800000">'.kis'</font><font color="#000080">);
     </font><font color="#008000"><i>{$I-}
     </i></font>rewrite<font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
     </font>Assign<font color="#000080">(</font>g<font color="#000080">,</font>s<font color="#000080">+</font><font color="#800000">'1.kis'</font><font color="#000080">);
     </font>rewrite<font color="#000080">(</font>g<font color="#000080">);
     </font>size <font color="#000080">:= </font>imagesize<font color="#000080">(</font>x1<font color="#000080">,</font>y1<font color="#000080">,</font>x2<font color="#000080">,</font>y2<font color="#000080">);
     </font>Write<font color="#000080">(</font>G<font color="#000080">,</font>size<font color="#000080">);
     </font>close<font color="#000080">(</font>g<font color="#000080">);
     </font>getmem<font color="#000080">(</font>P<font color="#000080">,</font>size<font color="#000080">);
     </font>getimage<font color="#000080">(</font>x1<font color="#000080">,</font>y1<font color="#000080">,</font>x2<font color="#000080">,</font>y2<font color="#000080">,</font>p<font color="#000080">^);
     </font>Blockwrite<font color="#000080">(</font>F<font color="#000080">,</font>P<font color="#000080">^,</font>Size<font color="#000080">,</font>result<font color="#000080">);
     </font>close<font color="#000080">(</font>f<font color="#000080">);
     </font>freemem<font color="#000080">(</font>P<font color="#000080">,</font>size<font color="#000080">);
     </font>size <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>ShowXY<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>Assign<font color="#000080">(</font>F<font color="#000080">,</font>s<font color="#000080">+</font><font color="#800000">'.kis'</font><font color="#000080">);
     </font><font color="#008000"><i>{$I-}
     </i></font>reset<font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
     </font>Assign<font color="#000080">(</font>g<font color="#000080">,</font>s<font color="#000080">+</font><font color="#800000">'1.kis'</font><font color="#000080">);
     </font>reset<font color="#000080">(</font>g<font color="#000080">);
     </font>read<font color="#000080">(</font>g<font color="#000080">,</font>size<font color="#000080">);
     </font>close<font color="#000080">(</font>g<font color="#000080">);
     </font>getmem<font color="#000080">(</font>P<font color="#000080">,</font>size<font color="#000080">);
     </font>blockread<font color="#000080">(</font>F<font color="#000080">,</font>P<font color="#000080">^,</font>size<font color="#000080">,</font>result<font color="#000080">);
     </font>putimage<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>P<font color="#000080">^,</font>normalput<font color="#000080">);
     </font>Freemem<font color="#000080">(</font>P<font color="#000080">,</font>size<font color="#000080">);
     </font>close<font color="#000080">(</font>f<font color="#000080">);
     </font>size <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>erase_file<font color="#000080">;
</font><font color="#FF0000"><b>VAR
   </b></font>q <font color="#000080">: </font><font color="#FF0000"><b>file</b></font><font color="#000080">;
   </font>r <font color="#000080">: </font><font color="#FF0000"><b>file of </b></font>word<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>assign<font color="#000080">(</font>q<font color="#000080">,</font>s<font color="#000080">+</font><font color="#800000">'.kis'</font><font color="#000080">);
     </font>erase<font color="#000080">(</font>q<font color="#000080">);
     </font>assign<font color="#000080">(</font>r<font color="#000080">,</font>s <font color="#000080">+ </font><font color="#800000">'1.kis'</font><font color="#000080">);
     </font>erase<font color="#000080">(</font>r<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>InitMouse<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Regs<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>Regs<font color="#000080">.</font>BX <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">, </font>Regs<font color="#000080">);
  </font>InitMouse <font color="#000080">:= (</font>Regs<font color="#000080">.</font>AX <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>ShowMouseCursor<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Regs<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">, </font>Regs<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>HideMouseCursor<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Regs<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">, </font>Regs<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>GetXPosition<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Regs<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">, </font>Regs<font color="#000080">);
  </font>GetXPosition <font color="#000080">:= </font>Regs<font color="#000080">.</font>CX<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>GetYPosition<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Regs<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">, </font>Regs<font color="#000080">);
  </font>GetYPosition <font color="#000080">:= </font>Regs<font color="#000080">.</font>DX<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>GetButtonPressed<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Regs<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">, </font>Regs<font color="#000080">);
  </font>GetButtonPressed <font color="#000080">:= </font>Regs<font color="#000080">.</font>BX
<font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>SetMousePosition<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Regs<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">4</font><font color="#000080">;
  </font>Regs<font color="#000080">.</font>CX <font color="#000080">:= </font>X<font color="#000080">;
  </font>Regs<font color="#000080">.</font>DX <font color="#000080">:= </font>Y<font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">, </font>Regs<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>Mouseinbox<font color="#000080">;
</font><font color="#FF0000"><b>begin
     if </b></font><font color="#000080">(</font>getxposition <font color="#000080">&lt; </font>x1<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>getxposition <font color="#000080">&gt; </font>x<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>getyposition <font color="#000080">&lt; </font>y1<font color="#000080">)
     </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>getyposition <font color="#000080">&gt; </font>y <font color="#000080">) </font><font color="#FF0000"><b>then </b></font>mouseinbox <font color="#000080">:= </font>true
                             <font color="#FF0000"><b>else </b></font>mouseinbox <font color="#000080">:= </font>false<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Vret<font color="#000080">;
</font><font color="#FF0000"><b>VAR </b></font>b <font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>label </b></font>l1<font color="#000080">,</font>l2<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
</b></font>l1<font color="#000080">:
     </font><font color="#FF0000"><b>IF </b></font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8 </font><font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN goto </b></font>l1<font color="#000080">;
</font>l2 <font color="#000080">:
     </font><font color="#FF0000"><b>If </b></font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8 </font><font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN goto </b></font>l2<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Getpalette<font color="#000080">;
</font><font color="#FF0000"><b>begin
  For </b></font>Count <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO
  begin
    </b></font>PORT <font color="#000080">[</font><font color="#800000">$03C7</font><font color="#000080">] := </font>Count<font color="#000080">;            </font><font color="#008000"><i>{Gets colour number}
    </i></font>Pal1 <font color="#000080">[</font>Count<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">] := </font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">];  </font><font color="#008000"><i>{Gets red Setting}
    </i></font>Pal1 <font color="#000080">[</font>Count<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">] := </font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">];  </font><font color="#008000"><i>{Gets Green Setting}
    </i></font>Pal1 <font color="#000080">[</font>Count<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">] := </font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">];  </font><font color="#008000"><i>{Gets Blue Setting}
   </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Pal2 <font color="#000080">:= </font>Pal1<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetPalette<font color="#000080">;
</font><font color="#FF0000"><b>begin
  For </b></font>Count <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO
  begin
    </b></font>PORT <font color="#000080">[</font><font color="#800000">$03C8</font><font color="#000080">] := </font>Count<font color="#000080">;           </font><font color="#008000"><i>{Sets Colour}
    </i></font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">] := </font>Pal1 <font color="#000080">[</font>Count<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">]; </font><font color="#008000"><i>{Sets red}
    </i></font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">] := </font>Pal1 <font color="#000080">[</font>Count<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">]; </font><font color="#008000"><i>{Sets Green}
    </i></font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">] := </font>Pal1 <font color="#000080">[</font>Count<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">]; </font><font color="#008000"><i>{Sets Blue}
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>FadeOut<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Getpalette<font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>Count <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Speed1 <font color="#FF0000"><b>DO
  begin
    For </b></font>Count2 <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO
    begin
      if </b></font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">] &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>DEC <font color="#000080">(</font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">]);
      </font><font color="#FF0000"><b>if </b></font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">] &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>DEC <font color="#000080">(</font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">]);
      </font><font color="#FF0000"><b>if </b></font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">] &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>DEC <font color="#000080">(</font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">]);
      </font>PORT <font color="#000080">[</font><font color="#800000">$03C8</font><font color="#000080">] := </font>Count2<font color="#000080">;
      </font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">] := </font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">];
      </font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">] := </font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">];
      </font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">] := </font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">];
      </font>Vret<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>delay<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>FadeIn<font color="#000080">;
</font><font color="#FF0000"><b>begin
  For </b></font>Count <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Speed1 <font color="#FF0000"><b>DO
  begin
    For </b></font>Count2 <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO
    begin
      if </b></font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">] &lt; </font>Pal1 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>INC <font color="#000080">(</font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">]);
      </font><font color="#FF0000"><b>if </b></font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">] &lt; </font>Pal1 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>INC <font color="#000080">(</font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">]);
      </font><font color="#FF0000"><b>if </b></font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">] &lt; </font>Pal1 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>INC <font color="#000080">(</font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">]);
      </font>PORT <font color="#000080">[</font><font color="#800000">$03C8</font><font color="#000080">] := </font>Count2<font color="#000080">;
      </font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">] := </font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">];
      </font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">] := </font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">];
      </font>PORT <font color="#000080">[</font><font color="#800000">$03C9</font><font color="#000080">] := </font>Pal2 <font color="#000080">[</font>Count2<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">];
      </font>Vret<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font>delay<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>SetPalette<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>rectangle2<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1 <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>begin
     </b></font>Setcolor<font color="#000080">(</font>Darkgray<font color="#000080">);
     </font>Line<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x<font color="#000080">,</font>y1<font color="#000080">);
     </font>line<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>White<font color="#000080">);
     </font>line<font color="#000080">(</font>x<font color="#000080">,</font>y1<font color="#000080">,</font>x1<font color="#000080">,</font>y1<font color="#000080">);
     </font>line<font color="#000080">(</font>x1<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>Black<font color="#000080">);
     </font>Line<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
     </font>line<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>Lightgray<font color="#000080">);
     </font>line<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
     </font>line<font color="#000080">(</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Line2<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1 <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>begin
     </b></font>Setcolor<font color="#000080">(</font>Darkgray<font color="#000080">);
     </font>Line<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>x1<font color="#000080">,</font>y1<font color="#000080">);
     </font>Setcolor<font color="#000080">(</font>White<font color="#000080">);
     </font>Line<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>x1<font color="#000080">,</font>y1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>boxit<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">; </font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;</font>St <font color="#000080">: </font>Boolean<font color="#000080">);
</font><font color="#FF0000"><b>var
   </b></font>size <font color="#000080">: </font>word<font color="#000080">;
   </font>p <font color="#000080">: </font>pointer<font color="#000080">;
</font><font color="#FF0000"><b>begin
     Case </b></font>st <font color="#FF0000"><b>of
     </b></font>True <font color="#000080">:
     </font><font color="#FF0000"><b>begin
          </b></font>SettextStyle<font color="#000080">(</font>Font8x8<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
          </font>size <font color="#000080">:= </font>imagesize<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>x<font color="#000080">+</font>textwidth<font color="#000080">(</font>S<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">);
          </font>getmem<font color="#000080">(</font>P<font color="#000080">,</font>size<font color="#000080">);
          </font>getimage<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>x<font color="#000080">+</font>textwidth<font color="#000080">(</font>S<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">,</font>P<font color="#000080">^);
          </font>Setfillstyle<font color="#000080">(</font>Solidfill<font color="#000080">,</font>yellow<font color="#000080">);
          </font>Bar<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>x<font color="#000080">+</font>textwidth<font color="#000080">(</font>S<font color="#000080">),</font>y<font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">));
          </font>Setcolor<font color="#000080">(</font>Black<font color="#000080">);
          </font>Rectangle<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>x<font color="#000080">+</font>textwidth<font color="#000080">(</font>S<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">);
          </font>Line<font color="#000080">(</font>x<font color="#000080">+</font>textwidth<font color="#000080">(</font>S<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>x<font color="#000080">+</font>textwidth<font color="#000080">(</font>S<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">);
          </font>Line<font color="#000080">(</font>x<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">,</font>x<font color="#000080">+</font>textwidth<font color="#000080">(</font>S<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">+</font>textheight<font color="#000080">(</font>s<font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">);
          </font>Outtextxy<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>S<font color="#000080">);
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font>False <font color="#000080">:
     </font><font color="#FF0000"><b>begin
          </b></font>Putimage<font color="#000080">(</font>X<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font>P<font color="#000080">^,</font>Normalput<font color="#000080">);
          </font>Freemem<font color="#000080">(</font>P<font color="#000080">,</font>size<font color="#000080">);
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>StatusBar<font color="#000080">;
</font><font color="#FF0000"><b>Var
   </b></font>per <font color="#000080">: </font>Longint<font color="#000080">;
   </font>perc <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
   </font>done <font color="#000080">: </font>boolean<font color="#000080">;

   </font><font color="#FF0000"><b>procedure </b></font>inits<font color="#000080">;
   </font><font color="#FF0000"><b>begin
        </b></font>setfillstyle<font color="#000080">(</font>solidfill<font color="#000080">,</font><font color="#800000">15</font><font color="#000080">);
        </font>bar<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">4</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">4</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">303</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">28</font><font color="#000080">);
        </font>done <font color="#000080">:= </font>true<font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     if not </b></font>done <font color="#FF0000"><b>then </b></font>inits<font color="#000080">;
     </font>per <font color="#000080">:= </font>round<font color="#000080">(</font>snum  <font color="#000080">/ </font>enum <font color="#000080">* </font><font color="#800000">100</font><font color="#000080">);
     </font>setfillstyle<font color="#000080">(</font>solidfill<font color="#000080">,</font>white<font color="#000080">);
     </font>bar<font color="#000080">(</font>x<font color="#000080">+</font>per<font color="#000080">*</font><font color="#800000">3</font><font color="#000080">+</font><font color="#800000">3</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">3</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">303</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">27</font><font color="#000080">);
     </font>setfillstyle<font color="#000080">(</font>solidfill<font color="#000080">,</font>LightBlue<font color="#000080">);
     </font>bar<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">3</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">3</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">3 </font><font color="#000080">+ </font>per <font color="#000080">* </font><font color="#800000">3 </font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">27</font><font color="#000080">);
     </font>str<font color="#000080">(</font>per<font color="#000080">,</font>perc<font color="#000080">);
     </font>Settextstyle<font color="#000080">(</font>font8x8<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
     </font><font color="#FF0000"><b>If </b></font>Per <font color="#000080">&gt; </font><font color="#800000">20 </font><font color="#FF0000"><b>then
     BEgin
          </b></font>Setcolor<font color="#000080">(</font>White<font color="#000080">);
          </font>Outtextxy<font color="#000080">(</font>x <font color="#000080">+ </font>round<font color="#000080">(</font>Per<font color="#000080">*</font><font color="#800000">1.4</font><font color="#000080">) ,</font>y <font color="#000080">+ </font><font color="#800000">12</font><font color="#000080">,</font>perc<font color="#000080">);
          </font>Outtextxy<font color="#000080">(</font>x <font color="#000080">+ </font>round<font color="#000080">(</font>per<font color="#000080">*</font><font color="#800000">1.4</font><font color="#000080">+</font><font color="#800000">20</font><font color="#000080">),</font>y<font color="#000080">+ </font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">' %'</font><font color="#000080">);
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0244.PAS">Original</a><b>]</b></p></body>
</html>
