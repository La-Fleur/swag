<html>
<head><title> "PLASMA" by KAARE BOEEGH</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0100.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
15 minutes ago I suddenly got a idea to a fullscreen plasma (320*200). But
I have promised my group mates to do no more plasmas so here it is and it
is all yours. It is not 320*200, because I did not do it in assembler since I
am not going to use the routine myself, but it should be pretty easy to
convert.

 -+--+--+--- CUT -+--+--+--- }

 </i></font><font color="#FF0000"><b>PROGRAM </b></font>_320_100_PLASMA<font color="#000080">;

 </font><font color="#FF0000"><b>VAR
  </b></font>FT <font color="#000080">:</font><font color="#FF0000"><b>ARRAY </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">511</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>BYTE<font color="#000080">;
  </font>SINT <font color="#000080">:</font><font color="#FF0000"><b>ARRAY </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>BYTE<font color="#000080">;
  </font>I1<font color="#000080">,</font>A<font color="#000080">,</font>B<font color="#000080">,</font>D<font color="#000080">,</font>C<font color="#000080">,</font>OD<font color="#000080">,</font>COLOR <font color="#000080">:</font>BYTE<font color="#000080">;
  </font>X<font color="#000080">,</font>Y<font color="#000080">,</font>K<font color="#000080">,</font>I <font color="#000080">:</font>WORD<font color="#000080">;

 </font><font color="#FF0000"><b>BEGIN
 </b></font><font color="#008000"><i>{SET 320*200*256}
  </i></font><font color="#FF0000"><b>ASM
    </b></font><font color="#FF00FF">MOV AX,0013H; INT 10H;
   </font><font color="#008000"><i>{THIS THINGGY DOUBLES THE HEIGT OF THE PIXELS}
    </i></font><font color="#FF00FF">mov dx,3d4h
    mov al,9
    out dx,al
    inc dx
    in al,dx
    and al,0e0h
    add al,3
    out dx,al
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

  </font><font color="#008000"><i>{DO PALETTE}
  </i></font>PORT <font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>FOR </b></font>I<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO
    BEGIN
      </b></font>PORT <font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">]:=</font>I <font color="#FF0000"><b>DIV </b></font><font color="#800000">4</font><font color="#000080">;
      </font>PORT <font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">]:=</font>I <font color="#FF0000"><b>DIV </b></font><font color="#800000">5</font><font color="#000080">;
      </font>PORT <font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">]:=</font>I <font color="#FF0000"><b>DIV </b></font><font color="#800000">6
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

  </font><font color="#008000"><i>{DO TABLES}
  </i></font><font color="#FF0000"><b>FOR </b></font>I<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">511 </font><font color="#FF0000"><b>DO </b></font>FT <font color="#000080">[</font>I<font color="#000080">]:=</font>ROUND <font color="#000080">(</font><font color="#800000">64</font><font color="#000080">+</font><font color="#800000">63</font><font color="#000080">*</font>SIN <font color="#000080">(</font>I<font color="#000080">/</font><font color="#800000">40.74</font><font color="#000080">));
  </font><font color="#FF0000"><b>FOR </b></font>I<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO </b></font>SINT <font color="#000080">[</font>I<font color="#000080">]:=</font>ROUND <font color="#000080">(</font><font color="#800000">128</font><font color="#000080">+</font><font color="#800000">127</font><font color="#000080">*</font>SIN <font color="#000080">(</font>I<font color="#000080">/</font><font color="#800000">40.74</font><font color="#000080">));

  </font><font color="#008000"><i>{MAIN LOOP}
  </i></font><font color="#FF0000"><b>REPEAT
  </b></font>INC <font color="#000080">(</font>I1<font color="#000080">);                    </font><font color="#008000"><i>{GRID COUNTER}
  </i></font>DEC <font color="#000080">(</font>C<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
  </font>INC <font color="#000080">(</font>OD<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
  </font>D<font color="#000080">:=</font>OD<font color="#000080">;
  </font><font color="#FF0000"><b>FOR </b></font>Y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">100 </font><font color="#FF0000"><b>DO
    BEGIN
       </b></font>K<font color="#000080">:=</font>Y<font color="#000080">*</font><font color="#800000">320</font><font color="#000080">+</font>Y <font color="#FF0000"><b>AND </b></font><font color="#800000">1</font><font color="#000080">;     </font><font color="#008000"><i>{CALCULATE OFFSET AND ADD ONE EVERY SECOND LINE}
</i></font>K<font color="#000080">:=</font>K<font color="#000080">-(</font>I1 <font color="#FF0000"><b>AND </b></font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">320</font><font color="#000080">;  </font><font color="#008000"><i>{MOVE GRID ONE PIXEL DOWN EVERY SECOND FRAME}
       </i></font>INC <font color="#000080">(</font>D<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
       </font>A<font color="#000080">:=</font>SINT <font color="#000080">[(</font>C<font color="#000080">+</font>Y<font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#800000">255</font><font color="#000080">];
       </font>B<font color="#000080">:=</font>SINT <font color="#000080">[(</font>D<font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#800000">255</font><font color="#000080">];
         </font><font color="#FF0000"><b>FOR </b></font>X<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">159 </font><font color="#FF0000"><b>DO
           BEGIN
             </b></font>COLOR<font color="#000080">:=</font>FT <font color="#000080">[</font>A<font color="#000080">+</font>B<font color="#000080">]+</font>FT <font color="#000080">[</font>Y<font color="#000080">+</font>B<font color="#000080">];
             </font>MEM <font color="#000080">[</font><font color="#800000">$A000</font><font color="#000080">:</font>K<font color="#000080">]:=</font>COLOR<font color="#000080">;
             </font>INC <font color="#000080">(</font>A<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">+</font>COLOR <font color="#FF0000"><b>SHR </b></font><font color="#800000">7</font><font color="#000080">);
             </font>INC <font color="#000080">(</font>B<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">); </font>INC <font color="#000080">(</font>K<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
             </font><font color="#008000"><i>{OFFSET OF PLASMA PIXEL, INCREASED BY TWO TO CREATE THE GRID}
           </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>UNTIL </b></font>PORT <font color="#000080">[</font><font color="#800000">$60</font><font color="#000080">]&lt;</font><font color="#800000">128</font><font color="#000080">; </font><font color="#008000"><i>{EXIT IF KEY PRESSED} </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0100.PAS">Original</a><b>]</b></p></body>
</html>
