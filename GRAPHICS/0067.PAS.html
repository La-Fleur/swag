<html>
<head><title> "Mode 13 Demo" by GREG ESTABROOKS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0067.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>PROGRAM </b></font>Mode13Demo<font color="#000080">;             </font><font color="#008000"><i>{ Oct 10/93, Greg Estabrooks.       }
</i></font><font color="#FF0000"><b>VAR
   </b></font>CurCol<font color="#000080">,
   </font>OldMode<font color="#000080">:</font>BYTE<font color="#000080">;
   </font>CurPos<font color="#000080">,
   </font>X<font color="#000080">,</font>Y <font color="#000080">:</font>WORD<font color="#000080">;
   </font>ScrBuff <font color="#000080">:</font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">64000</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>BYTE<font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>SetVidMode<font color="#000080">( </font>Mode <font color="#000080">:</font>BYTE <font color="#000080">); </font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">;
                </font><font color="#008000"><i>{  Routine to set video mode                        }
</i></font><font color="#FF0000"><b>ASM
  </b></font><font color="#FF00FF">Mov AH,00                     </font><font color="#008000"><i>{  Function to set mode             }
  </i></font><font color="#FF00FF">Mov AL,Mode                   </font><font color="#008000"><i>{  Mode to change to                }
  </i></font><font color="#FF00FF">Int $10                       </font><font color="#008000"><i>{  Call dos                         }
</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{SetVidMode}

</i></font><font color="#FF0000"><b>PROCEDURE </b></font>PutPixel<font color="#000080">( </font>X<font color="#000080">,</font>Y <font color="#000080">:</font>WORD<font color="#000080">; </font>Color <font color="#000080">:</font>BYTE <font color="#000080">);
</font><font color="#FF0000"><b>BEGIN
  </b></font>Mem<font color="#000080">[</font><font color="#800000">$A000</font><font color="#000080">:(</font><font color="#800000">320</font><font color="#000080">*</font>Y<font color="#000080">)+</font>X<font color="#000080">]:= </font>Color<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
  </b></font>SetVidMode<font color="#000080">(</font><font color="#800000">$13</font><font color="#000080">);              </font><font color="#008000"><i>{ Set Mode to 320x200x256.          }
  </i></font><font color="#FF0000"><b>FOR </b></font>Y <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">199 </font><font color="#FF0000"><b>DO          </b></font><font color="#008000"><i>{ Loop through all lines.           }
    </i></font><font color="#FF0000"><b>FOR </b></font>X <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">319 </font><font color="#FF0000"><b>DO        </b></font><font color="#008000"><i>{ Loop through all columns.         }
        </i></font>PutPixel<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>Random<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">));
  </font>CurCol <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>CurPos <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>FOR </b></font>Y <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">199 </font><font color="#FF0000"><b>DO          </b></font><font color="#008000"><i>{ Loop through all lines.           }
   </i></font><font color="#FF0000"><b>BEGIN
    </b></font>Inc<font color="#000080">(</font>CurCol<font color="#000080">);
    </font><font color="#FF0000"><b>FOR </b></font>X <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">319 </font><font color="#FF0000"><b>DO        </b></font><font color="#008000"><i>{ Loop through all columns.         }
     </i></font><font color="#FF0000"><b>BEGIN
       </b></font>Inc<font color="#000080">(</font>CurPos<font color="#000080">);
       </font>ScrBuff<font color="#000080">[</font>CurPos<font color="#000080">] := </font>CurCol<font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font>Writeln<font color="#000080">(</font><font color="#800000">'Press Enter to see the Faster way!'</font><font color="#000080">);
  </font>Readln<font color="#000080">;
  </font>Move<font color="#000080">(</font>ScrBuff<font color="#000080">,</font>Mem<font color="#000080">[</font><font color="#800000">$A000</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">],</font>SizeOf<font color="#000080">(</font>ScrBuff<font color="#000080">));
  </font>Readln<font color="#000080">;
  </font>SetVidMode<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">);                </font><font color="#008000"><i>{ Set Mode 3,80x25.                 }
</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0067.PAS">Original</a><b>]</b></p></body>
</html>
