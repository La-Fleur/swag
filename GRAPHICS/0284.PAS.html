<html>
<head><title> "Fast Assembler Graph Unit" by OSKARI RAUTA</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0284.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#FF0000"><b>Unit </b></font>OwnGraph<font color="#000080">;

</font><font color="#008000"><i>(*
=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=
=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=
=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=
=FE=FE=FE
=FE                           Bios graphic unit (Assembler code)         =
      =FE
=FE                            Totally coded by Lunatic/Lucifer          =
      =FE
=FE  If you use this unit, please, give some credits for me, or atleast s=
end   =FE
=FE                copy of your program(or it's source) to lunatic@dlc.fi=
      =FE
=FE                     -=C4=CD FREEWARE SOURCE FROM SWAG'S GRAPHIC.SWG =CD=
--        =FE
=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=
=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=
=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=FE=
=FE=FE=FE
*)

</i></font><font color="#FF0000"><b>Interface

</b></font><font color="#008000"><i>{-- Procedures --}

</i></font><font color="#FF0000"><b>Procedure </b></font>SetMODE<font color="#000080">(</font>mode<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#008000"><i>{Set video mode}
</i></font><font color="#FF0000"><b>Procedure </b></font>CurSIZE<font color="#000080">(</font>top<font color="#000080">,</font>bottom<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#008000"><i>{Set cursor's size}
</i></font><font color="#FF0000"><b>Procedure </b></font>GotoXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>p<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#008000"><i>{Move cursor to x,y (p= page) point}
</i></font><font color="#FF0000"><b>Procedure </b></font>ShowPage<font color="#000080">(</font>p<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#008000"><i>{Shows p page}
</i></font><font color="#FF0000"><b>Procedure </b></font>GetPAL<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>r<font color="#000080">,</font>g<font color="#000080">,</font>b<font color="#000080">:</font>byte<font color="#000080">;</font>c<font color="#000080">:</font>integer<font color="#000080">); </font><font color="#008000"><i>{Gets Red, Green and Blue
                                             values of color c to r g and=
 b}
</i></font><font color="#FF0000"><b>Procedure </b></font>SetPAL<font color="#000080">(</font>r<font color="#000080">,</font>g<font color="#000080">,</font>b<font color="#000080">:</font>byte<font color="#000080">;</font>c<font color="#000080">:</font>integer<font color="#000080">); </font><font color="#008000"><i>{Sets color c to red, green and b=
lue
                                         values to r,g and b}
</i></font><font color="#FF0000"><b>Procedure </b></font>ScrollUP<font color="#000080">(</font>columns<font color="#000080">,</font>attribute<font color="#000080">,</font>y1<font color="#000080">,</font>x1<font color="#000080">,</font>y2<font color="#000080">,</font>x2<font color="#000080">:</font>Byte<font color="#000080">);</font><font color="#008000"><i>{Scroll active pag=
e up}
</i></font><font color="#FF0000"><b>Procedure </b></font>ScrollDown<font color="#000080">(</font>columns<font color="#000080">,</font>attribute<font color="#000080">,</font>y1<font color="#000080">,</font>x1<font color="#000080">,</font>y2<font color="#000080">,</font>x2<font color="#000080">:</font>Byte<font color="#000080">);
                                                     </font><font color="#008000"><i>{Scroll active page =
down}
</i></font><font color="#FF0000"><b>Procedure </b></font>ReadXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>p<font color="#000080">:</font>byte<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>cha<font color="#000080">:</font>char<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>attrib<font color="#000080">:</font>byte<font color="#000080">);
                </font><font color="#008000"><i>{Reads attribute (attrib) and charachter (cha) from x,y f=
rom
                 page p}
</i></font><font color="#FF0000"><b>Procedure </b></font>PutPixel<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>integer<font color="#000080">;</font>c<font color="#000080">,</font>p<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#008000"><i>{Plots a pixel to x,y with c co=
lor
                                           to p page}
</i></font><font color="#FF0000"><b>Procedure </b></font>GetSCRInfo<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>mode<font color="#000080">,</font>page<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#008000"><i>{Saves screen mode to mode and
                                           active page to page}
</i></font><font color="#FF0000"><b>Procedure </b></font>ShowCursor<font color="#000080">; </font><font color="#008000"><i>{Shows cursor}
</i></font><font color="#FF0000"><b>Procedure </b></font>HideCursor<font color="#000080">; </font><font color="#008000"><i>{Hides cursor}

{-- Functions --}

</i></font><font color="#FF0000"><b>Function </b></font>ReadChXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>p<font color="#000080">:</font>byte<font color="#000080">):</font>Char<font color="#000080">; </font><font color="#008000"><i>{Returns charachter from x,y from pag=
e p}
</i></font><font color="#FF0000"><b>Function </b></font>GetMode<font color="#000080">:</font>Byte<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>mode<font color="#000080">:</font>byte<font color="#000080">; </font><font color="#008000"><i>{Returns active video mode}
</i></font><font color="#FF0000"><b>Function </b></font>GetPage<font color="#000080">:</font>Byte<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>page<font color="#000080">:</font>byte<font color="#000080">; </font><font color="#008000"><i>{Returns active video page}
</i></font><font color="#FF0000"><b>Function </b></font>WhereX<font color="#000080">(</font>p<font color="#000080">:</font>byte<font color="#000080">):</font>byte<font color="#000080">; </font><font color="#008000"><i>{Returns cursor's x position from page p}
</i></font><font color="#FF0000"><b>Function </b></font>WhereY<font color="#000080">(</font>p<font color="#000080">:</font>byte<font color="#000080">):</font>byte<font color="#000080">; </font><font color="#008000"><i>{Returns cursor's y position from page p}
</i></font><font color="#FF0000"><b>Function </b></font>GetPixel<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>integer<font color="#000080">;</font>p<font color="#000080">:</font>byte<font color="#000080">):</font>byte<font color="#000080">;</font><font color="#008000"><i>{Returns pixel's color from pa=
ge p
                                            and from x,y position}

</i></font><font color="#FF0000"><b>Implementation

Procedure </b></font>ShowCursor<font color="#000080">;</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ax, 0100h
Mov cx, 0506h
Int 10h
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>HideCursor<font color="#000080">;</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ax, 0100h
Mov cx, 2607h
Int 10h
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetMODE<font color="#000080">(</font>mode<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>Begin
Asm</b></font><font color="#FF00FF">;
mov ah,00h
mov al,mode
int 10h
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CurSIZE<font color="#000080">(</font>top<font color="#000080">,</font>bottom<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">mov ah,01h
mov ch, top
mov cl, bottom
int 10h
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>GotoXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>p<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ah, 02h
Mov bh, p
Mov dh, y
Mov dl, x
Int 10h
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>WhereX<font color="#000080">(</font>p<font color="#000080">:</font>byte<font color="#000080">):</font>byte<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>x<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin Asm
</b></font><font color="#FF00FF">Mov ah, 03h
Mov bh, p
Int 10h
Mov x, dl
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;</font>WhereX<font color="#000080">:= </font>x<font color="#000080">;</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>WhereY<font color="#000080">(</font>p<font color="#000080">:</font>byte<font color="#000080">):</font>byte<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>y<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin Asm
</b></font><font color="#FF00FF">Mov ah, 03h
Mov bh, p
Int 10h
Mov y, dl
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;</font>WhereY<font color="#000080">:= </font>y<font color="#000080">;</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ShowPage<font color="#000080">(</font>p<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ah, 05h
Mov al, p
Int 10h
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>GetPAL<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>r<font color="#000080">,</font>g<font color="#000080">,</font>b<font color="#000080">:</font>byte<font color="#000080">;</font>c<font color="#000080">:</font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>r2<font color="#000080">,</font>g2<font color="#000080">,</font>b2<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
Asm
</b></font><font color="#FF00FF">Mov ah, 10h
Mov al, 15h
Mov bx, c
Int 10h
Mov r2,dh
Mov g2,ch
Mov b2,cl
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>r<font color="#000080">:= </font>r2<font color="#000080">;</font>b<font color="#000080">:= </font>b2<font color="#000080">;</font>g<font color="#000080">:= </font>g2<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetPAL<font color="#000080">(</font>r<font color="#000080">,</font>g<font color="#000080">,</font>b<font color="#000080">:</font>byte<font color="#000080">;</font>c<font color="#000080">:</font>integer<font color="#000080">);</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ah, 10h
Mov al, 10h
Mov bx, c
Mov dh, r
Mov ch, g
Mov cl, b
Int 10h
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ScrollUP<font color="#000080">(</font>columns<font color="#000080">,</font>attribute<font color="#000080">,</font>y1<font color="#000080">,</font>x1<font color="#000080">,</font>y2<font color="#000080">,</font>x2<font color="#000080">:</font>Byte<font color="#000080">);</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ah, 06h
Mov al, columns
Mov bh, attribute
Mov ch, y1
Mov cl, x1
Mov dh, y2
Mov dl, x2
Int 10h
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ScrollDown<font color="#000080">(</font>columns<font color="#000080">,</font>attribute<font color="#000080">,</font>y1<font color="#000080">,</font>x1<font color="#000080">,</font>y2<font color="#000080">,</font>x2<font color="#000080">:</font>Byte<font color="#000080">);</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ah, 07h
Mov al, columns
Mov bh, attribute
Mov ch, y1
Mov cl, x1
Mov dh, y2
Mov dl, x2
Int 10h
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>ReadChXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>p<font color="#000080">:</font>byte<font color="#000080">):</font>Char<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>x2<font color="#000080">,</font>y2<font color="#000080">,</font>ch<font color="#000080">:</font>byte<font color="#000080">;</font><font color="#FF0000"><b>Begin
</b></font>x2<font color="#000080">:= </font>WhereX<font color="#000080">(</font>p<font color="#000080">);</font>y2<font color="#000080">:= </font>WhereY<font color="#000080">(</font>p<font color="#000080">);
</font>GotoXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>p<font color="#000080">);
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ah, 08h
mov bh, p
Int 10h
Mov ch, al
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>GotoXY<font color="#000080">(</font>x2<font color="#000080">,</font>y2<font color="#000080">,</font>p<font color="#000080">);
</font>ReadChXY<font color="#000080">:= </font>chr<font color="#000080">(</font>ch<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ReadXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>p<font color="#000080">:</font>byte<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>cha<font color="#000080">:</font>char<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>attrib<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>x2<font color="#000080">,</font>y2<font color="#000080">,</font>ch<font color="#000080">,</font>att<font color="#000080">:</font>byte<font color="#000080">;</font><font color="#FF0000"><b>Begin
</b></font>x2<font color="#000080">:= </font>WhereX<font color="#000080">(</font>p<font color="#000080">);</font>y2<font color="#000080">:= </font>WhereY<font color="#000080">(</font>p<font color="#000080">);
</font>GotoXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>p<font color="#000080">);
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ah, 08h
mov bh, p
Int 10h
Mov att, ah
Mov ch, al
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>GotoXY<font color="#000080">(</font>x2<font color="#000080">,</font>y2<font color="#000080">,</font>p<font color="#000080">);
</font>cha<font color="#000080">:= </font>chr<font color="#000080">(</font>ch<font color="#000080">);</font>attrib<font color="#000080">:= </font>att<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>PutPixel<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>integer<font color="#000080">;</font>c<font color="#000080">,</font>p<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
</b></font><font color="#FF00FF">Mov ah, 0Ch
Mov al, c
Mov bh, p
Mov cx, x
Mov dx, y
Int 10h
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>GetPixel<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>integer<font color="#000080">;</font>p<font color="#000080">:</font>byte<font color="#000080">):</font>byte<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>c<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
Asm
</b></font><font color="#FF00FF">Mov ah, 0Dh
Mov bh, p
Mov cx, x
Mov dx, y
Int 10h
Mov c, al
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>GetPixel<font color="#000080">:= </font>c<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>GetMode<font color="#000080">:</font>Byte<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>mode<font color="#000080">:</font>byte<font color="#000080">;</font><font color="#FF0000"><b>Begin
Asm
</b></font><font color="#FF00FF">Mov ah, 0Fh
Int 10h
Mov mode, al
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>GetMode<font color="#000080">:= </font>Mode<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>GetPage<font color="#000080">:</font>Byte<font color="#000080">;</font><font color="#FF0000"><b>var </b></font>page<font color="#000080">:</font>byte<font color="#000080">;</font><font color="#FF0000"><b>Begin
Asm
</b></font><font color="#FF00FF">Mov ah, 0Fh
Int 10h
Mov page, bh
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>GetPage<font color="#000080">:= </font>Page<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>GetSCRInfo<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>mode<font color="#000080">,</font>page<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>var </b></font>m<font color="#000080">,</font>p<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
Asm
</b></font><font color="#FF00FF">Mov ah, 0Fh
Int 10h
Mov m, al
Mov p, bh
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>mode<font color="#000080">:= </font>m<font color="#000080">;</font>page<font color="#000080">:= </font>p<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0284.PAS">Original</a><b>]</b></p></body>
</html>
