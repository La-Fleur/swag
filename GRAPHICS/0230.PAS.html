<html>
<head><title> "How to draw grapichs grids" by JACK NEELY</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0230.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>program </b></font>ghraph_adder<font color="#000080">;

</font><font color="#008000"><i>{Copyright 1996 by Jack Neely.  All rights reserved.}
{Required BGI drivers.  Specify path in procedure INIT.}
{ make sure you set the path below !!! }

</i></font><font color="#FF0000"><b>uses
   </b></font>graph<font color="#000080">;

</font><font color="#FF0000"><b>const
   </b></font>Xmax <font color="#000080">= </font><font color="#800000">20</font><font color="#000080">;               </font><font color="#008000"><i>{These constants describe the screen area}
   </i></font>Xmin <font color="#000080">= -</font><font color="#800000">10</font><font color="#000080">;
   </font>Ymax <font color="#000080">= </font><font color="#800000">20</font><font color="#000080">;
   </font>Ymin <font color="#000080">= -</font><font color="#800000">10</font><font color="#000080">;
   </font>Rx <font color="#000080">= </font>Xmax <font color="#000080">- </font>Xmin<font color="#000080">;
   </font>Ry <font color="#000080">= </font>Ymax <font color="#000080">- </font>Ymin<font color="#000080">;
   </font>Scale <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;               </font><font color="#008000"><i>{How often scaling marks are placed}

</i></font><font color="#FF0000"><b>function </b></font>abs<font color="#000080">(</font>x<font color="#000080">:</font>real<font color="#000080">):</font>real<font color="#000080">;
</font><font color="#008000"><i>{Returns the absolute value of X}
</i></font><font color="#FF0000"><b>begin
   if </b></font>x <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
      </b></font>abs<font color="#000080">:= -</font>x
   <font color="#FF0000"><b>else
      </b></font>abs<font color="#000080">:= </font>x<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>power<font color="#000080">(</font>b<font color="#000080">:</font>real<font color="#000080">; </font>p<font color="#000080">:</font>integer<font color="#000080">):</font>real<font color="#000080">;
</font><font color="#008000"><i>{Returns B to the P power}
</i></font><font color="#FF0000"><b>begin
   if </b></font>p <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>then
      </b></font>power<font color="#000080">:= </font>b
   <font color="#FF0000"><b>else
      </b></font>power<font color="#000080">:= </font>b <font color="#000080">* </font>power<font color="#000080">(</font>b<font color="#000080">, </font>p<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{THESE ARE THE FUNCTIONS. ALL OPERATION WILL BE PREFORMED OF F(X) BY G(X).}
{Change these as you like.  These are the functions actualy graphed.}

</i></font><font color="#FF0000"><b>function </b></font>f<font color="#000080">(</font>x<font color="#000080">:</font>real<font color="#000080">):</font>real<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>f<font color="#000080">:= (</font><font color="#800000">0.6 </font><font color="#000080">* </font>x <font color="#000080">+</font><font color="#800000">0.5</font><font color="#000080">) / (</font>x <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>g<font color="#000080">(</font>x<font color="#000080">:</font>real<font color="#000080">):</font>real<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>g<font color="#000080">:= </font>abs<font color="#000080">(</font>x<font color="#000080">)+</font><font color="#800000">3</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{**************************************************************************}

</i></font><font color="#FF0000"><b>procedure </b></font>init<font color="#000080">;
</font><font color="#008000"><i>{Slaps you in to High-Res (hopefully) graphics mode}
</i></font><font color="#FF0000"><b>var
   </b></font>mode<font color="#000080">:</font>integer<font color="#000080">;
   </font>driver<font color="#000080">:</font>integer<font color="#000080">;
   </font>ErrCode<font color="#000080">:</font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>driver<font color="#000080">:= </font>detect<font color="#000080">;
   </font>initgraph<font color="#000080">(</font>driver<font color="#000080">, </font>mode<font color="#000080">, </font><font color="#800000">'\turbo\tp\'</font><font color="#000080">);</font><font color="#008000"><i>{The path here MUST point to your BGI drivers.}
   </i></font>ErrCode <font color="#000080">:= </font>GraphResult<font color="#000080">;
   </font><font color="#FF0000"><b>if </b></font>ErrCode <font color="#000080">&lt;&gt; </font>grOk <font color="#FF0000"><b>then
      begin
         </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Graphics error:'</font><font color="#000080">, </font>GraphErrorMsg<font color="#000080">(</font>ErrCode<font color="#000080">));
         </font>halt<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>coordinates<font color="#000080">(</font>x<font color="#000080">, </font>y<font color="#000080">:</font>real<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>sx<font color="#000080">, </font>sy<font color="#000080">:</font>integer<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>OnScreen<font color="#000080">:</font>boolean<font color="#000080">);
</font><font color="#008000"><i>{This is the slick procedure that makes it all work.  Pass in your X and Y
   coordinates and these two equations will find the screen position and
   return that in SX and SY.  OnScreen is TRUE if the coordinates passed in
   are on the screen, else FALSE.}
</i></font><font color="#FF0000"><b>begin
   </b></font>sx<font color="#000080">:= </font>round<font color="#000080">((</font>getmaxx <font color="#000080">/ </font>Rx<font color="#000080">) * </font>x <font color="#000080">+ ((-</font>getmaxx<font color="#000080">/</font>Rx<font color="#000080">) * </font>Xmax <font color="#000080">+ </font>getmaxx<font color="#000080">));
   </font>sy<font color="#000080">:= </font>round<font color="#000080">((-</font>getmaxy <font color="#000080">/ </font>Ry<font color="#000080">) * </font>y <font color="#000080">+ ((</font>getmaxy<font color="#000080">/</font>Ry<font color="#000080">) * </font>Ymin <font color="#000080">+ </font>getmaxy<font color="#000080">));
   </font>onscreen<font color="#000080">:= </font><font color="#FF0000"><b>not </b></font><font color="#000080">((</font>sx <font color="#000080">&lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>sy <font color="#000080">&lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>sx <font color="#000080">&gt; </font>getmaxx<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>sy <font color="#000080">&gt; </font>getmaxy<font color="#000080">));
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>draw_grid<font color="#000080">;
</font><font color="#008000"><i>{Plots XY axis}
</i></font><font color="#FF0000"><b>var
   </b></font>x<font color="#000080">, </font>y<font color="#000080">,
   </font>sx<font color="#000080">, </font>sy<font color="#000080">:</font>integer<font color="#000080">;
   </font>success<font color="#000080">:</font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>coordinates<font color="#000080">(</font>Xmin<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font>x<font color="#000080">, </font>y<font color="#000080">, </font>success<font color="#000080">);
   </font>coordinates<font color="#000080">(</font>Xmax<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>success<font color="#000080">);
   </font>setcolor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
   </font>line<font color="#000080">(</font>x<font color="#000080">, </font>y<font color="#000080">, </font>sx<font color="#000080">, </font>sy<font color="#000080">);
   </font>coordinates<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">, </font>Ymax<font color="#000080">, </font>x<font color="#000080">, </font>y<font color="#000080">, </font>success<font color="#000080">);
   </font>coordinates<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">, </font>Ymin<font color="#000080">, </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>success<font color="#000080">);
   </font>line<font color="#000080">(</font>x<font color="#000080">, </font>y<font color="#000080">, </font>sx<font color="#000080">, </font>sy<font color="#000080">);
   </font><font color="#FF0000"><b>for </b></font>x<font color="#000080">:= </font>trunc<font color="#000080">(</font>Xmin<font color="#000080">) </font><font color="#FF0000"><b>to </b></font>trunc<font color="#000080">(</font>Xmax<font color="#000080">) </font><font color="#FF0000"><b>do
      if </b></font>x <font color="#000080">/ </font>scale <font color="#000080">= </font>x <font color="#FF0000"><b>div </b></font>scale <font color="#FF0000"><b>then
         begin
            </b></font>coordinates<font color="#000080">(</font>x<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>success<font color="#000080">);
            </font>line<font color="#000080">(</font>sx<font color="#000080">, </font>sy<font color="#000080">-</font><font color="#800000">5</font><font color="#000080">, </font>sx<font color="#000080">, </font>sy<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">);
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>for </b></font>y<font color="#000080">:= </font>trunc<font color="#000080">(</font>Ymin<font color="#000080">) </font><font color="#FF0000"><b>to </b></font>trunc<font color="#000080">(</font>Ymax<font color="#000080">) </font><font color="#FF0000"><b>do
      if </b></font>y <font color="#000080">/ </font>scale <font color="#000080">= </font>y <font color="#FF0000"><b>div </b></font>scale <font color="#FF0000"><b>then
         begin
            </b></font>coordinates<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">, </font>y<font color="#000080">, </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>success<font color="#000080">);
            </font>line<font color="#000080">(</font>sx<font color="#000080">-</font><font color="#800000">5</font><font color="#000080">, </font>sy<font color="#000080">, </font>sx<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">, </font>sy<font color="#000080">);
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>drawgraphs<font color="#000080">;
</font><font color="#FF0000"><b>var
   </b></font>x<font color="#000080">, </font>y<font color="#000080">, </font>c<font color="#000080">:</font>real<font color="#000080">;
   </font>sx<font color="#000080">, </font>sy<font color="#000080">:</font>integer<font color="#000080">;
   </font>OnScreen<font color="#000080">:</font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>x<font color="#000080">:= </font>Xmin<font color="#000080">;  </font><font color="#008000"><i>{Graph of F(X) in blue}
   </i></font>setcolor<font color="#000080">(</font><font color="#800000">9</font><font color="#000080">);
   </font>coordinates<font color="#000080">(</font>x<font color="#000080">, </font>f<font color="#000080">(</font>x<font color="#000080">), </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>onscreen<font color="#000080">);
   </font>moveto<font color="#000080">(</font>sx<font color="#000080">, </font>sy<font color="#000080">);
   </font><font color="#FF0000"><b>repeat
      </b></font>x<font color="#000080">:= </font>x <font color="#000080">+ (</font>Rx <font color="#000080">/ </font>getmaxx<font color="#000080">);
      </font>coordinates<font color="#000080">(</font>x<font color="#000080">, </font>f<font color="#000080">(</font>x<font color="#000080">), </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>onscreen<font color="#000080">);
      </font>lineto<font color="#000080">(</font>sx<font color="#000080">, </font>sy<font color="#000080">);
   </font><font color="#FF0000"><b>until </b></font>sx <font color="#000080">&gt;= </font>getmaxx<font color="#000080">;

   </font>x<font color="#000080">:= </font>Xmin<font color="#000080">;    </font><font color="#008000"><i>{Graph of G(X) in red}
   </i></font>setcolor<font color="#000080">(</font><font color="#800000">12</font><font color="#000080">);
   </font>coordinates<font color="#000080">(</font>x<font color="#000080">, </font>g<font color="#000080">(</font>x<font color="#000080">), </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>onscreen<font color="#000080">);
   </font>moveto<font color="#000080">(</font>sx<font color="#000080">, </font>sy<font color="#000080">);
   </font><font color="#FF0000"><b>repeat
      </b></font>x<font color="#000080">:= </font>x <font color="#000080">+ (</font>Rx <font color="#000080">/ </font>getmaxx<font color="#000080">);
      </font>coordinates<font color="#000080">(</font>x<font color="#000080">, </font>g<font color="#000080">(</font>x<font color="#000080">), </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>onscreen<font color="#000080">);
      </font>lineto<font color="#000080">(</font>sx<font color="#000080">, </font>sy<font color="#000080">);
   </font><font color="#FF0000"><b>until </b></font>sx <font color="#000080">&gt;= </font>getmaxx<font color="#000080">;

   </font><font color="#008000"><i>{This next grapher is just to show off.  It graphs then sum of F(X) and
      G(X).}
   </i></font>x<font color="#000080">:= </font>Xmin<font color="#000080">;    </font><font color="#008000"><i>{Graph of F(X) + G(X) in yellow}
   </i></font>setcolor<font color="#000080">(</font><font color="#800000">14</font><font color="#000080">);
   </font>coordinates<font color="#000080">(</font>x<font color="#000080">, </font>f<font color="#000080">(</font>x<font color="#000080">) + </font>g<font color="#000080">(</font>x<font color="#000080">), </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>onscreen<font color="#000080">);
   </font>moveto<font color="#000080">(</font>sx<font color="#000080">, </font>sy<font color="#000080">);
   </font><font color="#FF0000"><b>repeat
      </b></font>x<font color="#000080">:= </font>x <font color="#000080">+ (</font>Rx <font color="#000080">/ </font>getmaxx<font color="#000080">);
      </font>coordinates<font color="#000080">(</font>x<font color="#000080">, </font>f<font color="#000080">(</font>x<font color="#000080">) + </font>g<font color="#000080">(</font>x<font color="#000080">), </font>sx<font color="#000080">, </font>sy<font color="#000080">, </font>onscreen<font color="#000080">);
      </font>lineto<font color="#000080">(</font>sx<font color="#000080">, </font>sy<font color="#000080">);
   </font><font color="#FF0000"><b>until </b></font>sx <font color="#000080">&gt;= </font>getmaxx<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>init<font color="#000080">;
   </font>draw_grid<font color="#000080">;
   </font>drawgraphs<font color="#000080">;
   </font>readln<font color="#000080">;
   </font>closegraph<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0230.PAS">Original</a><b>]</b></p></body>
</html>
