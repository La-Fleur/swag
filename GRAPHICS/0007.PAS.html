<html>
<head><title> "3D Rotations" by STEVE CONNET</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
STEVE CONNET

Okay, here's the equations For 3D rotations...

x,y,z are the coordinates of the point you want to rotate.
rx,ry,rz are the amount of rotation you want (in degrees) For x,y,z
}

  </i></font>x1 <font color="#000080">:= </font>round<font color="#000080">(</font>cos<font color="#000080">(</font>rad<font color="#000080">(</font>ry<font color="#000080">)) * </font>x  <font color="#000080">- </font>sin<font color="#000080">(</font>rad<font color="#000080">(</font>ry<font color="#000080">)) * </font>z<font color="#000080">);
  </font>z1 <font color="#000080">:= </font>round<font color="#000080">(</font>sin<font color="#000080">(</font>rad<font color="#000080">(</font>ry<font color="#000080">)) * </font>x  <font color="#000080">+ </font>cos<font color="#000080">(</font>rad<font color="#000080">(</font>ry<font color="#000080">)) * </font>z<font color="#000080">);
  </font>x  <font color="#000080">:= </font>round<font color="#000080">(</font>cos<font color="#000080">(</font>rad<font color="#000080">(</font>rz<font color="#000080">)) * </font>x1 <font color="#000080">+ </font>sin<font color="#000080">(</font>rad<font color="#000080">(</font>rz<font color="#000080">)) * </font>y<font color="#000080">);
  </font>y1 <font color="#000080">:= </font>round<font color="#000080">(</font>cos<font color="#000080">(</font>rad<font color="#000080">(</font>rz<font color="#000080">)) * </font>y  <font color="#000080">- </font>sin<font color="#000080">(</font>rad<font color="#000080">(</font>rz<font color="#000080">)) * </font>x1<font color="#000080">);
  </font>z  <font color="#000080">:= </font>round<font color="#000080">(</font>cos<font color="#000080">(</font>rad<font color="#000080">(</font>rx<font color="#000080">)) * </font>z1 <font color="#000080">- </font>sin<font color="#000080">(</font>rad<font color="#000080">(</font>rx<font color="#000080">)) * </font>y1<font color="#000080">);
  </font>y  <font color="#000080">:= </font>round<font color="#000080">(</font>sin<font color="#000080">(</font>rad<font color="#000080">(</font>rx<font color="#000080">)) * </font>z1 <font color="#000080">+ </font>cos<font color="#000080">(</font>rad<font color="#000080">(</font>rx<font color="#000080">)) * </font>y1<font color="#000080">);

</font><font color="#008000"><i>{
Because in Turbo Pascal, COS and SIN require radians For the argument,
I wrote a short Function called RAD() that converts degrees into radians
(I find degrees much easier to visualize)
}

  </i></font><font color="#FF0000"><b>Function </b></font>Rad<font color="#000080">(</font>i <font color="#000080">: </font>Integer<font color="#000080">) : </font>Real<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>Rad <font color="#000080">:= </font>i <font color="#000080">* (</font>Pi <font color="#000080">/ </font><font color="#800000">360</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
Of course, since most computers don't have 3D projection screens &lt;G&gt;,
use these equations to provide a sense of perspective to the Object,
but With 2D coordinates you can plot on a screen.

x,y,z are from the equations above, and xc,yc,zc are the center points
for the Object that you are rotating... I recommend setting xc,yc at 0,0
but zc should be very high (+100).
}
  </i></font>x2 <font color="#000080">:= </font>trunc<font color="#000080">((</font>xc <font color="#000080">* </font>z <font color="#000080">- </font>x <font color="#000080">* </font>zc<font color="#000080">) / (</font>z <font color="#000080">- </font>zc<font color="#000080">));
  </font>y2 <font color="#000080">:= </font>trunc<font color="#000080">((</font>yc <font color="#000080">* </font>z <font color="#000080">- </font>y <font color="#000080">* </font>zc<font color="#000080">) / (</font>z <font color="#000080">- </font>zc<font color="#000080">));

</font><font color="#008000"><i>{
Alternatively, if you don't want to bother With perspective, just drop
the z values, and just plot the (x,y) instead.


To use these equations, pick a 3D Object and figure out what the 3D
coordinates are For each point on the Object.  You will have to have some
way to let the computer know which two points are connected.  For the
cube that I did, I had one Array For the points and one For each face
of the cube.  That way the computer can draw connecting lines For each
face With a simple for-loop.
}

</i></font><font color="#FF0000"><b>Type
  </b></font>FaceLoc  <font color="#000080">= </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">4</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Integer<font color="#000080">;
  </font>PointLoc <font color="#000080">= </font><font color="#FF0000"><b>Record
    </b></font>x<font color="#000080">, </font>y<font color="#000080">, </font>z <font color="#000080">: </font>Integer<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>face_c <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">6</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>faceloc <font color="#000080">=(
    (</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">),
    (</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">),
    (</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">),
    (</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">),
    (</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">),
    (</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">));

  </font>point_c <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">8</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>pointloc <font color="#000080">=(
    (-</font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">),
    ( </font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">),
    ( </font><font color="#800000">25</font><font color="#000080">,-</font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">),
    (-</font><font color="#800000">25</font><font color="#000080">,-</font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">),
    (-</font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">,-</font><font color="#800000">25</font><font color="#000080">),
    ( </font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">,-</font><font color="#800000">25</font><font color="#000080">),
    ( </font><font color="#800000">25</font><font color="#000080">,-</font><font color="#800000">25</font><font color="#000080">,-</font><font color="#800000">25</font><font color="#000080">),
    (-</font><font color="#800000">25</font><font color="#000080">,-</font><font color="#800000">25</font><font color="#000080">,-</font><font color="#800000">25</font><font color="#000080">));
</font><font color="#008000"><i>{
There you go.  I'm not going to get much more complicated For now.  if you
can actually get these equations/numbers to work (and I haven't forgotten
anything!) leave me another message, and I'll give you some advice for
filling in the sides of the Object (so that you can only see 3 sides at
once) and some advice to speed things up abit.  if you have any problems
with whats here, show some other people, and maybe as a collective you can
figure it out.  Thats how I got this one started!
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p></body>
</html>
