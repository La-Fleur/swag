<html>
<head><title> "Moving landscape" by BAS VAN GAALEN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0081.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{ NEEDS A MOUSE !!!
And here as promised to several fellows, the moving landscape!
It needs a mouse, as you can see...
Again nothing realy nifty (imho), no bankswitching, no mode-x, no virtual
screens, no palette tricks, just some hard math! ;-) Have fun with it...

--- cut here ---}

</i></font><font color="#FF0000"><b>program </b></font>landscape_2d<font color="#000080">;
</font><font color="#008000"><i>{ 2D landscape (without rotating). Made by Bas van Gaalen, Holland, PD }
</i></font><font color="#FF0000"><b>const
  </b></font>vseg <font color="#000080">= </font><font color="#800000">$a000</font><font color="#000080">;
  </font>a_density <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;
  </font>roughness <font color="#000080">= </font><font color="#800000">20</font><font color="#000080">;
  </font>maxx_scape <font color="#000080">= </font><font color="#800000">320</font><font color="#000080">; </font>maxy_scape <font color="#000080">= </font><font color="#800000">200</font><font color="#000080">;
  </font>maxh <font color="#000080">= </font><font color="#800000">128</font><font color="#000080">;
  </font>maxx <font color="#000080">= </font><font color="#800000">250 </font><font color="#FF0000"><b>div </b></font>a_density<font color="#000080">; </font>maxy <font color="#000080">= </font><font color="#800000">110 </font><font color="#FF0000"><b>div </b></font>a_density<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>landscape <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>maxx_scape<font color="#000080">*</font>maxy_scape<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;

</font><font color="#008000"><i>{ mouse routines ------------------------------------------------------------}

</i></font><font color="#FF0000"><b>function </b></font>mouseinstalled <font color="#000080">: </font>boolean<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">xor ax,ax; int 33h; cmp ax,-1; je @skip; xor al,al; @skip: </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getmousex <font color="#000080">: </font>word<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,3; int 33h; mov ax,cx </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getmousey <font color="#000080">: </font>word<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,3; int 33h; mov ax,dx </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>leftpressed <font color="#000080">: </font>boolean<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,3; int 33h; and bx,1; mov ax,bx </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>mousesensetivity<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,1ah; mov bx,x; mov cx,y; xor dx,dx; int 33h </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>mousewindow<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>b <font color="#000080">: </font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,7; mov cx,l; mov dx,r; int 33h; mov ax,8
  mov cx,t; mov dx,b; int 33h </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ lowlevel video routines ---------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>setvideo<font color="#000080">(</font>m <font color="#000080">: </font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,m; int 10h </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>putpixel<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>word<font color="#000080">; </font>c <font color="#000080">: </font>byte<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,vseg; mov es,ax; mov ax,y; mov dx,320; mul dx
  mov di,ax; add di,x; mov al,c; mov [es:di],al </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getpixel<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>word<font color="#000080">) : </font>byte<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,vseg; mov es,ax; mov ax,y; mov dx,320; mul dx
  mov di,ax; add di,x; mov al,[es:di] </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>setpal<font color="#000080">(</font>c<font color="#000080">,</font>r<font color="#000080">,</font>g<font color="#000080">,</font>b <font color="#000080">: </font>byte<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov dx,03c8h; mov al,c; out dx,al; inc dx; mov al,r
  out dx,al; mov al,g; out dx,al; mov al,b; out dx,al </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>retrace<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov dx,03dah; @l1: in al,dx; test al,8; jnz @l1
  @l2: in al,dx; test al,8; jz @l2 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ initialize palette colors -------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>initcolors<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>i <font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do begin
    </b></font>setpal<font color="#000080">(</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">21</font><font color="#000080">+</font>i <font color="#FF0000"><b>div </b></font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">21</font><font color="#000080">+</font>i <font color="#FF0000"><b>div </b></font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">-</font>i<font color="#000080">);
    </font>setpal<font color="#000080">(</font>i<font color="#000080">+</font><font color="#800000">65</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">-</font>i <font color="#FF0000"><b>div </b></font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">+</font>i <font color="#FF0000"><b>div </b></font><font color="#800000">3</font><font color="#000080">,</font>i <font color="#FF0000"><b>div </b></font><font color="#800000">3</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ landscape generating routines ---------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>adjust<font color="#000080">(</font>xa<font color="#000080">,</font>ya<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>xb<font color="#000080">,</font>yb <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>d<font color="#000080">,</font>c <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>getpixel<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">) &lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
  </font>d <font color="#000080">:= </font>abs<font color="#000080">(</font>xa<font color="#000080">-</font>xb<font color="#000080">)+</font>abs<font color="#000080">(</font>ya<font color="#000080">-</font>yb<font color="#000080">);
  </font>c <font color="#000080">:= (</font><font color="#800000">50</font><font color="#000080">*(</font>getpixel<font color="#000080">(</font>xa<font color="#000080">,</font>ya<font color="#000080">)+</font>getpixel<font color="#000080">(</font>xb<font color="#000080">,</font>yb<font color="#000080">))+</font>trunc<font color="#000080">((</font><font color="#800000">10</font><font color="#000080">*</font>random<font color="#000080">-</font><font color="#800000">5</font><font color="#000080">)*</font>d<font color="#000080">*</font>roughness<font color="#000080">))
</font><font color="#FF0000"><b>div </b></font><font color="#800000">100</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>c <font color="#000080">&lt; </font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>c <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>c <font color="#000080">&gt;= </font>maxh <font color="#FF0000"><b>then </b></font>c <font color="#000080">:= </font>maxh<font color="#000080">;
  </font>putpixel<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>c<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>subdivide<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>b <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">; </font>c <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font><font color="#000080">(</font>r<font color="#000080">-</font>l <font color="#000080">&lt; </font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>b<font color="#000080">-</font>t <font color="#000080">&lt; </font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
  </font>x <font color="#000080">:= (</font>l<font color="#000080">+</font>r<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">; </font>y <font color="#000080">:= (</font>t<font color="#000080">+</font>b<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
  </font>adjust<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>X<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>t<font color="#000080">);
  </font>adjust<font color="#000080">(</font>r<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>Y<font color="#000080">,</font>r<font color="#000080">,</font>b<font color="#000080">);
  </font>adjust<font color="#000080">(</font>l<font color="#000080">,</font>b<font color="#000080">,</font>X<font color="#000080">,</font>b<font color="#000080">,</font>r<font color="#000080">,</font>b<font color="#000080">);
  </font>adjust<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>l<font color="#000080">,</font>Y<font color="#000080">,</font>l<font color="#000080">,</font>b<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>getpixel<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">) = </font><font color="#800000">0 </font><font color="#FF0000"><b>then begin
    </b></font>c <font color="#000080">:= (</font>getpixel<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">)+</font>getpixel<font color="#000080">(</font>r<font color="#000080">,</font>t<font color="#000080">)+</font>getpixel<font color="#000080">(</font>r<font color="#000080">,</font>b<font color="#000080">)+</font>getpixel<font color="#000080">(</font>l<font color="#000080">,</font>b<font color="#000080">)) </font><font color="#FF0000"><b>div </b></font><font color="#800000">4</font><font color="#000080">;
    </font>putpixel<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>c<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>subdivide<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">);
  </font>subdivide<font color="#000080">(</font>x<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>y<font color="#000080">);
  </font>subdivide<font color="#000080">(</font>l<font color="#000080">,</font>y<font color="#000080">,</font>x<font color="#000080">,</font>b<font color="#000080">);
  </font>subdivide<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>r<font color="#000080">,</font>b<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>generatelandscape<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>image <font color="#000080">: </font><font color="#FF0000"><b>file</b></font><font color="#000080">; </font>vidram <font color="#000080">: </font>byte <font color="#FF0000"><b>absolute </b></font>vseg<font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">; </font>i <font color="#000080">: </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>assign<font color="#000080">(</font>image<font color="#000080">,</font><font color="#800000">'plasma.img'</font><font color="#000080">);
  </font><font color="#008000"><i>{$I-} </i></font>reset<font color="#000080">(</font>image<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">); </font><font color="#008000"><i>{$I+}
  </i></font><font color="#FF0000"><b>if </b></font>ioresult <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then begin
    </b></font>randomize<font color="#000080">;
    </font>putpixel<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>random<font color="#000080">(</font>maxh<font color="#000080">));
    </font>putpixel<font color="#000080">(</font>maxx_scape<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>random<font color="#000080">(</font>maxh<font color="#000080">));
    </font>putpixel<font color="#000080">(</font>maxx_scape<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>maxy_scape<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>random<font color="#000080">(</font>maxh<font color="#000080">));
    </font>putpixel<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>maxy_scape<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>random<font color="#000080">(</font>maxh<font color="#000080">));
    </font>subdivide<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>maxx_scape<font color="#000080">,</font>maxy_scape<font color="#000080">);
    </font>rewrite<font color="#000080">(</font>image<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>blockwrite<font color="#000080">(</font>image<font color="#000080">,</font>mem<font color="#000080">[</font>vseg<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">],</font>maxx_scape<font color="#000080">*</font>maxy_scape<font color="#000080">);
  </font><font color="#FF0000"><b>end else </b></font>blockread<font color="#000080">(</font>image<font color="#000080">,</font>mem<font color="#000080">[</font>vseg<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">],</font>maxx_scape<font color="#000080">*</font>maxy_scape<font color="#000080">);
  </font>close<font color="#000080">(</font>image<font color="#000080">);
  </font>move<font color="#000080">(</font>vidram<font color="#000080">,</font>landscape<font color="#000080">,</font>sizeof<font color="#000080">(</font>landscape<font color="#000080">));
  </font>fillchar<font color="#000080">(</font>vidram<font color="#000080">,</font>maxx_scape<font color="#000080">*</font>maxy_scape<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>maxx_scape<font color="#000080">*</font>maxy_scape<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do </b></font>landscape<font color="#000080">[</font>i<font color="#000080">] := </font><font color="#800000">110</font><font color="#000080">+</font>Landscape<font color="#000080">[</font>i<font color="#000080">] </font><font color="#FF0000"><b>div
</b></font><font color="#800000">2</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ the actual displaying of the whole thing! ---------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>displayscape<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>i<font color="#000080">,</font>j<font color="#000080">,</font>previ<font color="#000080">,</font>prevj<font color="#000080">,</font>n <font color="#000080">: </font>word<font color="#000080">; </font>x <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>i <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>j <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>repeat
    </b></font><font color="#008000"><i>{retrace;}
    </i></font>previ <font color="#000080">:= </font>i<font color="#000080">; </font>i <font color="#000080">:= </font>getmousex<font color="#000080">; </font>prevj <font color="#000080">:= </font>j<font color="#000080">; </font>j <font color="#000080">:= </font>getmousey<font color="#000080">;
    </font><font color="#FF0000"><b>for </b></font>n <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>maxx<font color="#000080">*</font>maxy<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do begin
      </b></font>x <font color="#000080">:= -(</font>a_density<font color="#000080">*(</font>integer<font color="#000080">(</font>n <font color="#FF0000"><b>mod </b></font>maxx<font color="#000080">)-(</font>maxx <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">45</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#000080">(</font>integer<font color="#000080">(</font>n
<font color="#FF0000"><b>div </b></font>maxx<font color="#000080">)-</font><font color="#800000">45</font><font color="#000080">)-</font><font color="#800000">90</font><font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>x <font color="#000080">&gt;= -</font><font color="#800000">250</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>X <font color="#000080">&lt;= </font><font color="#800000">60</font><font color="#000080">) </font><font color="#FF0000"><b>then begin
        </b></font>mem<font color="#000080">[</font>vseg<font color="#000080">:</font><font color="#800000">320</font><font color="#000080">*(</font>a_density<font color="#000080">*</font>integer<font color="#000080">(</font>n <font color="#FF0000"><b>div </b></font>maxx<font color="#000080">)-</font>landscape<font color="#000080">[</font>n <font color="#FF0000"><b>mod
</b></font>maxx<font color="#000080">+</font>previ<font color="#000080">+(</font>n <font color="#FF0000"><b>div </b></font>maxx<font color="#000080">+</font>prevj<font color="#000080">)*</font>maxx_scape<font color="#000080">])+</font>x<font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
        </font>mem<font color="#000080">[</font>vseg<font color="#000080">:</font><font color="#800000">320</font><font color="#000080">*(</font>a_density<font color="#000080">*</font>integer<font color="#000080">(</font>n <font color="#FF0000"><b>div </b></font>maxx<font color="#000080">)-</font>landscape<font color="#000080">[</font>n <font color="#FF0000"><b>mod </b></font>maxx<font color="#000080">+</font>i<font color="#000080">+(</font>n
<font color="#FF0000"><b>div </b></font>maxx<font color="#000080">+</font>j<font color="#000080">)*</font>maxx_scape<font color="#000080">])+</font>x<font color="#000080">] :=
          </font>landscape<font color="#000080">[(</font>integer<font color="#000080">(</font>n <font color="#FF0000"><b>mod </b></font>maxx<font color="#000080">)+</font>i<font color="#000080">)+(</font>integer<font color="#000080">(</font>n <font color="#FF0000"><b>div
</b></font>maxx<font color="#000080">)+</font>j<font color="#000080">)*</font>maxx_scape<font color="#000080">]-</font><font color="#800000">100</font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>until </b></font>leftpressed<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ main routine --------------------------------------------------------------}

</i></font><font color="#FF0000"><b>begin
  if </b></font>mouseinstalled <font color="#FF0000"><b>then begin
    </b></font>setvideo<font color="#000080">(</font><font color="#800000">$13</font><font color="#000080">);
    </font>initcolors<font color="#000080">;
    </font>generatelandscape<font color="#000080">;
    </font>mousewindow<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>maxx_scape<font color="#000080">-</font>maxx<font color="#000080">,</font>maxy_scape<font color="#000080">-</font>maxy<font color="#000080">);
    </font>mousesensetivity<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">);
    </font>displayscape<font color="#000080">;
    </font>setvideo<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">);
  </font><font color="#FF0000"><b>end else </b></font>writeln<font color="#000080">(</font><font color="#800000">'This interactive thing realy needs a mouse...'</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0081.PAS">Original</a><b>]</b></p></body>
</html>
