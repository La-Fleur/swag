<html>
<head><title> "Yet another FLAMES unit" by TOMAS LAURENZO CORONEL</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0260.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{$G+}
{- FUEGO.PAS
                              Fuego - Flames
                             ----------------
                           tlaure@lsa.lsa.com.uy
                           Tomas Laurenzo - 1997
                            Montevideo - Uruguay
 ----------------------------------------------------------------------------
 
  DISCLAIMER: Same as usual, use it at your own risk.
 
  COPYRIGHT: Use it freely, just remember _I_ coded it :)
 
 
  DESCRIPTION:
  This is a simple flames routine, with two fades at the end
  I do use some routines that i've collected for quite awhile.
  I think most of'em are from the SWAG files, and from the Asphyxia VGA
  Trainer by Denthor... which helped me a lot, (not very long :) time ago.
 
  Sorry, it's not optimized, but as long as it uses no ASM (appart from
  plotting dots and the palette stuff, wich is not &quot;Fire code&quot;), it's really
  easy to follow the code.
 
  Once the program is running, with the keys '4','5','1' and '2', you can
  move the limits of the fire.
 
  Any comments, suggestions, whatever, _please_ mail.
 
  Sal&pound;,
    Tom.
 
^`&sect;:;,.,;:&sect;'^`&sect;:;,.,;:&sect;'^`&sect;:;,.,;:&sect;'^`&sect;:;,.,;:&sect;'^`&sect;:;,.,;:&sect;'^`&sect;:;,.,;:&sect;'^`&sect;:;,.
}
 
 
 
</i></font><font color="#FF0000"><b>PROGRAM </b></font>Fuego<font color="#000080">;
 
 </font><font color="#FF0000"><b>USES
   </b></font>Crt<font color="#000080">;
 
 
 </font><font color="#FF0000"><b>CONST </b></font>Alt  <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;    </font><font color="#008000"><i>{ The line from where we start redrawing the screen }
       </i></font>VGA  <font color="#000080">= </font><font color="#800000">$A000</font><font color="#000080">;
 
 </font><font color="#FF0000"><b>TYPE
      </b></font>Tcolor  <font color="#000080">= </font><font color="#FF0000"><b>RECORD                      </b></font><font color="#008000"><i>{ Las componentes RGB de un color}
                 </i></font>R<font color="#000080">,</font>G<font color="#000080">,</font>B <font color="#000080">: </font>Byte<font color="#000080">;
               </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
 
     </font>Tpaleta <font color="#000080">= </font><font color="#FF0000"><b>ARRAY </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Tcolor<font color="#000080">;
 
 
 </font><font color="#FF0000"><b>VAR </b></font>Y<font color="#000080">,
     </font>X     <font color="#000080">: </font>Word<font color="#000080">;
     </font>Scr   <font color="#000080">: </font><font color="#FF0000"><b>ARRAY </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">319</font><font color="#000080">, </font>Alt<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">199</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>BYTE<font color="#000080">; </font><font color="#008000"><i>{ This will store the colors }
     </i></font>MinX<font color="#000080">,                                       </font><font color="#008000"><i>{ of every dot in the screen }
     </i></font>MaxX  <font color="#000080">: </font>Word<font color="#000080">;                  </font><font color="#008000"><i>{ The limits of the fire }
     </i></font>Sigue <font color="#000080">: </font>Boolean<font color="#000080">;
     </font>Tecla <font color="#000080">: </font>Char<font color="#000080">;
 
 
</font><font color="#008000"><i>{............................................................................}
 
 </i></font><font color="#FF0000"><b>PROCEDURE </b></font>Retraso<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;   </font><font color="#008000"><i>{ Waits for the vertical retrace }
  </i></font><font color="#FF0000"><b>ASM
      </b></font><font color="#FF00FF">mov   dx,3DAh
  @@1:
      in    al,dx
      and   al,08h
      jnz   @@1
  @@2:
      in    al,dx
      and   al,08h
      jz    @@2
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
</font><font color="#008000"><i>{............................................................................}
 
 </i></font><font color="#FF0000"><b>PROCEDURE </b></font>SeteaColor <font color="#000080">(</font>Col <font color="#000080">: </font>Byte<font color="#000080">; </font>Color <font color="#000080">: </font>Tcolor<font color="#000080">);
   </font><font color="#008000"><i>{ Sets a color of the palette}
  </i></font><font color="#FF0000"><b>VAR </b></font>R<font color="#000080">,</font>G<font color="#000080">,</font>B <font color="#000080">: </font>Byte<font color="#000080">;
 
  </font><font color="#FF0000"><b>BEGIN
    </b></font>R <font color="#000080">:= </font>Color<font color="#000080">.</font>R<font color="#000080">;
    </font>G <font color="#000080">:= </font>Color<font color="#000080">.</font>G<font color="#000080">;
    </font>B <font color="#000080">:= </font>Color<font color="#000080">.</font>B<font color="#000080">;
 
   </font><font color="#FF0000"><b>ASM
     </b></font><font color="#FF00FF">mov    dx,3c8h
     mov    al,[col]
     out    dx,al
     inc    dx
     mov    al,[r]
     out    dx,al
     mov    al,[g]
     out    dx,al
     mov    al,[b]
     out    dx,al
   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
</font><font color="#008000"><i>{............................................................................}
 
 </i></font><font color="#FF0000"><b>PROCEDURE </b></font>CargaColor <font color="#000080">(</font>Col <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>VAR </b></font>Color <font color="#000080">: </font>Tcolor<font color="#000080">);
   </font><font color="#008000"><i>{ Loads a color from the palette }
 
  </i></font><font color="#FF0000"><b>VAR
    </b></font>rr<font color="#000080">,</font>gg<font color="#000080">,</font>bb <font color="#000080">: </font>Byte<font color="#000080">;
 
  </font><font color="#FF0000"><b>BEGIN
    ASM
       </b></font><font color="#FF00FF">mov    dx,3c7h
       mov    al,col
       out    dx,al
 
       add    dx,2
 
       in     al,dx
       mov    [rr],al
       in     al,dx
       mov    [gg],al
       in     al,dx
       mov    [bb],al
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font>Color<font color="#000080">.</font>r <font color="#000080">:= </font>rr<font color="#000080">;
    </font>Color<font color="#000080">.</font>g <font color="#000080">:= </font>gg<font color="#000080">;
    </font>Color<font color="#000080">.</font>b <font color="#000080">:= </font>bb<font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
</font><font color="#008000"><i>{............................................................................}
 
 </i></font><font color="#FF0000"><b>PROCEDURE </b></font>FadeOut <font color="#000080">(</font>Ret <font color="#000080">: </font>Boolean<font color="#000080">); </font><font color="#008000"><i>{ Fades the screen out }
  </i></font><font color="#FF0000"><b>VAR </b></font>I       <font color="#000080">: </font>Byte<font color="#000080">;
      </font>ColTemp <font color="#000080">: </font>tColor<font color="#000080">;
      </font>Paleta  <font color="#000080">: </font>tPaleta<font color="#000080">;
 
  </font><font color="#FF0000"><b>FUNCTION </b></font>Hay <font color="#000080">: </font>Boolean<font color="#000080">;
    </font><font color="#FF0000"><b>VAR </b></font>I       <font color="#000080">: </font>Byte<font color="#000080">;
        </font>ColTemp <font color="#000080">: </font>tColor<font color="#000080">;
        </font>Paleta  <font color="#000080">: </font>tPaleta<font color="#000080">;
        </font>H       <font color="#000080">: </font>Boolean<font color="#000080">;
 
    </font><font color="#FF0000"><b>BEGIN
     FOR </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO </b></font>CargaColor <font color="#000080">(</font>I<font color="#000080">,</font>Paleta<font color="#000080">[</font>I<font color="#000080">]);
     </font>H <font color="#000080">:= </font>False<font color="#000080">;
     </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO BEGIN
           IF </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>R <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>H <font color="#000080">:= </font>True<font color="#000080">;
           </font><font color="#FF0000"><b>IF </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>G <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>H <font color="#000080">:= </font>True<font color="#000080">;
           </font><font color="#FF0000"><b>IF </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>B <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>H <font color="#000080">:= </font>True<font color="#000080">;
           </font><font color="#FF0000"><b>IF </b></font>H <font color="#000080">= </font>True <font color="#FF0000"><b>THEN </b></font>Exit<font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font>Hay <font color="#000080">:= </font>H<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
  </font><font color="#FF0000"><b>BEGIN
   WHILE </b></font>Hay <font color="#FF0000"><b>DO BEGIN
    FOR </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO </b></font>CargaColor <font color="#000080">(</font>I<font color="#000080">,</font>Paleta<font color="#000080">[</font>I<font color="#000080">]);
    </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO BEGIN
          IF </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>R <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>Dec <font color="#000080">(</font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>R<font color="#000080">);
          </font><font color="#FF0000"><b>IF </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>G <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>Dec <font color="#000080">(</font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>G<font color="#000080">);
          </font><font color="#FF0000"><b>IF </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>B <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>Dec <font color="#000080">(</font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>B<font color="#000080">);
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">255 </font><font color="#FF0000"><b>DownTO </b></font><font color="#800000">0 </font><font color="#FF0000"><b>DO </b></font>SeteaColor <font color="#000080">(</font>I<font color="#000080">,</font>Paleta<font color="#000080">[</font>I<font color="#000080">]);
    </font><font color="#FF0000"><b>IF </b></font>Ret <font color="#000080">= </font>True <font color="#FF0000"><b>THEN </b></font>Retraso<font color="#000080">;
   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
</font><font color="#008000"><i>{............................................................................}
 
 </i></font><font color="#FF0000"><b>PROCEDURE </b></font>FadeWhite <font color="#000080">(</font>Ret <font color="#000080">: </font>Boolean<font color="#000080">);  </font><font color="#008000"><i>{ Fade the screens to white }
  </i></font><font color="#FF0000"><b>VAR </b></font>J<font color="#000080">,
      </font>I       <font color="#000080">: </font>Byte<font color="#000080">;
      </font>ColTemp <font color="#000080">: </font>tColor<font color="#000080">;
      </font>Paleta  <font color="#000080">: </font>tPaleta<font color="#000080">;
 
  </font><font color="#FF0000"><b>BEGIN
   FOR </b></font>J <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">64 </font><font color="#FF0000"><b>DO BEGIN
    FOR </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO </b></font>CargaColor <font color="#000080">(</font>I<font color="#000080">,</font>Paleta<font color="#000080">[</font>I<font color="#000080">]);
    </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">255 </font><font color="#FF0000"><b>DO BEGIN
          IF </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>R <font color="#000080">&lt; </font><font color="#800000">63 </font><font color="#FF0000"><b>THEN </b></font>Inc <font color="#000080">(</font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>R<font color="#000080">)
                               </font><font color="#FF0000"><b>ELSE </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>R <font color="#000080">:= </font><font color="#800000">63</font><font color="#000080">;
          </font><font color="#FF0000"><b>IF </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>G <font color="#000080">&lt; </font><font color="#800000">63 </font><font color="#FF0000"><b>THEN </b></font>Inc <font color="#000080">(</font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>G<font color="#000080">)
                               </font><font color="#FF0000"><b>ELSE </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>G <font color="#000080">:= </font><font color="#800000">63</font><font color="#000080">;
          </font><font color="#FF0000"><b>IF </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>B <font color="#000080">&lt; </font><font color="#800000">63 </font><font color="#FF0000"><b>THEN </b></font>Inc <font color="#000080">(</font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>B<font color="#000080">)
                               </font><font color="#FF0000"><b>ELSE </b></font>Paleta<font color="#000080">[</font>I<font color="#000080">].</font>B <font color="#000080">:= </font><font color="#800000">63</font><font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">255 </font><font color="#FF0000"><b>DownTO </b></font><font color="#800000">0 </font><font color="#FF0000"><b>DO </b></font>SeteaColor <font color="#000080">(</font>I<font color="#000080">,</font>Paleta<font color="#000080">[</font>I<font color="#000080">]);
    </font><font color="#FF0000"><b>IF </b></font>Ret <font color="#000080">= </font>True <font color="#FF0000"><b>THEN </b></font>Retraso<font color="#000080">;
   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
</font><font color="#008000"><i>{............................................................................}
 
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>Cls <font color="#000080">(</font>Col <font color="#000080">: </font>Byte<font color="#000080">; </font>Where<font color="#000080">:</font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;  </font><font color="#008000"><i>{ Clears the screen }
   </i></font><font color="#FF0000"><b>ASM                                                </b></font><font color="#008000"><i>{ to the color #col }
    </i></font><font color="#FF00FF">push    es
    mov     cx, 32000;
    mov     es,[where]
    xor     di,di
    mov     al,[col]
    mov     ah,al
    rep     stosw
    pop     es
   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
 
</font><font color="#008000"><i>{............................................................................}
 
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>Modo13h<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;   </font><font color="#008000"><i>{ Goes into 13h VGA mode }
   </i></font><font color="#FF0000"><b>ASM
    </b></font><font color="#FF00FF">MOV AX, 13h
    INT 10h
   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
</font><font color="#008000"><i>{............................................................................}
 { Plots a dot to the screen }
 </i></font><font color="#FF0000"><b>PROCEDURE </b></font>PutDot <font color="#000080">(</font>X<font color="#000080">,</font>Y <font color="#000080">: </font>Integer<font color="#000080">; </font>Color <font color="#000080">: </font>Byte<font color="#000080">; </font>SegDes<font color="#000080">:</font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>ASM
   </b></font><font color="#FF00FF">cmp  X,0
   jl   @@</font><font color="#FF0000"><b>END
   </b></font>cmp  Y<font color="#000080">,</font><font color="#800000">0
   </font>jl   <font color="#000080">@@</font><font color="#FF0000"><b>END
   </b></font>cmp  X<font color="#000080">,</font><font color="#800000">319
   </font>jg   <font color="#000080">@@</font><font color="#FF0000"><b>END
   </b></font>cmp  Y<font color="#000080">,</font><font color="#800000">199
   </font>jg   <font color="#000080">@@</font><font color="#FF0000"><b>END
   </b></font>mov  ax<font color="#000080">,</font>SegDes
   mov  es<font color="#000080">,</font>ax
   mov  al<font color="#000080">,</font>Color
   mov  di<font color="#000080">,</font>Y
   mov  bx<font color="#000080">,</font>X
   mov  dx<font color="#000080">,</font>di
   xchg dh<font color="#000080">,</font>dl
   <font color="#FF0000"><b>shl  </b></font>di<font color="#000080">,</font><font color="#800000">6
   </font>add  di<font color="#000080">,</font>dx
   add  di<font color="#000080">,</font>bx
   mov  es<font color="#000080">:[</font>di<font color="#000080">],</font>al
 <font color="#000080">@@</font><font color="#FF0000"><b>END</b></font><font color="#000080">:
 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
</font><font color="#008000"><i>{............................................................................}
 
 </i></font><font color="#FF0000"><b>PROCEDURE </b></font>Promedio<font color="#000080">;       </font><font color="#008000"><i>{ Averages the screen dots }
  </i></font><font color="#FF0000"><b>VAR </b></font>X<font color="#000080">, </font>Y <font color="#000080">: </font>Word<font color="#000080">;
  </font><font color="#FF0000"><b>BEGIN
   FOR </b></font>X <font color="#000080">:= </font>MinX<font color="#000080">+</font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>MaxX<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>DO FOR </b></font>Y <font color="#000080">:= </font>Alt <font color="#FF0000"><b>TO </b></font><font color="#800000">199 </font><font color="#FF0000"><b>DO
     </b></font>Scr <font color="#000080">[</font>X<font color="#000080">,</font>Y<font color="#000080">] := (</font>Scr<font color="#000080">[</font>X<font color="#000080">,</font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] + </font>Scr <font color="#000080">[</font>X<font color="#000080">,</font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] + </font>Scr<font color="#000080">[</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] + </font>Scr <font color="#000080">[</font>X<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>Y<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">]) </font><font color="#FF0000"><b>div </b></font><font color="#800000">4
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
 
</font><font color="#008000"><i>{............................................................................}
 
 </i></font><font color="#FF0000"><b>PROCEDURE </b></font>Escribo<font color="#000080">;        </font><font color="#008000"><i>{ This plots the dots to the screen }
  </i></font><font color="#FF0000"><b>VAR </b></font>X<font color="#000080">, </font>Y <font color="#000080">: </font>Word<font color="#000080">;
  </font><font color="#FF0000"><b>BEGIN
   FOR </b></font>X <font color="#000080">:= </font>MinX <font color="#FF0000"><b>TO </b></font>MaxX <font color="#FF0000"><b>DO FOR </b></font>Y <font color="#000080">:= </font>Alt <font color="#FF0000"><b>TO </b></font><font color="#800000">198 </font><font color="#FF0000"><b>DO IF </b></font>Scr<font color="#000080">[</font>X<font color="#000080">,</font>Y<font color="#000080">] &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>PutDot <font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>Scr<font color="#000080">[</font>X<font color="#000080">,</font>Y<font color="#000080">],</font>VGA<font color="#000080">);
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
</font><font color="#008000"><i>{............................................................................}
 
 </i></font><font color="#FF0000"><b>PROCEDURE </b></font>CreoPaleta<font color="#000080">;    </font><font color="#008000"><i>{  Creates the palette }
  </i></font><font color="#FF0000"><b>VAR </b></font>Paleta  <font color="#000080">: </font>tPaleta<font color="#000080">;
      </font>ColTemp <font color="#000080">: </font>tColor<font color="#000080">;
      </font>I       <font color="#000080">: </font>Byte<font color="#000080">;
 
  </font><font color="#FF0000"><b>BEGIN
    FOR </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">64 </font><font color="#FF0000"><b>DO BEGIN
      </b></font>ColTemp<font color="#000080">.</font>R <font color="#000080">:= </font>I<font color="#000080">;
      </font>ColTemp<font color="#000080">.</font>G <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font>ColTemp<font color="#000080">.</font>B <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font>Paleta<font color="#000080">[</font>I<font color="#000080">] := </font>ColTemp<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">64 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">128 </font><font color="#FF0000"><b>DO BEGIN
      </b></font>ColTemp<font color="#000080">.</font>R <font color="#000080">:= </font><font color="#800000">255</font><font color="#000080">;
      </font>ColTemp<font color="#000080">.</font>G <font color="#000080">:= </font>I<font color="#000080">;
      </font>ColTemp<font color="#000080">.</font>B <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font>Paleta<font color="#000080">[</font>I<font color="#000080">] := </font>ColTemp<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">118 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">150 </font><font color="#FF0000"><b>DO BEGIN
      </b></font>ColTemp<font color="#000080">.</font>R <font color="#000080">:= </font><font color="#800000">255</font><font color="#000080">;
      </font>ColTemp<font color="#000080">.</font>G <font color="#000080">:= </font><font color="#800000">128</font><font color="#000080">;
      </font>ColTemp<font color="#000080">.</font>B <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font>Paleta<font color="#000080">[</font>I<font color="#000080">] := </font>ColTemp<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">150 </font><font color="#FF0000"><b>DO </b></font>SeteaColor <font color="#000080">(</font>I<font color="#000080">,</font>Paleta<font color="#000080">[</font>I<font color="#000080">])
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
</font><font color="#008000"><i>{............................................................................}
                               { Main }
 </i></font><font color="#FF0000"><b>BEGIN
   </b></font>Modo13h<font color="#000080">;
   </font>CreoPaleta<font color="#000080">;
   </font>Cls <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>VGA<font color="#000080">);
   </font>MinX <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
   </font>MaxX <font color="#000080">:= </font><font color="#800000">319</font><font color="#000080">;
   </font>Sigue <font color="#000080">:= </font>True<font color="#000080">;
   </font><font color="#FF0000"><b>FOR </b></font>X <font color="#000080">:= </font>MinX <font color="#FF0000"><b>TO </b></font>MaxX <font color="#FF0000"><b>DO BEGIN       </b></font><font color="#008000"><i>{ Initialize the Scr array to 0 }
     </i></font><font color="#FF0000"><b>FOR </b></font>Y <font color="#000080">:= </font>Alt<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">199 </font><font color="#FF0000"><b>DO BEGIN
       </b></font>Scr <font color="#000080">[</font>X<font color="#000080">,</font>Y<font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>WHILE </b></font>Sigue <font color="#FF0000"><b>DO BEGIN
    FOR </b></font>X <font color="#000080">:= </font>MinX <font color="#FF0000"><b>TO </b></font>MaxX <font color="#FF0000"><b>DO </b></font>Scr <font color="#000080">[</font>X<font color="#000080">,</font><font color="#800000">199</font><font color="#000080">] := </font>Random <font color="#000080">(</font><font color="#800000">100</font><font color="#000080">)+</font><font color="#800000">40</font><font color="#000080">; </font><font color="#008000"><i>{ The first line }
    </i></font>Promedio<font color="#000080">;
    </font>Escribo<font color="#000080">;
 
    </font><font color="#FF0000"><b>IF </b></font>KeyPressed <font color="#FF0000"><b>THEN BEGIN
      </b></font>Tecla <font color="#000080">:= </font>ReadKey<font color="#000080">;
      </font><font color="#FF0000"><b>CASE </b></font>Tecla <font color="#FF0000"><b>OF
        </b></font><font color="#800000">'4' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>MaxX <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>MaxX <font color="#000080">&gt; </font>MinX<font color="#000080">+</font><font color="#800000">10</font><font color="#000080">) </font><font color="#FF0000"><b>THEN BEGIN
                </b></font>Dec <font color="#000080">(</font>MaxX<font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
                </font><font color="#FF0000"><b>FOR </b></font>X <font color="#000080">:= </font>MaxX <font color="#FF0000"><b>to </b></font><font color="#800000">319 </font><font color="#FF0000"><b>DO
                    FOR </b></font>Y <font color="#000080">:= </font>Alt<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">199 </font><font color="#FF0000"><b>DO </b></font>PutDot <font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>VGA<font color="#000080">);
              </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 
        </font><font color="#800000">'5' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>MaxX <font color="#000080">&lt; </font><font color="#800000">319 </font><font color="#FF0000"><b>THEN </b></font>Inc <font color="#000080">(</font>MaxX<font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
        </font><font color="#800000">'1' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>MinX <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>Dec <font color="#000080">(</font>MinX<font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
        </font><font color="#800000">'2' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>MinX <font color="#000080">&lt; </font><font color="#800000">319</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>MinX <font color="#000080">&lt; </font>MaxX<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">) </font><font color="#FF0000"><b>THEN BEGIN
                </b></font>Inc <font color="#000080">(</font>MinX<font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
                </font><font color="#FF0000"><b>FOR </b></font>X <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>MinX <font color="#FF0000"><b>DO
                    FOR </b></font>Y <font color="#000080">:= </font>Alt<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">199 </font><font color="#FF0000"><b>DO </b></font>PutDot <font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>VGA<font color="#000080">);
              </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>ELSE </b></font>Sigue <font color="#000080">:= </font>False<font color="#000080">;
      </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
   </font>FadeWhite <font color="#000080">(</font>True<font color="#000080">);
   </font>Cls <font color="#000080">(</font><font color="#800000">53</font><font color="#000080">,</font>VGA<font color="#000080">);
   </font>FadeOut <font color="#000080">(</font>True<font color="#000080">);
 </font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0260.PAS">Original</a><b>]</b></p></body>
</html>
