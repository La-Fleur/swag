<html>
<head><title> "Electric Shock" by BOSTJAN GABROVSEK</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0271.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{If you have any questions please send me mail at OleRom@hotmail.com}
</i></font><font color="#FF0000"><b>Uses </b></font>Graph<font color="#000080">, </font>Crt<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>X<font color="#000080">, </font>Y <font color="#000080">: </font>Word<font color="#000080">;
    </font>R <font color="#000080">: </font>ShortInt<font color="#000080">;
    </font>Xx <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">10</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Word<font color="#000080">;
    </font>C <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">10</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
    </font>W <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">10</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Word<font color="#000080">;
    </font>B <font color="#000080">: </font>Byte<font color="#000080">;
    </font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
</font><font color="#FF0000"><b>Procedure </b></font>SetGraph<font color="#000080">;
</font><font color="#008000"><i>{$F+} </i></font><font color="#FF0000"><b>Function </b></font>DETECTSvga <font color="#000080">: </font>Integer<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#008000"><i>{$F-} </i></font><font color="#FF0000"><b>asm </b></font><font color="#FF00FF">mov ax,0002h </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>GDr <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin
 </b></font>GDr <font color="#000080">:= </font>InstallUserDriver<font color="#000080">(</font><font color="#800000">'SVGA256'</font><font color="#000080">,@</font>DETECTSvga<font color="#000080">);
 </font>GDr <font color="#000080">:= </font>DETECT<font color="#000080">;
 </font>InitGraph<font color="#000080">(</font>GDr<font color="#000080">,</font>GDr<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>SetPal<font color="#000080">(</font>Color<font color="#000080">,</font>R<font color="#000080">,</font>G<font color="#000080">,</font>B<font color="#000080">:</font>Byte<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov dx,03C8h; mov al,[Color]; out dx,al
  inc dx; mov al,[R]; out dx,al
  mov al,[G]; out dx,al; mov al,[B]; out dx,al
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Begin
</b></font>SetGraph<font color="#000080">;
</font><font color="#FF0000"><b>For </b></font>B <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do </b></font>SetPal<font color="#000080">(</font>B<font color="#000080">,</font>B<font color="#000080">,</font>B<font color="#000080">,</font>B <font color="#FF0000"><b>div </b></font><font color="#800000">3</font><font color="#000080">);
</font><font color="#FF0000"><b>Repeat
</b></font>ClearDevice<font color="#000080">;
</font><font color="#FF0000"><b>For </b></font>B <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">10 </font><font color="#FF0000"><b>do </b></font>C<font color="#000080">[</font>B<font color="#000080">] := </font>Random<font color="#000080">(</font><font color="#800000">63</font><font color="#000080">);
 </font>X <font color="#000080">:= </font>GetMaxX <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
 </font><font color="#FF0000"><b>For </b></font>B <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">10 </font><font color="#FF0000"><b>do </b></font>W<font color="#000080">[</font>b<font color="#000080">] := </font>Random<font color="#000080">(</font><font color="#800000">300</font><font color="#000080">)-</font><font color="#800000">150</font><font color="#000080">+</font>GetMaxY <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
 </font><font color="#FF0000"><b>For </b></font>Y <font color="#000080">:= </font><font color="#800000">00 </font><font color="#FF0000"><b>to </b></font>GetMaxY <font color="#FF0000"><b>do
  Begin
   For </b></font>B <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">10 </font><font color="#FF0000"><b>do
    If </b></font>Y <font color="#000080">= </font>W<font color="#000080">[</font>B<font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Xx<font color="#000080">[</font>B<font color="#000080">] := </font>X<font color="#000080">;
   </font><font color="#FF0000"><b>If </b></font>Y <font color="#FF0000"><b>mod </b></font><font color="#800000">10 </font><font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>R <font color="#000080">:= </font>Random<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
   </font>X<font color="#000080">:=</font>X<font color="#000080">+</font>R<font color="#000080">;
   </font>X<font color="#000080">:=</font>X<font color="#000080">+</font>Random<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
   </font>PutPixel<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font><font color="#800000">63</font><font color="#000080">);
   </font>PutPixel<font color="#000080">(</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>Y<font color="#000080">,</font><font color="#800000">23</font><font color="#000080">);
   </font>PutPixel<font color="#000080">(</font>X<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>Y<font color="#000080">,</font><font color="#800000">23</font><font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>For </b></font>B <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">10 </font><font color="#FF0000"><b>do
Begin
 </b></font>X <font color="#000080">:= </font>Xx<font color="#000080">[</font>B<font color="#000080">];
 </font><font color="#FF0000"><b>For </b></font>Y <font color="#000080">:= </font>w<font color="#000080">[</font>b<font color="#000080">] </font><font color="#FF0000"><b>to </b></font>W<font color="#000080">[</font>b<font color="#000080">] + </font>Random<font color="#000080">(</font><font color="#800000">200</font><font color="#000080">) </font><font color="#FF0000"><b>do
  Begin
   If </b></font>Y <font color="#FF0000"><b>mod </b></font><font color="#800000">10 </font><font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>R <font color="#000080">:= </font>Random<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
   </font>X<font color="#000080">:=</font>X<font color="#000080">+</font>R<font color="#000080">+</font>Random<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
   </font><font color="#FF0000"><b>If </b></font>Odd<font color="#000080">(</font>Y<font color="#000080">) </font><font color="#FF0000"><b>then
    If </b></font>Odd<font color="#000080">(</font>B<font color="#000080">) </font><font color="#FF0000"><b>then </b></font>Inc<font color="#000080">(</font>X<font color="#000080">) </font><font color="#FF0000"><b>else </b></font>Dec<font color="#000080">(</font>X<font color="#000080">);
   </font>PutPixel<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>C<font color="#000080">[</font>B<font color="#000080">]);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{ ReadLn(S);}
</i></font><font color="#FF0000"><b>Until </b></font>Port<font color="#000080">[</font><font color="#800000">$60</font><font color="#000080">] = </font><font color="#800000">1</font><font color="#000080">;
</font>NOSound<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0271.PAS">Original</a><b>]</b></p></body>
</html>
