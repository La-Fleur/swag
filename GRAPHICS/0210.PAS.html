<html>
<head><title> "Orbit Simulator" by RYAN@EMIKO.IGCOM.NET</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0210.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000"> <font color="#008000"><i>(*-------------------------------------------------------------------------
 little orbit simulator I just wrote (I guess thats what you could call it)
 I was going to add more use with the mouse.. and maybe make it into a
 starcontrol 2 type game, but ..I should really do that in c :) I hate using
 C tho! :) Borland, please come out with BP 8 !

 code is.. freeware

 mail me if you have any comments/questions/suggestions
 I dont know if the math is 100% correct, but I'd like it to be as correct
 as possible.. if you add anything to this, mail it to me

 ryan@emiko.igcom.net
 (or if that fails, ryan@ripco.com)
 --------------------------------------------------------------------------*)

 {$G+,N+,E+}
 </i></font><font color="#FF0000"><b>Uses </b></font>mymouse<font color="#000080">, </font><font color="#008000"><i>{stuff,} </i></font>Crt<font color="#000080">;  </font><font color="#008000"><i>{ mymouse is in MOUSE.SWG !! }

 </i></font><font color="#FF0000"><b>Type
   </b></font>Thing<font color="#000080">=</font><font color="#FF0000"><b>record
     </b></font>mass<font color="#000080">: </font>real<font color="#000080">;
     </font>x<font color="#000080">,</font>y<font color="#000080">, </font>Oldx<font color="#000080">,</font>Oldy<font color="#000080">: </font>real<font color="#000080">; </font><font color="#008000"><i>{position}
     </i></font>vx<font color="#000080">, </font>vy <font color="#000080">: </font>real<font color="#000080">; </font><font color="#008000"><i>{x and y velocity}
   </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

 </font><font color="#FF0000"><b>Var
   </b></font>ch<font color="#000080">:</font>char<font color="#000080">;
   </font>st<font color="#000080">,</font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;
   </font>ok<font color="#000080">:</font>boolean<font color="#000080">;
   </font>loops<font color="#000080">:</font>longint<font color="#000080">;
   </font>i<font color="#000080">:</font>integer<font color="#000080">;
   </font>ob<font color="#000080">,</font>test<font color="#000080">:</font>thing<font color="#000080">;
   </font>oba<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">20</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>thing<font color="#000080">;
   </font><font color="#008000"><i>{--config stuff--}
   </i></font>B<font color="#000080">,</font>trail<font color="#000080">:</font>byte<font color="#000080">;
   </font>thedelay<font color="#000080">:</font>word<font color="#000080">;
   </font>do1<font color="#000080">,</font>mouseshown<font color="#000080">:</font>boolean<font color="#000080">;
   </font>scale<font color="#000080">,</font>maxspeed<font color="#000080">:</font>integer<font color="#000080">;
   </font>lastmouseuse<font color="#000080">:</font>word<font color="#000080">;
   </font>TotalThings<font color="#000080">,</font>constant<font color="#000080">,</font>gr<font color="#000080">:</font>integer<font color="#000080">;

   </font><font color="#008000"><i>{can you tell I wrote this in 2 hours?}

   </i></font><font color="#FF0000"><b>procedure </b></font>config<font color="#000080">;
   </font><font color="#FF0000"><b>var </b></font>t<font color="#000080">:</font>text<font color="#000080">;
       </font>i<font color="#000080">:</font>integer<font color="#000080">;
   </font><font color="#FF0000"><b>begin
     </b></font>gr<font color="#000080">:= -</font><font color="#800000">1</font><font color="#000080">;            </font><font color="#008000"><i>{if -1, gravity, if 1, repluse }
     </i></font>constant<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;        </font><font color="#008000"><i>{constant of the universe &quot;or something&quot;, 1}
     </i></font>do1<font color="#000080">:=</font>false<font color="#000080">;         </font><font color="#008000"><i>{false=obj 1 is center of universe}
     </i></font>trail<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;           </font><font color="#008000"><i>{0=none 1=grey 2=color}
     </i></font>scale<font color="#000080">:=</font><font color="#800000">10</font><font color="#000080">;          </font><font color="#008000"><i>{drawing scale (pixles=mass/scale) not at all accurate, just for show}
     </i></font>maxspeed<font color="#000080">:=</font><font color="#800000">5</font><font color="#000080">;        </font><font color="#008000"><i>{speed of light? :) fastest anything can go. 5. }

     {you might not have a pentium 90.. :) if so lower this}
     {*******}
     </i></font>thedelay<font color="#000080">:=</font><font color="#800000">80</font><font color="#000080">;       </font><font color="#008000"><i>{milisecond delay in main loop.. 80 on my pentium90}
     {********}

     </i></font>mouseshown<font color="#000080">:=</font>true<font color="#000080">;   </font><font color="#008000"><i>{is mouse cursor shown on screen right now}
     </i></font>lastmouseuse<font color="#000080">:=</font><font color="#800000">0000</font><font color="#000080">; </font><font color="#008000"><i>{not used now}

 {assign(t,'data.dat');
 reset(t);}
 </i></font>i<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
 </font><font color="#008000"><i>{totalthings:=0;
 repeat
   inc(i);
   inc(totalthings);
   with oba[i] do begin
     readln(t,mass);
     readln(t,x);
     readln(t,y);
     readln(t,vx);
     readln(t,vy);
     oldx:=0;
     oldy:=0;
   end;
 until eof(t);
 close(t);
 }
     </i></font>totalthings<font color="#000080">:=</font><font color="#800000">3</font><font color="#000080">;
     </font><font color="#FF0000"><b>with </b></font>oba<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>do begin
       </b></font>oldx<font color="#000080">:=</font><font color="#800000">10</font><font color="#000080">; </font>oldy<font color="#000080">:=</font><font color="#800000">10</font><font color="#000080">;
       </font>mass<font color="#000080">:=</font><font color="#800000">70</font><font color="#000080">;
       </font>x<font color="#000080">:=</font><font color="#800000">150</font><font color="#000080">;
       </font>y<font color="#000080">:=</font><font color="#800000">100</font><font color="#000080">;
       </font>vx<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
       </font>vy<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>with </b></font>oba<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>do begin
       </b></font>mass<font color="#000080">:=</font><font color="#800000">4</font><font color="#000080">;
       </font>x<font color="#000080">:=</font><font color="#800000">21</font><font color="#000080">;
       </font>y<font color="#000080">:=</font><font color="#800000">84</font><font color="#000080">;
       </font>vx<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;
       </font>vy<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>with </b></font>oba<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>do begin
       </b></font>mass<font color="#000080">:=</font><font color="#800000">18</font><font color="#000080">;
       </font>x<font color="#000080">:=</font><font color="#800000">122</font><font color="#000080">;
       </font>y<font color="#000080">:=</font><font color="#800000">122</font><font color="#000080">;
       </font>vx<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
       </font>vy<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

 </font><font color="#008000"><i>{ ---------------------------------------------------------------------- }
   </i></font><font color="#FF0000"><b>procedure </b></font>SETMODE<font color="#000080">(</font>mode <font color="#000080">: </font>byte<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>asm
     </b></font><font color="#FF00FF">MOV AH,0
     MOV AL,MODE
     INT $10
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font><font color="#008000"><i>(*
   begin
       regs.ah := 0;
       regs.al := mode;
       intr($10, regs)
   end;
   *)

   </i></font><font color="#FF0000"><b>function </b></font>i2s<font color="#000080">(</font>i<font color="#000080">: </font>Longint<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#008000"><i>{integer to string}
   </i></font><font color="#FF0000"><b>var
     </b></font>s<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">11</font><font color="#000080">];
   </font><font color="#FF0000"><b>begin
     </b></font>Str<font color="#000080">(</font>i<font color="#000080">, </font>s<font color="#000080">);
     </font>I2s <font color="#000080">:= </font>s<font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

   </font><font color="#FF0000"><b>Procedure </b></font>plot286<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>integer<font color="#000080">; </font>c<font color="#000080">:</font>byte<font color="#000080">);
   </font><font color="#008000"><i>{very fast putpixel that uses 286 instructions}
   </i></font><font color="#FF0000"><b>Inline</b></font><font color="#000080">(
      </font><font color="#800000">$58</font><font color="#000080">/</font><font color="#800000">$B9</font><font color="#000080">/</font><font color="#800000">$00</font><font color="#000080">/</font><font color="#800000">$A0</font><font color="#000080">/</font><font color="#800000">$8E</font><font color="#000080">/</font><font color="#800000">$C1</font><font color="#000080">/
      </font><font color="#800000">$5B</font><font color="#000080">/</font><font color="#800000">$88</font><font color="#000080">/</font><font color="#800000">$DD</font><font color="#000080">/</font><font color="#800000">$5F</font><font color="#000080">/</font><font color="#800000">$01</font><font color="#000080">/</font><font color="#800000">$CF</font><font color="#000080">/
      </font><font color="#800000">$C1</font><font color="#000080">/</font><font color="#800000">$E9</font><font color="#000080">/</font><font color="#800000">$02</font><font color="#000080">/</font><font color="#800000">$01</font><font color="#000080">/</font><font color="#800000">$CF</font><font color="#000080">/</font><font color="#800000">$AA</font><font color="#000080">);

 </font><font color="#008000"><i>{ ---------------------------------------------------------------------- }

   </i></font><font color="#FF0000"><b>function </b></font>update<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>it<font color="#000080">:</font>thing<font color="#000080">):</font><font color="#FF0000"><b>string</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>var
    </b></font>t<font color="#000080">,</font>ax<font color="#000080">,</font>ay<font color="#000080">,</font>x2<font color="#000080">,</font>y2<font color="#000080">,</font>k<font color="#000080">:</font>real<font color="#000080">;
    </font>a<font color="#000080">,</font>dist<font color="#000080">,</font>tempreal<font color="#000080">:</font>real<font color="#000080">;
    </font>sx<font color="#000080">,</font>sy<font color="#000080">,</font>tempi<font color="#000080">:</font>integer<font color="#000080">;
    </font>ret<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>begin
     with </b></font>it <font color="#FF0000"><b>do begin
       </b></font>Oldx<font color="#000080">:=</font>x<font color="#000080">;
       </font>Oldy<font color="#000080">:=</font>y<font color="#000080">;
       </font>ax<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
       </font>ay<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;

       </font>x<font color="#000080">:=</font>x<font color="#000080">+</font>vx<font color="#000080">;
       </font>y<font color="#000080">:=</font>y<font color="#000080">+</font>vy<font color="#000080">;
       </font><font color="#FF0000"><b>for </b></font>tempi<font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>totalthings <font color="#FF0000"><b>do begin
         </b></font>x2<font color="#000080">:=</font>oba<font color="#000080">[</font>tempi<font color="#000080">].</font>x<font color="#000080">;
         </font>y2<font color="#000080">:=</font>oba<font color="#000080">[</font>tempi<font color="#000080">].</font>y<font color="#000080">;
         </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>x<font color="#000080">&lt;&gt;</font>x2<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>y<font color="#000080">&lt;&gt;</font>y2<font color="#000080">) </font><font color="#FF0000"><b>then begin
           </b></font>tempreal<font color="#000080">:=((</font>sqr<font color="#000080">(</font>x<font color="#000080">-</font>x2<font color="#000080">)+</font>sqr<font color="#000080">(</font>y<font color="#000080">-</font>y2<font color="#000080">)));
           </font><font color="#FF0000"><b>if </b></font>tempreal<font color="#000080">&lt;</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>tempreal<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;</font><font color="#008000"><i>{they touched..}
           {do this later:                 so add everything and kill one }
           </i></font>k<font color="#000080">:=(</font>oba<font color="#000080">[</font>tempi<font color="#000080">].</font>mass<font color="#000080">)</font><font color="#008000"><i>{ * mass)} </i></font><font color="#000080">* </font>constant <font color="#000080">;
           </font>dist<font color="#000080">:=</font>gr<font color="#000080">* (</font>k <font color="#000080">/ </font>tempreal<font color="#000080">);
           </font>a<font color="#000080">:=</font>arctan<font color="#000080">((</font>y<font color="#000080">-</font>y2<font color="#000080">) / (</font>x<font color="#000080">-</font>x2<font color="#000080">));
           </font><font color="#FF0000"><b>if </b></font>x<font color="#000080">&lt;</font>x2 <font color="#FF0000"><b>then </b></font>a<font color="#000080">:=</font>PI<font color="#000080">-</font>a<font color="#000080">;
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
         </font>ax<font color="#000080">:=( </font>dist<font color="#000080">*</font>cos<font color="#000080">(</font>a<font color="#000080">) )+</font>ax<font color="#000080">;
         </font><font color="#FF0000"><b>if </b></font>x<font color="#000080">&gt;=</font>x2 <font color="#FF0000"><b>then </b></font>ay<font color="#000080">:=( </font>dist<font color="#000080">*</font>sin<font color="#000080">(</font>a<font color="#000080">) )+</font>ay <font color="#FF0000"><b>else </b></font>ay<font color="#000080">:=( </font>dist <font color="#000080">* -</font>sin<font color="#000080">(</font>a<font color="#000080">) )+</font>ay<font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
       </font>vx<font color="#000080">:=</font>vx<font color="#000080">+</font>ax<font color="#000080">;
       </font>vy<font color="#000080">:=</font>vy<font color="#000080">+</font>ay<font color="#000080">;
       </font><font color="#008000"><i>{---}
       </i></font><font color="#FF0000"><b>if </b></font>vy<font color="#000080">&gt;</font>maxspeed <font color="#FF0000"><b>then </b></font>vy<font color="#000080">:=</font>maxspeed<font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>vx<font color="#000080">&gt;</font>maxspeed <font color="#FF0000"><b>then </b></font>vx<font color="#000080">:=</font>maxspeed<font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>vy<font color="#000080">&lt;-</font>maxspeed <font color="#FF0000"><b>then </b></font>vy<font color="#000080">:=-</font>maxspeed<font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>vx<font color="#000080">&lt;-</font>maxspeed <font color="#FF0000"><b>then </b></font>vx<font color="#000080">:=-</font>maxspeed<font color="#000080">;
       </font><font color="#008000"><i>{gotoxy(1,24); write(a);}
       </i></font>ret<font color="#000080">:=</font><font color="#800000">' ax: '</font><font color="#000080">+</font>i2s<font color="#000080">(</font>trunc<font color="#000080">(</font>ax<font color="#000080">))+</font><font color="#800000">' ay: '</font><font color="#000080">+</font>i2s<font color="#000080">(</font>trunc<font color="#000080">(</font>ay<font color="#000080">))+</font><font color="#800000">' '</font><font color="#000080">;
       </font><font color="#008000"><i>{--screen edge stuff, more realistic without these 4 lines:----}
       </i></font><font color="#FF0000"><b>if </b></font>x<font color="#000080">&lt;</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>x<font color="#000080">:=</font><font color="#800000">299</font><font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>x<font color="#000080">&gt;</font><font color="#800000">299 </font><font color="#FF0000"><b>then </b></font>x<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>y<font color="#000080">&lt;</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>y<font color="#000080">:=</font><font color="#800000">199</font><font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>y<font color="#000080">&gt;</font><font color="#800000">199 </font><font color="#FF0000"><b>then </b></font>y<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
       </font>update<font color="#000080">:=</font>ret<font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

   </font><font color="#FF0000"><b>procedure </b></font>draw<font color="#000080">(</font>it<font color="#000080">:</font>thing<font color="#000080">; </font>color<font color="#000080">:</font>integer<font color="#000080">);
   </font><font color="#FF0000"><b>var </b></font>c<font color="#000080">,</font>i<font color="#000080">,</font>i2<font color="#000080">:</font>integer<font color="#000080">;
   </font><font color="#FF0000"><b>begin
     </b></font><font color="#008000"><i>{this won't let it draw off screen}
     </i></font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>trunc<font color="#000080">(</font>it<font color="#000080">.</font>mass <font color="#000080">/ </font>scale<font color="#000080">) </font><font color="#FF0000"><b>do with </b></font>it <font color="#FF0000"><b>do begin
       for </b></font>i2<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>trunc<font color="#000080">(</font>mass <font color="#000080">/ </font>scale<font color="#000080">) </font><font color="#FF0000"><b>do if </b></font><font color="#000080">((</font>oldy<font color="#000080">+</font>i<font color="#000080">&lt;</font><font color="#800000">200</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>oldx<font color="#000080">+</font>i2<font color="#000080">&lt;</font><font color="#800000">300</font><font color="#000080">)) </font><font color="#FF0000"><b>then begin
         if </b></font>trail<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>c<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>else
         if </b></font>trail<font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>c<font color="#000080">:=</font><font color="#800000">8 </font><font color="#FF0000"><b>else
         </b></font>c<font color="#000080">:=</font>color<font color="#000080">;
         </font>plot286<font color="#000080">(</font>trunc<font color="#000080">(</font>Oldx<font color="#000080">+</font>i2<font color="#000080">),</font>trunc<font color="#000080">(</font>Oldy<font color="#000080">+</font>i<font color="#000080">),</font>c<font color="#000080">);
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>trunc<font color="#000080">(</font>it<font color="#000080">.</font>mass <font color="#000080">/ </font>scale<font color="#000080">) </font><font color="#FF0000"><b>do with </b></font>it <font color="#FF0000"><b>do
       for </b></font>i2<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>trunc<font color="#000080">(</font>mass <font color="#000080">/ </font>scale<font color="#000080">) </font><font color="#FF0000"><b>do if </b></font><font color="#000080">((</font>y<font color="#000080">+</font>i<font color="#000080">&lt;</font><font color="#800000">200</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>x<font color="#000080">+</font>i2<font color="#000080">&lt;</font><font color="#800000">300</font><font color="#000080">)) </font><font color="#FF0000"><b>then </b></font>plot286<font color="#000080">(</font>trunc<font color="#000080">(</font>x<font color="#000080">+</font>i2<font color="#000080">),</font>trunc<font color="#000080">(</font>y<font color="#000080">+</font>i<font color="#000080">),</font>color<font color="#000080">);
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font><font color="#008000"><i>{ ---------------------------------------------------------------------- }

 </i></font><font color="#FF0000"><b>begin
   </b></font>config<font color="#000080">;

   </font>loops<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
   </font>initmouse<font color="#000080">(</font>b<font color="#000080">,</font>ok<font color="#000080">);
   </font><font color="#FF0000"><b>if </b></font>ok<font color="#000080">=</font>false <font color="#FF0000"><b>then begin
      </b></font>writeln<font color="#000080">(</font><font color="#800000">'no mouse found!'</font><font color="#000080">);
      </font>halt<font color="#000080">;
   </font><font color="#FF0000"><b>end else </b></font>writeln<font color="#000080">(</font><font color="#800000">'mouse found, '</font><font color="#000080">,</font>b<font color="#000080">,</font><font color="#800000">' buttons.'</font><font color="#000080">);
   </font>setmode<font color="#000080">(</font><font color="#800000">$13</font><font color="#000080">);
   </font>directvideo<font color="#000080">:=</font>false<font color="#000080">;
   </font>showmouse<font color="#000080">;
   </font><font color="#FF0000"><b>repeat

     if </b></font>mouseleftpressed <font color="#FF0000"><b>then begin
       </b></font>mouseshown<font color="#000080">:=</font><font color="#FF0000"><b>not </b></font>mouseshown<font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>mouseshown <font color="#FF0000"><b>then </b></font>showmouse <font color="#FF0000"><b>else begin
         </b></font><font color="#008000"><i>{gotoxy(1,1); for i:=1 to 38 do write(' ');}
         </i></font>fillchar<font color="#000080">(</font>ptr<font color="#000080">(</font><font color="#800000">$A000</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">)^,</font><font color="#800000">64000</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
         </font>hidemouse<font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>end else
     if </b></font>mouserightDOWN<font color="#008000"><i>{pressed} </i></font><font color="#FF0000"><b>then begin
       if </b></font>totalthings<font color="#000080">&lt;</font><font color="#800000">20 </font><font color="#FF0000"><b>then begin
         </b></font>inc<font color="#000080">(</font>totalthings<font color="#000080">);
         </font>oba<font color="#000080">[</font>totalthings<font color="#000080">].</font>mass<font color="#000080">:=</font>RANDOM<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">;
         </font>oba<font color="#000080">[</font>totalthings<font color="#000080">].</font>x<font color="#000080">:=</font>mousex <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
         </font>oba<font color="#000080">[</font>totalthings<font color="#000080">].</font>y<font color="#000080">:=</font>mousey<font color="#000080">;
         </font>oba<font color="#000080">[</font>totalthings<font color="#000080">].</font>vx<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
         </font>oba<font color="#000080">[</font>totalthings<font color="#000080">].</font>vy<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
       </font><font color="#008000"><i>{BEEP;}
     </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>if </b></font>mouseshown <font color="#FF0000"><b>then begin
       </b></font>getmousexy<font color="#000080">;
       </font>gotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">); </font>write<font color="#000080">(</font><font color="#800000">'mouseX:'</font><font color="#000080">,</font>mousex<font color="#000080">,</font><font color="#800000">' mouseY:'</font><font color="#000080">,</font>mousey<font color="#000080">,</font><font color="#800000">'    '</font><font color="#000080">);
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font>inc<font color="#000080">(</font>loops<font color="#000080">);
     </font>s<font color="#000080">:=</font><font color="#800000">'Loop:'</font><font color="#000080">+</font>i2s<font color="#000080">(</font>loops<font color="#000080">);
     </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>TotalThings <font color="#FF0000"><b>do
       if </b></font><font color="#000080">(</font>i<font color="#000080">&lt;&gt;</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">((</font>i<font color="#000080">=</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>do1<font color="#000080">=</font>true<font color="#000080">)) </font><font color="#FF0000"><b>then </b></font>st<font color="#000080">:=</font>update<font color="#000080">(</font>oba<font color="#000080">[</font>i<font color="#000080">]);
     </font>s<font color="#000080">:=</font>s<font color="#000080">+</font>st<font color="#000080">;
     </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>TotalThings <font color="#FF0000"><b>do </b></font>draw<font color="#000080">(</font>oba<font color="#000080">[</font>i<font color="#000080">],</font>i<font color="#000080">);
     </font><font color="#008000"><i>{gotoxy(1,25); write(s);}
     </i></font>delay<font color="#000080">(</font>thedelay<font color="#000080">);
   </font><font color="#FF0000"><b>until </b></font>keypressed<font color="#000080">;
   </font>ch<font color="#000080">:=</font>readkey<font color="#000080">;
   </font>textmode<font color="#000080">(</font>co80<font color="#000080">);
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0210.PAS">Original</a><b>]</b></p></body>
</html>
