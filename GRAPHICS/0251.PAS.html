<html>
<head><title> "Yet Another Fractal 3D" by RYAN JONES</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0251.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>Program </b></font>Frac3d1<font color="#000080">;

</font><font color="#008000"><i>{
	The only problem with this program is that i didn't optimize it, so
   you should have at least a pentium (or a fast 486) to run it; however,
   i did use 32-bit instructions, so it can't be run on 8086's or 8088's
	at all.

   Runs in 320x200x256

	Features:
		A double buffer
		32-Bit moves and fills
      Weak color layering and palette changing
      3D graphics (using slow Real numbers)
      3D fractal
      A pretty fast polygon statement

   Programmed by Ryan Jones (Dios@Rworld.com)
}

</i></font><font color="#FF0000"><b>Uses
</b></font>	CRT<font color="#000080">;

</font><font color="#FF0000"><b>Const
</b></font>	ZInc <font color="#000080">= </font><font color="#800000">25</font><font color="#000080">;
   </font>ZOfs <font color="#000080">= </font><font color="#800000">256</font><font color="#000080">;
   </font>ZScale <font color="#000080">= </font><font color="#800000">256</font><font color="#000080">;
   </font>Sc <font color="#000080">= </font><font color="#800000">0.7</font><font color="#000080">;
</font>	Red <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
</font>	Green <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;
</font>	Blue <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;

</font><font color="#FF0000"><b>Type
</b></font>	Palette <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">, </font>Red<font color="#000080">..</font>Blue<font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Byte<font color="#000080">;
</font>	ABType <font color="#000080">= </font><font color="#FF0000"><b>Record </b></font>LSide<font color="#000080">, </font>RSide <font color="#000080">: </font>Integer<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>	Triangle <font color="#000080">=
</font>   	<font color="#FF0000"><b>Record
</b></font>      	X1<font color="#000080">, </font>Y1<font color="#000080">, </font>Z1<font color="#000080">, </font>X2<font color="#000080">, </font>Y2<font color="#000080">, </font>Z2<font color="#000080">, </font>X3<font color="#000080">, </font>Y3<font color="#000080">, </font>Z3 <font color="#000080">: </font>Real<font color="#000080">;
         </font>Color <font color="#000080">: </font>Byte<font color="#000080">;
      </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var
</b></font>	Segment<font color="#000080">, </font>Ofset <font color="#000080">: </font>Word<font color="#000080">; </font><font color="#008000"><i>{ Double Buffer info }
</i></font>	Tris <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">100</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Triangle<font color="#000080">; </font><font color="#008000"><i>{ Triangle info }
   </i></font>Trin<font color="#000080">,                             </font><font color="#008000"><i>{ # of triangles }
</i></font>	l<font color="#000080">, </font>n<font color="#000080">, </font>hn <font color="#000080">: </font>Word<font color="#000080">;                  </font><font color="#008000"><i>{ fractal stuff }
   </i></font>db <font color="#000080">: </font>Pointer<font color="#000080">; </font><font color="#008000"><i>{ Double Buffer }
   </i></font>Ch <font color="#000080">: </font>Char<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetScreenPtr<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>Ptr<font color="#000080">); </font><font color="#008000"><i>{ lets Poly know where to do its stuff }
</i></font>	<font color="#FF0000"><b>Begin
</b></font>   	Segment <font color="#000080">:= </font>Seg<font color="#000080">(</font>Ptr<font color="#000080">);
      </font>Ofset <font color="#000080">:= </font>Ofs<font color="#000080">(</font>Ptr<font color="#000080">);
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetVideoMode<font color="#000080">( </font>N <font color="#000080">: </font>Byte <font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">; </font><font color="#008000"><i>{ sets the video mode }
   </i></font><font color="#FF0000"><b>Asm
      </b></font><font color="#FF00FF">MOV AH, 0
      MOV AL, N
      INT $10
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Credit<font color="#000080">; </font><font color="#008000"><i>{ lets you know who made it }
</i></font>	<font color="#FF0000"><b>Var
</b></font>		St <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font>   	n <font color="#000080">: </font>Word<font color="#000080">;
</font>	<font color="#FF0000"><b>Begin
</b></font>   	SetVideoMode<font color="#000080">(</font><font color="#800000">$03</font><font color="#000080">);
      </font>Textcolor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
      </font>Textbackground<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
      </font>St <font color="#000080">:= </font><font color="#800000">'Qsphsbnnfe!cz!Szbo!Kpoft/'</font><font color="#000080">;
      </font>n <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Repeat
</b></font>      	St<font color="#000080">[</font>n<font color="#000080">] := </font>Chr<font color="#000080">(</font>Ord<font color="#000080">(</font>St<font color="#000080">[</font>n<font color="#000080">]) - </font><font color="#800000">1</font><font color="#000080">);
         </font>n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>n <font color="#000080">&gt; </font>Length<font color="#000080">(</font>St<font color="#000080">);
      </font>Writeln<font color="#000080">(</font>St<font color="#000080">);
      </font>Textcolor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
      </font>WriteLn<font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>DisplayPalette<font color="#000080">(</font>P <font color="#000080">: </font>Palette<font color="#000080">; </font>First<font color="#000080">, </font>Last <font color="#000080">: </font>Word<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">; </font><font color="#008000"><i>{ updates palette }
</i></font>	<font color="#FF0000"><b>Asm
</b></font>     	<font color="#FF00FF">CLI
</font>     	<font color="#FF00FF">PUSH DS
</font>     	<font color="#FF00FF">PUSH SI
      LDS SI, P

      MOV CX, First
      ADD SI, CX
      ADD SI, CX
      ADD SI, CX

      MOV AX, Last
      SUB AX, First
      INC AX
      MOV CX, AX
      SHL CX, 1
      ADD CX, AX

      MOV AX, First
      MOV DX, $3C8
      OUT DX, AL
      INC DX
      REP OUTSB
      POP SI
      POP DS
      STI
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Fill<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>A<font color="#000080">; </font>L <font color="#000080">: </font>Word<font color="#000080">; </font>B <font color="#000080">: </font>Byte<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">; </font><font color="#008000"><i>{ similar to FillChar }
</i></font>	<font color="#FF0000"><b>Asm
</b></font>   	<font color="#FF00FF">CLI
      CLD
      LES DI, A
      MOV CX, L
</font>   	<font color="#FF00FF">MOV AL, BYTE PTR B
      REP STOSB
      STI
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>FillDW<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>A<font color="#000080">; </font>L <font color="#000080">: </font>Word<font color="#000080">; </font>Dw <font color="#000080">: </font>LongInt<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#008000"><i>{ similar to FillChar, except uses Double Words }
</i></font>	<font color="#FF0000"><b>Asm
</b></font>   	<font color="#FF00FF">CLI
      CLD
      LES DI, A
      MOV CX, L
      DB $66; MOV AX, WORD PTR Dw
      DB $66; REP STOSW
      STI
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>MoveDW<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>A<font color="#000080">, </font>B<font color="#000080">; </font>L <font color="#000080">: </font>Word<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#008000"><i>{ similar to Move, except uses Double Words }
</i></font>	<font color="#FF0000"><b>Asm
</b></font>   	<font color="#FF00FF">CLI
      CLD
      PUSH DS
      LDS SI, A
      LES DI, B
      MOV CX, L
      DB $66; REP MOVSW
      POP DS
      STI
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Poly<font color="#000080">(</font>x1<font color="#000080">, </font>y1<font color="#000080">, </font>x2<font color="#000080">, </font>y2<font color="#000080">, </font>x3<font color="#000080">, </font>y3<font color="#000080">, </font>x4<font color="#000080">, </font>y4<font color="#000080">, </font>c1 <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#008000"><i>{ draws a Polygon or Triangle }
</i></font>	<font color="#FF0000"><b>Type
      </b></font>ScrType <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">199</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">319</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Byte<font color="#000080">;

</font>	<font color="#FF0000"><b>Var
</b></font>		Xa <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">199</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>ABType<font color="#000080">;
      </font>x<font color="#000080">, </font>y<font color="#000080">, </font>dx <font color="#000080">: </font>LongInt<font color="#000080">;
      </font>L<font color="#000080">, </font>R <font color="#000080">: </font>Integer<font color="#000080">;
      </font>Scr <font color="#000080">: ^</font>ScrType<font color="#000080">;
      </font>c <font color="#000080">: </font>Byte<font color="#000080">;

   </font><font color="#FF0000"><b>Procedure </b></font>CalcSideX<font color="#000080">(</font>x1<font color="#000080">, </font>y1<font color="#000080">, </font>x2<font color="#000080">, </font>y2 <font color="#000080">: </font>Integer<font color="#000080">);
</font>   	<font color="#FF0000"><b>Var </b></font>t <font color="#000080">: </font>Integer<font color="#000080">;
</font>   	<font color="#FF0000"><b>Begin
         If </b></font>y1 <font color="#000080">= </font>y2 <font color="#FF0000"><b>Then
</b></font>         	<font color="#FF0000"><b>Begin
</b></font>            	<font color="#FF0000"><b>If </b></font><font color="#000080">(</font>y1 <font color="#000080">&gt;= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>y1 <font color="#000080">&lt;= </font><font color="#800000">199</font><font color="#000080">) </font><font color="#FF0000"><b>Then
</b></font>               	<font color="#FF0000"><b>Begin
</b></font>			         	<font color="#FF0000"><b>If </b></font><font color="#000080">(</font>x1 <font color="#000080">&lt; </font>Xa<font color="#000080">[</font>y1<font color="#000080">].</font>LSide<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Xa<font color="#000080">[</font>y1<font color="#000080">].</font>LSide <font color="#000080">:= </font>x1<font color="#000080">;
</font>			         	<font color="#FF0000"><b>If </b></font><font color="#000080">(</font>x1 <font color="#000080">&gt; </font>Xa<font color="#000080">[</font>y1<font color="#000080">].</font>RSide<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Xa<font color="#000080">[</font>y1<font color="#000080">].</font>RSide <font color="#000080">:= </font>x1<font color="#000080">;
</font>			         	<font color="#FF0000"><b>If </b></font><font color="#000080">(</font>x2 <font color="#000080">&lt; </font>Xa<font color="#000080">[</font>y1<font color="#000080">].</font>LSide<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Xa<font color="#000080">[</font>y1<font color="#000080">].</font>LSide <font color="#000080">:= </font>x2<font color="#000080">;
</font>			         	<font color="#FF0000"><b>If </b></font><font color="#000080">(</font>x2 <font color="#000080">&gt; </font>Xa<font color="#000080">[</font>y1<font color="#000080">].</font>RSide<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Xa<font color="#000080">[</font>y1<font color="#000080">].</font>RSide <font color="#000080">:= </font>x2<font color="#000080">;
                  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font>Exit<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>      	<font color="#FF0000"><b>If </b></font>y1 <font color="#000080">&gt; </font>y2 <font color="#FF0000"><b>Then
</b></font>				<font color="#FF0000"><b>Begin
</b></font>            	t <font color="#000080">:= </font>x1<font color="#000080">;
               </font>x1 <font color="#000080">:= </font>x2<font color="#000080">;
               </font>x2 <font color="#000080">:= </font>t<font color="#000080">;
</font>            	t <font color="#000080">:= </font>y1<font color="#000080">;
               </font>y1 <font color="#000080">:= </font>y2<font color="#000080">;
               </font>y2 <font color="#000080">:= </font>t<font color="#000080">;
</font>				<font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>      	dx <font color="#000080">:= </font>LongInt<font color="#000080">(</font>x2 <font color="#000080">- </font>x1<font color="#000080">) </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">16 </font><font color="#FF0000"><b>DIV </b></font><font color="#000080">(</font>y2<font color="#000080">-</font>y1<font color="#000080">);
         </font>y <font color="#000080">:= </font>y1<font color="#000080">;
         </font>x <font color="#000080">:= </font>LongInt<font color="#000080">(</font>x1<font color="#000080">) </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">16</font><font color="#000080">;
         </font><font color="#FF0000"><b>repeat
</b></font>         	<font color="#FF0000"><b>If </b></font><font color="#000080">(</font>y <font color="#000080">&gt;= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>y <font color="#000080">&lt;= </font><font color="#800000">199</font><font color="#000080">) </font><font color="#FF0000"><b>Then
</b></font>					<font color="#FF0000"><b>Begin
</b></font>		         	<font color="#FF0000"><b>If </b></font><font color="#000080">(</font>Integer<font color="#000080">(</font>x <font color="#FF0000"><b>SHR </b></font><font color="#800000">16</font><font color="#000080">) &lt; </font>Xa<font color="#000080">[</font>y<font color="#000080">].</font>LSide<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Xa<font color="#000080">[</font>y<font color="#000080">].</font>LSide <font color="#000080">:= </font>x <font color="#FF0000"><b>SHR </b></font><font color="#800000">16</font><font color="#000080">;
</font>		         	<font color="#FF0000"><b>If </b></font><font color="#000080">(</font>Integer<font color="#000080">(</font>x <font color="#FF0000"><b>SHR </b></font><font color="#800000">16</font><font color="#000080">) &gt; </font>Xa<font color="#000080">[</font>y<font color="#000080">].</font>RSide<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Xa<font color="#000080">[</font>y<font color="#000080">].</font>RSide <font color="#000080">:= </font>x <font color="#FF0000"><b>SHR </b></font><font color="#800000">16</font><font color="#000080">;
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>         	x <font color="#000080">:= </font>x <font color="#000080">+ </font>dx<font color="#000080">;
            </font>y <font color="#000080">:= </font>y <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
         </font><font color="#FF0000"><b>until </b></font>y <font color="#000080">&gt; </font>y2<font color="#000080">;
      </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font>	<font color="#FF0000"><b>Begin
</b></font>   	Scr <font color="#000080">:= </font>Ptr<font color="#000080">(</font>Segment<font color="#000080">, </font>Ofset<font color="#000080">);
</font>   	FillDW<font color="#000080">(</font>Xa<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">], </font><font color="#800000">200</font><font color="#000080">, </font><font color="#800000">$80007FFF</font><font color="#000080">);
      </font>CalcSideX<font color="#000080">(</font>x1<font color="#000080">, </font>y1<font color="#000080">, </font>x2<font color="#000080">, </font>y2<font color="#000080">);
      </font>CalcSideX<font color="#000080">(</font>x2<font color="#000080">, </font>y2<font color="#000080">, </font>x3<font color="#000080">, </font>y3<font color="#000080">);
      </font>CalcSideX<font color="#000080">(</font>x3<font color="#000080">, </font>y3<font color="#000080">, </font>x4<font color="#000080">, </font>y4<font color="#000080">);
      </font>CalcSideX<font color="#000080">(</font>x4<font color="#000080">, </font>y4<font color="#000080">, </font>x1<font color="#000080">, </font>y1<font color="#000080">);
      </font>c <font color="#000080">:= </font>c1<font color="#000080">;
      </font>y <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>repeat
</b></font>      	L <font color="#000080">:= </font>Xa<font color="#000080">[</font>y<font color="#000080">].</font>LSide<font color="#000080">;
         </font>R <font color="#000080">:= </font>Xa<font color="#000080">[</font>y<font color="#000080">].</font>RSide<font color="#000080">;
         </font><font color="#FF0000"><b>If </b></font>L <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>L <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
         </font><font color="#FF0000"><b>If </b></font>R <font color="#000080">&gt; </font><font color="#800000">319 </font><font color="#FF0000"><b>Then </b></font>R <font color="#000080">:= </font><font color="#800000">319</font><font color="#000080">;
</font><font color="#008000"><i>{         If Not ((L &gt; 319) Or (R &lt; 0)) Then Fill(Scr^[y, L], (R-L)+1, c);}
</i></font>			<font color="#FF0000"><b>If Not </b></font><font color="#000080">((</font>L <font color="#000080">&gt; </font><font color="#800000">319</font><font color="#000080">) </font><font color="#FF0000"><b>Or </b></font><font color="#000080">(</font>R <font color="#000080">&lt; </font><font color="#800000">0</font><font color="#000080">)) </font><font color="#FF0000"><b>Then
</b></font>         	<font color="#FF0000"><b>Asm
</b></font>            	<font color="#FF00FF">MOV AX, Segment
               MOV ES, AX
</font>            	<font color="#FF00FF">MOV AX, WORD PTR y
               XCHG AH, AL
               MOV BX, AX
               SHR AX, 1
               SHR AX, 1
               ADD BX, AX
               ADD BX, WORD PTR L
               ADD BX, Ofset
               MOV CX, WORD PTR R
               SUB CX, WORD PTR L
               INC CX
               MOV DX, c1
               @L1:
</font>               	<font color="#FF00FF">ADD ES:[BX], DL
                  INC BX
               LOOP @L1
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font>y <font color="#000080">:= </font>y <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>until </b></font>y <font color="#000080">&gt; </font><font color="#800000">199</font><font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>AddTris<font color="#000080">(</font>n <font color="#000080">: </font>Word<font color="#000080">);
</font>	<font color="#FF0000"><b>Var
</b></font>		OX1<font color="#000080">, </font>OY1<font color="#000080">, </font>OZ1<font color="#000080">, </font>OX2<font color="#000080">, </font>OY2<font color="#000080">, </font>OZ2<font color="#000080">, </font>OX3<font color="#000080">, </font>OY3<font color="#000080">, </font>OZ3 <font color="#000080">: </font>Real<font color="#000080">;
</font>   	OC <font color="#000080">: </font>Byte<font color="#000080">;
</font>	<font color="#FF0000"><b>Begin
</b></font>   	<font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font>n<font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>      	<font color="#FF0000"><b>Begin
</b></font>         	OX1 <font color="#000080">:= </font>X1<font color="#000080">;
</font>         	OY1 <font color="#000080">:= </font>Y1<font color="#000080">;
</font>         	OZ1 <font color="#000080">:= </font>Z1<font color="#000080">;
</font>         	OX2 <font color="#000080">:= </font>X2<font color="#000080">;
</font>         	OY2 <font color="#000080">:= </font>Y2<font color="#000080">;
</font>         	OZ2 <font color="#000080">:= </font>Z2<font color="#000080">;
</font>         	OX3 <font color="#000080">:= </font>X3<font color="#000080">;
</font>         	OY3 <font color="#000080">:= </font>Y3<font color="#000080">;
</font>         	OZ3 <font color="#000080">:= </font>Z3<font color="#000080">;
            </font>OC <font color="#000080">:= </font>Color <font color="#000080">+ </font><font color="#800000">24</font><font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>   	<font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font>Trin<font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>      	<font color="#FF0000"><b>Begin
</b></font>         	X1 <font color="#000080">:= </font>OX1<font color="#000080">;
            </font>Y1 <font color="#000080">:= </font>OY1<font color="#000080">;
            </font>Z1 <font color="#000080">:= </font>OZ1<font color="#000080">+</font>ZInc<font color="#000080">;
</font>         	X2 <font color="#000080">:= </font>OX1<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OX2<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
            </font>Y2 <font color="#000080">:= </font>OY1<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OY2<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
            </font>Z2 <font color="#000080">:= </font>OZ2<font color="#000080">+</font>ZInc<font color="#000080">;
</font>         	X3 <font color="#000080">:= </font>OX1<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OX3<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
            </font>Y3 <font color="#000080">:= </font>OY1<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OY3<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
            </font>Z3 <font color="#000080">:= </font>OZ3<font color="#000080">+</font>ZInc<font color="#000080">;
            </font>Color <font color="#000080">:= </font>OC<font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>   	<font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font>Trin<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>      	<font color="#FF0000"><b>Begin
</b></font>         	X1 <font color="#000080">:= </font>OX2<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OX1<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
</font>         	Y1 <font color="#000080">:= </font>OY2<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OY1<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
</font>         	Z1 <font color="#000080">:= </font>OZ1<font color="#000080">+</font>ZInc<font color="#000080">;
</font>         	X2 <font color="#000080">:= </font>OX2<font color="#000080">;
</font>         	Y2 <font color="#000080">:= </font>OY2<font color="#000080">;
</font>         	Z2 <font color="#000080">:= </font>OZ2<font color="#000080">+</font>ZInc<font color="#000080">;
</font>         	X3 <font color="#000080">:= </font>OX2<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OX3<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
</font>         	Y3 <font color="#000080">:= </font>OY2<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OY3<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
</font>         	Z3 <font color="#000080">:= </font>OZ3<font color="#000080">+</font>ZInc<font color="#000080">;
            </font>Color <font color="#000080">:= </font>OC<font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>   	<font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font>Trin<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>      	<font color="#FF0000"><b>Begin
</b></font>         	X1 <font color="#000080">:= </font>OX3<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OX1<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
</font>         	Y1 <font color="#000080">:= </font>OY3<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OY1<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
</font>         	Z1 <font color="#000080">:= </font>OZ1<font color="#000080">+</font>ZInc<font color="#000080">;
</font>         	X2 <font color="#000080">:= </font>OX3<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OX2<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
</font>         	Y2 <font color="#000080">:= </font>OY3<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">/</font><font color="#800000">3</font><font color="#000080">+</font>OY2<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">;
</font>         	Z2 <font color="#000080">:= </font>OZ2<font color="#000080">+</font>ZInc<font color="#000080">;
</font>         	X3 <font color="#000080">:= </font>OX3<font color="#000080">;
</font>         	Y3 <font color="#000080">:= </font>OY3<font color="#000080">;
</font>         	Z3 <font color="#000080">:= </font>OZ3<font color="#000080">+</font>ZInc<font color="#000080">;
            </font>Color <font color="#000080">:= </font>OC<font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
      </font>Trin <font color="#000080">:= </font>Trin <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>DrawTris<font color="#000080">;
</font>	<font color="#FF0000"><b>Var </b></font>SX1<font color="#000080">, </font>SY1<font color="#000080">, </font>SX2<font color="#000080">, </font>SY2<font color="#000080">, </font>SX3<font color="#000080">, </font>SY3<font color="#000080">, </font>n <font color="#000080">: </font>Word<font color="#000080">;
</font>	<font color="#FF0000"><b>Begin
</b></font>   	SetScreenPtr<font color="#000080">(</font>db<font color="#000080">^);
      </font>FillDW<font color="#000080">(</font>db<font color="#000080">^, </font><font color="#800000">16000</font><font color="#000080">, </font><font color="#800000">$00000000</font><font color="#000080">);
</font>   	n <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>   	<font color="#FF0000"><b>Repeat
</b></font>      	<font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font>n<font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>         	<font color="#FF0000"><b>Begin
</b></font>		      	SX1 <font color="#000080">:= </font>Round<font color="#000080">((</font>ZScale<font color="#000080">*</font>X1<font color="#000080">)/(</font>Z1<font color="#000080">-</font>ZOfs<font color="#000080">));
</font>		      	SY1 <font color="#000080">:= </font>Round<font color="#000080">((</font>ZScale<font color="#000080">*</font>Y1<font color="#000080">)/(</font>Z1<font color="#000080">-</font>ZOfs<font color="#000080">));
</font>		      	SX2 <font color="#000080">:= </font>Round<font color="#000080">((</font>ZScale<font color="#000080">*</font>X2<font color="#000080">)/(</font>Z2<font color="#000080">-</font>ZOfs<font color="#000080">));
</font>		      	SY2 <font color="#000080">:= </font>Round<font color="#000080">((</font>ZScale<font color="#000080">*</font>Y2<font color="#000080">)/(</font>Z2<font color="#000080">-</font>ZOfs<font color="#000080">));
</font>		      	SX3 <font color="#000080">:= </font>Round<font color="#000080">((</font>ZScale<font color="#000080">*</font>X3<font color="#000080">)/(</font>Z3<font color="#000080">-</font>ZOfs<font color="#000080">));
</font>		      	SY3 <font color="#000080">:= </font>Round<font color="#000080">((</font>ZScale<font color="#000080">*</font>Y3<font color="#000080">)/(</font>Z3<font color="#000080">-</font>ZOfs<font color="#000080">));
</font>		         Poly<font color="#000080">(</font><font color="#800000">160</font><font color="#000080">+</font>SX1<font color="#000080">, </font><font color="#800000">100</font><font color="#000080">+</font>SY1<font color="#000080">, </font><font color="#800000">160</font><font color="#000080">+</font>SX2<font color="#000080">, </font><font color="#800000">100</font><font color="#000080">+</font>SY2<font color="#000080">, </font><font color="#800000">160</font><font color="#000080">+</font>SX3<font color="#000080">, </font><font color="#800000">100</font><font color="#000080">+</font>SY3<font color="#000080">, </font><font color="#800000">160</font><font color="#000080">+</font>SX1<font color="#000080">, </font><font color="#800000">100</font><font color="#000080">+</font>SY1<font color="#000080">, </font>Color<font color="#000080">);
</font>         	<font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font>n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>n <font color="#000080">= </font>Trin<font color="#000080">;
      </font>MoveDW<font color="#000080">(</font>db<font color="#000080">^, </font>Ptr<font color="#000080">(</font><font color="#800000">$A000</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">)^, </font><font color="#800000">16000</font><font color="#000080">);
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Rotate<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>X<font color="#000080">, </font>Y<font color="#000080">, </font>ang <font color="#000080">: </font>Real<font color="#000080">);
</font>	<font color="#FF0000"><b>Var </b></font>XX<font color="#000080">, </font>YY <font color="#000080">: </font>Real<font color="#000080">;
</font>	<font color="#FF0000"><b>Begin
</b></font>   	XX <font color="#000080">:= </font>X<font color="#000080">*</font>Cos<font color="#000080">(</font>ang<font color="#000080">)+</font>Y<font color="#000080">*</font>Sin<font color="#000080">(</font>ang<font color="#000080">);
      </font>YY <font color="#000080">:= </font>Y<font color="#000080">*</font>Cos<font color="#000080">(</font>ang<font color="#000080">)-</font>X<font color="#000080">*</font>Sin<font color="#000080">(</font>ang<font color="#000080">);
      </font>X <font color="#000080">:= </font>XX<font color="#000080">;
      </font>Y <font color="#000080">:= </font>YY<font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>RotateTris<font color="#000080">(</font>ang <font color="#000080">: </font>Real<font color="#000080">);
</font>	<font color="#FF0000"><b>Var </b></font>n <font color="#000080">: </font>Word<font color="#000080">;
</font>	<font color="#FF0000"><b>Begin
</b></font>   	n <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>Repeat
</b></font>      	<font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font>n<font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>         	<font color="#FF0000"><b>Begin
</b></font>            	Rotate<font color="#000080">(</font>X1<font color="#000080">, </font>Z1<font color="#000080">, </font>ang<font color="#000080">);
</font>            	Rotate<font color="#000080">(</font>X2<font color="#000080">, </font>Z2<font color="#000080">, </font>ang<font color="#000080">);
</font>            	Rotate<font color="#000080">(</font>X3<font color="#000080">, </font>Z3<font color="#000080">, </font>ang<font color="#000080">);
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>      	n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>n <font color="#000080">= </font>Trin<font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>RotateTrisb<font color="#000080">(</font>ang <font color="#000080">: </font>Real<font color="#000080">);
</font>	<font color="#FF0000"><b>Var </b></font>n <font color="#000080">: </font>Word<font color="#000080">;
</font>	<font color="#FF0000"><b>Begin
</b></font>   	n <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>Repeat
</b></font>      	<font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font>n<font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>         	<font color="#FF0000"><b>Begin
</b></font>            	Rotate<font color="#000080">(</font>X1<font color="#000080">, </font>Y1<font color="#000080">, </font>ang<font color="#000080">);
</font>            	Rotate<font color="#000080">(</font>X2<font color="#000080">, </font>Y2<font color="#000080">, </font>ang<font color="#000080">);
</font>            	Rotate<font color="#000080">(</font>X3<font color="#000080">, </font>Y3<font color="#000080">, </font>ang<font color="#000080">);
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>      	n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>n <font color="#000080">= </font>Trin<font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>RotateTrisc<font color="#000080">(</font>ang <font color="#000080">: </font>Real<font color="#000080">);
</font>	<font color="#FF0000"><b>Var </b></font>n <font color="#000080">: </font>Word<font color="#000080">;
</font>	<font color="#FF0000"><b>Begin
</b></font>   	n <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>Repeat
</b></font>      	<font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font>n<font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>         	<font color="#FF0000"><b>Begin
</b></font>            	Rotate<font color="#000080">(</font>Y1<font color="#000080">, </font>Z1<font color="#000080">, </font>ang<font color="#000080">);
</font>            	Rotate<font color="#000080">(</font>Y2<font color="#000080">, </font>Z2<font color="#000080">, </font>ang<font color="#000080">);
</font>            	Rotate<font color="#000080">(</font>Y3<font color="#000080">, </font>Z3<font color="#000080">, </font>ang<font color="#000080">);
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>      	n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>n <font color="#000080">= </font>Trin<font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ExpandTris<font color="#000080">;
</font>	<font color="#FF0000"><b>Const </b></font>Scd <font color="#000080">= </font><font color="#800000">0.95</font><font color="#000080">;
</font>	<font color="#FF0000"><b>Var </b></font>n <font color="#000080">: </font>Word<font color="#000080">;
</font>	<font color="#FF0000"><b>Begin
</b></font>   	n <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>Repeat
</b></font>      	<font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font>n<font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>         	<font color="#FF0000"><b>Begin
</b></font>            	X1 <font color="#000080">:= </font>X1 <font color="#000080">* </font>Scd<font color="#000080">;
</font>            	Y1 <font color="#000080">:= </font>Y1 <font color="#000080">* </font>Scd<font color="#000080">;
</font>            	X2 <font color="#000080">:= </font>X2 <font color="#000080">* </font>Scd<font color="#000080">;
</font>            	Y2 <font color="#000080">:= </font>Y2 <font color="#000080">* </font>Scd<font color="#000080">;
</font>            	X3 <font color="#000080">:= </font>X3 <font color="#000080">* </font>Scd<font color="#000080">;
</font>            	Y3 <font color="#000080">:= </font>Y3 <font color="#000080">* </font>Scd<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font>n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>n <font color="#000080">= </font>Trin<font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Pal<font color="#000080">; </font><font color="#008000"><i>{ sets up my palette }
</i></font>	<font color="#FF0000"><b>Var </b></font>P <font color="#000080">: </font>Palette<font color="#000080">;
</font>   	n <font color="#000080">: </font>Word<font color="#000080">;
</font>	<font color="#FF0000"><b>Begin
</b></font>   	n <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>repeat
</b></font>      	P<font color="#000080">[</font>n<font color="#000080">, </font>Red<font color="#000080">] := </font>n <font color="#FF0000"><b>div </b></font><font color="#800000">4</font><font color="#000080">;
</font>      	P<font color="#000080">[</font>n<font color="#000080">, </font>Green<font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
</font>      	P<font color="#000080">[</font>n<font color="#000080">, </font>Blue<font color="#000080">] := </font>n <font color="#FF0000"><b>div </b></font><font color="#800000">6</font><font color="#000080">+</font><font color="#800000">21</font><font color="#000080">;
         </font>n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>until </b></font>n <font color="#000080">= </font><font color="#800000">256</font><font color="#000080">;
      </font>DisplayPalette<font color="#000080">(</font>P<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">255</font><font color="#000080">);
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
</b></font>	SetVideoMode<font color="#000080">(</font><font color="#800000">$13</font><font color="#000080">);
   </font>Pal<font color="#000080">;
   </font>GetMem<font color="#000080">(</font>db<font color="#000080">, </font><font color="#800000">64000</font><font color="#000080">);
   </font><font color="#FF0000"><b>With </b></font>Tris<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] </font><font color="#FF0000"><b>Do
</b></font>   	<font color="#FF0000"><b>Begin
</b></font>      	X1 <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>      	Y1 <font color="#000080">:= </font><font color="#800000">86</font><font color="#000080">;
</font>      	Z1 <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>      	X2 <font color="#000080">:= </font><font color="#800000">100</font><font color="#000080">;
</font>      	Y2 <font color="#000080">:= -</font><font color="#800000">86</font><font color="#000080">;
</font>      	Z2 <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>      	X3 <font color="#000080">:= -</font><font color="#800000">100</font><font color="#000080">;
</font>      	Y3 <font color="#000080">:= -</font><font color="#800000">86</font><font color="#000080">;
</font>      	Z3 <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>		   X1 <font color="#000080">:= </font>X1 <font color="#000080">* </font>Sc<font color="#000080">;
</font>		   Y1 <font color="#000080">:= </font>Y1 <font color="#000080">* </font>Sc<font color="#000080">;
</font>		   Z1 <font color="#000080">:= </font>Z1 <font color="#000080">* </font>Sc<font color="#000080">;
</font>		   X2 <font color="#000080">:= </font>X2 <font color="#000080">* </font>Sc<font color="#000080">;
</font>		   Y2 <font color="#000080">:= </font>Y2 <font color="#000080">* </font>Sc<font color="#000080">;
</font>		   Z2 <font color="#000080">:= </font>Z2 <font color="#000080">* </font>Sc<font color="#000080">;
</font>		   X3 <font color="#000080">:= </font>X3 <font color="#000080">* </font>Sc<font color="#000080">;
</font>		   Y3 <font color="#000080">:= </font>Y3 <font color="#000080">* </font>Sc<font color="#000080">;
</font>		   Z3 <font color="#000080">:= </font>Z3 <font color="#000080">* </font>Sc<font color="#000080">;
</font>	   	Color <font color="#000080">:= </font><font color="#800000">24</font><font color="#000080">;
      </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
   </font>Trin <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
   </font>l <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">;
   </font><font color="#FF0000"><b>Repeat
</b></font>   	n <font color="#000080">:= </font>hn<font color="#000080">;
      </font>hn <font color="#000080">:= </font>Trin<font color="#000080">;
</font>   	<font color="#FF0000"><b>Repeat
</b></font>      	AddTris<font color="#000080">(</font>n<font color="#000080">);
</font>      	n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>n <font color="#000080">= </font>hn<font color="#000080">;
</font>   	l <font color="#000080">:= </font>l <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;
   </font><font color="#FF0000"><b>Until </b></font>l <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
   </font>Tris<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">].</font>Color <font color="#000080">:= </font><font color="#800000">24</font><font color="#000080">;

   </font><font color="#FF0000"><b>Repeat </b></font><font color="#008000"><i>{ main loop }
</i></font>   	n <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>   	<font color="#FF0000"><b>Repeat
</b></font>	   	DrawTris<font color="#000080">;
</font>	      RotateTris<font color="#000080">(</font>Pi<font color="#000080">/</font><font color="#800000">72</font><font color="#000080">);
         </font>n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>KeyPressed <font color="#FF0000"><b>Or </b></font><font color="#000080">(</font>n <font color="#000080">= </font><font color="#800000">144</font><font color="#000080">);
</font>   	n <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>   	<font color="#FF0000"><b>Repeat
</b></font>	   	DrawTris<font color="#000080">;
</font>	      RotateTrisb<font color="#000080">(</font>Pi<font color="#000080">/</font><font color="#800000">72</font><font color="#000080">);
         </font>n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>KeyPressed <font color="#FF0000"><b>Or </b></font><font color="#000080">(</font>n <font color="#000080">= </font><font color="#800000">144</font><font color="#000080">);
</font>   	n <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>   	<font color="#FF0000"><b>Repeat
</b></font>	   	DrawTris<font color="#000080">;
</font>	      RotateTrisc<font color="#000080">(</font>Pi<font color="#000080">/</font><font color="#800000">72</font><font color="#000080">);
         </font>n <font color="#000080">:= </font>n <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>Until </b></font>KeyPressed <font color="#FF0000"><b>Or </b></font><font color="#000080">(</font>n <font color="#000080">= </font><font color="#800000">144</font><font color="#000080">);
   </font><font color="#FF0000"><b>Until </b></font>KeyPressed<font color="#000080">;

   </font><font color="#FF0000"><b>Repeat </b></font>Ch <font color="#000080">:= </font>ReadKey <font color="#FF0000"><b>Until Not </b></font>KeyPressed<font color="#000080">;
   </font>n <font color="#000080">:= </font><font color="#800000">150</font><font color="#000080">;
   </font><font color="#FF0000"><b>Repeat </b></font><font color="#008000"><i>{ outro }
</i></font>   	DrawTris<font color="#000080">;
      </font>ExpandTris<font color="#000080">;
      </font>RotateTris<font color="#000080">(</font>Pi<font color="#000080">/</font><font color="#800000">72</font><font color="#000080">);
      </font>RotateTrisb<font color="#000080">(</font>Pi<font color="#000080">/</font><font color="#800000">72</font><font color="#000080">);
      </font>RotateTrisc<font color="#000080">(</font>Pi<font color="#000080">/</font><font color="#800000">72</font><font color="#000080">);
      </font>n <font color="#000080">:= </font>n <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;
   </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>n <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Or </b></font>KeyPressed<font color="#000080">;
   </font><font color="#FF0000"><b>If </b></font>KeyPressed <font color="#FF0000"><b>Then Repeat </b></font>Ch <font color="#000080">:= </font>ReadKey <font color="#FF0000"><b>Until Not </b></font>KeyPressed<font color="#000080">;
   </font>SetVideoMode<font color="#000080">(</font><font color="#800000">$03</font><font color="#000080">);
   </font>Credit<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0251.PAS">Original</a><b>]</b></p></body>
</html>
