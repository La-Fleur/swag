<html>
<head><title> "Voxel-Graphics Engine" by BAS VAN GAALEN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0155.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; I was wondering if there's anybody out there who can explain the
&gt; Voxel-technique to me, or who can recommend a book about the subject.

I have a fairly good voxel-source.
This one is not mine. And I forgot who made it.
}

</i></font><font color="#FF0000"><b>program </b></font>voxel<font color="#000080">;
</font><font color="#FF0000"><b>uses </b></font>crt<font color="#000080">;
</font><font color="#FF0000"><b>type </b></font>lrgarr<font color="#000080">=</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">65534</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
</font><font color="#FF0000"><b>const
 </b></font>pal<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">384</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">=(
  </font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">43</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">43</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">44</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">44</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">,</font><font color="#800000">45</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">,</font><font color="#800000">46</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">,</font><font color="#800000">47</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">48</font><font color="#000080">,
  </font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">17</font><font color="#000080">,</font><font color="#800000">49</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">19</font><font color="#000080">,</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">,</font><font color="#800000">21</font><font color="#000080">,</font><font color="#800000">51</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">22</font><font color="#000080">,</font><font color="#800000">52</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">,</font><font color="#800000">52</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">26</font><font color="#000080">,</font><font color="#800000">54</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">,</font><font color="#800000">28</font><font color="#000080">,</font><font color="#800000">54</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">56</font><font color="#000080">,</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,
  </font><font color="#800000">56</font><font color="#000080">,</font><font color="#800000">16</font><font color="#000080">,</font><font color="#800000">34</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">17</font><font color="#000080">,</font><font color="#800000">34</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">17</font><font color="#000080">,</font><font color="#800000">36</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">18</font><font color="#000080">,</font><font color="#800000">38</font><font color="#000080">,</font><font color="#800000">60</font><font color="#000080">,</font><font color="#800000">19</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">60</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">62</font><font color="#000080">,</font><font color="#800000">21</font><font color="#000080">,</font><font color="#800000">44</font><font color="#000080">,</font><font color="#800000">62</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">31</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">11</font><font color="#000080">,</font><font color="#800000">31</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">,</font><font color="#800000">31</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">33</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">,</font><font color="#800000">33</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">33</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">33</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">15</font><font color="#000080">,
  </font><font color="#800000">34</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">34</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">35</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">16</font><font color="#000080">,</font><font color="#800000">35</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">16</font><font color="#000080">,</font><font color="#800000">35</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">16</font><font color="#000080">,</font><font color="#800000">36</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">17</font><font color="#000080">,</font><font color="#800000">36</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">17</font><font color="#000080">,</font><font color="#800000">36</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">18</font><font color="#000080">,</font><font color="#800000">37</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">18</font><font color="#000080">,</font><font color="#800000">38</font><font color="#000080">,
  </font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">19</font><font color="#000080">,</font><font color="#800000">38</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">39</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">,</font><font color="#800000">21</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">22</font><font color="#000080">,</font><font color="#800000">41</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">22</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">,</font><font color="#800000">23</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">,</font><font color="#800000">43</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">,
  </font><font color="#800000">44</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">44</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">45</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">26</font><font color="#000080">,</font><font color="#800000">46</font><font color="#000080">,</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">46</font><font color="#000080">,</font><font color="#800000">16</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">47</font><font color="#000080">,</font><font color="#800000">17</font><font color="#000080">,</font><font color="#800000">28</font><font color="#000080">,</font><font color="#800000">47</font><font color="#000080">,</font><font color="#800000">18</font><font color="#000080">,</font><font color="#800000">28</font><font color="#000080">,</font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">19</font><font color="#000080">,</font><font color="#800000">29</font><font color="#000080">,</font><font color="#800000">49</font><font color="#000080">,
  </font><font color="#800000">19</font><font color="#000080">,</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">49</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">21</font><font color="#000080">,</font><font color="#800000">31</font><font color="#000080">,</font><font color="#800000">51</font><font color="#000080">,</font><font color="#800000">21</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">51</font><font color="#000080">,</font><font color="#800000">22</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">52</font><font color="#000080">,</font><font color="#800000">23</font><font color="#000080">,</font><font color="#800000">33</font><font color="#000080">,</font><font color="#800000">53</font><font color="#000080">,</font><font color="#800000">23</font><font color="#000080">,</font><font color="#800000">34</font><font color="#000080">,</font><font color="#800000">53</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">,</font><font color="#800000">34</font><font color="#000080">,</font><font color="#800000">54</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">,
  </font><font color="#800000">35</font><font color="#000080">,</font><font color="#800000">55</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">36</font><font color="#000080">,</font><font color="#800000">55</font><font color="#000080">,</font><font color="#800000">26</font><font color="#000080">,</font><font color="#800000">36</font><font color="#000080">,</font><font color="#800000">56</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">37</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">38</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">39</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">41</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">43</font><font color="#000080">,
  </font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">44</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">45</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">46</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">47</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">49</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">51</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">52</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,
  </font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">53</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">55</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">56</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">26</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">,
  </font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">56</font><font color="#000080">,</font><font color="#800000">23</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">55</font><font color="#000080">,</font><font color="#800000">22</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">54</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">53</font><font color="#000080">,</font><font color="#800000">19</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">51</font><font color="#000080">,</font><font color="#800000">18</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">17</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">16</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">49</font><font color="#000080">,</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,
  </font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">47</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">46</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">45</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">44</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">44</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">43</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">41</font><font color="#000080">,
  </font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">57</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">56</font><font color="#000080">,</font><font color="#800000">39</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">56</font><font color="#000080">,</font><font color="#800000">38</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">55</font><font color="#000080">,</font><font color="#800000">37</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">55</font><font color="#000080">,</font><font color="#800000">35</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">54</font><font color="#000080">,</font><font color="#800000">33</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">54</font><font color="#000080">,</font><font color="#800000">31</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,
  </font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">);

</font><font color="#FF0000"><b>var
  </b></font>mp<font color="#000080">,</font>scr<font color="#000080">:^</font>lrgarr<font color="#000080">;
  </font>rng<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">320</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
  </font>dir<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">:</font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>ncol<font color="#000080">(</font>mc<font color="#000080">,</font>n<font color="#000080">,</font>dvd<font color="#000080">:</font>integer<font color="#000080">):</font>integer<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>loc<font color="#000080">:</font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>loc<font color="#000080">:=(</font>mc<font color="#000080">+</font>n<font color="#000080">-</font>random<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">*</font>n<font color="#000080">)) </font><font color="#FF0000"><b>div </b></font>dvd<font color="#000080">; </font>ncol<font color="#000080">:=</font>loc<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>loc<font color="#000080">&gt;</font><font color="#800000">250 </font><font color="#FF0000"><b>then </b></font>ncol<font color="#000080">:=</font><font color="#800000">250</font><font color="#000080">; </font><font color="#FF0000"><b>if </b></font>loc<font color="#000080">&lt;</font><font color="#800000">5 </font><font color="#FF0000"><b>then </b></font>ncol<font color="#000080">:=</font><font color="#800000">5
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>plasma<font color="#000080">(</font>x1<font color="#000080">,</font>y1<font color="#000080">,</font>x2<font color="#000080">,</font>y2<font color="#000080">:</font>word<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>xn<font color="#000080">,</font>yn<font color="#000080">,</font>dxy<font color="#000080">,</font>p1<font color="#000080">,</font>p2<font color="#000080">,</font>p3<font color="#000080">,</font>p4<font color="#000080">:</font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font><font color="#000080">(</font>x2<font color="#000080">-</font>x1<font color="#000080">&lt;</font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>y2<font color="#000080">-</font>y1<font color="#000080">&lt;</font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
  </font>p1<font color="#000080">:=</font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>y1<font color="#000080">+</font>x1<font color="#000080">]; </font>p2<font color="#000080">:=</font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>y2<font color="#000080">+</font>x1<font color="#000080">]; </font>p3<font color="#000080">:=</font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>y1<font color="#000080">+</font>x2<font color="#000080">];
  </font>p4<font color="#000080">:=</font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>y2<font color="#000080">+</font>x2<font color="#000080">]; </font>xn<font color="#000080">:=(</font>x2<font color="#000080">+</font>x1<font color="#000080">) </font><font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">; </font>yn<font color="#000080">:=(</font>y2<font color="#000080">+</font>y1<font color="#000080">) </font><font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">;
  </font>dxy<font color="#000080">:=</font><font color="#800000">5</font><font color="#000080">*(</font>x2<font color="#000080">-</font>x1<font color="#000080">+</font>y2<font color="#000080">-</font>y1<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">3</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>y1<font color="#000080">+</font>xn<font color="#000080">]=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>y1<font color="#000080">+</font>xn<font color="#000080">]:=</font>ncol<font color="#000080">(</font>p1<font color="#000080">+</font>p3<font color="#000080">,</font>dxy<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>yn<font color="#000080">+</font>x1<font color="#000080">]=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>yn<font color="#000080">+</font>x1<font color="#000080">]:=</font>ncol<font color="#000080">(</font>p1<font color="#000080">+</font>p2<font color="#000080">,</font>dxy<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>yn<font color="#000080">+</font>x2<font color="#000080">]=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>yn<font color="#000080">+</font>x2<font color="#000080">]:=</font>ncol<font color="#000080">(</font>p3<font color="#000080">+</font>p4<font color="#000080">,</font>dxy<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>y2<font color="#000080">+</font>xn<font color="#000080">]=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>y2<font color="#000080">+</font>xn<font color="#000080">]:=</font>ncol<font color="#000080">(</font>p2<font color="#000080">+</font>p4<font color="#000080">,</font>dxy<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
  </font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>yn<font color="#000080">+</font>xn<font color="#000080">]:=</font>ncol<font color="#000080">(</font>p1<font color="#000080">+</font>p2<font color="#000080">+</font>p3<font color="#000080">+</font>p4<font color="#000080">,</font>dxy<font color="#000080">,</font><font color="#800000">4</font><font color="#000080">);
  </font>plasma<font color="#000080">(</font>x1<font color="#000080">,</font>y1<font color="#000080">,</font>xn<font color="#000080">,</font>yn<font color="#000080">); </font>plasma<font color="#000080">(</font>xn<font color="#000080">,</font>y1<font color="#000080">,</font>x2<font color="#000080">,</font>yn<font color="#000080">);
  </font>plasma<font color="#000080">(</font>x1<font color="#000080">,</font>yn<font color="#000080">,</font>xn<font color="#000080">,</font>y2<font color="#000080">); </font>plasma<font color="#000080">(</font>xn<font color="#000080">,</font>yn<font color="#000080">,</font>x2<font color="#000080">,</font>y2<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>draw<font color="#000080">(</font>xp<font color="#000080">,</font>yp<font color="#000080">,</font>dir<font color="#000080">:</font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>z<font color="#000080">,</font>zobs<font color="#000080">,</font>ix<font color="#000080">,</font>iy<font color="#000080">,</font>iy1<font color="#000080">,</font>iyp<font color="#000080">,</font>ixp<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>s<font color="#000080">,</font>csf<font color="#000080">,</font>snf<font color="#000080">,</font>mpc<font color="#000080">,</font>i<font color="#000080">,</font>j<font color="#000080">:</font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>fillchar<font color="#000080">(</font>rng<font color="#000080">,</font>sizeof<font color="#000080">(</font>rng<font color="#000080">),</font><font color="#800000">200</font><font color="#000080">); </font>zobs<font color="#000080">:=</font><font color="#800000">100</font><font color="#000080">+</font>mp<font color="#000080">^[</font><font color="#800000">256</font><font color="#000080">*</font>yp<font color="#000080">+</font>xp<font color="#000080">];
  </font>csf<font color="#000080">:=</font>round<font color="#000080">(</font><font color="#800000">256</font><font color="#000080">*</font>cos<font color="#000080">(</font>dir<font color="#000080">/</font><font color="#800000">180</font><font color="#000080">*</font>pi<font color="#000080">)); </font>snf<font color="#000080">:=</font>round<font color="#000080">(</font><font color="#800000">256</font><font color="#000080">*</font>sin<font color="#000080">(</font>dir<font color="#000080">/</font><font color="#800000">180</font><font color="#000080">*</font>pi<font color="#000080">));
  </font>fillchar<font color="#000080">(</font>scr<font color="#000080">^,</font><font color="#800000">64000</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>iy<font color="#000080">:=</font>yp <font color="#FF0000"><b>to </b></font>yp<font color="#000080">+</font><font color="#800000">55 </font><font color="#FF0000"><b>do begin
    </b></font>iy1<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">+</font><font color="#800000">2</font><font color="#000080">*(</font>iy<font color="#000080">-</font>yp<font color="#000080">); </font>s<font color="#000080">:=</font><font color="#800000">4</font><font color="#000080">+</font><font color="#800000">300 </font><font color="#FF0000"><b>div </b></font>iy1<font color="#000080">;
    </font><font color="#FF0000"><b>for </b></font>ix<font color="#000080">:=</font>xp<font color="#000080">+</font>yp<font color="#000080">-</font>iy <font color="#FF0000"><b>to </b></font>xp<font color="#000080">-</font>yp<font color="#000080">+</font>iy <font color="#FF0000"><b>do begin
      </b></font>ixp<font color="#000080">:=</font>xp<font color="#000080">+((</font>ix<font color="#000080">-</font>xp<font color="#000080">)*</font>csf<font color="#000080">+(</font>iy<font color="#000080">-</font>yp<font color="#000080">)*</font>snf<font color="#000080">) </font><font color="#FF0000"><b>shr </b></font><font color="#800000">8</font><font color="#000080">;
      </font>iyp<font color="#000080">:=</font>yp<font color="#000080">+((</font>iy<font color="#000080">-</font>yp<font color="#000080">)*</font>csf<font color="#000080">-(</font>ix<font color="#000080">-</font>xp<font color="#000080">)*</font>snf<font color="#000080">) </font><font color="#FF0000"><b>shr </b></font><font color="#800000">8</font><font color="#000080">;
      </font>x<font color="#000080">:=</font><font color="#800000">160</font><font color="#000080">+</font><font color="#800000">360</font><font color="#000080">*(</font>ix<font color="#000080">-</font>xp<font color="#000080">) </font><font color="#FF0000"><b>div </b></font>iy1<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>x<font color="#000080">&gt;=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>x<font color="#000080">+</font>s<font color="#000080">&lt;=</font><font color="#800000">318</font><font color="#000080">) </font><font color="#FF0000"><b>then begin
        </b></font>z<font color="#000080">:=</font>mp<font color="#000080">^[</font>iyp <font color="#FF0000"><b>shl </b></font><font color="#800000">8</font><font color="#000080">+</font>ixp<font color="#000080">]; </font>mpc<font color="#000080">:=</font>z <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">;
        </font><font color="#FF0000"><b>if </b></font>z<font color="#000080">&lt;</font><font color="#800000">47 </font><font color="#FF0000"><b>then </b></font>z<font color="#000080">:=</font><font color="#800000">46</font><font color="#000080">;  </font>y<font color="#000080">:=</font><font color="#800000">100</font><font color="#000080">+(</font>zobs<font color="#000080">-</font>z<font color="#000080">)*</font><font color="#800000">30 </font><font color="#FF0000"><b>div </b></font>iy1<font color="#000080">;
        </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>y<font color="#000080">&lt;=</font><font color="#800000">199</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>y<font color="#000080">&gt;=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then for </b></font>j<font color="#000080">:=</font>x <font color="#FF0000"><b>to </b></font>x<font color="#000080">+</font>s <font color="#FF0000"><b>do begin
          for </b></font>i<font color="#000080">:=</font>y <font color="#FF0000"><b>to </b></font>rng<font color="#000080">[</font>j<font color="#000080">] </font><font color="#FF0000"><b>do </b></font>scr<font color="#000080">^[</font><font color="#800000">320</font><font color="#000080">*</font>i<font color="#000080">+</font>j<font color="#000080">]:=</font>mpc<font color="#000080">;
          </font><font color="#FF0000"><b>if </b></font>y<font color="#000080">&lt;</font>rng<font color="#000080">[</font>j<font color="#000080">] </font><font color="#FF0000"><b>then </b></font>rng<font color="#000080">[</font>j<font color="#000080">]:=</font>y
        <font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>move<font color="#000080">(</font>scr<font color="#000080">^,</font>mem<font color="#000080">[</font><font color="#800000">$a000</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">],</font><font color="#800000">64000</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>writeln<font color="#000080">(</font><font color="#800000">'creating landscape...'</font><font color="#000080">);
  </font>randomize<font color="#000080">; </font>x<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>y<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>dir<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>new<font color="#000080">(</font>mp<font color="#000080">); </font>fillchar<font color="#000080">(</font>mp<font color="#000080">^,</font><font color="#800000">65535</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font>new<font color="#000080">(</font>scr<font color="#000080">); </font>mp<font color="#000080">^[</font><font color="#800000">$0000</font><font color="#000080">]:=</font><font color="#800000">128</font><font color="#000080">; </font>plasma<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">256</font><font color="#000080">,</font><font color="#800000">256</font><font color="#000080">);
  </font><font color="#FF0000"><b>asm </b></font><font color="#FF00FF">xor ax,ax; mov al,$13; int $10; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>port<font color="#000080">[</font><font color="#800000">$3c8</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">; </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">384 </font><font color="#FF0000"><b>do </b></font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font>pal<font color="#000080">[</font>i<font color="#000080">];
  </font><font color="#FF0000"><b>repeat
    </b></font>dir<font color="#000080">:=</font>dir <font color="#FF0000"><b>mod </b></font><font color="#800000">360</font><font color="#000080">;
    </font>draw<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>dir<font color="#000080">);
    </font><font color="#FF0000"><b>case </b></font>readkey <font color="#FF0000"><b>of
      </b></font><font color="#800000">#0</font><font color="#000080">:</font><font color="#FF0000"><b>case </b></font>readkey <font color="#FF0000"><b>of
        </b></font><font color="#800000">#75</font><font color="#000080">:</font>dec<font color="#000080">(</font>dir<font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
        </font><font color="#800000">#77</font><font color="#000080">:</font>inc<font color="#000080">(</font>dir<font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
        </font><font color="#800000">#72</font><font color="#000080">:</font><font color="#FF0000"><b>begin
          </b></font>y<font color="#000080">:=</font>y<font color="#000080">+</font>round<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">*</font>cos<font color="#000080">(</font>dir<font color="#000080">/</font><font color="#800000">180</font><font color="#000080">*</font>pi<font color="#000080">));
          </font>x<font color="#000080">:=</font>x<font color="#000080">+</font>round<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">*</font>sin<font color="#000080">(</font>dir<font color="#000080">/</font><font color="#800000">180</font><font color="#000080">*</font>pi<font color="#000080">));
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font><font color="#800000">#80</font><font color="#000080">:</font><font color="#FF0000"><b>begin
          </b></font>y<font color="#000080">:=</font>y<font color="#000080">-</font>round<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">*</font>cos<font color="#000080">(</font>dir<font color="#000080">/</font><font color="#800000">180</font><font color="#000080">*</font>pi<font color="#000080">));
          </font>x<font color="#000080">:=</font>x<font color="#000080">-</font>round<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">*</font>sin<font color="#000080">(</font>dir<font color="#000080">/</font><font color="#800000">180</font><font color="#000080">*</font>pi<font color="#000080">));
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#800000">#27</font><font color="#000080">:</font><font color="#FF0000"><b>begin asm </b></font><font color="#FF00FF">xor ax,ax; mov al,$3; int $10; </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font>halt <font color="#FF0000"><b>end
    end
  until </b></font>false<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0155.PAS">Original</a><b>]</b></p></body>
</html>
