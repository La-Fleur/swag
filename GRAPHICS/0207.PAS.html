<html>
<head><title> "A short FIRE routine" by MIKE FLYNN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0207.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>(****************************************************************************

Hopefully you got this from SWAG :)

Anyways, this is my little fire routine that I wrote.  It didn't take me

very long and is far from being optimized... so it's kind of slow....

Runs fine on my pentium 100mhz though!!! :)



This code was written by Phire of Patd Programming.  Check out my homepage:

http://www.tripod.com/~rflynn  or email: rflynn@shelby.net

Please feel free to improve my code ;) 

(****************************************************************************)



</i></font><font color="#FF0000"><b>USES </b></font>CRT<font color="#000080">, </font>DOS<font color="#000080">;



</font><font color="#FF0000"><b>CONST

     </b></font>YMAX <font color="#000080">= </font><font color="#800000">50</font><font color="#000080">;
     </font>YMIN <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
     </font>XMAX <font color="#000080">= </font><font color="#800000">317</font><font color="#000080">;
     </font>XMIN <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;
     </font>maxc <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;

</font><font color="#FF0000"><b>VAR

   </b></font>X<font color="#000080">,</font>Y<font color="#000080">,</font>Z  <font color="#000080">: </font>WORD<font color="#000080">;
   </font>TOTAL  <font color="#000080">: </font>WORD<font color="#000080">;
   </font>A<font color="#000080">,</font>B<font color="#000080">,</font>C  <font color="#000080">: </font>LONGINT<font color="#000080">;
   </font>I      <font color="#000080">: </font>WORD<font color="#000080">;
   </font>SCREEN <font color="#000080">: </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">64000</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>BYTE<font color="#000080">;
   </font>ST<font color="#000080">, </font>ET <font color="#000080">: </font>REAL<font color="#000080">;
   </font>CYCLES <font color="#000080">: </font>LONGINT<font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>CT<font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>MOO<font color="#000080">:</font>REAL<font color="#000080">);
</font><font color="#FF0000"><b>VAR
   </b></font>H<font color="#000080">,</font>M<font color="#000080">,</font>S<font color="#000080">,</font>MS <font color="#000080">: </font>WORD<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
     </b></font>GETTIME<font color="#000080">(</font>H<font color="#000080">,</font>M<font color="#000080">,</font>S<font color="#000080">,</font>MS<font color="#000080">);
     </font>MOO<font color="#000080">:=</font>H<font color="#000080">*</font><font color="#800000">3600</font><font color="#000080">+</font>M<font color="#000080">*</font><font color="#800000">60</font><font color="#000080">+</font>S<font color="#000080">+</font>MS <font color="#FF0000"><b>DIV </b></font><font color="#800000">100</font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>setcolor<font color="#000080">(</font>color<font color="#000080">,</font>r<font color="#000080">,</font>g<font color="#000080">,</font>b <font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
     </b></font>port<font color="#000080">[</font><font color="#800000">$3c8</font><font color="#000080">]:=</font>color<font color="#000080">;
     </font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font>r<font color="#000080">;
     </font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font>g<font color="#000080">;
     </font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font>b<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>RANDOMIZE<font color="#000080">;
     </font><font color="#FF0000"><b>ASM </b></font><font color="#FF00FF">MOV AX, 13H; INT 10H; </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>asm
        </b></font><font color="#FF00FF">mov dx, 03d4h
        mov al, 9
        out dx, al
        inc dx
        and al, 0e0h
        or  al, 7
        out dx, al
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do </b></font>setcolor<font color="#000080">(</font>i<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do </b></font>setcolor<font color="#000080">(</font><font color="#800000">64</font><font color="#000080">+</font>i<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do </b></font>setcolor<font color="#000080">(</font><font color="#800000">128</font><font color="#000080">+</font>i<font color="#000080">,</font>i<font color="#000080">,</font>i <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do </b></font>setcolor<font color="#000080">(</font><font color="#800000">192</font><font color="#000080">+</font>i<font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">+</font>i <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);

  </font>FILLCHAR<font color="#000080">(</font>SCREEN<font color="#000080">, </font><font color="#800000">64000</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);

     </font><font color="#FF0000"><b>WHILE </b></font>KEYPRESSED <font color="#FF0000"><b>DO </b></font>READKEY<font color="#000080">;
     </font>CT<font color="#000080">(</font>ST<font color="#000080">);
     </font>CYCLES<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
     </font><font color="#FF0000"><b>REPEAT
           </b></font>MOVE<font color="#000080">(</font>SCREEN<font color="#000080">, </font>MEM<font color="#000080">[</font><font color="#800000">$A000</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">], </font><font color="#800000">64000</font><font color="#000080">);
           </font><font color="#FF0000"><b>FOR </b></font>Y<font color="#000080">:=</font>YMAX <font color="#FF0000"><b>DOWNTO </b></font>YMIN <font color="#FF0000"><b>DO
           BEGIN
                IF </b></font>Y<font color="#000080">=</font>YMAX <font color="#FF0000"><b>THEN
                   BEGIN
                        FOR </b></font>Z<font color="#000080">:=</font>XMIN <font color="#FF0000"><b>TO </b></font>XMAX <font color="#FF0000"><b>DO
                        BEGIN
                             CASE </b></font>RANDOM<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">) </font><font color="#FF0000"><b>OF
                                  </b></font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">4 </font><font color="#000080">: </font>SCREEN<font color="#000080">[</font>Y<font color="#000080">*</font><font color="#800000">320</font><font color="#000080">+</font>Z<font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
                                  </font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">9 </font><font color="#000080">: </font>SCREEN<font color="#000080">[</font>Y<font color="#000080">*</font><font color="#800000">320</font><font color="#000080">+</font>Z<font color="#000080">]:=</font><font color="#800000">255</font><font color="#000080">;
                             </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
                        </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
                   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

           </font><font color="#FF0000"><b>FOR </b></font>X<font color="#000080">:=</font>XMIN <font color="#FF0000"><b>TO </b></font>XMAX <font color="#FF0000"><b>DO
                   BEGIN
                        IF </b></font>Y<font color="#000080">&lt;</font>YMAX <font color="#FF0000"><b>THEN
                           BEGIN
                                </b></font>INC<font color="#000080">(</font>CYCLES<font color="#000080">);
                                </font><font color="#FF0000"><b>IF </b></font>CYCLES<font color="#000080">=</font>MAXC<font color="#000080">+</font><font color="#800000">1 </font><font color="#FF0000"><b>THEN </b></font>CYCLES<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
                                </font><font color="#FF0000"><b>IF </b></font>CYCLES<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
                                BEGIN
                                </b></font>TOTAL<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
                                </font>SCREEN<font color="#000080">[</font>Y<font color="#000080">*</font><font color="#800000">320</font><font color="#000080">+</font>X<font color="#000080">]:=</font>SCREEN<font color="#000080">[(</font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">320</font><font color="#000080">+</font>X<font color="#000080">];
                                </font>TOTAL<font color="#000080">:=</font>TOTAL<font color="#000080">+</font>SCREEN<font color="#000080">[(</font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">320</font><font color="#000080">+(</font>X<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)];
                                </font>TOTAL<font color="#000080">:=</font>TOTAL<font color="#000080">+</font>SCREEN<font color="#000080">[(</font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">320</font><font color="#000080">+(</font>X<font color="#000080">)];
                                </font>TOTAL<font color="#000080">:=</font>TOTAL<font color="#000080">+</font>SCREEN<font color="#000080">[(</font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">320</font><font color="#000080">+(</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)];
                                </font>TOTAL<font color="#000080">:=</font>TOTAL<font color="#000080">+</font>SCREEN<font color="#000080">[(</font>Y<font color="#000080">)*</font><font color="#800000">320</font><font color="#000080">+(</font>X<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)];
                                </font>TOTAL<font color="#000080">:=</font>TOTAL<font color="#000080">+</font>SCREEN<font color="#000080">[(</font>Y<font color="#000080">)*</font><font color="#800000">320</font><font color="#000080">+(</font>X<font color="#000080">)];
                                </font>TOTAL<font color="#000080">:=</font>TOTAL<font color="#000080">+</font>SCREEN<font color="#000080">[(</font>Y<font color="#000080">)*</font><font color="#800000">320</font><font color="#000080">+(</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)];
                                </font>A<font color="#000080">:=</font>TOTAL <font color="#FF0000"><b>DIV </b></font><font color="#800000">6</font><font color="#000080">;
                                </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

                                </font><font color="#FF0000"><b>IF </b></font>A<font color="#000080">&gt;</font><font color="#800000">255 </font><font color="#FF0000"><b>THEN </b></font>A<font color="#000080">:=</font><font color="#800000">255</font><font color="#000080">;
                                </font>SCREEN<font color="#000080">[</font>Y<font color="#000080">*</font><font color="#800000">320</font><font color="#000080">+</font>X<font color="#000080">]:=</font>A<font color="#000080">;
                                </font>SCREEN<font color="#000080">[</font>Y<font color="#000080">*</font><font color="#800000">320</font><font color="#000080">+(</font>X<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)]:=</font>A<font color="#000080">;
                                </font>SCREEN<font color="#000080">[</font>Y<font color="#000080">*</font><font color="#800000">320</font><font color="#000080">+(</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)]:=</font>A<font color="#000080">;
                           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
                   </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>KEYPRESSED<font color="#000080">);
     </font><font color="#FF0000"><b>asm
        </b></font><font color="#FF00FF">mov ax, 3h
        int 10h
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.


</font><font color="#008000"><i>{ --- CUT --- }

</i></font><font color="#000080">(</font>___<font color="#000080">)        *   </font>Digital Patd<font color="#000080">/</font>Patd Programming

<font color="#000080">(</font>o o<font color="#000080">)-------/    </font>EMAIL<font color="#000080">: </font>rflynn<font color="#000080">@</font>shelby<font color="#000080">.</font>net

 <font color="#000080">\</font>_<font color="#000080">/</font>________<font color="#000080">|    </font>WWW  <font color="#000080">: </font>http<font color="#000080">:</font><font color="#008000"><i>//www.tripod.com/~rflynn

    </i></font><font color="#000080">||    ||     </font>SysOp <font color="#FF0000"><b>Of </b></font>Hot <font color="#FF0000"><b>As </b></font>Fire BBS<font color="#000080">!! </font><font color="#008000"><i>{704}</i></font><font color="#800000">657</font><font color="#000080">-</font><font color="#800000">9498

    </font><font color="#000080">^^    ^^     </font>Call today <font color="#FF0000"><b>or </b></font>you might get burned<font color="#000080">!!!     





</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0207.PAS">Original</a><b>]</b></p></body>
</html>
