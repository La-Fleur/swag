<html>
<head><title> "Grabbing Pixel Color" by JENS LARSSON</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0118.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
 GK&gt; I have a slight problem.  I have written a program that runs in
 GK&gt; graphics mode ($13).  I use the following routine to get what
 GK&gt; colour is at that pixel :-
 GK&gt;     PixelColor := MEM[$A000:X + (Y*320)];
 GK&gt; This works fine, but it is rather slow.  I was wondering if
 GK&gt; anybody knew how to do this faster?
}

   </i></font><font color="#FF0000"><b>Function </b></font>PixColor<font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">: </font>Word<font color="#000080">) : </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>Asm
     </b></font><font color="#FF00FF">push  ds
     mov   ax,0a000h
     mov   ds,ax
     mov   ax,y
     shl   ax,6
     mov   si,ax
     shl   ax,2
     add   si,ax
     add   si,x
     lodsb
     pop   ds
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0118.PAS">Original</a><b>]</b></p></body>
</html>
