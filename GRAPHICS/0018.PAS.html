<html>
<head><title> "Screen Fades" by CHRIS BEISEL</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0018.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
CHRIS BEISEL

I've gotten many compliments on these two fade routines (a few good
programmers thought they were asm!)... plus, I made them so you can fade
part on the palette also... It's very smooth on my 486, as well as 386's
and 286's at friends houses...

        set up in your type declarations
                rgbtype=record
                    red,green,blue:byte;
                end;
                rgbarray[0..255] of rgbtype;

        and in your var declarations have something like
                rgbpal:rgbarray;

        and set your colors in that...
}
</i></font><font color="#FF0000"><b>procedure </b></font>fadein<font color="#000080">(</font>fadepal <font color="#000080">: </font>rgbarray<font color="#000080">; </font>col1<font color="#000080">, </font>col2 <font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>lcv<font color="#000080">,
  </font>lcv2 <font color="#000080">: </font>integer<font color="#000080">;
  </font>tpal <font color="#000080">: </font>rgbarray<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>lcv <font color="#000080">:= </font>col1 <font color="#FF0000"><b>to </b></font>col2 <font color="#FF0000"><b>do
  begin
    </b></font>TPal<font color="#000080">[</font>lcv<font color="#000080">].</font>red   <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>TPal<font color="#000080">[</font>lcv<font color="#000080">].</font>green <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>TPal<font color="#000080">[</font>lcv<font color="#000080">].</font>blue  <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>lcv <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
  begin
    for </b></font>lcv2<font color="#000080">:=</font>col1 <font color="#FF0000"><b>to </b></font>col2 <font color="#FF0000"><b>do
    begin
      if </b></font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red <font color="#000080">&gt; </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red <font color="#FF0000"><b>then
        </b></font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red <font color="#000080">:= </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green <font color="#000080">&gt; </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green <font color="#FF0000"><b>then
        </b></font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green <font color="#000080">:= </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue <font color="#000080">&gt; </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue <font color="#FF0000"><b>then
        </b></font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue <font color="#000080">:= </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;

      </font>setcolor<font color="#000080">(</font>lcv2<font color="#000080">, </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red<font color="#000080">, </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green<font color="#000080">, </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>refresh<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{*******************************************************************}

</i></font><font color="#FF0000"><b>procedure </b></font>fadeout<font color="#000080">(</font>fadepal <font color="#000080">: </font>rgbarray<font color="#000080">; </font>col1<font color="#000080">, </font>col2 <font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>lcv<font color="#000080">,
  </font>lcv2 <font color="#000080">: </font>integer<font color="#000080">;
  </font>TPal <font color="#000080">: </font>rgbarray<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>lcv <font color="#000080">:= </font>col1 <font color="#FF0000"><b>to </b></font>col2 <font color="#FF0000"><b>do
  begin
    </b></font>TPal<font color="#000080">[</font>lcv<font color="#000080">].</font>red   <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>TPal<font color="#000080">[</font>lcv<font color="#000080">].</font>green <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>TPal<font color="#000080">[</font>lcv<font color="#000080">].</font>blue  <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>lcv <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
  begin
    for </b></font>lcv2 <font color="#000080">:= </font>col1 <font color="#FF0000"><b>to </b></font>col2 <font color="#FF0000"><b>do
    begin
      if </b></font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red <font color="#000080">&gt; </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red <font color="#FF0000"><b>then
        </b></font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red <font color="#000080">:= </font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green <font color="#000080">&gt; </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green <font color="#FF0000"><b>then
        </b></font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green <font color="#000080">:= </font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue <font color="#000080">&gt; </font>TPal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue <font color="#FF0000"><b>then
        </b></font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue <font color="#000080">:= </font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;

      </font>setcolor<font color="#000080">(</font>lcv2<font color="#000080">, </font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>red<font color="#000080">, </font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>green<font color="#000080">, </font>fadepal<font color="#000080">[</font>lcv2<font color="#000080">].</font>blue<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>refresh<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{*******************************************************************}

</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0018.PAS">Original</a><b>]</b></p></body>
</html>
