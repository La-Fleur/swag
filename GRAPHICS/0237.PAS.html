<html>
<head><title> "3D Raycasting engine w/joystick control" by WILLIAM YU</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0237.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{**********************************************************************
 *  3D Engine - Like Wolfenstien 3D
 *  This version was converted from BASIC code to Pascal by William Yu
 *  100% Public Domain - All Rights Relinquished.
 *
 *  Original BASIC Code by Peter Cooper
 *
 *  Graphics Routines courtesy of Sune Marcher (I think)
 *  Joystick Routines courtesy of Michael Genesis
 *
 *  Email: William Yu &lt;voxel@freenet.edmonton.ab.ca&gt;
 *  HPage: http://www.freenet.edmonton.ab.ca/~voxel/
 *
 *  Instructions:  &lt;SPACE&gt; or Button 1 on joystick to open door.
 *                 Door is identified by the colour yellow.
 **********************************************************************}
</i></font><font color="#FF0000"><b>uses </b></font>crt<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>vidseg<font color="#000080">:</font>word<font color="#000080">=</font><font color="#800000">$a000</font><font color="#000080">;
      </font>Gameport<font color="#000080">=</font><font color="#800000">$201</font><font color="#000080">;
      </font>Timer0<font color="#000080">=</font><font color="#800000">$40</font><font color="#000080">;
      </font>TControl<font color="#000080">=</font><font color="#800000">$43</font><font color="#000080">;
      </font>MaxLoops<font color="#000080">=</font><font color="#800000">5000</font><font color="#000080">;
      </font>Button1<font color="#000080">=</font><font color="#800000">$10</font><font color="#000080">; </font>Button2<font color="#000080">=</font><font color="#800000">$20</font><font color="#000080">; </font>Button3<font color="#000080">=</font><font color="#800000">$40</font><font color="#000080">; </font>Button5<font color="#000080">=</font><font color="#800000">$80</font><font color="#000080">;
      </font>Xaxis1<font color="#000080">=</font><font color="#800000">$01</font><font color="#000080">; </font>Yaxis1<font color="#000080">=</font><font color="#800000">$02</font><font color="#000080">; </font>Xaxis2<font color="#000080">=</font><font color="#800000">$04</font><font color="#000080">; </font>Yaxis2<font color="#000080">=</font><font color="#800000">$08</font><font color="#000080">;
  </font>Page <font color="#000080">: </font>Byte <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
  </font>Grid <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">24</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">24</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte <font color="#000080">=
  ((</font><font color="#800000">9</font><font color="#000080">, </font><font color="#800000">62</font><font color="#000080">, </font><font color="#800000">63</font><font color="#000080">, </font><font color="#800000">64</font><font color="#000080">, </font><font color="#800000">65</font><font color="#000080">, </font><font color="#800000">66</font><font color="#000080">, </font><font color="#800000">67</font><font color="#000080">, </font><font color="#800000">68</font><font color="#000080">, </font><font color="#800000">69</font><font color="#000080">, </font><font color="#800000">70</font><font color="#000080">, </font><font color="#800000">71</font><font color="#000080">, </font><font color="#800000">72</font><font color="#000080">,</font><font color="#800000">73</font><font color="#000080">, </font><font color="#800000">74</font><font color="#000080">, </font><font color="#800000">74</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">75</font><font color="#000080">,  </font><font color="#800000">2</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">11</font><font color="#000080">,  </font><font color="#800000">3</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">76</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">11</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">31</font><font color="#000080">, </font><font color="#800000">30</font><font color="#000080">, </font><font color="#800000">29</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">, </font><font color="#800000">27</font><font color="#000080">, </font><font color="#800000">26</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">, </font><font color="#800000">23</font><font color="#000080">,</font><font color="#800000">22</font><font color="#000080">, </font><font color="#800000">14</font><font color="#000080">, </font><font color="#800000">27</font><font color="#000080">,  </font><font color="#800000">2</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">20</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">21</font><font color="#000080">, </font><font color="#800000">20</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">29</font><font color="#000080">,  </font><font color="#800000">2</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">22</font><font color="#000080">, </font><font color="#800000">21</font><font color="#000080">, </font><font color="#800000">22</font><font color="#000080">, </font><font color="#800000">23</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">26</font><font color="#000080">, </font><font color="#800000">27</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">,</font><font color="#800000">30</font><font color="#000080">, </font><font color="#800000">14</font><font color="#000080">, </font><font color="#800000">30</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">26</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">23</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">2</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">27</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">43</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">31</font><font color="#000080">, </font><font color="#800000">30</font><font color="#000080">, </font><font color="#800000">29</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">, </font><font color="#800000">27</font><font color="#000080">, </font><font color="#800000">26</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">2</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">39</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">29</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">26</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">30</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">43</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">30</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">29</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">31</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">23</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">23</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">11</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">30</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">27</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">22</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">22</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">11</font><font color="#000080">,  </font><font color="#800000">3</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">29</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">55</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">26</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">21</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">21</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">11</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">54</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">22</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">22</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">11</font><font color="#000080">,  </font><font color="#800000">3</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">27</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">53</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">23</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">23</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">26</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">52</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">51</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">50</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">26</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">26</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">, </font><font color="#800000">23</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">49</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">27</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">27</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">, </font><font color="#800000">12</font><font color="#000080">, </font><font color="#800000">22</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">48</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">5</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">47</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">),
   (</font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">13</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">29</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">),
   (</font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">,  </font><font color="#800000">1</font><font color="#000080">,  </font><font color="#800000">9</font><font color="#000080">));

</font><font color="#FF0000"><b>Var
  </b></font>vseg<font color="#000080">:</font>word<font color="#000080">;
  </font>virt<font color="#000080">:</font>pointer<font color="#000080">;
  </font>I<font color="#000080">,</font>J<font color="#000080">,</font>X<font color="#000080">,</font>Y <font color="#000080">: </font>Word<font color="#000080">;
  </font>color <font color="#000080">: </font>byte<font color="#000080">;
  </font>STable <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[-</font><font color="#800000">31</font><font color="#000080">..</font><font color="#800000">392</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Real<font color="#000080">;
  </font>CTable <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[-</font><font color="#800000">31</font><font color="#000080">..</font><font color="#800000">392</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Real<font color="#000080">;
  </font>Factor<font color="#000080">,</font>Angle<font color="#000080">,</font>NewPX<font color="#000080">,</font>PX<font color="#000080">,</font>NewPY<font color="#000080">,</font>PY<font color="#000080">,</font>StepX<font color="#000080">,</font>StepY<font color="#000080">,</font>XX<font color="#000080">,</font>YY <font color="#000080">: </font>Real<font color="#000080">;
  </font>A<font color="#000080">,</font>Heading<font color="#000080">,</font>Rand<font color="#000080">,</font>Stride<font color="#000080">,</font>Turn<font color="#000080">,</font>X1<font color="#000080">,</font>L<font color="#000080">,</font>K<font color="#000080">,</font>DT<font color="#000080">,</font>H<font color="#000080">,</font>DD<font color="#000080">,</font>WY<font color="#000080">,</font>WYY <font color="#000080">: </font>Integer<font color="#000080">;
  </font>Moved<font color="#000080">,</font>Joy<font color="#000080">,</font>Stop<font color="#000080">,</font>RandSeed <font color="#000080">: </font>Boolean<font color="#000080">;

</font><font color="#FF0000"><b>var </b></font>ky<font color="#000080">:</font>char<font color="#000080">; </font>done<font color="#000080">:</font>boolean<font color="#000080">; </font>MaxX<font color="#000080">,</font>Minx<font color="#000080">,</font>MaxY<font color="#000080">,</font>MinY<font color="#000080">:</font>word<font color="#000080">;
    </font>MX<font color="#000080">,</font>MY<font color="#000080">:</font>byte<font color="#000080">;     </font><font color="#008000"><i>{percent-adjusted centered joystick values}
    </i></font>CX<font color="#000080">,</font>CY<font color="#000080">,</font>Dely<font color="#000080">:</font>byte<font color="#000080">;   </font><font color="#008000"><i>{Cursor positions and loop Delay}

</i></font><font color="#FF0000"><b>Function </b></font>JoyExist<font color="#000080">:</font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>var
   </b></font>temp<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
   asm
      </b></font><font color="#FF00FF">mov ah,84h
      mov dx,00h
      int 15h
      mov temp,al
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>if </b></font>temp<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>JoyExist<font color="#000080">:=</font>false
   <font color="#FF0000"><b>else </b></font>JoyExist<font color="#000080">:=</font>true<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>GetJoy<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>label </b></font>loop1<font color="#000080">,</font>loop2<font color="#000080">,</font>axis1<font color="#000080">,</font>loop3<font color="#000080">,</font>axdone<font color="#000080">;
 
</font><font color="#FF0000"><b>asm
    </b></font><font color="#FF00FF">cli               </font><font color="#008000"><i>{disable interrupts}
    </i></font><font color="#FF00FF">mov  dx,Gameport;  </font><font color="#008000"><i>{set port adress}
    </i></font><font color="#FF00FF">mov  cx,MaxLoops;
    mov  al,0;
    out  TControl,al;  </font><font color="#008000"><i>{latch count in timer0}
    </i></font><font color="#FF00FF">in   al,Timer0;     </font><font color="#008000"><i>{low byte of timer count}
    </i></font><font color="#FF00FF">mov  ah,al;
    in   al,Timer0;     </font><font color="#008000"><i>{high byte of timer count}
    </i></font><font color="#FF00FF">xchg al,ah;
    mov  bx,ax;        </font><font color="#008000"><i>{start count in BX}
    </i></font><font color="#FF00FF">out  dx,al;        </font><font color="#008000"><i>{trigger game port}
    </i></font><font color="#FF00FF">in   al,dx
loop1:
    in   al,dx;        </font><font color="#008000"><i>{Read Gameport}
    </i></font><font color="#FF00FF">mov  ah,al;
    and  ax,$0201;      </font><font color="#008000"><i>{X axis in al; Y axis in ah}
    </i></font><font color="#FF00FF">test al,Xaxis1;      </font><font color="#008000"><i>{is X axis done?}
    </i></font><font color="#FF00FF">jz   axis1;
    test ah,Yaxis1;      </font><font color="#008000"><i>{is Y axis done?}
    </i></font><font color="#FF00FF">loopnz loop1;
                       </font><font color="#008000"><i>{Y axis done first!}
    </i></font><font color="#FF00FF">out  TControl,al;
    in   al,Timer0;     </font><font color="#008000"><i>{low byte of Y axis count}
    </i></font><font color="#FF00FF">mov  ah,al;
    in   al,Timer0;     </font><font color="#008000"><i>{high byte of Y axis count}
    </i></font><font color="#FF00FF">xchg al,ah
    push ax            </font><font color="#008000"><i>{store Y axis count on the stack}
</i></font><font color="#FF00FF">loop2:
    in   al,dx;
    and  al,Xaxis1;
    test al,Xaxis1;      </font><font color="#008000"><i>{Test X axis}
    </i></font><font color="#FF00FF">loopnz loop2;
                       </font><font color="#008000"><i>{X axis done(after Y)}
    </i></font><font color="#FF00FF">out  TControl,al;
    in   al,Timer0;
    mov  ah,al;
    in   al,Timer0;
    xchg al,ah         </font><font color="#008000"><i>{X axis count}
    </i></font><font color="#FF00FF">sub  ax,bx;        </font><font color="#008000"><i>{find difference}
    </i></font><font color="#FF00FF">neg  ax
    mov  X,ax;         </font><font color="#008000"><i>{Save X axis time}
    </i></font><font color="#FF00FF">pop  ax;           </font><font color="#008000"><i>{Get Y axis count}
    </i></font><font color="#FF00FF">sub  ax,bx
    neg  ax
    mov  Y,ax;         </font><font color="#008000"><i>{Save Y axis time}
    </i></font><font color="#FF00FF">jmp  axdone        </font><font color="#008000"><i>{We're done.}
 
</i></font><font color="#FF00FF">axis1:                 </font><font color="#008000"><i>{X axis done first}
    </i></font><font color="#FF00FF">out  TControl,al;
    in   al,Timer0
    mov  ah,al
    in   al,Timer0
    xchg al,ah
    push ax            </font><font color="#008000"><i>{Store X axis count on the stack}
</i></font><font color="#FF00FF">loop3:
    in   al,dx
    and  al,Yaxis1;
    test al,Yaxis1;
    loopnz loop3;
                        </font><font color="#008000"><i>{Y is done}
    </i></font><font color="#FF00FF">out  TControl,al;
    in   al,Timer0;
    mov  ah,al
    in   al,Timer0
    xchg al,ah
    sub  ax,bx
    neg  ax
    mov  Y,ax           </font><font color="#008000"><i>{Save Y axis Time}
    </i></font><font color="#FF00FF">pop  ax             </font><font color="#008000"><i>{Get X axis count}
    </i></font><font color="#FF00FF">sub  ax,bx
    neg  ax
    mov  X,ax           </font><font color="#008000"><i>{Save X axis count}
</i></font><font color="#FF00FF">axdone:
    sti
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var </b></font>b1<font color="#000080">,</font>b2<font color="#000080">,</font>b3<font color="#000080">,</font>b4<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>Getbutton<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>label </b></font>bt2<font color="#000080">,</font>bt3<font color="#000080">,</font>bt4<font color="#000080">,</font>done<font color="#000080">;

</font><font color="#FF0000"><b>asm
    </b></font><font color="#FF00FF">mov b1,0
    mov b2,0
    mov b3,0
    mov b4,0
    mov dx,Gameport;
    in al,dx;
    test al,$10;
    jnz bt2             </font><font color="#008000"><i>{there must be a better way to do this}
    </i></font><font color="#FF00FF">mov b1,1
bt2:
    test al,$20;
    jnz bt3
    mov b2,1
bt3:
    test al,$40;
    jnz bt4;
    mov b3,1;
bt4:
    test al,$80;
    jnz done;
    mov b4,1
done:
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>setmode<font color="#000080">(</font><font color="#FF0000"><b>const </b></font>mode<font color="#000080">:</font>word<font color="#000080">);</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,mode
  int 10h
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>flip386<font color="#000080">(</font><font color="#FF0000"><b>const </b></font>a<font color="#000080">,</font>b<font color="#000080">:</font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">push ds
  mov ds,a
  mov es,b
  xor si,si
  xor di,di
  mov cx,16000
  db 66h; rep movsw
  pop ds
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>clear386<font color="#000080">(</font><font color="#FF0000"><b>const </b></font>where<font color="#000080">:</font>word<font color="#000080">;</font><font color="#FF0000"><b>const </b></font>c<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov es,where
  xor ax,ax
  xor di,di
  mov al,[c]
  mov ah,al
  db 66h; shr ax,16
  mov al,[c]
  mov ah,al
  mov cx,16000
  db 66h; rep stosw
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>vline2<font color="#000080">(</font><font color="#FF0000"><b>const </b></font>x<font color="#000080">,</font>y1<font color="#000080">,</font>y2<font color="#000080">,</font>where<font color="#000080">:</font>word<font color="#000080">;</font><font color="#FF0000"><b>const </b></font>c<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,where
  mov es,ax
  mov ax,[y1]
  mov bx,ax
  shl ax,8
  shl bx,6
  add ax,bx
  mov di,ax
  mov ax,[y2]
  mov bx,ax
  shl ax,8
  shl bx,6
  add bx,ax
  mov al,[c]
  mov cx,[x]
  add di,cx
  add bx,cx

  @@loop1:
    mov es:[di],al
    add di,320
    cmp di,bx
    jne @@loop1
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>GetKey<font color="#000080">: </font>CHAR<font color="#000080">;
</font><font color="#FF0000"><b>INLINE</b></font><font color="#000080">(</font><font color="#800000">$b4</font><font color="#000080">/</font><font color="#800000">$10</font><font color="#000080">/</font><font color="#800000">$cd</font><font color="#000080">/</font><font color="#800000">$16</font><font color="#000080">/</font><font color="#800000">$88</font><font color="#000080">/</font><font color="#800000">$e0</font><font color="#000080">);

</font><font color="#FF0000"><b>Procedure </b></font>ComputeView<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>X1 <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>FOR </b></font>A <font color="#000080">:= (</font>Heading <font color="#000080">+ </font><font color="#800000">32</font><font color="#000080">) </font><font color="#FF0000"><b>Downto </b></font><font color="#000080">(</font>Heading <font color="#000080">- </font><font color="#800000">31</font><font color="#000080">) </font><font color="#FF0000"><b>do
  Begin
    </b></font>StepX <font color="#000080">:= </font>STable<font color="#000080">[</font>A<font color="#000080">]; </font>StepY <font color="#000080">:= </font>CTable<font color="#000080">[</font>A<font color="#000080">];
    </font>XX <font color="#000080">:= </font>PX<font color="#000080">; </font>YY <font color="#000080">:= </font>PY<font color="#000080">;
    </font>L <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>Repeat
      </b></font>XX <font color="#000080">:= </font>XX <font color="#000080">- </font>StepX<font color="#000080">; </font>YY <font color="#000080">:= </font>YY <font color="#000080">- </font>StepY<font color="#000080">;
      </font>L <font color="#000080">:= </font>L <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
      </font>K <font color="#000080">:= </font>Grid<font color="#000080">[</font>Round<font color="#000080">(</font>XX<font color="#000080">), </font>Round<font color="#000080">(</font>YY<font color="#000080">)];
    </font><font color="#FF0000"><b>Until </b></font>K<font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">;
    </font>DD <font color="#000080">:= </font><font color="#800000">900 </font><font color="#FF0000"><b>div </b></font>L<font color="#000080">;
    </font>H <font color="#000080">:= </font>DD <font color="#000080">+ </font>DD<font color="#000080">;
    </font>DT <font color="#000080">:= </font><font color="#800000">100 </font><font color="#000080">- </font>DD<font color="#000080">;
    </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">4 </font><font color="#FF0000"><b>do
    Begin
      </b></font>WY<font color="#000080">:=</font>DT<font color="#000080">+</font>H<font color="#000080">;
      </font>WYY<font color="#000080">:=</font>DT<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>WY<font color="#000080">&gt;</font><font color="#800000">199 </font><font color="#FF0000"><b>then </b></font>WY<font color="#000080">:=</font><font color="#800000">199</font><font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>WYY<font color="#000080">&lt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>WYY<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
      </font>vLINE2 <font color="#000080">(</font>X1<font color="#000080">+</font>I<font color="#000080">, </font>WYY<font color="#000080">-</font>Rand<font color="#000080">, </font>WY<font color="#000080">-</font>Rand<font color="#000080">, </font>Vseg<font color="#000080">, </font>K<font color="#000080">);
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font>X1 <font color="#000080">:= </font>X1 <font color="#000080">+ </font><font color="#800000">5</font><font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>UpdateScreen<font color="#000080">;
</font><font color="#FF0000"><b>Begin
 </b></font>clear386<font color="#000080">(</font>vseg<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
 </font>ComputeView<font color="#000080">;
 </font>flip386<font color="#000080">(</font>vseg<font color="#000080">,</font>vidseg<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>MoveRight<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Heading <font color="#000080">:= (</font>Heading <font color="#000080">+ </font>Turn<font color="#000080">) </font><font color="#FF0000"><b>MOD </b></font><font color="#800000">360</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>MoveLeft<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Heading <font color="#000080">:= (</font>Heading <font color="#000080">+ (</font><font color="#800000">360 </font><font color="#000080">- </font>Turn<font color="#000080">)) </font><font color="#FF0000"><b>MOD </b></font><font color="#800000">360</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>MoveUp<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>NewPX <font color="#000080">:= </font>PX <font color="#000080">- (</font>STable<font color="#000080">[</font>Heading<font color="#000080">] * </font>Stride<font color="#000080">);
  </font>NewPY <font color="#000080">:= </font>PY <font color="#000080">- (</font>CTable<font color="#000080">[</font>Heading<font color="#000080">] * </font>Stride<font color="#000080">);
  </font><font color="#FF0000"><b>IF </b></font>Grid<font color="#000080">[</font>Round<font color="#000080">(</font>NewPX<font color="#000080">), </font>Round<font color="#000080">(</font>NewPY<font color="#000080">)] = </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
  Begin
    </b></font>PX <font color="#000080">:= </font>NewPX<font color="#000080">; </font>PY <font color="#000080">:= </font>NewPY<font color="#000080">;
    </font><font color="#FF0000"><b>If </b></font>RandSeed <font color="#FF0000"><b>Then
       </b></font>Rand<font color="#000080">:=</font>Rand<font color="#000080">+</font><font color="#800000">1
    </font><font color="#FF0000"><b>else
       </b></font>Rand<font color="#000080">:=</font>Rand<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>Rand <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>Rand<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>RandSeed<font color="#000080">:=</font><font color="#FF0000"><b>NOT </b></font>RandSeed<font color="#000080">;
  </font><font color="#FF0000"><b>End
  ELSE </b></font><font color="#008000"><i>{'tried to walk through a wall}
  </i></font><font color="#FF0000"><b>Begin
    </b></font>Sound<font color="#000080">(</font><font color="#800000">80</font><font color="#000080">);</font>Delay<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>MoveDown<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>NewPX <font color="#000080">:= </font>PX <font color="#000080">+ (</font>STable<font color="#000080">[</font>Heading<font color="#000080">] * </font>Stride<font color="#000080">);
  </font>NewPY <font color="#000080">:= </font>PY <font color="#000080">+ (</font>CTable<font color="#000080">[</font>Heading<font color="#000080">] * </font>Stride<font color="#000080">);
  </font><font color="#FF0000"><b>IF </b></font>Grid<font color="#000080">[</font>Round<font color="#000080">(</font>NewPX<font color="#000080">), </font>Round<font color="#000080">(</font>NewPY<font color="#000080">)] = </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
  Begin
    </b></font>PX <font color="#000080">:= </font>NewPX<font color="#000080">; </font>PY <font color="#000080">:= </font>NewPY<font color="#000080">;
    </font><font color="#FF0000"><b>If </b></font>RandSeed <font color="#FF0000"><b>Then
       </b></font>Rand<font color="#000080">:=</font>Rand<font color="#000080">+</font><font color="#800000">1
    </font><font color="#FF0000"><b>else
       </b></font>Rand<font color="#000080">:=</font>Rand<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>Rand <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>Rand<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>RandSeed<font color="#000080">:=</font><font color="#FF0000"><b>NOT </b></font>RandSeed<font color="#000080">;
  </font><font color="#FF0000"><b>End
  ELSE </b></font><font color="#008000"><i>{'tried to walk through a wall}
  </i></font><font color="#FF0000"><b>Begin
    </b></font>Sound<font color="#000080">(</font><font color="#800000">80</font><font color="#000080">);</font>Delay<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
 </b></font>Joy<font color="#000080">:=</font>False<font color="#000080">;
 </font><font color="#FF0000"><b>If </b></font>JoyExist <font color="#FF0000"><b>Then Begin
   </b></font>ClrScr<font color="#000080">;
   </font>Write<font color="#000080">(</font><font color="#800000">'Use joystick [Y/N]? '</font><font color="#000080">);
   </font>Readln<font color="#000080">(</font>ky<font color="#000080">);
   </font><font color="#FF0000"><b>If </b></font>Upcase<font color="#000080">(</font>ky<font color="#000080">)=</font><font color="#800000">'Y' </font><font color="#FF0000"><b>Then Begin
     </b></font>Joy<font color="#000080">:=</font>True<font color="#000080">;
     </font>done<font color="#000080">:=</font>false<font color="#000080">;
     </font>GetJoy<font color="#000080">;
     </font>MaxX<font color="#000080">:=</font>X<font color="#000080">; </font>MinX<font color="#000080">:=</font>X<font color="#000080">; </font>MaxY<font color="#000080">:=</font>Y<font color="#000080">; </font>MinY<font color="#000080">:=</font>Y<font color="#000080">;    </font><font color="#008000"><i>{initial values}
     </i></font>Writeln<font color="#000080">(</font><font color="#800000">'Whip that joystick around until the 4 leftmost numbers stop changing,'</font><font color="#000080">);
     </font>writeln<font color="#000080">(</font><font color="#800000">'then center the joystick and press button 1 or any key.'</font><font color="#000080">);
     </font><font color="#FF0000"><b>if </b></font>KeyPressed <font color="#FF0000"><b>then </b></font>ky<font color="#000080">:=</font>ReadKey<font color="#000080">;   </font><font color="#008000"><i>{Clear KeyBuffer}
     </i></font><font color="#FF0000"><b>while not </b></font>done <font color="#FF0000"><b>do begin
       </b></font>GetJoy<font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>X<font color="#000080">&gt;=</font>MaxX <font color="#FF0000"><b>then </b></font>MaxX<font color="#000080">:=</font>X<font color="#000080">;      </font><font color="#008000"><i>{find the range of the joystick}
       </i></font><font color="#FF0000"><b>if </b></font>X<font color="#000080">&lt;=</font>MinX <font color="#FF0000"><b>then </b></font>MinX<font color="#000080">:=</font>X<font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>Y<font color="#000080">&gt;=</font>MaxY <font color="#FF0000"><b>then </b></font>MaxY<font color="#000080">:=</font>Y<font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>Y<font color="#000080">&lt;=</font>MinY <font color="#FF0000"><b>then </b></font>MinY<font color="#000080">:=</font>Y<font color="#000080">;
       </font>gotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);
       </font>Writeln<font color="#000080">(</font>MinX<font color="#000080">,</font><font color="#800000">'    '</font><font color="#000080">,</font>MaxX<font color="#000080">,</font><font color="#800000">'    '</font><font color="#000080">,</font>X<font color="#000080">,</font><font color="#800000">'      '</font><font color="#000080">);
       </font>Writeln<font color="#000080">(</font>MinY<font color="#000080">,</font><font color="#800000">'    '</font><font color="#000080">,</font>MaxY<font color="#000080">,</font><font color="#800000">'    '</font><font color="#000080">,</font>Y<font color="#000080">,</font><font color="#800000">'      '</font><font color="#000080">);
       </font>GetButton<font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>B1<font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>Done<font color="#000080">:=</font>true<font color="#000080">;
       </font><font color="#FF0000"><b>if </b></font>KeyPressed <font color="#FF0000"><b>then </b></font>Done<font color="#000080">:=</font>true<font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>if </b></font>KeyPressed <font color="#FF0000"><b>then </b></font>ky<font color="#000080">:=</font>ReadKey<font color="#000080">;
     </font>X<font color="#000080">:=</font>round<font color="#000080">(((</font>X<font color="#000080">-</font>MinX<font color="#000080">)/</font>MaxX<font color="#000080">)*</font><font color="#800000">100</font><font color="#000080">);  </font><font color="#008000"><i>{Percent-adjust:  this scales }
     </i></font>Y<font color="#000080">:=</font>round<font color="#000080">(((</font>Y<font color="#000080">-</font>MInY<font color="#000080">)/</font>MaxY<font color="#000080">)*</font><font color="#800000">100</font><font color="#000080">);  </font><font color="#008000"><i>{ the number to between 1 and 100.}
     </i></font>MX<font color="#000080">:=</font>X<font color="#000080">; </font>MY<font color="#000080">:=</font>Y<font color="#000080">;
 </font><font color="#FF0000"><b>End
 Else
   </b></font>Joy<font color="#000080">:=</font>False<font color="#000080">;
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#008000"><i>{Joystick Exist check }

 </i></font>SetMode<font color="#000080">(</font><font color="#800000">$13</font><font color="#000080">);
 </font>getmem<font color="#000080">(</font>virt<font color="#000080">,</font><font color="#800000">64000</font><font color="#000080">);
 </font>vseg<font color="#000080">:=</font>seg<font color="#000080">(</font>virt<font color="#000080">^);
 </font>Factor <font color="#000080">:= (</font>ArcTan<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">8</font><font color="#000080">) / </font><font color="#800000">360</font><font color="#000080">;
 </font><font color="#FF0000"><b>FOR </b></font>A <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">359 </font><font color="#FF0000"><b>Do
 Begin
   </b></font>Angle <font color="#000080">:= </font>A <font color="#000080">* </font>Factor<font color="#000080">;
   </font>STable<font color="#000080">[</font>A<font color="#000080">] := </font>Sin<font color="#000080">(</font>Angle<font color="#000080">) * </font><font color="#800000">0.1</font><font color="#000080">;
   </font>CTable<font color="#000080">[</font>A<font color="#000080">] := </font>Cos<font color="#000080">(</font>Angle<font color="#000080">) * </font><font color="#800000">0.1</font><font color="#000080">;
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>FOR </b></font>A <font color="#000080">:= -</font><font color="#800000">31 </font><font color="#FF0000"><b>to </b></font><font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>Do
 Begin
   </b></font>STable<font color="#000080">[</font>A<font color="#000080">] := </font>STable<font color="#000080">[</font>A <font color="#000080">+ </font><font color="#800000">360</font><font color="#000080">];
   </font>CTable<font color="#000080">[</font>A<font color="#000080">] := </font>CTable<font color="#000080">[</font>A <font color="#000080">+ </font><font color="#800000">360</font><font color="#000080">];
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>FOR </b></font>A <font color="#000080">:= </font><font color="#800000">360 </font><font color="#FF0000"><b>to </b></font><font color="#800000">392 </font><font color="#FF0000"><b>Do
 Begin
   </b></font>STable<font color="#000080">[</font>A<font color="#000080">] := </font>STable<font color="#000080">[</font>A <font color="#000080">- </font><font color="#800000">360</font><font color="#000080">];
   </font>CTable<font color="#000080">[</font>A<font color="#000080">] := </font>CTable<font color="#000080">[</font>A <font color="#000080">- </font><font color="#800000">360</font><font color="#000080">];
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

 </font>PX <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">; </font>PY <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">;   </font><font color="#008000"><i>{ 'the starting coordinates of the player's location }
 </i></font>Stride <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">;        </font><font color="#008000"><i>{ 'the distance covered in one &quot;step&quot; by the player  }
                     { '   by pressing the up or down arrow keys          }
 </i></font>Heading <font color="#000080">:= </font><font color="#800000">180</font><font color="#000080">;     </font><font color="#008000"><i>{ 'the heading of the player (in degrees)            }
 </i></font>Turn <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">;          </font><font color="#008000"><i>{ 'number of degrees of rotation produced by         }
                     { '   pressing the right or left arrow keys          }
 </i></font>UpdateScreen<font color="#000080">;
 </font>RandSeed <font color="#000080">:= </font>True<font color="#000080">;

</font><font color="#FF0000"><b>Repeat
 If </b></font>Joy <font color="#FF0000"><b>Then Begin
  </b></font>Dely<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;         </font><font color="#008000"><i>{ Use this to slow joystick down }
  </i></font>Done<font color="#000080">:=</font>False<font color="#000080">;
  </font><font color="#FF0000"><b>while not </b></font>done <font color="#FF0000"><b>do begin</b></font><font color="#000080">;
    </font>GetJoy<font color="#000080">;
    </font>X<font color="#000080">:=</font>round<font color="#000080">(((</font>X<font color="#000080">-</font>MinX<font color="#000080">)/</font>MaxX<font color="#000080">)*</font><font color="#800000">100</font><font color="#000080">);
    </font>Y<font color="#000080">:=</font>round<font color="#000080">(((</font>Y<font color="#000080">-</font>MInY<font color="#000080">)/</font>MaxY<font color="#000080">)*</font><font color="#800000">100</font><font color="#000080">);
    </font>Moved<font color="#000080">:=</font>False<font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>X<font color="#000080">&gt;</font>MX<font color="#000080">+</font><font color="#800000">10 </font><font color="#FF0000"><b>then Begin
      </b></font>Moved<font color="#000080">:=</font>True<font color="#000080">;
      </font>MoveLeft<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>Y<font color="#000080">&lt;</font>MY<font color="#000080">-</font><font color="#800000">10 </font><font color="#FF0000"><b>then </b></font>MoveUp<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>Y<font color="#000080">&gt;</font>MY<font color="#000080">+</font><font color="#800000">10 </font><font color="#FF0000"><b>then </b></font>MoveDown<font color="#000080">;
      </font>UpdateScreen<font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>X<font color="#000080">&lt;</font>MX<font color="#000080">-</font><font color="#800000">10 </font><font color="#FF0000"><b>then Begin
      </b></font>Moved<font color="#000080">:=</font>True<font color="#000080">;
      </font>MoveRight<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>Y<font color="#000080">&lt;</font>MY<font color="#000080">-</font><font color="#800000">10 </font><font color="#FF0000"><b>then </b></font>MoveUp<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>Y<font color="#000080">&gt;</font>MY<font color="#000080">+</font><font color="#800000">10 </font><font color="#FF0000"><b>then </b></font>MoveDown<font color="#000080">;
      </font>UpdateScreen<font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>Y<font color="#000080">&gt;</font>MY<font color="#000080">+</font><font color="#800000">10</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font><font color="#FF0000"><b>NOT </b></font>Moved<font color="#000080">) </font><font color="#FF0000"><b>then Begin
      </b></font>MoveDown<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>X<font color="#000080">&lt;</font>MX<font color="#000080">-</font><font color="#800000">10 </font><font color="#FF0000"><b>then </b></font>MoveRight<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>X<font color="#000080">&gt;</font>MX<font color="#000080">+</font><font color="#800000">10 </font><font color="#FF0000"><b>then </b></font>MoveLeft<font color="#000080">;
      </font>UpdateScreen<font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>Y<font color="#000080">&lt;</font>MY<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font><font color="#FF0000"><b>NOT </b></font>Moved<font color="#000080">) </font><font color="#FF0000"><b>then Begin
      </b></font>MoveUp<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>X<font color="#000080">&gt;</font>MX<font color="#000080">+</font><font color="#800000">10 </font><font color="#FF0000"><b>then </b></font>MoveLeft<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>X<font color="#000080">&lt;</font>MX<font color="#000080">-</font><font color="#800000">10 </font><font color="#FF0000"><b>then </b></font>MoveRight<font color="#000080">;
      </font>UpdateScreen<font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font>GetButton<font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>b1<font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then
    Begin
       If </b></font>K<font color="#000080">=</font><font color="#800000">14 </font><font color="#FF0000"><b>Then Begin </b></font>Grid<font color="#000080">[</font>Round<font color="#000080">(</font>XX<font color="#000080">), </font>Round<font color="#000080">(</font>YY<font color="#000080">)]:=</font><font color="#800000">0</font><font color="#000080">;</font>UpdateScreen <font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>If </b></font>b3<font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>Dely<font color="#000080">:=(</font>Dely<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)</font><font color="#FF0000"><b>mod </b></font><font color="#800000">250</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>b4<font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>Dely<font color="#000080">:=(</font>Dely<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)</font><font color="#FF0000"><b>mod </b></font><font color="#800000">250</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>Keypressed <font color="#FF0000"><b>then </b></font>done<font color="#000080">:=</font>true<font color="#000080">;
    </font>delay<font color="#000080">(</font>Dely<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#008000"><i>{ Joystick }
     </i></font><font color="#FF0000"><b>Case </b></font>GetKey <font color="#FF0000"><b>of
         </b></font><font color="#800000">#71 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>MoveRight<font color="#000080">;</font>MoveUp<font color="#000080">;</font>UpdateScreen<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;  </font><font color="#008000"><i>{PgUp}
         </i></font><font color="#800000">#72 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>MoveUp<font color="#000080">;</font>UpdateScreen<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;            </font><font color="#008000"><i>{Up}
         </i></font><font color="#800000">#73 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>MoveLeft<font color="#000080">;</font>MoveUp<font color="#000080">;</font>UpdateScreen<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;   </font><font color="#008000"><i>{Home}
         </i></font><font color="#800000">#75 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>MoveRight<font color="#000080">;</font>UpdateScreen<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;         </font><font color="#008000"><i>{Right}
         </i></font><font color="#800000">#77 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>MoveLeft<font color="#000080">;</font>UpdateScreen<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;          </font><font color="#008000"><i>{Left}
         </i></font><font color="#800000">#79 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>MoveLeft<font color="#000080">;</font>MoveDown<font color="#000080">;</font>UpdateScreen<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#008000"><i>{End}
         </i></font><font color="#800000">#80 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>MoveDown<font color="#000080">;</font>UpdateScreen<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;          </font><font color="#008000"><i>{Down}
         </i></font><font color="#800000">#81 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>MoveRight<font color="#000080">;</font>MoveDown<font color="#000080">;</font>UpdateScreen<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;</font><font color="#008000"><i>{PgDn}
         </i></font><font color="#800000">#57 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
                 If </b></font>K<font color="#000080">=</font><font color="#800000">14 </font><font color="#FF0000"><b>Then Begin </b></font>Grid<font color="#000080">[</font>Round<font color="#000080">(</font>XX<font color="#000080">), </font>Round<font color="#000080">(</font>YY<font color="#000080">)]:=</font><font color="#800000">0</font><font color="#000080">;</font>UpdateScreen <font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font><font color="#800000">#01 </font><font color="#000080">: </font>Stop <font color="#000080">:= </font>True<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Until </b></font>Stop<font color="#000080">;
</font>SetMode<font color="#000080">(</font><font color="#800000">$03</font><font color="#000080">);
</font>nOsOUND<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to GRAPHICS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0237.PAS">Original</a><b>]</b></p></body>
</html>
