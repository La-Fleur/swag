<html>
<head><title> "Min/Max Words or Integers" by PHIL NICKELL</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0088.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{$S-,R-}
</i></font><font color="#FF0000"><b>UNIT </b></font>MaxMinW<font color="#000080">;
</font><font color="#008000"><i>(*
  The source code for the MaxMinW unit is released to the public domain.
  No rights are reserved.  Phil Nickell.  NSoft Co.
  This Turbo Pascal unit implements four highly optimized assembly
  language functions that provide MAX() and MIN() for unsigned words and
  signed integers
*)
</i></font><font color="#FF0000"><b>INTERFACE
   function  </b></font>MAXW  <font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>word<font color="#000080">)    : </font>Word<font color="#000080">;          </font><font color="#008000"><i>{ max word }
   </i></font><font color="#FF0000"><b>function  </b></font>MINW  <font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>word<font color="#000080">)    : </font>Word<font color="#000080">;          </font><font color="#008000"><i>{ min word }
   </i></font><font color="#FF0000"><b>function  </b></font>MAXI  <font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">) : </font>Integer<font color="#000080">;       </font><font color="#008000"><i>{ max integer }
   </i></font><font color="#FF0000"><b>function  </b></font>MINI  <font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">) : </font>Integer<font color="#000080">;       </font><font color="#008000"><i>{ min integer }

</i></font><font color="#FF0000"><b>IMPLEMENTATION
function </b></font>maxw<font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>word<font color="#000080">):</font>word<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Asm
        </b></font><font color="#FF00FF">mov     ax, a       </font><font color="#008000"><i>{ first parm in ax }
        </i></font><font color="#FF00FF">mov     dx, b       </font><font color="#008000"><i>{ second parm in dx }
        </i></font><font color="#FF00FF">cmp     ax, dx      </font><font color="#008000"><i>{ compare parms }
        </i></font><font color="#FF00FF">jae     @1          </font><font color="#008000"><i>{ return 1st parm }
        </i></font><font color="#FF00FF">mov     ax, dx      </font><font color="#008000"><i>{ return 2nd parm }
  </i></font><font color="#FF00FF">@1:
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>minw<font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>word<font color="#000080">):</font>word<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Asm
        </b></font><font color="#FF00FF">mov     ax, a       </font><font color="#008000"><i>{ first parm in ax }
        </i></font><font color="#FF00FF">mov     dx, b       </font><font color="#008000"><i>{ second parm in dx }
        </i></font><font color="#FF00FF">cmp     ax, dx      </font><font color="#008000"><i>{ compare parms }
        </i></font><font color="#FF00FF">jbe     @1          </font><font color="#008000"><i>{ return 1st parm }
        </i></font><font color="#FF00FF">mov     ax, dx      </font><font color="#008000"><i>{ return 2nd parm }
  </i></font><font color="#FF00FF">@1:
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>maxi<font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">):</font>integer<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Asm
        </b></font><font color="#FF00FF">mov     ax, a       </font><font color="#008000"><i>{ first parm in ax }
        </i></font><font color="#FF00FF">mov     dx, b       </font><font color="#008000"><i>{ second parm in dx }
        </i></font><font color="#FF00FF">cmp     ax, dx      </font><font color="#008000"><i>{ compare parms }
        </i></font><font color="#FF00FF">jge     @1          </font><font color="#008000"><i>{ return 1st parm }
        </i></font><font color="#FF00FF">mov     ax, dx      </font><font color="#008000"><i>{ return 2nd parm }
  </i></font><font color="#FF00FF">@1:
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>mini<font color="#000080">(</font>a<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">):</font>integer<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Asm
        </b></font><font color="#FF00FF">mov     ax, a       </font><font color="#008000"><i>{ first parm in ax }
        </i></font><font color="#FF00FF">mov     dx, b       </font><font color="#008000"><i>{ second parm in dx }
        </i></font><font color="#FF00FF">cmp     ax, dx      </font><font color="#008000"><i>{ compare parms }
        </i></font><font color="#FF00FF">jle     @1          </font><font color="#008000"><i>{ return 1st parm }
        </i></font><font color="#FF00FF">mov     ax, dx      </font><font color="#008000"><i>{ return 2nd parm }
  </i></font><font color="#FF00FF">@1:
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin </b></font><font color="#008000"><i>{INITIALIZATION}
</i></font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0088.PAS">Original</a><b>]</b></p></body>
</html>
