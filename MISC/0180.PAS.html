<html>
<head><title> "SWAG File Header Lister" by VALERY VOTINTSEV</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0180.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{-------------------------------------------------------------}
{                  Small SWAG LISTER                          }
{            (c) 1996 by Valery Votintsev                     }
{                         E-Mail: vot@infolink.tver.su        }
{                         FIDO:   2:5021/2.30                 }
{          modified slightly by Gayle Davis                   }
{-------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Program </b></font>SWAGL<font color="#000080">;

</font><font color="#FF0000"><b>Uses </b></font>DOS<font color="#000080">;

</font><font color="#FF0000"><b>TYPE
  </b></font>SwagHeader <font color="#000080">=
    </font><font color="#FF0000"><b>RECORD
      </b></font>HeadSize <font color="#000080">: </font>BYTE<font color="#000080">;                 </font><font color="#008000"><i>{size of header}
      </i></font>HeadChk  <font color="#000080">: </font>BYTE<font color="#000080">;                 </font><font color="#008000"><i>{checksum for header}
      </i></font>HeadID   <font color="#000080">: </font><font color="#FF0000"><b>ARRAY </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">5</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>CHAR<font color="#000080">; </font><font color="#008000"><i>{compression type tag}
      </i></font>NewSize  <font color="#000080">: </font>LONGINT<font color="#000080">;              </font><font color="#008000"><i>{compressed size}
      </i></font>OrigSize <font color="#000080">: </font>LONGINT<font color="#000080">;              </font><font color="#008000"><i>{original size}
      </i></font>Time     <font color="#000080">: </font>WORD<font color="#000080">;                 </font><font color="#008000"><i>{packed time}
      </i></font>Date     <font color="#000080">: </font>WORD<font color="#000080">;                 </font><font color="#008000"><i>{packed date}
      </i></font>Attr     <font color="#000080">: </font>WORD<font color="#000080">;                 </font><font color="#008000"><i>{file attributes and flags}
      </i></font>BufCRC   <font color="#000080">: </font>LONGINT<font color="#000080">;              </font><font color="#008000"><i>{32-CRC of the Buffer }
      </i></font>Swag     <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">[</font><font color="#800000">12</font><font color="#000080">];           </font><font color="#008000"><i>{stored SWAG filename}
      </i></font>Subject  <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">[</font><font color="#800000">40</font><font color="#000080">];           </font><font color="#008000"><i>{snipet subject}
      </i></font>Contrib  <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">[</font><font color="#800000">35</font><font color="#000080">];           </font><font color="#008000"><i>{contributor}
      </i></font>Keys     <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">[</font><font color="#800000">70</font><font color="#000080">];           </font><font color="#008000"><i>{search keys, comma deliminated}
      </i></font>FName    <font color="#000080">: </font>PathStr<font color="#000080">;              </font><font color="#008000"><i>{filename (variable length)}
      </i></font>CRC      <font color="#000080">: </font>WORD<font color="#000080">;                 </font><font color="#008000"><i>{16-bit CRC (immediately follows FName)}
    </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;

    </font>SWAGFooter <font color="#000080">=
    </font><font color="#FF0000"><b>RECORD
       </b></font>CopyRight <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">60</font><font color="#000080">];         </font><font color="#008000"><i>{ GDSOFT copyright }
       </i></font>Title     <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">65</font><font color="#000080">];         </font><font color="#008000"><i>{ SWG File Title   }
       </i></font>Count     <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

    </font>ShortHeader <font color="#000080">=
    </font><font color="#FF0000"><b>RECORD
      </b></font>OrigSize <font color="#000080">: </font>LONGINT<font color="#000080">;               </font><font color="#008000"><i>{original size}
      </i></font>Date     <font color="#000080">: </font>WORD<font color="#000080">;                  </font><font color="#008000"><i>{packed date}
      </i></font>Subject  <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">[</font><font color="#800000">40</font><font color="#000080">];            </font><font color="#008000"><i>{snipet subject}
      </i></font>Contrib  <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">[</font><font color="#800000">35</font><font color="#000080">];            </font><font color="#008000"><i>{contributor}
    </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var
   </b></font>PMask<font color="#000080">,
   </font>FMask<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;                       </font><font color="#008000"><i>{ SWAG files mask      }
   </i></font>Buf<font color="#000080">: </font>SwagHeader<font color="#000080">;                     </font><font color="#008000"><i>{ Temporary buffer     }
   </i></font>Footer<font color="#000080">:</font>SWAGFooter<font color="#000080">;                   </font><font color="#008000"><i>{ SWAG file footer     }
   </i></font>NextPos<font color="#000080">:</font>LongInt<font color="#000080">;                     </font><font color="#008000"><i>{ Next snipet position }
   </i></font>fSize<font color="#000080">:</font>LongInt<font color="#000080">;                       </font><font color="#008000"><i>{ File size            }
   </i></font>aList<font color="#000080">:</font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2000</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Pointer<font color="#000080">;     </font><font color="#008000"><i>{ Array of snipet info }
   </i></font>pShortHeader<font color="#000080">: ^</font>ShortHeader<font color="#000080">;          </font><font color="#008000"><i>{ snipet info pointer  }
   </i></font>ListLen<font color="#000080">:</font>Integer<font color="#000080">;                     </font><font color="#008000"><i>{ Snipet array length  }
   </i></font>Snipets<font color="#000080">:</font>Integer<font color="#000080">;                     </font><font color="#008000"><i>{ Number of snipets    }
   </i></font>AllSize<font color="#000080">:</font>LongInt<font color="#000080">;                     </font><font color="#008000"><i>{ All snipets size     }
   </i></font>TotalSize<font color="#000080">:</font>LongInt<font color="#000080">;                   </font><font color="#008000"><i>{ Total size           }
   </i></font>F<font color="#000080">:</font><font color="#FF0000"><b>File</b></font><font color="#000080">;
   </font>DirInfo<font color="#000080">:</font>SearchRec<font color="#000080">;
   </font>i<font color="#000080">:</font>integer<font color="#000080">;
   </font>Dir<font color="#000080">: </font>DirStr<font color="#000080">;
   </font>Name<font color="#000080">: </font>NameStr<font color="#000080">;
   </font>Ext<font color="#000080">: </font>ExtStr<font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------}
{ Convert the string to upper case             }
{(Russian conversion is excluded for simlicity)}

</i></font><font color="#FF0000"><b>Function </b></font>StUpcase<font color="#000080">(</font>S<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Var
   </b></font>i<font color="#000080">:</font>integer<font color="#000080">;
   </font>l<font color="#000080">:</font>byte <font color="#FF0000"><b>absolute </b></font>S<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>StUpcase<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font>Chr<font color="#000080">(</font>l<font color="#000080">);
   </font><font color="#FF0000"><b>For </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>l <font color="#FF0000"><b>do
      </b></font>StUpcase<font color="#000080">[</font>i<font color="#000080">]:=</font>UpCase<font color="#000080">(</font>S<font color="#000080">[</font>i<font color="#000080">]);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------}
{ Repeat the char n times                      }
</i></font><font color="#FF0000"><b>Function </b></font>Replicate<font color="#000080">(</font>C<font color="#000080">:</font>Char<font color="#000080">;</font>n<font color="#000080">:</font>byte<font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Var
   </b></font>i<font color="#000080">:</font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>Replicate<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font>Chr<font color="#000080">(</font>n<font color="#000080">);
   </font><font color="#FF0000"><b>For </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>n <font color="#FF0000"><b>do
      </b></font>Replicate<font color="#000080">[</font>i<font color="#000080">]:=</font>C<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------}
{ String Pad Right                             }
</i></font><font color="#FF0000"><b>Function </b></font>PadR<font color="#000080">(</font>S<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">;</font>n<font color="#000080">:</font>byte<font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Var
   </b></font>i<font color="#000080">:</font>integer<font color="#000080">;
   </font>l<font color="#000080">:</font>byte <font color="#FF0000"><b>absolute </b></font>S<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>PadR<font color="#000080">:=</font>S<font color="#000080">;
   </font>PadR<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font>Chr<font color="#000080">(</font>n<font color="#000080">);
   </font><font color="#FF0000"><b>For </b></font>i<font color="#000080">:=</font>l<font color="#000080">+</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>n <font color="#FF0000"><b>do
   begin
      </b></font>PadR<font color="#000080">[</font>i<font color="#000080">]:=</font><font color="#800000">' '</font><font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------}
{ Convert Integer to string &amp; add leading zero }
</i></font><font color="#FF0000"><b>Function </b></font>LeadZero<font color="#000080">(</font>L<font color="#000080">:</font>Longint<font color="#000080">;</font>n<font color="#000080">:</font>byte<font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Var
   </b></font>i<font color="#000080">:</font>integer<font color="#000080">;
   </font>S<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>STR<font color="#000080">(</font>L<font color="#000080">:</font>n<font color="#000080">,</font>S<font color="#000080">);
   </font><font color="#FF0000"><b>For </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>n <font color="#FF0000"><b>do
      If </b></font>S<font color="#000080">[</font>i<font color="#000080">]=</font><font color="#800000">' ' </font><font color="#FF0000"><b>then </b></font>S<font color="#000080">[</font>i<font color="#000080">]:=</font><font color="#800000">'0'</font><font color="#000080">;
   </font>LeadZero<font color="#000080">:=</font>S<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{-------------------------------------------}
{ Convert packed date to string }
</i></font><font color="#FF0000"><b>Function </b></font>Date2str<font color="#000080">(</font>D<font color="#000080">:</font>Word<font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Var
   </b></font>Day  <font color="#000080">:</font>Word<font color="#000080">;
   </font>Month<font color="#000080">:</font>Word<font color="#000080">;
   </font>Year <font color="#000080">:</font>Word<font color="#000080">;
</font><font color="#FF0000"><b>begin
   </b></font>Day  <font color="#000080">:= ( </font>D <font color="#FF0000"><b>and </b></font><font color="#800000">$1F</font><font color="#000080">);
   </font>Month<font color="#000080">:= ( </font>D <font color="#FF0000"><b>and </b></font><font color="#800000">$1E0</font><font color="#000080">) </font><font color="#FF0000"><b>shr </b></font><font color="#800000">5</font><font color="#000080">;
   </font>Year <font color="#000080">:= ( </font>D <font color="#FF0000"><b>and </b></font><font color="#800000">$FE00</font><font color="#000080">) </font><font color="#FF0000"><b>shr </b></font><font color="#800000">9</font><font color="#000080">;
   </font>Date2str<font color="#000080">:=</font>LeadZero<font color="#000080">(</font>Day<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">)+</font><font color="#800000">'-'
            </font><font color="#000080">+</font>LeadZero<font color="#000080">(</font>Month<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">)+</font><font color="#800000">'-'
            </font><font color="#000080">+</font>LeadZero<font color="#000080">((</font>Year<font color="#000080">+</font><font color="#800000">80</font><font color="#000080">),</font><font color="#800000">2</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#008000"><i>{--------- Main Routine ---------------------------------------}
</i></font><font color="#FF0000"><b>begin
   </b></font>FMask <font color="#000080">:= </font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">); </font><font color="#008000"><i>{ Get the file mask from command line }
   </i></font><font color="#FF0000"><b>If </b></font>FMask <font color="#000080">&lt;&gt; </font><font color="#800000">'' </font><font color="#FF0000"><b>then
   begin
      </b></font>FSplit<font color="#000080">(</font>FMask<font color="#000080">, </font>PMask<font color="#000080">, </font>Name<font color="#000080">, </font>Ext<font color="#000080">);

      </font>FindFirst<font color="#000080">(</font>FMask<font color="#000080">,</font>ARCHIVE<font color="#000080">,</font>DirInfo<font color="#000080">); </font><font color="#008000"><i>{ Search first file }

      </i></font>Writeln<font color="#000080">(</font><font color="#800000">''</font><font color="#000080">);
      </font>Writeln<font color="#000080">(</font><font color="#800000">'================= SWAG Snipets List =================='</font><font color="#000080">);
      </font>Writeln<font color="#000080">(</font><font color="#800000">'   (c) 1996 by Valery Votintsev (vot@infolink.tver.su)'</font><font color="#000080">);
      </font>Writeln<font color="#000080">(</font><font color="#800000">''</font><font color="#000080">);
      </font>Writeln<font color="#000080">(</font><font color="#800000">'From                 Size   Date   Subject'</font><font color="#000080">);
      </font>Writeln<font color="#000080">(</font><font color="#800000">'------------------- ----- -------- ---------------'</font><font color="#000080">);

      </font>TotalSize<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
      </font>Snipets  <font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;

      </font><font color="#FF0000"><b>While </b></font>DOSError <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>do   </b></font><font color="#008000"><i>{ while files exists }
      </i></font><font color="#FF0000"><b>begin
         </b></font>FSplit<font color="#000080">(</font>DirInfo<font color="#000080">.</font>Name<font color="#000080">, </font>Dir<font color="#000080">, </font>Name<font color="#000080">, </font>Ext<font color="#000080">);
         </font><font color="#FF0000"><b>If </b></font>StUpcase<font color="#000080">(</font>Ext<font color="#000080">)=</font><font color="#800000">'.SWG' </font><font color="#FF0000"><b>then begin    </b></font><font color="#008000"><i>{ Skip not .SWG files }
            </i></font>Assign<font color="#000080">(</font>F<font color="#000080">,</font>Pmask <font color="#000080">+ </font>DirInfo<font color="#000080">.</font>Name<font color="#000080">);
            </font>Reset<font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);

            </font>NextPos<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
            </font>FSize<font color="#000080">:=</font>FileSize<font color="#000080">(</font>F<font color="#000080">);
            </font>AllSize<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
            </font>ListLen<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;

            </font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>nextPos<font color="#000080">+</font>SizeOf<font color="#000080">(</font>Buf<font color="#000080">)) &lt; </font>FSize <font color="#FF0000"><b>do
            begin
               </b></font>Seek<font color="#000080">(</font>F<font color="#000080">,</font>NextPos<font color="#000080">);
               </font>BlockRead<font color="#000080">(</font>F<font color="#000080">,</font>Buf<font color="#000080">,</font>SizeOf<font color="#000080">(</font>Buf<font color="#000080">));

               </font>New <font color="#000080">( </font>pShortHeader <font color="#000080">); </font><font color="#008000"><i>{Allocate memory}
               </i></font>Inc<font color="#000080">(</font>ListLen<font color="#000080">);
               </font>aList<font color="#000080">[</font>ListLen<font color="#000080">]:=</font>pShortHeader<font color="#000080">;

               </font><font color="#FF0000"><b>With </b></font>pShortHeader<font color="#000080">^ </font><font color="#FF0000"><b>do
               begin
                  </b></font>OrigSize <font color="#000080">:= </font>Buf<font color="#000080">.</font>OrigSize<font color="#000080">;
                  </font>Date     <font color="#000080">:= </font>Buf<font color="#000080">.</font>Date<font color="#000080">;
                  </font>Subject  <font color="#000080">:= </font>Buf<font color="#000080">.</font>Subject<font color="#000080">;
                  </font>Contrib  <font color="#000080">:= </font>Buf<font color="#000080">.</font>Contrib<font color="#000080">;

                  </font>Inc<font color="#000080">(</font>AllSize<font color="#000080">,</font>OrigSize<font color="#000080">);
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
               </font>NextPos<font color="#000080">:=</font>NextPos<font color="#000080">+</font>Buf<font color="#000080">.</font>HeadSize<font color="#000080">+</font>buf<font color="#000080">.</font>NewSize<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">;
            </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

            </font>SEEK <font color="#000080">(</font>F<font color="#000080">, </font>FileSize<font color="#000080">(</font>F<font color="#000080">) - </font>SIZEOF<font color="#000080">(</font>Footer<font color="#000080">));
            </font>BlockRead<font color="#000080">(</font>F<font color="#000080">,</font>Footer<font color="#000080">,</font>SizeOf<font color="#000080">(</font>Footer<font color="#000080">));
            </font>Close<font color="#000080">(</font>F<font color="#000080">);

            </font><font color="#008000"><i>{ Say snipet header }
            </i></font>Writeln<font color="#000080">(</font><font color="#800000">''</font><font color="#000080">);
            </font>Writeln<font color="#000080">(</font>PadR<font color="#000080">(</font>StUpcase<font color="#000080">(</font>DirInfo<font color="#000080">.</font>Name<font color="#000080">),</font><font color="#800000">12</font><font color="#000080">),</font><font color="#800000">' - '</font><font color="#000080">,</font>Footer<font color="#000080">.</font>Title<font color="#000080">);
            </font>i<font color="#000080">:=</font>Length<font color="#000080">(</font>Footer<font color="#000080">.</font>Title<font color="#000080">)+</font><font color="#800000">15</font><font color="#000080">;
            </font>Writeln<font color="#000080">(</font>Replicate<font color="#000080">(</font><font color="#800000">'~'</font><font color="#000080">,</font>i<font color="#000080">));

            </font><font color="#008000"><i>{ List snipets in the file }
            </i></font><font color="#FF0000"><b>For </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>ListLen <font color="#FF0000"><b>do
            begin
               </b></font>pShortHeader<font color="#000080">:=</font>aList<font color="#000080">[</font>i<font color="#000080">];

               </font><font color="#008000"><i>{ Say the snipet info}
               </i></font><font color="#FF0000"><b>With </b></font>pShortHeader<font color="#000080">^ </font><font color="#FF0000"><b>do
               begin
                  </b></font>Write  <font color="#000080">(</font>PadR<font color="#000080">(</font>Contrib<font color="#000080">,</font><font color="#800000">19</font><font color="#000080">),</font><font color="#800000">' '</font><font color="#000080">);
                  </font>Write  <font color="#000080">(</font>OrigSize<font color="#000080">:</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">' '</font><font color="#000080">);
                  </font>Write  <font color="#000080">(</font>Date2str<font color="#000080">(</font>Date<font color="#000080">),</font><font color="#800000">' '</font><font color="#000080">);
                  </font>Writeln<font color="#000080">(</font>PadR<font color="#000080">(</font>Subject<font color="#000080">,</font><font color="#800000">40</font><font color="#000080">));
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
               </font>Dispose <font color="#000080">(</font>pShortHeader<font color="#000080">); </font><font color="#008000"><i>{Release memory}
            </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

            </font>Inc<font color="#000080">(</font>Snipets<font color="#000080">,</font>ListLen<font color="#000080">);
            </font>Inc<font color="#000080">(</font>TotalSize<font color="#000080">,</font>AllSize<font color="#000080">);

            </font><font color="#008000"><i>{ Say this file totals}
            </i></font>Writeln<font color="#000080">(</font><font color="#800000">'------------------- -----'</font><font color="#000080">);
            </font>Writeln<font color="#000080">(</font>ListLen<font color="#000080">:</font><font color="#800000">13</font><font color="#000080">,</font>AllSize<font color="#000080">:</font><font color="#800000">12</font><font color="#000080">);
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{If Ext = .SWG }
         </i></font>FindNext<font color="#000080">(</font>DirInfo<font color="#000080">);  </font><font color="#008000"><i>{ Search next file }
      </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{While DosError}

      { Say totals}
      </i></font>Writeln<font color="#000080">(</font><font color="#800000">'------------------- -----'</font><font color="#000080">);
      </font>Writeln<font color="#000080">(</font><font color="#800000">'Total:'</font><font color="#000080">,</font>Snipets<font color="#000080">:</font><font color="#800000">7</font><font color="#000080">,</font>TotalSize<font color="#000080">:</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">' bytes'</font><font color="#000080">);
      </font>Writeln<font color="#000080">(</font><font color="#800000">''</font><font color="#000080">);
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{If Mask &lt;&gt; ''}
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0180.PAS">Original</a><b>]</b></p></body>
</html>
