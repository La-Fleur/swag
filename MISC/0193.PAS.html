<html>
<head><title> "Pascal code for the Skyline problem" by SVETLANA KRYUKOVA</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0193.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>program </b></font>skyline_problem<font color="#000080">;

</font><font color="#008000"><i>{ Programmed by:  Svetlana Kryukova
  Programmed on:  May 19, 1993
}

{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>const 
   </b></font>MaxR <font color="#000080">= </font><font color="#800000">20</font><font color="#000080">;                 </font><font color="#008000"><i>{ maximum number of rectangleSkyline }
   </i></font>MaxSkylineSize <font color="#000080">= </font><font color="#800000">79</font><font color="#000080">;       </font><font color="#008000"><i>{ 4*MaxR - 1, maximum size of the Skyline }

</i></font><font color="#FF0000"><b>type
   </b></font>skyline <font color="#000080">= </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxSkylineSize<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>integer<font color="#000080">;
   </font>Rectangle <font color="#000080">= </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>integer<font color="#000080">;
   </font>Skylines  <font color="#000080">= </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxR<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Rectangle<font color="#000080">;
   </font>problem_t <font color="#000080">= </font><font color="#FF0000"><b>record
                </b></font>Points <font color="#000080">: </font>Skylines<font color="#000080">;
                </font>size <font color="#000080">: </font>integer<font color="#000080">;
             </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font>solution_t <font color="#000080">= </font><font color="#FF0000"><b>record
                </b></font>Points <font color="#000080">: </font>skyline<font color="#000080">;
                </font>size <font color="#000080">: </font>integer<font color="#000080">;
             </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>function </b></font>Base_Case<font color="#000080">(</font>Buildings<font color="#000080">: </font>problem_t<font color="#000080">):</font>boolean<font color="#000080">;
</font>	<font color="#008000"><i>{ Precondition: Buildings is some problem, such that 
			Buildings.size &gt;= 0 and Buildings.Points is an
			array of buildings presented by the array of their
			coordinates in the form (x1 y1 x2 y2 ... xn) }
</i></font>	<font color="#008000"><i>{ Postcondition: return value Base_Case is true if and only if
			Buildings is a base-case problem 
			(Buildings.size = 1) }
</i></font><font color="#FF0000"><b>begin
  </b></font>Base_Case <font color="#000080">:= (</font>Buildings<font color="#000080">.</font>size <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>Find_Base_Case_Solution<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Buildings<font color="#000080">: </font>problem_t<font color="#000080">; 
</font>				  <font color="#FF0000"><b>var </b></font>Skyline <font color="#000080">: </font>solution_t<font color="#000080">);
</font>	<font color="#008000"><i>{ Precondition: Buildings is a base-case problem, such that
			Buildings.size = 1 }
</i></font>	<font color="#008000"><i>{ Postcondition: Skyline is a correct solution to the problem 
			Buildings such that 
			Skyline.Points = Buildings.Points[1] }
</i></font><font color="#FF0000"><b>var
   </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do
     </b></font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">] := </font>Buildings<font color="#000080">.</font>Points<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">][</font>i<font color="#000080">];
  </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>Split<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Buildings<font color="#000080">, </font>LeftBuildings<font color="#000080">, </font>RightBuildings<font color="#000080">: </font>problem_t<font color="#000080">);
</font>	<font color="#008000"><i>{ Precondition : Buildings is an array of buildings, presented by
			 an array of coordinates.  Building.size &gt; 1
	  Postcondition: LeftBuildings and RightBuildings are arrays of 
			 buidings and together they are 
			 some permutation of the array Buildings and
			 |LeftBuildings.size - RightBuildings.size| &lt;= 1 }
</i></font><font color="#FF0000"><b>var
   </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>LeftBuildings<font color="#000080">.</font>size <font color="#000080">:= </font>Buildings<font color="#000080">.</font>size <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
 </font>RightBuildings<font color="#000080">.</font>size <font color="#000080">:= </font>Buildings<font color="#000080">.</font>size <font color="#000080">- </font>Buildings<font color="#000080">.</font>size <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">; 
</font>	<font color="#008000"><i>{Assertion :  |LeftBuildings.size - RightBuildings.size| &lt;= 1 }

 </i></font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>LeftBuildings<font color="#000080">.</font>size <font color="#FF0000"><b>do
      </b></font>LeftBuildings<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">] := </font>Buildings<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">];
</font>	<font color="#008000"><i>{ Assertion: 	for all i such that 1 &lt;= i &lt;= LeftBuildings.size 
			LeftBuildings[i] = Buildings[i] }

 </i></font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font>LeftBuildings<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Buildings<font color="#000080">.</font>size <font color="#FF0000"><b>do
      </b></font>RightBuildings<font color="#000080">.</font>Points<font color="#000080">[</font>i <font color="#000080">- </font>LeftBuildings<font color="#000080">.</font>size<font color="#000080">] := </font>Buildings<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">]; 
</font>	<font color="#008000"><i>{ Assertion: 	for all i such that 1 &lt;= i &lt;= RightBuildings.size 
			RightBuildings[i] = Buildings[i]+LeftBuildings.size }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   
</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>Merge<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>LeftSkyline<font color="#000080">, </font>RightSkyline<font color="#000080">, </font>Skyline <font color="#000080">: </font>solution_t<font color="#000080">);
</font>	<font color="#008000"><i>{ Precondition : LeftSkyline and RightSkyline are two arrays of
			 coordinates presenting two skyline,
	  Postcondition: Skyline is a common skyline for two LeftSkyline
			 and RightSkyline }

</i></font><font color="#FF0000"><b>var </b></font>i<font color="#000080">,</font> 		<font color="#008000"><i>{ pointSkyline to the first unprocessed abscissa of skyline 1 }
    </i></font>j<font color="#000080">,</font> 		<font color="#008000"><i>{ pointSkyline to the first unprocessed abcsissa of skyline 2 }
    </i></font>m<font color="#000080">: </font>integer<font color="#000080">;
    </font>k <font color="#000080">: </font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">;
    </font>CurHeightLeftSkyline<font color="#000080">, </font>CurHeightRightSkyline<font color="#000080">, </font>CurHeight<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>j <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>CurHeightLeftSkyline <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>CurHeightRightSkyline <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>CurHeight <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>k <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>while </b></font><font color="#000080">(</font>i <font color="#000080">&lt;= </font>LeftSkyline<font color="#000080">.</font>size<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>j <font color="#000080">&lt;= </font>RightSkyline<font color="#000080">.</font>size<font color="#000080">) </font><font color="#FF0000"><b>do
      if </b></font>LeftSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">] &lt; </font>RightSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>j<font color="#000080">] </font><font color="#FF0000"><b>then 
         begin
           if </b></font>i <font color="#000080">&lt; </font>LeftSkyline<font color="#000080">.</font>size <font color="#FF0000"><b>then 
</b></font>			CurHeightLeftSkyline <font color="#000080">:= </font>LeftSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] 
           </font><font color="#FF0000"><b>else </b></font>CurHeightLeftSkyline <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
           </font><font color="#FF0000"><b>if </b></font>k <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>then
               if </b></font>CurHeightLeftSkyline <font color="#000080">&gt;= </font>CurHeightRightSkyline <font color="#FF0000"><b>then
                   begin
                      </b></font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>LeftSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">];
                      </font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] := </font>CurHeightLeftSkyline<font color="#000080">;
                      </font>CurHeight <font color="#000080">:= </font>CurHeightLeftSkyline<font color="#000080">;
                      </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;  
                   </font><font color="#FF0000"><b>end
               else
                   begin
                      </b></font>k <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
                      </font><font color="#FF0000"><b>if </b></font>CurHeightRightSkyline <font color="#000080">&lt; </font>CurHeight <font color="#FF0000"><b>then
                          begin
                              </b></font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] :=
</font>						LeftSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">];
                              </font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] := 
</font>						CurHeightRightSkyline<font color="#000080">;
                              </font>CurHeight <font color="#000080">:= </font>CurHeightRightSkyline<font color="#000080">;
                              </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
                          </font><font color="#FF0000"><b>end</b></font><font color="#000080">; 
                   </font><font color="#FF0000"><b>end
            else if </b></font>CurHeightLeftSkyline <font color="#000080">&gt; </font>CurHeight <font color="#FF0000"><b>then
               begin
                 </b></font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>LeftSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">]; 
                 </font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] := </font>CurHeightLeftSkyline<font color="#000080">;
                 </font>CurHeight <font color="#000080">:= </font>CurHeightLeftSkyline<font color="#000080">;
                 </font>k <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
                 </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
           </font>i <font color="#000080">:= </font>i <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
         </font><font color="#FF0000"><b>end </b></font><font color="#008000"><i>{ if LeftSkyline.Points[i] &lt; RightSkyline.Points[j] }
      </i></font><font color="#FF0000"><b>else if </b></font>LeftSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">] &gt; </font>RightSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>j<font color="#000080">] </font><font color="#FF0000"><b>then begin
              if </b></font>j <font color="#000080">&lt; </font>RightSkyline<font color="#000080">.</font>size <font color="#FF0000"><b>then 
</b></font>			CurHeightRightSkyline <font color="#000080">:= </font>RightSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>j<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] 
              </font><font color="#FF0000"><b>else </b></font>CurHeightRightSkyline <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
              </font><font color="#FF0000"><b>if </b></font>k <font color="#000080">= </font><font color="#800000">2 </font><font color="#FF0000"><b>then 
</b></font>		<font color="#FF0000"><b>if </b></font>CurHeightRightSkyline <font color="#000080">&gt;= </font>CurHeightLeftSkyline <font color="#FF0000"><b>then begin
                         </b></font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] :=
</font>					 RightSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>j<font color="#000080">];
                         </font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] := 
</font>					 CurHeightRightSkyline<font color="#000080">;
                         </font>CurHeight <font color="#000080">:= </font>CurHeightRightSkyline<font color="#000080">;
                         </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;  
              </font><font color="#FF0000"><b>end else begin
                         </b></font>k <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
                         </font><font color="#FF0000"><b>if </b></font>CurHeightLeftSkyline <font color="#000080">&lt; </font>CurHeight <font color="#FF0000"><b>then begin
                              </b></font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] :=
</font>					 RightSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>j<font color="#000080">];
                              </font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] := 
</font>					CurHeightLeftSkyline<font color="#000080">;
                              </font>CurHeight <font color="#000080">:= </font>CurHeightLeftSkyline<font color="#000080">;
                              </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
                         </font><font color="#FF0000"><b>end</b></font><font color="#000080">; 
              </font><font color="#FF0000"><b>end else if </b></font>CurHeightRightSkyline <font color="#000080">&gt; </font>CurHeight <font color="#FF0000"><b>then begin
                 </b></font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>RightSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>j<font color="#000080">]; 
                 </font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] := </font>CurHeightRightSkyline<font color="#000080">;
                 </font>CurHeight <font color="#000080">:= </font>CurHeightRightSkyline<font color="#000080">;
                 </font>k <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
                 </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
           </font>j <font color="#000080">:= </font>j <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
      </font><font color="#FF0000"><b>end </b></font><font color="#008000"><i>{ if LeftSkyline.Points[i] &gt; RightSkyline.Points[j] }
           </i></font><font color="#FF0000"><b>else begin
                if </b></font>i <font color="#000080">&lt; </font>LeftSkyline<font color="#000080">.</font>size <font color="#FF0000"><b>then </b></font>CurHeightLeftSkyline <font color="#000080">:= 
</font>					LeftSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] 
                </font><font color="#FF0000"><b>else </b></font>CurHeightLeftSkyline <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
                </font><font color="#FF0000"><b>if </b></font>j <font color="#000080">&lt; </font>RightSkyline<font color="#000080">.</font>size <font color="#FF0000"><b>then 
</b></font>			CurHeightRightSkyline <font color="#000080">:= </font>RightSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>j<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] 
                </font><font color="#FF0000"><b>else </b></font>CurHeightRightSkyline <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
                </font><font color="#FF0000"><b>if </b></font>CurHeightLeftSkyline <font color="#000080">&gt;= </font>CurHeightRightSkyline <font color="#FF0000"><b>then begin
                     </b></font>k <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
                     </font><font color="#FF0000"><b>if </b></font>CurHeightLeftSkyline <font color="#000080">&lt;&gt; </font>CurHeight <font color="#FF0000"><b>then begin
                          </b></font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := 
</font>						LeftSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">];
                          </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>i<font color="#000080">&lt;&gt;</font>LeftSkyline<font color="#000080">.</font>size<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>j<font color="#000080">&lt;&gt;</font>RightSkyline<font color="#000080">.</font>size<font color="#000080">) 
</font>							<font color="#FF0000"><b>then begin
</b></font>				Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] := 
</font>						CurHeightLeftSkyline<font color="#000080">;
</font>				Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">1
</font>			  <font color="#FF0000"><b>end</b></font><font color="#000080">;
                          </font>CurHeight <font color="#000080">:= </font>CurHeightLeftSkyline<font color="#000080">;
                          </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
                     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
                </font><font color="#FF0000"><b>end else begin
                     </b></font>k <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
                     </font><font color="#FF0000"><b>if </b></font>CurHeightRightSkyline <font color="#000080">&lt;&gt; </font>CurHeight <font color="#FF0000"><b>then begin
                          </b></font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := 
</font>					RightSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>j<font color="#000080">];
                          </font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] := 
</font>					CurHeightRightSkyline<font color="#000080">;
                          </font>CurHeight <font color="#000080">:= </font>CurHeightRightSkyline<font color="#000080">;
                          </font>Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
                     </font><font color="#FF0000"><b>end</b></font><font color="#000080">; 
                </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
              </font>i <font color="#000080">:= </font>i <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
              </font>j <font color="#000080">:= </font>j <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">;
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>m <font color="#000080">:= </font>i <font color="#FF0000"><b>to </b></font>LeftSkyline<font color="#000080">.</font>size <font color="#FF0000"><b>do begin
</b></font>       	Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>LeftSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>m<font color="#000080">]; 
</font>	Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>m <font color="#000080">:= </font>j <font color="#FF0000"><b>to </b></font>RightSkyline<font color="#000080">.</font>size <font color="#FF0000"><b>do begin
</b></font>       	Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>Skyline<font color="#000080">.</font>size<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>RightSkyline<font color="#000080">.</font>Points<font color="#000080">[</font>m<font color="#000080">]; 
</font>	Skyline<font color="#000080">.</font>size <font color="#000080">:= </font>Skyline<font color="#000080">.</font>size <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">; 
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>Find_Skyline<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Buildings <font color="#000080">: </font>problem_t<font color="#000080">;
                       </font><font color="#FF0000"><b>var </b></font>Skyline <font color="#000080">: </font>solution_t<font color="#000080">);
</font><font color="#FF0000"><b>var
   </b></font>LeftBuildings<font color="#000080">, </font>RightBuildings <font color="#000080">: </font>problem_t<font color="#000080">;
   </font>LeftSkyline<font color="#000080">, </font>RightSkyline <font color="#000080">: </font>solution_t<font color="#000080">;
</font><font color="#FF0000"><b>begin
 if </b></font>Base_Case<font color="#000080">(</font>Buildings<font color="#000080">) </font><font color="#FF0000"><b>then
     </b></font>Find_Base_Case_Solution<font color="#000080">(</font>Buildings<font color="#000080">, </font>Skyline<font color="#000080">)
  </font><font color="#FF0000"><b>else 
     begin
       </b></font>Split<font color="#000080">(</font>Buildings<font color="#000080">, </font>LeftBuildings<font color="#000080">, </font>RightBuildings<font color="#000080">);
       </font>Find_Skyline<font color="#000080">(</font>LeftBuildings<font color="#000080">, </font>LeftSkyline<font color="#000080">);
       </font>Find_Skyline<font color="#000080">(</font>RightBuildings<font color="#000080">, </font>RightSkyline<font color="#000080">); 
       </font>Merge<font color="#000080">(</font>LeftSkyline<font color="#000080">, </font>RightSkyline<font color="#000080">, </font>Skyline<font color="#000080">);
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>GetProblem<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Buildings <font color="#000080">: </font>problem_t<font color="#000080">);
</font><font color="#FF0000"><b>var
    </b></font>i<font color="#000080">, </font>j <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>write<font color="#000080">(</font>output<font color="#000080">, </font><font color="#800000">' Enter the number of buildings in the City: '</font><font color="#000080">);
  </font>readln<font color="#000080">(</font>input<font color="#000080">, </font>Buildings<font color="#000080">.</font>size<font color="#000080">);
  </font>write<font color="#000080">(</font>output<font color="#000080">, 
</font>	<font color="#800000">' Enter only three coordinates for each building, x1 y x2, '</font><font color="#000080">);
  </font>writeln <font color="#000080">(</font>output<font color="#000080">, </font><font color="#800000">'representing '</font><font color="#000080">);
  </font>writeln <font color="#000080">(</font>output<font color="#000080">, </font><font color="#800000">'        the building (x1,0),(x1,y),(x2,y) &amp; (x2,0)'</font><font color="#000080">);
  </font>writeln <font color="#000080">(</font>output<font color="#000080">, </font><font color="#800000">' (LIMITATIONS: x in [0..300], y in [0..170])'</font><font color="#000080">);
  </font>writeln <font color="#000080">(</font>output<font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Buildings<font color="#000080">.</font>size <font color="#FF0000"><b>do
     begin
       </b></font>write<font color="#000080">(</font>output<font color="#000080">, </font><font color="#800000">' Enter building#'</font><font color="#000080">, </font>i<font color="#000080">:</font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">' coordinates: '</font><font color="#000080">);
       </font><font color="#FF0000"><b>for </b></font>j <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do
          </b></font>read<font color="#000080">(</font>input<font color="#000080">, </font>Buildings<font color="#000080">.</font>Points<font color="#000080">[</font>i<font color="#000080">][</font>j<font color="#000080">]);
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>DisplayProblem <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Buildings<font color="#000080">: </font>problem_t<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>k <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>writeln<font color="#000080">(</font><font color="#800000">'=========================================='</font><font color="#000080">);
  </font>writeln<font color="#000080">(</font><font color="#800000">' Problem is a collection of '</font><font color="#000080">, </font>Buildings<font color="#000080">.</font>size<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">' builings :'</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>k <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Buildings<font color="#000080">.</font>size <font color="#FF0000"><b>do 
</b></font>	writeln<font color="#000080">(</font><font color="#800000">'      Rectangle #'</font><font color="#000080">, </font>k<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">' has coordinates : '</font><font color="#000080">, 
</font>		Buildings<font color="#000080">.</font>Points<font color="#000080">[</font>k<font color="#000080">][</font><font color="#800000">1</font><font color="#000080">]:</font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">' '</font><font color="#000080">, </font>Buildings<font color="#000080">.</font>Points<font color="#000080">[</font>k<font color="#000080">][</font><font color="#800000">2</font><font color="#000080">]:</font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">' '</font><font color="#000080">,
</font>		Buildings<font color="#000080">.</font>Points<font color="#000080">[</font>k<font color="#000080">][</font><font color="#800000">3</font><font color="#000080">]:</font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>DisplaySolution <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Skyline<font color="#000080">: </font>solution_t<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>k <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>writeln<font color="#000080">(</font><font color="#800000">'= = = = = = = = = = = = = = = = = = = = = '</font><font color="#000080">);
  </font>writeln<font color="#000080">(</font><font color="#800000">' Solution is a skyline of size '</font><font color="#000080">, </font>Skyline<font color="#000080">.</font>size<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>k <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Skyline<font color="#000080">.</font>size <font color="#FF0000"><b>do 
</b></font>	<font color="#FF0000"><b>if </b></font><font color="#000080">(</font>k <font color="#FF0000"><b>mod </b></font><font color="#800000">2</font><font color="#000080">) = </font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>writeln<font color="#000080">(</font><font color="#800000">'       x'</font><font color="#000080">, ((</font>k <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">)</font><font color="#FF0000"><b>div </b></font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">):</font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">' = '</font><font color="#000080">, 
</font>						Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>k<font color="#000080">]:</font><font color="#800000">0</font><font color="#000080">)
</font>	<font color="#FF0000"><b>else </b></font>writeln<font color="#000080">(</font><font color="#800000">'       y'</font><font color="#000080">, ((</font>k<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">):</font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">' = '</font><font color="#000080">, </font>Skyline<font color="#000080">.</font>Points<font color="#000080">[</font>k<font color="#000080">]:</font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>SolveOneProblem<font color="#000080">;
</font><font color="#FF0000"><b>var
   </b></font>Buildings <font color="#000080">: </font>problem_t<font color="#000080">;
   </font>Skyline <font color="#000080">: </font>solution_t<font color="#000080">;
</font><font color="#FF0000"><b>begin
      </b></font>GetProblem<font color="#000080">(</font>Buildings<font color="#000080">);
      </font>DisplayProblem<font color="#000080">(</font>Buildings<font color="#000080">); 
      </font>Find_Skyline<font color="#000080">(</font>Buildings<font color="#000080">, </font>Skyline<font color="#000080">);
      </font>DisplaySolution<font color="#000080">(</font>Skyline<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>begin
   </b></font>SolveOneProblem<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0193.PAS">Original</a><b>]</b></p></body>
</html>
