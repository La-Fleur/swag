<html>
<head><title> "BASM Min/Max" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0155.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{
  unit Arit:  routine di calcolo numerico.
}
</i></font><font color="#FF0000"><b>unit </b></font>Arit<font color="#000080">;

</font><font color="#008000"><i>{$D-,L-,G+,N+}

</i></font><font color="#FF0000"><b>interface

function </b></font>Max<font color="#000080">(</font>X<font color="#000080">,</font>Y <font color="#000080">: </font>integer<font color="#000080">) : </font>integer<font color="#000080">;
  </font><font color="#008000"><i>{- Restituisce il massimo tra A e B.}

</i></font><font color="#FF0000"><b>function </b></font>Min<font color="#000080">(</font>X<font color="#000080">,</font>Y <font color="#000080">: </font>integer<font color="#000080">) : </font>integer<font color="#000080">;
  </font><font color="#008000"><i>{- Restituisce il minimo tra A e B.}

</i></font><font color="#FF0000"><b>function </b></font>LongMax<font color="#000080">(</font>A<font color="#000080">,</font>B <font color="#000080">: </font>longint<font color="#000080">) : </font>longint<font color="#000080">;
  </font><font color="#008000"><i>{- Restituisce il massimo tra A e B (longint).}

</i></font><font color="#FF0000"><b>function </b></font>LongMin<font color="#000080">(</font>A<font color="#000080">,</font>B <font color="#000080">: </font>longint<font color="#000080">) : </font>longint<font color="#000080">;
  </font><font color="#008000"><i>{- Restituisce il minimo tra A e B (longint).}

</i></font><font color="#FF0000"><b>function </b></font>InRange<font color="#000080">(</font>V<font color="#000080">,</font>A<font color="#000080">,</font>B <font color="#000080">: </font>integer<font color="#000080">) : </font>boolean<font color="#000080">;
  </font><font color="#008000"><i>{- Restituisce true se V Š compreso tra A e B (estrami inclusi).}

</i></font><font color="#FF0000"><b>function </b></font>OutRange<font color="#000080">(</font>V<font color="#000080">,</font>A<font color="#000080">,</font>B <font color="#000080">: </font>integer<font color="#000080">) : </font>boolean<font color="#000080">;
  </font><font color="#008000"><i>{- Restituisce true se V non Š compreso tra A e B.}

</i></font><font color="#FF0000"><b>function </b></font>LongInRange<font color="#000080">(</font>V<font color="#000080">,</font>A<font color="#000080">,</font>B <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;
  </font><font color="#008000"><i>{- Restituisce true se V Š compreso tra A e B (estrami inclusi).}

</i></font><font color="#FF0000"><b>function </b></font>LongOutRange<font color="#000080">(</font>V<font color="#000080">,</font>A<font color="#000080">,</font>B <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;
  </font><font color="#008000"><i>{- Restituisce true se V non Š compreso tra A e B.}

</i></font><font color="#FF0000"><b>function </b></font>LongToInt<font color="#000080">(</font>V <font color="#000080">: </font>longint<font color="#000080">) : </font>integer<font color="#000080">;
  </font><font color="#008000"><i>{- Converte da longinteger ad integer, restituendo MaxInt o -MaxInt nel caso
     V sia fuori dal range degli interi.}

</i></font><font color="#FF0000"><b>function </b></font>IntToShort<font color="#000080">(</font>V <font color="#000080">: </font>integer<font color="#000080">) : </font>shortint<font color="#000080">;
  </font><font color="#008000"><i>{- Converte da integer ad shortint, restituendo 127 o -128 nel caso
     V sia fuori dal range degli shortint.}

</i></font><font color="#FF0000"><b>function </b></font>CompToLongInt<font color="#000080">(</font>V <font color="#000080">: </font>Comp<font color="#000080">):</font>longint<font color="#000080">;
  </font><font color="#008000"><i>{- Converte da comp ad longint, restituendo MaxLongint o -MaxLongInt nel caso
     V sia fuori dal range dei longint.}

</i></font><font color="#FF0000"><b>function </b></font>CompToInt<font color="#000080">(</font>V <font color="#000080">: </font>Comp<font color="#000080">):</font>integer<font color="#000080">;
  </font><font color="#008000"><i>{- Converte da comp ad longint, restituendo Maxint o -MaxInt nel caso
     V sia fuori dal range degli interi.}

</i></font><font color="#FF0000"><b>implementation </b></font><font color="#008000"><i>{==============================================================}

</i></font><font color="#FF0000"><b>function </b></font>Min<font color="#000080">(</font>X<font color="#000080">,</font>Y <font color="#000080">: </font>integer<font color="#000080">) : </font>integer<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov</font>	<font color="#FF00FF">ax,X
  cmp</font>	<font color="#FF00FF">ax,Y
  jle</font>	<font color="#FF00FF">@@1
  mov</font>	<font color="#FF00FF">ax,Y
@@1:
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;  </font><font color="#008000"><i>{ Min }

</i></font><font color="#FF0000"><b>function </b></font>Max<font color="#000080">(</font>X<font color="#000080">,</font>Y <font color="#000080">: </font>integer<font color="#000080">) : </font>integer<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov</font>	<font color="#FF00FF">ax,X
  cmp</font>	<font color="#FF00FF">ax,Y
  jge</font>	<font color="#FF00FF">@@1
  mov</font>	<font color="#FF00FF">ax,Y
@@1:
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;  </font><font color="#008000"><i>{ Max }

</i></font><font color="#FF0000"><b>function </b></font>LongMin<font color="#000080">(</font>A<font color="#000080">,</font>B <font color="#000080">: </font>longint<font color="#000080">) : </font>longint<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov   ax, word ptr [A]
  mov   dx, word ptr [A+2]
  mov   bx, word ptr [B]
  mov   cx, word ptr [B+2]
  cmp   dx,cx
  jl    @@1
  jg    @@2
  cmp   ax,bx
  jbe   @@1
@@2:
  mov   ax,bx
  mov   dx,cx
@@1:
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;  </font><font color="#008000"><i>{ LongMin }

</i></font><font color="#FF0000"><b>function </b></font>LongMax<font color="#000080">(</font>A<font color="#000080">,</font>B <font color="#000080">: </font>longint<font color="#000080">) : </font>longint<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov   ax, word ptr [A]
  mov   dx, word ptr [A+2]
  mov   bx, word ptr [B]
  mov   cx, word ptr [B+2]
  cmp   dx,cx
  jg    @@1
  jl    @@2
  cmp   ax,bx
  jae   @@1
@@2:
  mov   ax,bx
  mov   dx,cx
@@1:
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;  </font><font color="#008000"><i>{ LongMax }

</i></font><font color="#FF0000"><b>function </b></font>InRange<font color="#000080">(</font>V<font color="#000080">,</font>A<font color="#000080">,</font>B <font color="#000080">: </font>integer<font color="#000080">) : </font>boolean<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov   ax,V
  cmp   ax,A
  jl    @1
  cmp   ax,B
  jg    @1
  mov   ax,1
  jmp   @2
@1:
  xor   ax,ax
@2:
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ InRange }

</i></font><font color="#FF0000"><b>function </b></font>OutRange<font color="#000080">(</font>V<font color="#000080">,</font>A<font color="#000080">,</font>B <font color="#000080">: </font>integer<font color="#000080">) : </font>boolean<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov   ax,V
  cmp   ax,A
  jl    @1
  cmp   ax,B
  jg    @1
  xor   ax,ax
  jmp   @2
@1:
  mov   ax,1
@2:
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ OutRange }

</i></font><font color="#FF0000"><b>function </b></font>LongInRange<font color="#000080">(</font>V<font color="#000080">,</font>A<font color="#000080">,</font>B <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>LongInRange <font color="#000080">:= (</font>V <font color="#000080">&gt;= </font>A<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>V <font color="#000080">&lt;= </font>B<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ LongInRange }

</i></font><font color="#FF0000"><b>function </b></font>LongOutRange<font color="#000080">(</font>V<font color="#000080">,</font>A<font color="#000080">,</font>B <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>LongOutRange <font color="#000080">:= (</font>V <font color="#000080">&lt; </font>A<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>V <font color="#000080">&gt; </font>B<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ LongOutRange }

</i></font><font color="#FF0000"><b>function </b></font>LongToInt<font color="#000080">(</font>V <font color="#000080">: </font>longint<font color="#000080">) : </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>V <font color="#000080">&lt; -</font>MaxInt <font color="#FF0000"><b>then </b></font>LongToInt <font color="#000080">:= -</font>MaxInt
  <font color="#FF0000"><b>else if </b></font>V <font color="#000080">&gt; </font>MaxInt <font color="#FF0000"><b>then </b></font>LongToInt <font color="#000080">:= </font>MaxInt
  <font color="#FF0000"><b>else </b></font>LongToInt <font color="#000080">:= </font>V<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ LongToInt }

</i></font><font color="#FF0000"><b>function </b></font>IntToShort<font color="#000080">(</font>V <font color="#000080">: </font>integer<font color="#000080">) : </font>shortint<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>V <font color="#000080">&gt; </font><font color="#800000">127 </font><font color="#FF0000"><b>then </b></font>IntToShort <font color="#000080">:= </font><font color="#800000">127
  </font><font color="#FF0000"><b>else if </b></font>V <font color="#000080">&lt; -</font><font color="#800000">128 </font><font color="#FF0000"><b>then </b></font>IntToShort <font color="#000080">:= -</font><font color="#800000">128
  </font><font color="#FF0000"><b>else </b></font>IntToShort <font color="#000080">:= </font>V<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ IntToShort }

</i></font><font color="#FF0000"><b>function </b></font>CompToLongInt<font color="#000080">(</font>V <font color="#000080">: </font>Comp<font color="#000080">):</font>longint<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>s <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">20</font><font color="#000080">];
  </font>l <font color="#000080">: </font>longint<font color="#000080">;
  </font>e <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>V <font color="#000080">&gt; </font>MaxLongInt <font color="#FF0000"><b>then </b></font>l <font color="#000080">:= </font>MaxLongInt
  <font color="#FF0000"><b>else if </b></font>V <font color="#000080">&lt; -</font>MaxLongInt <font color="#FF0000"><b>then </b></font>l <font color="#000080">:= -</font>MaxLongInt
  <font color="#FF0000"><b>else begin
    </b></font>Str<font color="#000080">(</font>V<font color="#000080">:</font><font color="#800000">20</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">, </font>S<font color="#000080">);
    </font>val<font color="#000080">(</font>s<font color="#000080">, </font>l<font color="#000080">, </font>e<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>CompToLongInt <font color="#000080">:= </font>l<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ CompToLongInt }

</i></font><font color="#FF0000"><b>function </b></font>CompToInt<font color="#000080">(</font>V <font color="#000080">: </font>Comp<font color="#000080">):</font>integer<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>s <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">20</font><font color="#000080">];
  </font>i<font color="#000080">, </font>e <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>V <font color="#000080">&gt; </font>MaxInt <font color="#FF0000"><b>then </b></font>i <font color="#000080">:= </font>MaxInt
  <font color="#FF0000"><b>else if </b></font>V <font color="#000080">&lt; -</font>MaxInt <font color="#FF0000"><b>then </b></font>i <font color="#000080">:= -</font>MaxInt
  <font color="#FF0000"><b>else begin
    </b></font>Str<font color="#000080">(</font>V<font color="#000080">:</font><font color="#800000">20</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">, </font>S<font color="#000080">);
    </font>val<font color="#000080">(</font>s<font color="#000080">, </font>i<font color="#000080">, </font>e<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>CompToInt <font color="#000080">:= </font>i<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ CompToInt }


</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">. </font><font color="#008000"><i>{ unit Arit }</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0155.PAS">Original</a><b>]</b></p></body>
</html>
