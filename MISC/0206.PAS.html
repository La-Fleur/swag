<html>
<head><title> "A Nibble game example" by RODRIGO M. SILVEIRA</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0206.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>(*
  This is a Nibble game example.

  I grabbed the keyboard interrupt code from GAMETHIN.PAS ( Founded in SWAG )
 by Lou DuChez, Nice work ! Thank you...

  I'm planning to make a greater game with sprites, music, and other features
 so if you have any suggestion be free to contact me.

  You can change and distribute it freely.
  If you want, Greet me..
  Any doubt, bug or suggestion
  please, E-Mail me at:

  arlindo@solar.com.br
  godzeus@brasilia.com.br

  Or write me:

  SQS 113 Bl &quot;G&quot; Apto 102
  Brasil - Bras&iexcl;lia - DF
  Cep: 70.376-070

  Written By G0D Z&icirc;U$ - Rodrigo M. Silveira - Brazil -  Brasilia
  It is for Rodrigo fr‚d‚ric, hi brother :) !
*)

</i></font><font color="#FF0000"><b>Program </b></font>Nibbles<font color="#000080">;

</font><font color="#FF0000"><b>Uses </b></font>games<font color="#000080">,</font>crt<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>MaxX      <font color="#000080">= </font><font color="#800000">62</font><font color="#000080">; </font><font color="#008000"><i>{ Size of Screen - Hmmm... Better not change :) }
  </i></font>MaxY      <font color="#000080">= </font><font color="#800000">34</font><font color="#000080">;
  </font>Nupl      <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>of string</b></font><font color="#000080">= </font><font color="#008000"><i>{ The Strings }
    </i></font><font color="#000080">(</font><font color="#800000">'One Player'</font><font color="#000080">,</font><font color="#800000">'Two Players'</font><font color="#000080">);
  </font>desc      <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>of string</b></font><font color="#000080">=
    (</font><font color="#800000">'Play alone - use keyboard arrows'</font><font color="#000080">,</font><font color="#800000">'Play with something - P1=Arrows P2=&quot;ADWS&quot;'</font><font color="#000080">);
  </font>Diff      <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">5</font><font color="#000080">] </font><font color="#FF0000"><b>of String</b></font><font color="#000080">=
    (</font><font color="#800000">'Very Easy'</font><font color="#000080">,</font><font color="#800000">'Easy'</font><font color="#000080">,</font><font color="#800000">'Normal'</font><font color="#000080">,</font><font color="#800000">'Hard'</font><font color="#000080">,</font><font color="#800000">'Very Hard'</font><font color="#000080">,</font><font color="#800000">'VeryVery Hard!!!'</font><font color="#000080">);
  </font>Disc      <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">5</font><font color="#000080">] </font><font color="#FF0000"><b>of String</b></font><font color="#000080">=
    (</font><font color="#800000">'40 Blocks'</font><font color="#000080">,</font><font color="#800000">'80 Blocks'</font><font color="#000080">,</font><font color="#800000">'120 Blocks'</font><font color="#000080">,</font><font color="#800000">'160 Blocks'</font><font color="#000080">,</font><font color="#800000">'200 Blocks'</font><font color="#000080">,
    </font><font color="#800000">'Many Blocks!!!'</font><font color="#000080">);
  </font>sc        <font color="#000080">= </font><font color="#800000">'CoDeD By Z&icirc;U$/NiTRo'</font><font color="#000080">; </font><font color="#008000"><i>{ The Little Scrooler }

{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Type
  </b></font>xy <font color="#000080">= </font><font color="#FF0000"><b>Record
    </b></font>x<font color="#000080">,</font>y <font color="#000080">: </font>Byte<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>Stage <font color="#000080">= </font><font color="#FF0000"><b>Record </b></font><font color="#008000"><i>{ The Stage Record }
    </i></font>StPl           <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;</font><font color="#008000"><i>{ X,Y And of Start }
    </i></font>StDirPl        <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Integer<font color="#000080">; </font><font color="#008000"><i>{ Direction of Start }
    </i></font>SMax           <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">; </font><font color="#008000"><i>{ Screen Max of Stage }
    </i></font>Screen         <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxX<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font>MaxY<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">; </font><font color="#008000"><i>{ Array of the Screen }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>var
  </b></font>Nopl                    <font color="#000080">: </font>Byte<font color="#000080">;
  </font>maxnib                  <font color="#000080">: </font>Byte<font color="#000080">;
  </font>Nibble                  <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>xy<font color="#000080">;
  </font>Direction               <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Integer<font color="#000080">;
  </font>NibColor                <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
  </font>timer                   <font color="#000080">: </font>longint <font color="#FF0000"><b>absolute </b></font><font color="#800000">$40</font><font color="#000080">:</font><font color="#800000">$6C</font><font color="#000080">;
  </font>Score                   <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>ntime<font color="#000080">,</font>time              <font color="#000080">: </font>integer<font color="#000080">;
  </font>Dificult                <font color="#000080">: </font>Byte<font color="#000080">;
  </font>fim                     <font color="#000080">: </font>boolean<font color="#000080">;
  </font>Fase                    <font color="#000080">: </font>Stage<font color="#000080">;
  </font>point                   <font color="#000080">: </font>xy<font color="#000080">;
  </font>Colorbacktag<font color="#000080">,</font>Colorutag  <font color="#000080">: </font>Byte<font color="#000080">;
  </font>loop                    <font color="#000080">: </font>Byte<font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>NWrite<font color="#000080">(</font>Str <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>Color <font color="#000080">: </font>Byte<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#008000"><i>{ Bios Write }
</i></font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">les  di, Str
  mov  cl, es:[di]
  inc  di
  xor  ch, ch
  mov  bl, Color
  jcxz @ExitBW
@BoucleBW:
  mov  ah, 0eh
  mov  al, es:[di]
  int  10h
  inc  di
  loop @BoucleBW
@ExitBW:
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>Hide<font color="#000080">;</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm </b></font><font color="#FF00FF">MOV ax,$0100; MOV cx,$2607; INT $10; </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ Hide cursor }
{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>Show<font color="#000080">;</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm </b></font><font color="#FF00FF">MOV ax,$0100; MOV cx,$0506; INT $10; </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ Show cursor }
{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Function </b></font>Light<font color="#000080">(</font>No <font color="#000080">: </font>Byte<font color="#000080">;</font>local<font color="#000080">,</font>desc<font color="#000080">: </font><font color="#FF0000"><b>Array of String </b></font><font color="#000080">):</font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font><font color="#008000"><i>{ Variables }
  </i></font>b<font color="#000080">,</font>c<font color="#000080">,</font>i <font color="#000080">: </font>byte<font color="#000080">;
  </font>k <font color="#000080">: </font>char<font color="#000080">;
  </font>ii <font color="#000080">: </font>Boolean<font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>scr<font color="#000080">; </font><font color="#008000"><i>{ The little scrooler }
  </i></font><font color="#FF0000"><b>begin
    </b></font>textcolor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
    </font>textbackground<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>i <font color="#000080">= </font><font color="#800000">80</font><font color="#000080">-</font>length<font color="#000080">(</font>sc<font color="#000080">) </font><font color="#FF0000"><b>then </b></font>ii <font color="#000080">:= </font>true<font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>ii <font color="#FF0000"><b>Then </b></font>i <font color="#000080">:= </font>i<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>i <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>ii <font color="#000080">:= </font>false<font color="#000080">;
    </font>gotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font><font color="#FF0000"><b>while </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8</font><font color="#000080">)&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>do</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>while </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8</font><font color="#000080">)=</font><font color="#800000">0 </font><font color="#FF0000"><b>do</b></font><font color="#000080">;
    </font>fillchar<font color="#000080">(</font>MEM<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">],</font><font color="#800000">160</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
    </font>gotoxy<font color="#000080">(</font>i<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>write<font color="#000080">(</font>sc<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>St<font color="#000080">(</font>qt<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#008000"><i>{ Write the options with one tagged }
  </i></font><font color="#FF0000"><b>begin
    for </b></font>loop <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>no <font color="#FF0000"><b>do begin
      </b></font>gotoxy<font color="#000080">((</font><font color="#800000">80</font><font color="#000080">-</font>Length<font color="#000080">(</font>local<font color="#000080">[</font>loop<font color="#000080">])+</font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">,((</font><font color="#800000">25</font><font color="#000080">-</font>no<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font>loop<font color="#000080">);
      </font>textbackground<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
      </font>write<font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">+</font>local<font color="#000080">[</font>loop<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">);</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>textbackground<font color="#000080">(</font>ColorBacktag<font color="#000080">);
    </font>gotoxy<font color="#000080">((</font><font color="#800000">80</font><font color="#000080">-</font>Length<font color="#000080">(</font>local<font color="#000080">[</font>qt<font color="#000080">])+</font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">,((</font><font color="#800000">25</font><font color="#000080">-</font>no<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font>qt<font color="#000080">);
    </font>write<font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">+</font>Local<font color="#000080">[</font>qt<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">);
    </font>gotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">); </font>ClrEol<font color="#000080">;
    </font>gotoxy<font color="#000080">((</font><font color="#800000">80</font><font color="#000080">-</font>length<font color="#000080">(</font>Desc<font color="#000080">[</font>qt<font color="#000080">])) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">);
    </font>write<font color="#000080">(</font>desc<font color="#000080">[</font>qt<font color="#000080">]);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>b <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>ii <font color="#000080">:= </font>false<font color="#000080">;
  </font>textcolor<font color="#000080">(</font>Colorutag<font color="#000080">);
  </font>st<font color="#000080">(</font>b<font color="#000080">);
  </font><font color="#FF0000"><b>repeat
  repeat
    repeat
      </b></font>inc<font color="#000080">(</font>i<font color="#000080">);
      </font>scr<font color="#000080">;
    </font><font color="#FF0000"><b>until </b></font>keypressed<font color="#000080">;
  </font>k <font color="#000080">:= </font>upcase<font color="#000080">(</font>readkey<font color="#000080">);
  </font><font color="#FF0000"><b>until </b></font>k <font color="#FF0000"><b>in </b></font><font color="#000080">[</font><font color="#800000">#72</font><font color="#000080">,</font><font color="#800000">#75</font><font color="#000080">,</font><font color="#800000">#80</font><font color="#000080">,</font><font color="#800000">#77</font><font color="#000080">,</font><font color="#800000">#27</font><font color="#000080">,</font><font color="#800000">#13</font><font color="#000080">,</font><font color="#800000">'A'</font><font color="#000080">,</font><font color="#800000">'Z'</font><font color="#000080">,</font><font color="#800000">'Q'</font><font color="#000080">];
  </font>c <font color="#000080">:= </font>b<font color="#000080">;
  </font><font color="#FF0000"><b>case </b></font>k <font color="#FF0000"><b>of
    </b></font><font color="#800000">#72</font><font color="#000080">,</font><font color="#800000">#75</font><font color="#000080">,</font><font color="#800000">'A' </font><font color="#000080">: </font><font color="#FF0000"><b>Begin if </b></font>b <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>dec<font color="#000080">(</font>b<font color="#000080">) </font><font color="#FF0000"><b>else </b></font>b <font color="#000080">:= </font>no <font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">#80</font><font color="#000080">,</font><font color="#800000">#77</font><font color="#000080">,</font><font color="#800000">'Z' </font><font color="#000080">: </font><font color="#FF0000"><b>Begin if </b></font>b <font color="#000080">&lt;&gt; </font>no <font color="#FF0000"><b>then </b></font>inc<font color="#000080">(</font>b<font color="#000080">) </font><font color="#FF0000"><b>else </b></font>b <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">#27</font><font color="#000080">,</font><font color="#800000">'Q' </font><font color="#000080">: </font>b <font color="#000080">:= </font><font color="#800000">255</font><font color="#000080">;
    </font><font color="#800000">#13 </font><font color="#000080">: </font>b <font color="#000080">:= </font><font color="#800000">100</font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>b <font color="#000080">= </font><font color="#800000">255 </font><font color="#FF0000"><b>Then </b></font>Light <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>b <font color="#000080">= </font><font color="#800000">100 </font><font color="#FF0000"><b>Then Begin
      </b></font>Light <font color="#000080">:= </font>c<font color="#000080">;
      </font>b <font color="#000080">:= </font><font color="#800000">255</font><font color="#000080">;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>b <font color="#000080">&lt;= </font>no <font color="#FF0000"><b>Then </b></font>st<font color="#000080">(</font>b<font color="#000080">);
  </font><font color="#FF0000"><b>until </b></font>b <font color="#000080">= </font><font color="#800000">255</font><font color="#000080">;
  </font>fillchar<font color="#000080">(</font>MEM<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">],</font><font color="#800000">4000</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>Block<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>Word<font color="#000080">;</font>Cor <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>a <font color="#000080">: </font>Byte<font color="#000080">;
  </font><font color="#FF0000"><b>Procedure </b></font>Hline <font color="#000080">(</font>x1<font color="#000080">,</font>x2<font color="#000080">,</font>y<font color="#000080">:</font>word<font color="#000080">;</font>col<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Asm
    </b></font><font color="#FF00FF">mov   ax,$A000
    mov   es,ax
    mov   ax,y
    mov   di,ax
    shl   ax,8
    shl   di,6
    add   di,ax
    add   di,x1
    mov   al,col
    mov   ah,al
    mov   cx,x2
    sub   cx,x1
    shr   cx,1
    jnc   @start
    stosb
  @Start :
    rep   stosw
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
  for </b></font>a <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">4 </font><font color="#FF0000"><b>do </b></font>Hline<font color="#000080">((</font>X<font color="#000080">*</font><font color="#800000">5</font><font color="#000080">),(</font>X<font color="#000080">*</font><font color="#800000">5</font><font color="#000080">)+</font><font color="#800000">5</font><font color="#000080">,(</font>Y<font color="#000080">*</font><font color="#800000">5</font><font color="#000080">)+</font>a<font color="#000080">,</font>cor<font color="#000080">)
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>StScreen<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>a<font color="#000080">,</font>b <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  For </b></font>a <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]+</font><font color="#800000">1 </font><font color="#FF0000"><b>do </b></font>Block<font color="#000080">(</font>a<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>a <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]+</font><font color="#800000">1 </font><font color="#FF0000"><b>do </b></font>Block<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>a<font color="#000080">,</font><font color="#800000">7</font><font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>a <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]+</font><font color="#800000">1 </font><font color="#FF0000"><b>do </b></font>Block<font color="#000080">(</font>a<font color="#000080">,</font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]+</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>a <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]+</font><font color="#800000">1 </font><font color="#FF0000"><b>do </b></font>Block<font color="#000080">(</font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]+</font><font color="#800000">1</font><font color="#000080">,</font>a<font color="#000080">,</font><font color="#800000">7</font><font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>a <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>do
    For </b></font>b <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>do
      if </b></font>Fase<font color="#000080">.</font>Screen<font color="#000080">[</font>b<font color="#000080">,</font>a<font color="#000080">] &lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Block<font color="#000080">(</font>b<font color="#000080">,</font>a<font color="#000080">,</font><font color="#800000">7</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>BlockNibbles<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>a<font color="#000080">,</font>b <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  for </b></font>b <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>nopl <font color="#FF0000"><b>do begin
    if </b></font><font color="#000080">((</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>MaxNib<font color="#000080">].</font>x <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>MaxNib<font color="#000080">].</font>y <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">)) </font><font color="#FF0000"><b>Then
      </b></font>Block<font color="#000080">(</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>MaxNib<font color="#000080">].</font>x<font color="#000080">,</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>MaxNib<font color="#000080">].</font>y<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
    </font><font color="#FF0000"><b>for </b></font>a <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxNib<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
      if </b></font><font color="#000080">((</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>a<font color="#000080">].</font>x <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>a<font color="#000080">].</font>y <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">)) </font><font color="#FF0000"><b>Then
        </b></font>Block<font color="#000080">(</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>a<font color="#000080">].</font>x<font color="#000080">,</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>a<font color="#000080">].</font>y<font color="#000080">,</font>NibColor<font color="#000080">[</font>b<font color="#000080">]);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>InitNibbles<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>a <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>FillChar<font color="#000080">(</font>Nibble<font color="#000080">,</font>SizeOf<font color="#000080">(</font>nibble<font color="#000080">),</font><font color="#800000">0</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>a <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>NoPl <font color="#FF0000"><b>do begin
    </b></font>Nibble<font color="#000080">[</font>a<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>x <font color="#000080">:= </font>Fase<font color="#000080">.</font>StPl<font color="#000080">[</font>a<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">];
    </font>Nibble<font color="#000080">[</font>a<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>y <font color="#000080">:= </font>Fase<font color="#000080">.</font>StPl<font color="#000080">[</font>a<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">];
    </font>Direction<font color="#000080">[</font>a<font color="#000080">] := </font>Fase<font color="#000080">.</font>StDirPl<font color="#000080">[</font>a<font color="#000080">];
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>Walk<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>a<font color="#000080">: </font>byte<font color="#000080">;
  </font><font color="#FF0000"><b>Procedure </b></font>SubNibble<font color="#000080">(</font>Nib<font color="#000080">:</font>byte<font color="#000080">;</font>nX<font color="#000080">,</font>nY<font color="#000080">:</font>Integer<font color="#000080">);
  </font><font color="#FF0000"><b>var
    </b></font>a<font color="#000080">,</font>b <font color="#000080">: </font>Byte<font color="#000080">;
  </font><font color="#FF0000"><b>begin
      for </b></font>a <font color="#000080">:= </font>MaxNib <font color="#FF0000"><b>downto </b></font><font color="#800000">2 </font><font color="#FF0000"><b>do </b></font>Nibble<font color="#000080">[</font>nib<font color="#000080">,</font>a<font color="#000080">] := </font>Nibble<font color="#000080">[</font>nib<font color="#000080">,</font>a<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">];
      </font>Nibble<font color="#000080">[</font>nib<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>x <font color="#000080">:= </font>Nibble<font color="#000080">[</font>nib<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">].</font>x<font color="#000080">+</font>nx<font color="#000080">;
      </font>Nibble<font color="#000080">[</font>nib<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>y <font color="#000080">:= </font>Nibble<font color="#000080">[</font>nib<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">].</font>y<font color="#000080">+</font>ny<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
  for </b></font>a <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">2 </font><font color="#FF0000"><b>do
  case </b></font>direction<font color="#000080">[</font>a<font color="#000080">] </font><font color="#FF0000"><b>of
    </b></font><font color="#800000">1  </font><font color="#000080">: </font>SubNibble<font color="#000080">(</font>a<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
    -</font><font color="#800000">1 </font><font color="#000080">: </font>SubNibble<font color="#000080">(</font>a<font color="#000080">,-</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
    </font><font color="#800000">2  </font><font color="#000080">: </font>SubNibble<font color="#000080">(</font>a<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,-</font><font color="#800000">1</font><font color="#000080">);
    -</font><font color="#800000">2 </font><font color="#000080">: </font>SubNibble<font color="#000080">(</font>a<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>Check<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>a<font color="#000080">,</font>b <font color="#000080">: </font>byte<font color="#000080">;
  </font>Tempo <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>Fuck<font color="#000080">(</font>Player<font color="#000080">:</font>Byte<font color="#000080">);
  </font><font color="#FF0000"><b>var </b></font>stri <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>Gotoxy<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
    </font>str<font color="#000080">(</font>Player<font color="#000080">,</font>Stri<font color="#000080">);
    </font>nWrite<font color="#000080">(</font><font color="#800000">'Player '</font><font color="#000080">+</font>Stri<font color="#000080">+</font><font color="#800000">' HITTED!!!'</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>fim <font color="#000080">:= </font>true<font color="#000080">;
    </font><font color="#FF0000"><b>repeat until </b></font>Keydown<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
  </b></font>Time <font color="#000080">:= (</font>timer<font color="#000080">-</font>Ntime<font color="#000080">);
  </font>Str<font color="#000080">(</font>TIME<font color="#000080">*(</font>DIFICULT <font color="#FF0000"><b>div </b></font><font color="#800000">40</font><font color="#000080">),</font>Score<font color="#000080">);
  </font>Str<font color="#000080">(</font>Time<font color="#000080">/</font><font color="#800000">18.2</font><font color="#000080">:</font><font color="#800000">8</font><font color="#000080">:</font><font color="#800000">1</font><font color="#000080">,</font>Tempo<font color="#000080">);
  </font>gotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">23</font><font color="#000080">);
  </font>NWRITE<font color="#000080">(</font><font color="#800000">'Score:                                                         '</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
  </font>gotoxy<font color="#000080">(</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">23</font><font color="#000080">);
  </font>Nwrite<font color="#000080">(</font>Score<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
  </font>gotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">);
  </font>NWRITE<font color="#000080">(</font><font color="#800000">'Time :                                                         '</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
  </font>gotoxy<font color="#000080">(</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">);
  </font>Nwrite<font color="#000080">(</font>Tempo<font color="#000080">+</font><font color="#800000">' Secs'</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
  </font><font color="#FF0000"><b>for  </b></font>b <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>nopl <font color="#FF0000"><b>do begin
    if </b></font><font color="#000080">((</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>x <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>y <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">)) </font><font color="#FF0000"><b>then </b></font>fuck<font color="#000080">(</font>b<font color="#000080">);
    </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">&gt;</font>Fase<font color="#000080">.</font>SMax<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]) </font><font color="#FF0000"><b>Then </b></font>Fuck<font color="#000080">(</font>b<font color="#000080">);
    </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">&gt;</font>Fase<font color="#000080">.</font>SMax<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]) </font><font color="#FF0000"><b>Then </b></font>Fuck<font color="#000080">(</font>b<font color="#000080">);
    </font><font color="#FF0000"><b>for </b></font>a <font color="#000080">:= </font><font color="#800000">2 </font><font color="#FF0000"><b>to </b></font>maxnib<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
      If </b></font><font color="#000080">(</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>a<font color="#000080">].</font>x <font color="#000080">= </font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">) </font><font color="#FF0000"><b>Then
        if </b></font><font color="#000080">(</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>a<font color="#000080">].</font>y <font color="#000080">= </font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Fuck<font color="#000080">(</font>b<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>Fase<font color="#000080">.</font>Screen<font color="#000080">[</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">,</font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">]&gt;=</font><font color="#800000">2 </font><font color="#FF0000"><b>Then </b></font>Fuck<font color="#000080">(</font>b<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>nopl <font color="#000080">&lt;&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>Then begin
    for </b></font>a <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>maxnib <font color="#FF0000"><b>do
      if </b></font>Nibble<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>x <font color="#000080">= </font>Nibble<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font>a<font color="#000080">].</font>x <font color="#FF0000"><b>Then
        if </b></font><font color="#000080">(</font>Nibble<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>y <font color="#000080">= </font>Nibble<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font>a<font color="#000080">].</font>y<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Fuck<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
    </font><font color="#FF0000"><b>for </b></font>a <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>maxnib <font color="#FF0000"><b>do
      if </b></font>Nibble<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>x <font color="#000080">= </font>Nibble<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font>a<font color="#000080">].</font>x <font color="#FF0000"><b>Then
        if </b></font><font color="#000080">(</font>Nibble<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">].</font>y <font color="#000080">= </font>Nibble<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font>a<font color="#000080">].</font>y<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Fuck<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>SetPoint<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Pt<font color="#000080">:</font>xy<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>a<font color="#000080">,</font>b<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Pt<font color="#000080">.</font>x <font color="#000080">:= </font>random<font color="#000080">(</font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]-</font><font color="#800000">1</font><font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">; </font><font color="#008000"><i>{ We dont want the players to crash }
  </i></font>Pt<font color="#000080">.</font>y <font color="#000080">:= </font>random<font color="#000080">(</font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]-</font><font color="#800000">1</font><font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">; </font><font color="#008000"><i>{ before he gains control!          }
  </i></font><font color="#FF0000"><b>for  </b></font>b <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>nopl <font color="#FF0000"><b>do
    for </b></font>a <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxNib <font color="#FF0000"><b>do
      if </b></font><font color="#000080">(</font>Pt<font color="#000080">.</font>x <font color="#000080">= </font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>a<font color="#000080">].</font>x<font color="#000080">) </font><font color="#FF0000"><b>Then
        if </b></font><font color="#000080">(</font>Pt<font color="#000080">.</font>y <font color="#000080">= </font>Nibble<font color="#000080">[</font>b<font color="#000080">,</font>a<font color="#000080">].</font>y<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>SetPoint<font color="#000080">(</font>pt<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>Fase<font color="#000080">.</font>Screen<font color="#000080">[</font>Pt<font color="#000080">.</font>x<font color="#000080">,</font>Pt<font color="#000080">.</font>y<font color="#000080">] &lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>SetPoint<font color="#000080">(</font>pt<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>ReadDir<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>a<font color="#000080">,</font>b <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>a <font color="#000080">:= </font>Direction<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
  </font>b <font color="#000080">:= </font>Direction<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">];
</font><font color="#008000"><i>{1}
  </i></font><font color="#FF0000"><b>if </b></font>WasDown<font color="#000080">[</font><font color="#800000">72</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Direction<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">2</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>WasDown<font color="#000080">[</font><font color="#800000">75</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Direction<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := -</font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>WasDown<font color="#000080">[</font><font color="#800000">77</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Direction<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>WasDown<font color="#000080">[</font><font color="#800000">80</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Direction<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := -</font><font color="#800000">2</font><font color="#000080">;
</font><font color="#008000"><i>{2}
  </i></font><font color="#FF0000"><b>if </b></font>Nopl <font color="#000080">= </font><font color="#800000">2 </font><font color="#FF0000"><b>then begin
    if </b></font>WasDown<font color="#000080">[</font><font color="#800000">17</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Direction<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] := </font><font color="#800000">2</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>WasDown<font color="#000080">[</font><font color="#800000">30</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Direction<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] := -</font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>WasDown<font color="#000080">[</font><font color="#800000">32</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Direction<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] := </font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>WasDown<font color="#000080">[</font><font color="#800000">31</font><font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Direction<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] := -</font><font color="#800000">2</font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>Direction<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]*(-</font><font color="#800000">1</font><font color="#000080">) = </font>a <font color="#FF0000"><b>Then </b></font>Direction<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font>a<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>nopl <font color="#000080">= </font><font color="#800000">2 </font><font color="#FF0000"><b>then if </b></font>Direction<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]*(-</font><font color="#800000">1</font><font color="#000080">) = </font>b <font color="#FF0000"><b>Then </b></font>Direction<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] := </font>b<font color="#000080">;
  </font>ClearWasDownArray<font color="#000080">;
</font><font color="#008000"><i>(* 77 = Direita
   75 = Esquerda
   72 = Cima
   80 = Baixo*)
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>Start<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>make <font color="#000080">: </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>make <font color="#000080">:= </font>True<font color="#000080">;
  </font>ntime <font color="#000080">:= </font>Timer<font color="#000080">;
  </font><font color="#FF0000"><b>repeat
    </b></font>Delay<font color="#000080">(</font><font color="#800000">100</font><font color="#000080">);
    </font>ReadDir<font color="#000080">;
    </font>Walk<font color="#000080">;
    </font>Check<font color="#000080">;
    </font><font color="#FF0000"><b>if not </b></font>fim <font color="#FF0000"><b>then </b></font>BlockNibbles<font color="#000080">;
  </font><font color="#FF0000"><b>until </b></font>KeyDown<font color="#000080">[</font><font color="#800000">$01</font><font color="#000080">] </font><font color="#FF0000"><b>or </b></font>fim<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>InitStage<font color="#008000"><i>{(st : Stage)}</i></font><font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>a <font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>NibColor<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">97</font><font color="#000080">;
  </font>NibColor<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] := </font><font color="#800000">31</font><font color="#000080">;
  </font>Fase<font color="#000080">.</font>StPl<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">]  := </font><font color="#800000">1</font><font color="#000080">;
  </font>Fase<font color="#000080">.</font>StPl<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">]  := </font><font color="#800000">1</font><font color="#000080">;
  </font>Fase<font color="#000080">.</font>StPl<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">]  := </font><font color="#800000">1</font><font color="#000080">;
  </font>Fase<font color="#000080">.</font>StPl<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">]  := </font><font color="#800000">2</font><font color="#000080">;
  </font>Fase<font color="#000080">.</font>StDirPl<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]  := </font><font color="#800000">1</font><font color="#000080">;
  </font>Fase<font color="#000080">.</font>StDirPl<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]  := -</font><font color="#800000">2</font><font color="#000080">;
  </font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]   := </font><font color="#800000">50</font><font color="#000080">;
  </font>Fase<font color="#000080">.</font>Smax<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]   := </font><font color="#800000">30</font><font color="#000080">;
  </font>fillChar<font color="#000080">(</font>fase<font color="#000080">.</font>Screen<font color="#000080">,</font>Sizeof<font color="#000080">(</font>Fase<font color="#000080">.</font>Screen<font color="#000080">),</font><font color="#800000">0</font><font color="#000080">);
  </font>Randomize<font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>a <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Dificult <font color="#FF0000"><b>do begin
    </b></font>SetPoint<font color="#000080">(</font>point<font color="#000080">);
    </font>fase<font color="#000080">.</font>Screen<font color="#000080">[</font>Point<font color="#000080">.</font>x<font color="#000080">,</font>Point<font color="#000080">.</font>y<font color="#000080">]:=</font><font color="#800000">2</font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>InitNibbles<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>StartUp<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Textmode<font color="#000080">(</font>co80<font color="#000080">);
  </font>Hide<font color="#000080">;
  </font>FillChar<font color="#000080">(</font>MEM<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">],</font><font color="#800000">4000</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font>Colorutag<font color="#000080">:=</font><font color="#800000">15</font><font color="#000080">;
  </font>Colorbacktag<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
  </font>Nopl<font color="#000080">:=</font>light<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font>Nupl<font color="#000080">,</font>desc<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">;
  </font>Dificult<font color="#000080">:=</font><font color="#800000">40</font><font color="#000080">*(</font>Light<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">,</font>Diff<font color="#000080">,</font>Disc<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">);
  </font>MaxNib<font color="#000080">:=</font><font color="#800000">6</font><font color="#000080">;
  </font><font color="#FF0000"><b>asm </b></font><font color="#FF00FF">mov ax,$13;int $10;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>InitNewKeyInt<font color="#000080">;
  </font>INITNEWBRKINT<font color="#000080">;
  </font>FillChar<font color="#000080">(</font>MEM<font color="#000080">[</font><font color="#800000">$A000</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">],</font><font color="#800000">64000</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font>InitStage<font color="#000080">;
  </font>StScreen<font color="#000080">;
  </font>Start<font color="#000080">;
  </font>SETOLDKEYINT<font color="#000080">;
  </font>SetOldBrkInt<font color="#000080">;
  </font><font color="#FF0000"><b>asm </b></font><font color="#FF00FF">mov ax,$03;int $10;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{----------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Begin
  </b></font>StartUp<font color="#000080">;
  </font>TEXTMODE<font color="#000080">(</font>co80<font color="#000080">);
  </font>Writeln<font color="#000080">(</font><font color="#800000">'You played for '</font><font color="#000080">,</font>Time<font color="#000080">/</font><font color="#800000">18.2</font><font color="#000080">:</font><font color="#800000">8</font><font color="#000080">:</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">' Secs on difficult level '</font><font color="#000080">,</font>Diff<font color="#000080">[(</font>Dificult <font color="#FF0000"><b>div </b></font><font color="#800000">40</font><font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">]);
  </font>WriteLn<font color="#000080">(</font><font color="#800000">'Your Score = '</font><font color="#000080">,</font>Score<font color="#000080">);
  </font>WriteLn<font color="#000080">(</font><font color="#800000">'Coded by G0D ZeU$ - NiTR0'</font><font color="#000080">);
  </font>WriteLn<font color="#000080">(</font><font color="#800000">'This is Just a pre-alpha-beta-previous-realize, wait for official realize'</font><font color="#000080">);
  </font>WriteLN<font color="#000080">(</font><font color="#800000">'Press ESC'</font><font color="#000080">);
  </font><font color="#FF0000"><b>Repeat Until </b></font>Port<font color="#000080">[</font><font color="#800000">$60</font><font color="#000080">]=</font><font color="#800000">1</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font><font color="#008000"><i>(* Line 400 *)</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0206.PAS">Original</a><b>]</b></p></body>
</html>
