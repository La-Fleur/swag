<html>
<head><title> "Function Queues" by JORT BLOEM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0115.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; Ok I am playing and trying to get a unit to do this stuff
&gt; AddFunction( fn : string);  (* add a function name to the loop *)
&gt; RemoveFuction( fn : string); ReadyLoop; StartLoop; EndLoop; ClearLoop;
&gt; basicly the statloop will run ALL the AddFunction'ed functoins til the
&gt; code hits a EndLoop;

You could have an array of procedures/functions... thus:
}

</i></font><font color="#FF0000"><b>Type
 </b></font>MyFunction<font color="#000080">:</font><font color="#FF0000"><b>Function </b></font><font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>Z<font color="#000080">:</font>Byte<font color="#000080">; </font>R<font color="#000080">:</font>Real<font color="#000080">; </font>S<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>W<font color="#000080">:</font>Word<font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
 </font><font color="#008000"><i>{Create exactly what you need. You probibly only want function:Boolean or
  something}

</i></font><font color="#FF0000"><b>Var
 </b></font>Funcs<font color="#000080">:</font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">20</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>MyFunction<font color="#000080">;
 </font>FuncsCount<font color="#000080">:</font>Byte<font color="#000080">;

</font><font color="#008000"><i>{$F+}
</i></font><font color="#FF0000"><b>Function </b></font>Example_My_Func<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>Z<font color="#000080">:</font>Byte<font color="#000080">; </font>R<font color="#000080">:</font>Real<font color="#000080">; </font>S<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>W<font color="#000080">:</font>Word<font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Begin
 </b></font><font color="#008000"><i>{Any code here!}
 </i></font>Example_My_Func<font color="#000080">:=</font>S<font color="#000080">+</font><font color="#800000">'!'</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{$F-}

</i></font><font color="#FF0000"><b>Procedure </b></font>Add_Function<font color="#000080">(</font>Func<font color="#000080">:</font>MyFunction<font color="#000080">);
</font><font color="#FF0000"><b>Begin
 </b></font>Inc<font color="#000080">(</font>FuncsCount<font color="#000080">);
 </font>Funcs<font color="#000080">[</font>FuncsCount<font color="#000080">]:=</font>Func<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Call_All_Funcs<font color="#000080">;
</font><font color="#FF0000"><b>Var
 </b></font>L<font color="#000080">:</font>Byte<font color="#000080">;
 </font>A_Word<font color="#000080">:</font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
 For </b></font>L<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>FuncsCount <font color="#FF0000"><b>Do
  </b></font>Writeln<font color="#000080">(</font>Funcs<font color="#000080">[</font>FuncsCount<font color="#000080">](</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">1.55</font><font color="#000080">,</font><font color="#800000">'Yay'</font><font color="#000080">,</font>A_Word<font color="#000080">));
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
 </b></font>FuncsCount<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font><font color="#008000"><i>{Initialisation}
 </i></font>Add_Function<font color="#000080">(@</font>Example_My_Func<font color="#000080">);   </font><font color="#008000"><i>{&lt;= Not sure if the '@' symbol is needed}
 </i></font>Call_All_Funcs<font color="#000080">;
  </font><font color="#008000"><i>{Dont need to remove them or anything.}
</i></font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0115.PAS">Original</a><b>]</b></p></body>
</html>
