<html>
<head><title> "General Library Routines" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0099.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>unit </b></font>MiscLib<font color="#000080">;
</font><font color="#FF0000"><b>interface
uses </b></font>crt<font color="#000080">,</font>dos<font color="#000080">;

</font><font color="#FF0000"><b>const
 </b></font>MaxFiles <font color="#000080">= </font><font color="#800000">30</font><font color="#000080">;
 </font>MaxChoices <font color="#000080">= </font><font color="#800000">8</font><font color="#000080">;

</font><font color="#FF0000"><b>type
 </b></font>STRING79 <font color="#000080">= </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">79</font><font color="#000080">];
 </font>TOGGLE_REC <font color="#000080">= </font><font color="#FF0000"><b>record
   </b></font>NUM_CHOICES<font color="#000080">: </font>integer<font color="#000080">;
   </font>STRINGS    <font color="#000080">: </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">8</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>STRING79<font color="#000080">;
   </font>LOCATIONS  <font color="#000080">: </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">8</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>integer<font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font>RESPONSE_TYPE <font color="#000080">= (</font>NO_RESPONSE<font color="#000080">, </font>ARROW<font color="#000080">, </font>KEYBOARD<font color="#000080">, </font>RETURN<font color="#000080">);
 </font>MOVEMENT <font color="#000080">= (</font>NONE<font color="#000080">, </font>LEFT<font color="#000080">, </font>RIGHT<font color="#000080">, </font>UP<font color="#000080">, </font>DOWN<font color="#000080">);
 </font>FnameType <font color="#000080">= </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">12</font><font color="#000080">];
 </font>FileListType <font color="#000080">= </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxFiles<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>FnameType<font color="#000080">;
 </font>ScrMenuRec <font color="#000080">= </font><font color="#FF0000"><b>record
   </b></font>Selection  <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxChoices<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>STRING79<font color="#000080">;
   </font>Descripts  <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxChoices<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>STRING79<font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font>ScrMenuType <font color="#000080">= </font><font color="#FF0000"><b>object
   </b></font>NumChoices <font color="#000080">: </font>integer<font color="#000080">;
   </font>Last       <font color="#000080">: </font>integer<font color="#000080">;
   </font>Line<font color="#000080">, </font>Col  <font color="#000080">: </font>integer<font color="#000080">;
   </font>MenuData   <font color="#000080">: </font>ScrMenuRec<font color="#000080">;
   </font><font color="#FF0000"><b>procedure </b></font>Setup<font color="#000080">(</font>MData<font color="#000080">: </font>ScrMenuRec<font color="#000080">);
   </font><font color="#FF0000"><b>function  </b></font>GetChoice <font color="#000080">: </font>integer<font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>procedure </b></font>Set_Video <font color="#000080">(</font>ATTRIBUTE<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Put_String <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">; </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Put_Text <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">; </font>LINE<font color="#000080">, </font>COL<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Put_Colored_Text <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                            </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>TXTCLR<font color="#000080">, </font>BKGCLR<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Put_Centered_String <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">; </font>LINE<font color="#000080">, </font>ATTRIB<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Put_Centered_Text <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">; </font>LINE<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Put_Error <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">; </font>LINE<font color="#000080">, </font>COL<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>End_Erase <font color="#000080">(</font>LINE<font color="#000080">, </font>COL<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Put_Prompt <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">; </font>LINE<font color="#000080">, </font>COL<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Get_Response <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>RESPONSE    <font color="#000080">: </font>RESPONSE_TYPE<font color="#000080">;
                        </font><font color="#FF0000"><b>var </b></font>DIRECTION   <font color="#000080">: </font>MOVEMENT<font color="#000080">;
                        </font><font color="#FF0000"><b>var </b></font>KEY_RESPONSE<font color="#000080">: </font>char<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Get_String <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>IN_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                      </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">, </font>STR_LENGTH<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Get_Integer <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>NUMBER<font color="#000080">: </font>integer<font color="#000080">;
                       </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">, </font>NUM_LENGTH<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Get_Prompted_String <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>IN_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                          </font>INATTR<font color="#000080">, </font>STR_LENGTH<font color="#000080">: </font>integer<font color="#000080">;
                                     </font>STRDESC<font color="#000080">: </font>STRING79<font color="#000080">;
                           </font>DESCLINE<font color="#000080">, </font>DESCCOL<font color="#000080">: </font>integer<font color="#000080">;
                                      </font>PROMPT<font color="#000080">: </font>STRING79<font color="#000080">;
                               </font>PRLINE<font color="#000080">, </font>PRCOL<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Put_1col_Toggle <font color="#000080">(</font>TOGGLE<font color="#000080">: </font>TOGGLE_REC<font color="#000080">; </font>COL<font color="#000080">, </font>CHOICE<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Get_1col_Toggle <font color="#000080">(    </font>TOGGLE<font color="#000080">: </font>TOGGLE_REC<font color="#000080">;
                                  </font>COL<font color="#000080">: </font>integer<font color="#000080">;
                           </font><font color="#FF0000"><b>var </b></font>CHOICE<font color="#000080">: </font>integer<font color="#000080">;
                               </font>PROMPT<font color="#000080">: </font>STRING79<font color="#000080">;
                        </font>PRLINE<font color="#000080">, </font>PRCOL<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Box_Text <font color="#000080">(</font>TopX<font color="#000080">, </font>TopY<font color="#000080">, </font>BotX<font color="#000080">, </font>BotY<font color="#000080">, </font>BoxColor<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Solid_Box <font color="#000080">(</font>TopX<font color="#000080">, </font>TopY<font color="#000080">, </font>BotX<font color="#000080">, </font>BotY<font color="#000080">, </font>BoxColor<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>swap_fnames<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>A<font color="#000080">,</font>B<font color="#000080">: </font>FnameType<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>FileSort<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>fname<font color="#000080">: </font>FileListType<font color="#000080">; </font>NumFiles<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>function  </b></font>Get_Files_Toggle <font color="#000080">(</font>choices<font color="#000080">: </font>FileListType<font color="#000080">;
                            </font>NumChoices<font color="#000080">,</font>NumRows<font color="#000080">,</font>row<font color="#000080">,</font>col<font color="#000080">:</font>integer<font color="#000080">): </font>FnameType<font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>Get_File_Menu<font color="#000080">(</font>mask<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>NumRows<font color="#000080">,</font>Row<font color="#000080">,</font>Col<font color="#000080">: </font>integer<font color="#000080">): </font>FnameType<font color="#000080">;


</font><font color="#008000"><i>{-------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>implementation

procedure </b></font>Set_Video <font color="#000080">(</font>ATTRIBUTE<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#008000"><i>{
NOTES:
      The attribute code, based on bits, is as follows:
          0 - normal video         1 - reverse video
          2 - bold video           3 - reverse and bold
          4 - blinking video       5 - reverse and blinking
          6 - bold and blinking    7 - reverse, bold, and blinking
}

</i></font><font color="#FF0000"><b>var
   </b></font>BLINKING<font color="#000080">,
   </font>BOLD<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>BLINKING <font color="#000080">:= (</font>ATTRIBUTE <font color="#FF0000"><b>AND </b></font><font color="#800000">4</font><font color="#000080">)*</font><font color="#800000">4</font><font color="#000080">;
   </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>ATTRIBUTE <font color="#FF0000"><b>AND </b></font><font color="#800000">1</font><font color="#000080">) = </font><font color="#800000">1 </font><font color="#FF0000"><b>then
      begin
         </b></font>BOLD <font color="#000080">:= (</font>ATTRIBUTE <font color="#FF0000"><b>AND </b></font><font color="#800000">2</font><font color="#000080">)*</font><font color="#800000">7</font><font color="#000080">;
         </font>Textcolor <font color="#000080">(</font><font color="#800000">1 </font><font color="#000080">+ </font>BLINKING <font color="#000080">+ </font>BOLD<font color="#000080">);
         </font>TextBackground <font color="#000080">(</font><font color="#800000">3</font><font color="#000080">);
      </font><font color="#FF0000"><b>end
   else
      begin
         </b></font>BOLD <font color="#000080">:= (</font>ATTRIBUTE <font color="#FF0000"><b>AND </b></font><font color="#800000">2</font><font color="#000080">)*</font><font color="#800000">5 </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">2</font><font color="#000080">;
         </font>Textcolor <font color="#000080">(</font><font color="#800000">7 </font><font color="#000080">+ </font>BLINKING <font color="#000080">+ </font>BOLD<font color="#000080">);
         </font>TextBackground <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Put_String <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                     </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>begin
   </b></font>Set_Video <font color="#000080">(</font>ATTRIB<font color="#000080">);
   </font>GotoXY <font color="#000080">(</font>COL<font color="#000080">, </font>LINE<font color="#000080">);
   </font>write <font color="#000080">(</font>OUT_STRING<font color="#000080">);
   </font>Set_Video <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Put_Text <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                   </font>LINE<font color="#000080">, </font>COL<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>begin
   </b></font>GotoXY <font color="#000080">(</font>COL<font color="#000080">, </font>LINE<font color="#000080">);
   </font>write <font color="#000080">(</font>OUT_STRING<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Put_Colored_Text <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                           </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>TXTCLR<font color="#000080">, </font>BKGCLR<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>begin
   </b></font>GotoXY <font color="#000080">(</font>COL<font color="#000080">, </font>LINE<font color="#000080">);
   </font>TextColor <font color="#000080">(</font>TXTCLR<font color="#000080">);
   </font>TextBackground <font color="#000080">(</font>BKGCLR<font color="#000080">);
   </font>write <font color="#000080">(</font>OUT_STRING<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Put_Centered_String <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                              </font>LINE<font color="#000080">, </font>ATTRIB<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>begin
   </b></font>Put_String <font color="#000080">(</font>OUT_STRING<font color="#000080">, </font>LINE<font color="#000080">, </font><font color="#800000">40</font><font color="#000080">-</font>Length<font color="#000080">(</font>OUT_STRING<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">, </font>ATTRIB<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Put_Centered_Text <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                            </font>LINE<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>begin
   </b></font>Put_Text <font color="#000080">(</font>OUT_STRING<font color="#000080">, </font>LINE<font color="#000080">, </font><font color="#800000">40</font><font color="#000080">-</font>Length<font color="#000080">(</font>OUT_STRING<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Put_Error <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                     </font>LINE<font color="#000080">, </font>COL<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>var
   </b></font>ANY_CHAR <font color="#000080">: </font>char<font color="#000080">;

</font><font color="#FF0000"><b>begin
repeat
   </b></font>Put_String <font color="#000080">(</font>OUT_STRING<font color="#000080">, </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font><font color="#800000">6</font><font color="#000080">);
</font><font color="#FF0000"><b>until </b></font>keypressed <font color="#000080">= </font>true<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>End_Erase <font color="#000080">(</font>LINE<font color="#000080">, </font>COL<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>begin
   </b></font>GotoXY <font color="#000080">(</font>COL<font color="#000080">, </font>LINE<font color="#000080">);
   </font>ClrEol<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Put_Prompt <font color="#000080">(</font>OUT_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                     </font>LINE<font color="#000080">, </font>COL<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>begin
   </b></font>GotoXY <font color="#000080">(</font>COL<font color="#000080">, </font>LINE<font color="#000080">);
   </font>ClrEol<font color="#000080">;
   </font>Put_String <font color="#000080">(</font>OUT_STRING<font color="#000080">, </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font><font color="#800000">3</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}


</i></font><font color="#FF0000"><b>procedure </b></font>Get_Response <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>RESPONSE    <font color="#000080">: </font>RESPONSE_TYPE<font color="#000080">;
                        </font><font color="#FF0000"><b>var </b></font>DIRECTION   <font color="#000080">: </font>MOVEMENT<font color="#000080">;
                        </font><font color="#FF0000"><b>var </b></font>KEY_RESPONSE<font color="#000080">: </font>char<font color="#000080">);

</font><font color="#FF0000"><b>const
   </b></font>BELL            <font color="#000080">= </font><font color="#800000">7</font><font color="#000080">;
   </font>CARRIAGE_RETURN <font color="#000080">= </font><font color="#800000">13</font><font color="#000080">;
   </font>ESCAPE          <font color="#000080">= </font><font color="#800000">27</font><font color="#000080">;
   </font>RIGHT_ARROW     <font color="#000080">= </font><font color="#800000">77</font><font color="#000080">;
   </font>LEFT_ARROW      <font color="#000080">= </font><font color="#800000">75</font><font color="#000080">;
   </font>DOWN_ARROW      <font color="#000080">= </font><font color="#800000">80</font><font color="#000080">;
   </font>UP_ARROW        <font color="#000080">= </font><font color="#800000">72</font><font color="#000080">;

</font><font color="#FF0000"><b>var
   </b></font>IN_CHAR<font color="#000080">: </font>char<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>RESPONSE <font color="#000080">:= </font>NO_RESPONSE<font color="#000080">;
   </font>DIRECTION <font color="#000080">:= </font>NONE<font color="#000080">;
   </font>KEY_RESPONSE <font color="#000080">:= </font><font color="#800000">' '</font><font color="#000080">;
   </font><font color="#FF0000"><b>repeat
      </b></font>IN_CHAR <font color="#000080">:= </font>ReadKey<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>IN_CHAR <font color="#000080">= </font><font color="#800000">#0 </font><font color="#FF0000"><b>then
      begin
         </b></font>RESPONSE <font color="#000080">:= </font>ARROW<font color="#000080">;
         </font>IN_CHAR <font color="#000080">:= </font>ReadKey<font color="#000080">;
         </font><font color="#FF0000"><b>if </b></font>Ord<font color="#000080">(</font>IN_CHAR<font color="#000080">) = </font>LEFT_ARROW <font color="#FF0000"><b>then
            </b></font>DIRECTION <font color="#000080">:= </font>LEFT
         <font color="#FF0000"><b>else if </b></font>Ord<font color="#000080">(</font>IN_CHAR<font color="#000080">) = </font>RIGHT_ARROW <font color="#FF0000"><b>then
            </b></font>DIRECTION <font color="#000080">:= </font>RIGHT
         <font color="#FF0000"><b>else if </b></font>Ord<font color="#000080">(</font>IN_CHAR<font color="#000080">) = </font>DOWN_ARROW <font color="#FF0000"><b>then
            </b></font>DIRECTION <font color="#000080">:= </font>DOWN
         <font color="#FF0000"><b>else if </b></font>Ord<font color="#000080">(</font>IN_CHAR<font color="#000080">) = </font>UP_ARROW <font color="#FF0000"><b>then
            </b></font>DIRECTION <font color="#000080">:= </font>UP
         <font color="#FF0000"><b>else
         begin
            </b></font>RESPONSE <font color="#000080">:= </font>NO_RESPONSE<font color="#000080">;
            </font>write <font color="#000080">(</font>Chr<font color="#000080">(</font>BELL<font color="#000080">));
         </font><font color="#FF0000"><b>end
      end
      else if </b></font>Ord<font color="#000080">(</font>IN_CHAR<font color="#000080">) = </font>CARRIAGE_RETURN <font color="#FF0000"><b>then
         </b></font>RESPONSE <font color="#000080">:= </font>RETURN
      <font color="#FF0000"><b>else
      begin
         </b></font>RESPONSE <font color="#000080">:= </font>KEYBOARD<font color="#000080">;
         </font>KEY_RESPONSE <font color="#000080">:= </font>UpCase <font color="#000080">(</font>IN_CHAR<font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>until </b></font>RESPONSE <font color="#000080">&lt;&gt; </font>NO_RESPONSE<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Get_String <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>IN_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                     </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">, </font>STR_LENGTH<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>var
   </b></font>OLDSTR <font color="#000080">: </font>STRING79<font color="#000080">;
   </font>IN_CHAR<font color="#000080">: </font>char<font color="#000080">;
   </font>I      <font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>const
   </b></font>BELL            <font color="#000080">= </font><font color="#800000">7</font><font color="#000080">;
   </font>BACK_SPACE      <font color="#000080">= </font><font color="#800000">8</font><font color="#000080">;
   </font>CARRIAGE_RETURN <font color="#000080">= </font><font color="#800000">13</font><font color="#000080">;
   </font>ESCAPE          <font color="#000080">= </font><font color="#800000">27</font><font color="#000080">;
   </font>RIGHT_ARROW     <font color="#000080">= </font><font color="#800000">77</font><font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>OLDSTR <font color="#000080">:= </font>IN_STRING<font color="#000080">;
   </font>Put_String <font color="#000080">(</font>IN_STRING<font color="#000080">, </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">);
   </font><font color="#FF0000"><b>for </b></font>I <font color="#000080">:= </font>Length<font color="#000080">(</font>IN_STRING<font color="#000080">) </font><font color="#FF0000"><b>to </b></font>STR_LENGTH<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
      </b></font>Put_String <font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">, </font>LINE<font color="#000080">, </font>COL <font color="#000080">+ </font>I<font color="#000080">, </font>ATTRIB<font color="#000080">);
   </font>GotoXY <font color="#000080">(</font>COL<font color="#000080">, </font>LINE<font color="#000080">);
   </font>IN_CHAR <font color="#000080">:= </font>ReadKey<font color="#000080">;
   </font><font color="#FF0000"><b>if </b></font>Ord<font color="#000080">(</font>IN_CHAR<font color="#000080">) &lt;&gt; </font>CARRIAGE_RETURN <font color="#FF0000"><b>then
      </b></font>IN_STRING <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
   </font><font color="#FF0000"><b>while </b></font>Ord<font color="#000080">(</font>IN_CHAR<font color="#000080">) &lt;&gt; </font>CARRIAGE_RETURN <font color="#FF0000"><b>do
   begin
      if </b></font>Ord<font color="#000080">(</font>IN_CHAR<font color="#000080">) = </font>BACK_SPACE <font color="#FF0000"><b>then
      begin
         if </b></font>Length<font color="#000080">(</font>IN_STRING<font color="#000080">) &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
         begin
            </b></font>IN_STRING<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font>Chr<font color="#000080">(</font>Length<font color="#000080">(</font>IN_STRING<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">);
            </font>write <font color="#000080">(</font>Chr<font color="#000080">(</font>BACK_SPACE<font color="#000080">));
            </font>write <font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">);
            </font>write <font color="#000080">(</font>Chr<font color="#000080">(</font>BACK_SPACE<font color="#000080">));
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>{ if BACK_SPACE }
      </i></font><font color="#FF0000"><b>else if </b></font>IN_CHAR <font color="#000080">= </font><font color="#800000">#0 </font><font color="#FF0000"><b>then
      begin
         </b></font>IN_CHAR <font color="#000080">:= </font>ReadKey<font color="#000080">;
         </font><font color="#FF0000"><b>if </b></font>Ord<font color="#000080">(</font>IN_CHAR<font color="#000080">) = </font>RIGHT_ARROW <font color="#FF0000"><b>then
         begin
            if </b></font>Length<font color="#000080">(</font>OLDSTR<font color="#000080">) &gt; </font>Length<font color="#000080">(</font>IN_STRING<font color="#000080">) </font><font color="#FF0000"><b>then
            begin
               </b></font>IN_STRING<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font>Chr<font color="#000080">(</font>Length<font color="#000080">(</font>IN_STRING<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">);
               </font>IN_CHAR <font color="#000080">:= </font>OLDSTR<font color="#000080">[</font>Ord<font color="#000080">(</font>IN_STRING<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">])];
               </font>IN_STRING<font color="#000080">[</font>Ord<font color="#000080">(</font>IN_STRING<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">])] := </font>IN_CHAR<font color="#000080">;
               </font>write <font color="#000080">(</font>IN_CHAR<font color="#000080">);
            </font><font color="#FF0000"><b>end
         end      </b></font><font color="#008000"><i>{ RIGHT_ARROW }
            </i></font><font color="#FF0000"><b>else
               </b></font>write <font color="#000080">(</font>Chr<font color="#000080">(</font>BELL<font color="#000080">));
      </font><font color="#FF0000"><b>end   </b></font><font color="#008000"><i>{ IN_CHAR = #0 }
   </i></font><font color="#FF0000"><b>else if </b></font>Length <font color="#000080">(</font>IN_STRING<font color="#000080">) &lt; </font>STR_LENGTH <font color="#FF0000"><b>then
      begin
         </b></font>IN_STRING<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font>Chr<font color="#000080">(</font>Length<font color="#000080">(</font>IN_STRING<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">);
         </font>IN_STRING<font color="#000080">[</font>Ord<font color="#000080">(</font>IN_STRING<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">])] := </font>IN_CHAR<font color="#000080">;
         </font>TextColor <font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
         </font>TextBackGround <font color="#000080">(</font><font color="#800000">11</font><font color="#000080">);
         </font>write <font color="#000080">(</font>IN_CHAR<font color="#000080">);
      </font><font color="#FF0000"><b>end
      else
         </b></font>write <font color="#000080">(</font>Chr<font color="#000080">(</font>BELL<font color="#000080">));
      </font>IN_CHAR <font color="#000080">:= </font>ReadKey<font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font>Put_String <font color="#000080">(</font>IN_STRING<font color="#000080">, </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">);
   </font><font color="#FF0000"><b>for </b></font>I <font color="#000080">:= </font>Length<font color="#000080">(</font>IN_STRING<font color="#000080">) </font><font color="#FF0000"><b>to </b></font>STR_LENGTH <font color="#000080">- </font><font color="#800000">1 </font><font color="#FF0000"><b>do
      </b></font>Put_String <font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">, </font>LINE<font color="#000080">, </font>COL<font color="#000080">+</font>I<font color="#000080">, </font>ATTRIB<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Get_Integer <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>NUMBER<font color="#000080">: </font>integer<font color="#000080">;
                      </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">, </font>NUM_LENGTH<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>const
   </b></font>BELL <font color="#000080">= </font><font color="#800000">7</font><font color="#000080">;

</font><font color="#FF0000"><b>var
   </b></font>VALCODE      <font color="#000080">: </font>integer<font color="#000080">;
   </font>ORIGINAL_STR<font color="#000080">,
   </font>TEMP_STR     <font color="#000080">: </font>STRING79<font color="#000080">;
   </font>TEMP_INT     <font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>Str <font color="#000080">(</font>NUMBER<font color="#000080">:</font>NUM_LENGTH<font color="#000080">, </font>ORIGINAL_STR<font color="#000080">);
   </font><font color="#FF0000"><b>repeat
      </b></font>TEMP_STR <font color="#000080">:= </font>ORIGINAL_STR<font color="#000080">;
      </font>Get_String <font color="#000080">(</font>TEMP_STR<font color="#000080">, </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">, </font>NUM_LENGTH<font color="#000080">);
      </font><font color="#FF0000"><b>while </b></font>TEMP_STR<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] = </font><font color="#800000">' ' </font><font color="#FF0000"><b>do
         </b></font>TEMP_STR <font color="#000080">:= </font>Copy <font color="#000080">(</font>TEMP_STR<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">, </font>Length <font color="#000080">(</font>TEMP_STR<font color="#000080">));
      </font>Val <font color="#000080">(</font>TEMP_STR<font color="#000080">, </font>TEMP_INT<font color="#000080">, </font>VALCODE<font color="#000080">);
      </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>VALCODE <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
         </b></font>write <font color="#000080">(</font>Chr<font color="#000080">(</font>BELL<font color="#000080">));
   </font><font color="#FF0000"><b>until </b></font>VALCODE <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
   </font>NUMBER <font color="#000080">:= </font>TEMP_INT<font color="#000080">;
   </font>Str <font color="#000080">(</font>NUMBER<font color="#000080">:</font>NUM_LENGTH<font color="#000080">, </font>TEMP_STR<font color="#000080">);
   </font>Put_String <font color="#000080">(</font>TEMP_STR<font color="#000080">, </font>LINE<font color="#000080">, </font>COL<font color="#000080">, </font>ATTRIB<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Get_Prompted_String <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>IN_STRING<font color="#000080">: </font>STRING79<font color="#000080">;
                          </font>INATTR<font color="#000080">, </font>STR_LENGTH<font color="#000080">: </font>integer<font color="#000080">;
                                     </font>STRDESC<font color="#000080">: </font>STRING79<font color="#000080">;
                           </font>DESCLINE<font color="#000080">, </font>DESCCOL<font color="#000080">: </font>integer<font color="#000080">;
                                      </font>PROMPT<font color="#000080">: </font>STRING79<font color="#000080">;
                               </font>PRLINE<font color="#000080">, </font>PRCOL<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>begin
   </b></font>Put_String <font color="#000080">(</font>STRDESC<font color="#000080">, </font>DESCLINE<font color="#000080">, </font>DESCCOL<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">);
   </font>Put_Prompt <font color="#000080">(</font>PROMPT<font color="#000080">, </font>PRLINE<font color="#000080">, </font>PRCOL<font color="#000080">);
   </font>Get_String <font color="#000080">(</font>IN_STRING<font color="#000080">, </font>DESCLINE<font color="#000080">, </font>DESCCOL <font color="#000080">+ </font>Length<font color="#000080">(</font>STRDESC<font color="#000080">),
               </font>INATTR<font color="#000080">, </font>STR_LENGTH<font color="#000080">);
   </font>Put_String <font color="#000080">(</font>STRDESC<font color="#000080">, </font>DESCLINE<font color="#000080">, </font>DESCCOL<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Put_1col_Toggle <font color="#000080">(</font>TOGGLE<font color="#000080">: </font>TOGGLE_REC<font color="#000080">;
                           </font>COL<font color="#000080">, </font>CHOICE<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>var
   </b></font>I<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>begin
   with </b></font>TOGGLE <font color="#FF0000"><b>do
   begin
      </b></font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">], </font>LOCATIONS<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
      </font><font color="#FF0000"><b>for </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>NUM_CHOICES <font color="#FF0000"><b>do
         </b></font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font>I<font color="#000080">], </font>LOCATIONS<font color="#000080">[</font>I<font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
      </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>CHOICE <font color="#000080">&lt;</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>CHOICE <font color="#000080">&gt; </font>NUM_CHOICES<font color="#000080">) </font><font color="#FF0000"><b>then
         </b></font>CHOICE <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
      </font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>LOCATIONS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Get_1col_Toggle <font color="#000080">(    </font>TOGGLE<font color="#000080">: </font>TOGGLE_REC<font color="#000080">;
                                  </font>COL<font color="#000080">: </font>integer<font color="#000080">;
                           </font><font color="#FF0000"><b>var </b></font>CHOICE<font color="#000080">: </font>integer<font color="#000080">;
                               </font>PROMPT<font color="#000080">: </font>STRING79<font color="#000080">;
                        </font>PRLINE<font color="#000080">, </font>PRCOL<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>var
   </b></font>RESP <font color="#000080">: </font>RESPONSE_TYPE<font color="#000080">;
   </font>DIR  <font color="#000080">: </font>MOVEMENT<font color="#000080">;
   </font>KEYCH<font color="#000080">: </font>char<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>Put_Colored_Text <font color="#000080">(</font>PROMPT<font color="#000080">, </font>PRLINE<font color="#000080">, </font>PRCOL<font color="#000080">, </font><font color="#800000">15</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
   </font><font color="#FF0000"><b>with </b></font>TOGGLE <font color="#FF0000"><b>do
   begin
      </b></font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">], </font>LOCATIONS<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">);
      </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>CHOICE <font color="#000080">&lt; </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>CHOICE <font color="#000080">&gt; </font>NUM_CHOICES<font color="#000080">) </font><font color="#FF0000"><b>then
         </b></font>CHOICE <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
      </font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>LOCATIONS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
      </font>RESP <font color="#000080">:= </font>NO_RESPONSE<font color="#000080">;
      </font><font color="#FF0000"><b>while </b></font>RESP <font color="#000080">&lt;&gt; </font>RETURN <font color="#FF0000"><b>do
      begin
         </b></font>Get_Response <font color="#000080">(</font>RESP<font color="#000080">, </font>DIR<font color="#000080">, </font>KEYCH<font color="#000080">);
         </font><font color="#FF0000"><b>case </b></font>RESP <font color="#FF0000"><b>of
            </b></font>ARROW<font color="#000080">:
               </font><font color="#FF0000"><b>if </b></font>DIR <font color="#000080">= </font>UP <font color="#FF0000"><b>then
               begin
                  </b></font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>LOCATIONS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
                  </font><font color="#FF0000"><b>if </b></font>CHOICE <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>then
                     </b></font>CHOICE <font color="#000080">:= </font>NUM_CHOICES
                  <font color="#FF0000"><b>else
                     </b></font>CHOICE <font color="#000080">:= </font>CHOICE <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;
                  </font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>LOCATIONS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
               </font><font color="#FF0000"><b>end
               else if </b></font>DIR <font color="#000080">= </font>DOWN <font color="#FF0000"><b>then
               begin
                  </b></font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>LOCATIONS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
                  </font><font color="#FF0000"><b>if </b></font>CHOICE <font color="#000080">= </font>NUM_CHOICES <font color="#FF0000"><b>then
                     </b></font>CHOICE <font color="#000080">:= </font><font color="#800000">1
                  </font><font color="#FF0000"><b>else
                     </b></font>CHOICE <font color="#000080">:= </font>CHOICE <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
                  </font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>LOCATIONS<font color="#000080">[</font>CHOICE<font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
               </font><font color="#FF0000"><b>end
            else
               </b></font>write <font color="#000080">(</font>Chr<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">));
            </font>KEYBOARD<font color="#000080">:  </font>write <font color="#000080">(</font>Chr<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">));
            </font>RETURN<font color="#000080">: ;
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{while}
   </i></font>Put_String <font color="#000080">(</font>STRINGS<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">], </font>LOCATIONS<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">], </font>COL<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Box_Text <font color="#000080">(</font>TopX<font color="#000080">, </font>TopY<font color="#000080">, </font>BotX<font color="#000080">, </font>BotY<font color="#000080">, </font>BoxColor<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>var
   </b></font>i     <font color="#000080">: </font>integer<font color="#000080">;
   </font>width <font color="#000080">: </font>integer<font color="#000080">;
   </font>height<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>TextBackGround <font color="#000080">(</font>BoxColor<font color="#000080">);
   </font>height <font color="#000080">:= </font>BotY <font color="#000080">- </font>TopY<font color="#000080">;
   </font>width <font color="#000080">:= </font>BotX <font color="#000080">- </font>TopX<font color="#000080">;
   </font>GotoXY <font color="#000080">(</font>TopX<font color="#000080">, </font>TopY<font color="#000080">);
   </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>width <font color="#FF0000"><b>do
      </b></font>write <font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">);
   </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font>TopY <font color="#FF0000"><b>to </b></font><font color="#000080">(</font>TopY<font color="#000080">+</font>height<font color="#000080">) </font><font color="#FF0000"><b>do
      begin
         </b></font>GotoXY <font color="#000080">(</font>TopX<font color="#000080">, </font>i<font color="#000080">);
         </font>write <font color="#000080">(</font><font color="#800000">'  '</font><font color="#000080">);
         </font>GotoXY <font color="#000080">(</font>BotX<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>i<font color="#000080">);
         </font>write <font color="#000080">(</font><font color="#800000">'  '</font><font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font>GotoXY <font color="#000080">(</font>TopX<font color="#000080">, </font>BotY<font color="#000080">);
   </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>width <font color="#FF0000"><b>do
      </b></font>write <font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{-------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>procedure </b></font>Solid_Box <font color="#000080">(</font>TopX<font color="#000080">, </font>TopY<font color="#000080">, </font>BotX<font color="#000080">, </font>BotY<font color="#000080">, </font>BoxColor<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>var
   </b></font>i     <font color="#000080">: </font>integer<font color="#000080">;
   </font>j     <font color="#000080">: </font>integer<font color="#000080">;
   </font>width <font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>TextBackGround <font color="#000080">(</font>BoxColor<font color="#000080">);
   </font>GotoXY <font color="#000080">(</font>TopX<font color="#000080">, </font>TopY<font color="#000080">);
   </font>width <font color="#000080">:= </font>BotX <font color="#000080">- </font>TopX<font color="#000080">;
   </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font>TopY <font color="#FF0000"><b>to </b></font>BotY <font color="#FF0000"><b>do
      begin
         for </b></font>j <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>width <font color="#FF0000"><b>do
            </b></font>write <font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">);
         </font>GotoXY <font color="#000080">(</font>TopX<font color="#000080">, </font>i<font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>swap_fnames<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>A<font color="#000080">,</font>B<font color="#000080">: </font>FnameType<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>Temp <font color="#000080">: </font>FnameType<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Temp <font color="#000080">:= </font>A<font color="#000080">;
  </font>A <font color="#000080">:= </font>B<font color="#000080">;
  </font>B <font color="#000080">:= </font>Temp<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>FileSort<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>fname<font color="#000080">: </font>FileListType<font color="#000080">;</font>NumFiles<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>i<font color="#000080">,</font>j <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>j <font color="#000080">:= </font>NumFiles <font color="#FF0000"><b>downto </b></font><font color="#800000">2 </font><font color="#FF0000"><b>do
    for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>j<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
      if </b></font>fname<font color="#000080">[</font>i<font color="#000080">]&gt;</font>fname<font color="#000080">[</font>j<font color="#000080">] </font><font color="#FF0000"><b>then
        </b></font>swap_fnames<font color="#000080">(</font>fname<font color="#000080">[</font>i<font color="#000080">],</font>fname<font color="#000080">[</font>j<font color="#000080">]);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Get_Files_Toggle <font color="#000080">(</font>choices<font color="#000080">:</font>FileListType<font color="#000080">;
                           </font>NumChoices<font color="#000080">,</font>NumRows<font color="#000080">,</font>row<font color="#000080">,</font>col<font color="#000080">:</font>integer<font color="#000080">): </font>FnameType<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>i<font color="#000080">,</font>r   <font color="#000080">: </font>integer<font color="#000080">;
  </font>Resp  <font color="#000080">: </font>Response_Type<font color="#000080">;
  </font>dir   <font color="#000080">: </font>movement<font color="#000080">;
  </font>keych <font color="#000080">: </font>char<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>Put_Files_Toggle <font color="#000080">(</font>choices<font color="#000080">: </font>FileListType<font color="#000080">; </font>First<font color="#000080">,</font>NumRows<font color="#000080">,</font>row<font color="#000080">,</font>col<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>NumRows<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
    </b></font>Put_string <font color="#000080">(</font>choices<font color="#000080">[</font>First<font color="#000080">+</font>i<font color="#000080">],</font>row<font color="#000080">+</font>i<font color="#000080">,</font>col<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>Padnames<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>i<font color="#000080">,</font>p <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxFiles <font color="#FF0000"><b>do
    begin
      </b></font>p <font color="#000080">:= </font><font color="#800000">12</font><font color="#000080">-</font>length<font color="#000080">(</font>choices<font color="#000080">[</font>i<font color="#000080">]);
      </font><font color="#FF0000"><b>while </b></font>p<font color="#000080">&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>do
        begin
          </b></font>choices<font color="#000080">[</font>i<font color="#000080">] := </font>choices<font color="#000080">[</font>i<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">;
          </font>p <font color="#000080">:= </font>p<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>Padnames<font color="#000080">;
  </font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>r <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>NumChoices <font color="#000080">&lt; </font>NumRows <font color="#FF0000"><b>then
    </b></font>NumRows <font color="#000080">:= </font>NumChoices<font color="#000080">;
  </font>Put_Files_Toggle <font color="#000080">(</font>choices<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>NumRows<font color="#000080">,</font>row<font color="#000080">,</font>col<font color="#000080">);
  </font>Get_Files_Toggle <font color="#000080">:= </font>choices<font color="#000080">[</font>i<font color="#000080">];
  </font>Put_string<font color="#000080">(</font>choices<font color="#000080">[</font>i<font color="#000080">],</font>row<font color="#000080">,</font>col<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
  </font>resp <font color="#000080">:= </font>No_Response<font color="#000080">;
  </font><font color="#FF0000"><b>while </b></font>resp <font color="#000080">&lt;&gt; </font>Return <font color="#FF0000"><b>do
    begin
      </b></font>Get_response <font color="#000080">(</font>resp<font color="#000080">,</font>dir<font color="#000080">,</font>keych<font color="#000080">);
      </font><font color="#FF0000"><b>case </b></font>resp <font color="#FF0000"><b>of
        </b></font>ARROW<font color="#000080">: </font><font color="#FF0000"><b>if </b></font>dir<font color="#000080">=</font>UP <font color="#FF0000"><b>then
                 begin
                   </b></font>Put_string<font color="#000080">(</font>choices<font color="#000080">[</font>i<font color="#000080">],</font>row<font color="#000080">+</font>r<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>col<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
                   </font><font color="#FF0000"><b>if </b></font>i<font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then
                     begin
                       </b></font>i <font color="#000080">:= </font>NumChoices<font color="#000080">;
                       </font>r <font color="#000080">:= </font>NumRows<font color="#000080">;
                       </font>Put_Files_Toggle<font color="#000080">(</font>choices<font color="#000080">,</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">-</font>NumRows<font color="#000080">,</font>NumRows<font color="#000080">,</font>row<font color="#000080">,</font>col<font color="#000080">);
                     </font><font color="#FF0000"><b>end
                   else if </b></font>r<font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then
                     begin
                       </b></font>i <font color="#000080">:= </font>i<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
                       </font>Put_Files_Toggle<font color="#000080">(</font>choices<font color="#000080">,</font>i<font color="#000080">,</font>NumRows<font color="#000080">,</font>row<font color="#000080">,</font>col<font color="#000080">);
                     </font><font color="#FF0000"><b>end
                   else
                     begin
                       </b></font>i <font color="#000080">:= </font>i<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
                       </font>r <font color="#000080">:= </font>r<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
                     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
                   </font>Put_string<font color="#000080">(</font>choices<font color="#000080">[</font>i<font color="#000080">],</font>row<font color="#000080">+</font>r<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>col<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
                 </font><font color="#FF0000"><b>end
               else if </b></font>dir<font color="#000080">=</font>DOWN <font color="#FF0000"><b>then
                 begin
                   </b></font>Put_string<font color="#000080">(</font>choices<font color="#000080">[</font>i<font color="#000080">],</font>row<font color="#000080">+</font>r<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>col<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
                   </font><font color="#FF0000"><b>if </b></font>i<font color="#000080">=</font>NumChoices <font color="#FF0000"><b>then
                     begin
                       </b></font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
                       </font>r <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
                       </font>Put_Files_Toggle<font color="#000080">(</font>choices<font color="#000080">,</font>i<font color="#000080">,</font>NumRows<font color="#000080">,</font>row<font color="#000080">,</font>col<font color="#000080">);
                     </font><font color="#FF0000"><b>end
                   else if </b></font>r<font color="#000080">=</font>NumRows <font color="#FF0000"><b>then
                     begin
                       </b></font>i <font color="#000080">:= </font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
                       </font>Put_Files_Toggle<font color="#000080">(</font>choices<font color="#000080">,</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">-</font>NumRows<font color="#000080">,</font>NumRows<font color="#000080">,</font>row<font color="#000080">,</font>col<font color="#000080">);
                     </font><font color="#FF0000"><b>end
                   else
                     begin
                       </b></font>i <font color="#000080">:= </font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
                       </font>r <font color="#000080">:= </font>r<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
                     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
                   </font>Put_string<font color="#000080">(</font>choices<font color="#000080">[</font>i<font color="#000080">],</font>row<font color="#000080">+</font>r<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>col<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
                 </font><font color="#FF0000"><b>end
               else
                 </b></font>write <font color="#000080">(</font>chr<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">));
        </font>KEYBOARD<font color="#000080">:  </font>write <font color="#000080">(</font>chr<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">));
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ case }
    </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Get_Files_toggle <font color="#000080">:= </font>choices<font color="#000080">[</font>i<font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Get_File_Menu<font color="#000080">(</font>mask<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>NumRows<font color="#000080">,</font>Row<font color="#000080">,</font>Col<font color="#000080">: </font>integer<font color="#000080">): </font>FnameType<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
  </font>NumFiles <font color="#000080">: </font>integer<font color="#000080">;
  </font>FileList <font color="#000080">: </font>FileListType<font color="#000080">;
  </font>dirinfo  <font color="#000080">: </font>SearchRec<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>FindFirst<font color="#000080">(</font>mask<font color="#000080">,</font>Archive<font color="#000080">,</font>dirinfo<font color="#000080">);
  </font><font color="#FF0000"><b>while </b></font><font color="#000080">(</font>DosError<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>i<font color="#000080">&lt;</font>MaxFiles<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>do
    begin
      </b></font>FileList<font color="#000080">[</font>i<font color="#000080">] := </font>dirinfo<font color="#000080">.</font>name<font color="#000080">;
      </font>FindNext<font color="#000080">(</font>dirinfo<font color="#000080">);
      </font>i <font color="#000080">:= </font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>NumFiles <font color="#000080">:= </font>i<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
  </font>FileSort<font color="#000080">(</font>FileList<font color="#000080">,</font>NumFiles<font color="#000080">);
  </font>Get_File_Menu <font color="#000080">:= </font>Get_Files_Toggle<font color="#000080">(</font>FileList<font color="#000080">,</font>NumFiles<font color="#000080">,</font>NumRows<font color="#000080">,</font>Row<font color="#000080">,</font>Col<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>ScrMenuType<font color="#000080">.</font>Setup<font color="#000080">(</font>MData <font color="#000080">: </font>ScrMenuRec<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  with </b></font>MenuData <font color="#FF0000"><b>do
    for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxChoices <font color="#FF0000"><b>do
      begin
        </b></font>selection<font color="#000080">[</font>i<font color="#000080">] := </font>MData<font color="#000080">.</font>selection<font color="#000080">[</font>i<font color="#000080">];
        </font>Descripts<font color="#000080">[</font>i<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">] := </font>MData<font color="#000080">.</font>descripts<font color="#000080">[</font>i<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">];
        </font>Descripts<font color="#000080">[</font>i<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">] := </font>MData<font color="#000080">.</font>descripts<font color="#000080">[</font>i<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">];
        </font>Descripts<font color="#000080">[</font>i<font color="#000080">,</font><font color="#800000">3</font><font color="#000080">] := </font>MData<font color="#000080">.</font>descripts<font color="#000080">[</font>i<font color="#000080">,</font><font color="#800000">3</font><font color="#000080">];
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>ScrMenuType<font color="#000080">.</font>GetChoice <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
  </font>Resp  <font color="#000080">: </font>Response_Type<font color="#000080">;
  </font>Dir   <font color="#000080">: </font>Movement<font color="#000080">;
  </font>KeyCh <font color="#000080">: </font>char<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>PutDescripts<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>window<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">79</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">);
  </font>Solid_Box<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">21</font><font color="#000080">,</font><font color="#800000">79</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">,</font>lightgray<font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do
    </b></font>Put_Colored_Text<font color="#000080">(</font>MenuData<font color="#000080">.</font>Descripts<font color="#000080">[</font>last<font color="#000080">,</font>i<font color="#000080">],</font><font color="#800000">20</font><font color="#000080">+</font>i<font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font>white<font color="#000080">,</font>lightgray<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
with </b></font>MenuData <font color="#FF0000"><b>do
begin
  for </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>NumChoices<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
    </b></font>Put_String<font color="#000080">(</font>Selection<font color="#000080">[</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">],</font>Line<font color="#000080">+</font>i<font color="#000080">,</font>Col<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font>Put_String<font color="#000080">(</font>Selection<font color="#000080">[</font>Last<font color="#000080">],</font>Line<font color="#000080">+</font>Last<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>Col<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
  </font>Resp <font color="#000080">:= </font>No_Response<font color="#000080">;
  </font><font color="#FF0000"><b>while </b></font>Resp <font color="#000080">&lt;&gt; </font>Return <font color="#FF0000"><b>do
    begin
      </b></font>PutDescripts<font color="#000080">;
      </font>Get_Response<font color="#000080">(</font>Resp<font color="#000080">,</font>Dir<font color="#000080">,</font>KeyCh<font color="#000080">);
      </font><font color="#FF0000"><b>case </b></font>Resp <font color="#FF0000"><b>of
        </b></font>Arrow <font color="#000080">:
          </font><font color="#FF0000"><b>if </b></font>Dir <font color="#000080">= </font>Up <font color="#FF0000"><b>then
            begin
              </b></font>Put_String<font color="#000080">(</font>Selection<font color="#000080">[</font>Last<font color="#000080">],</font>Line<font color="#000080">+</font>Last<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>Col<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
              </font><font color="#FF0000"><b>if </b></font>Last <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>then
                </b></font>Last <font color="#000080">:= </font>NumChoices
              <font color="#FF0000"><b>else
                </b></font>Last <font color="#000080">:= </font>Last<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
              </font>Put_String<font color="#000080">(</font>Selection<font color="#000080">[</font>Last<font color="#000080">],</font>Line<font color="#000080">+</font>Last<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>Col<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
            </font><font color="#FF0000"><b>end
          else if </b></font>Dir <font color="#000080">= </font>Down <font color="#FF0000"><b>then
            begin
              </b></font>Put_String<font color="#000080">(</font>Selection<font color="#000080">[</font>Last<font color="#000080">],</font>Line<font color="#000080">+</font>Last<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>Col<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
              </font><font color="#FF0000"><b>if </b></font>Last <font color="#000080">= </font>NumChoices <font color="#FF0000"><b>then
                </b></font>Last <font color="#000080">:= </font><font color="#800000">1
              </font><font color="#FF0000"><b>else
                </b></font>Last <font color="#000080">:= </font>Last<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
              </font>Put_String<font color="#000080">(</font>Selection<font color="#000080">[</font>Last<font color="#000080">],</font>Line<font color="#000080">+</font>Last<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>Col<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
            </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{ Initialization Area }
</i></font><font color="#FF0000"><b>begin
end</b></font><font color="#000080">.

</font><font color="#008000"><i>{------------------------------------  TEST PROGRAM   ------------------- }

</i></font><font color="#FF0000"><b>program </b></font>testdir<font color="#000080">;
</font><font color="#008000"><i>{ program attempts to read directory }
{ shows filenames as column }

</i></font><font color="#FF0000"><b>uses </b></font>dos<font color="#000080">,</font>crt<font color="#000080">,</font>miscLib<font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>Fchoice  <font color="#000080">: </font>FnameType<font color="#000080">;
  </font>i<font color="#000080">,</font>n      <font color="#000080">: </font>integer<font color="#000080">;



</font><font color="#008000"><i>{ *************** MAIN PROGRAM *************** }

</i></font><font color="#FF0000"><b>begin
  </b></font>ClrScr<font color="#000080">;
  </font>Fchoice <font color="#000080">:= </font>Get_File_Menu<font color="#000080">(</font><font color="#800000">'*.*'</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">30</font><font color="#000080">);
  </font>Put_string<font color="#000080">(</font>Fchoice<font color="#000080">,</font><font color="#800000">24</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font>ReadLn<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.


</font><font color="#008000"><i>{------------------------------------  TEST PROGRAM   ------------------- }

</i></font><font color="#FF0000"><b>program </b></font>TestMenu<font color="#000080">;
</font><font color="#FF0000"><b>uses </b></font>crt<font color="#000080">,</font>MiscLib<font color="#000080">;

</font><font color="#FF0000"><b>const
  </b></font>ChoiceData <font color="#000080">: </font>ScrMenuRec <font color="#000080">=
    (</font>selection <font color="#000080">: (</font><font color="#800000">'Choice 1'</font><font color="#000080">,</font><font color="#800000">'Choice 2'</font><font color="#000080">,</font><font color="#800000">'Choice 3'</font><font color="#000080">,</font><font color="#800000">'Choice 4'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);
     </font>Descripts <font color="#000080">: ((</font><font color="#800000">'This is'</font><font color="#000080">,</font><font color="#800000">'No 1'</font><font color="#000080">,</font><font color="#800000">'The First Choice'</font><font color="#000080">),
                  (</font><font color="#800000">'Number 2'</font><font color="#000080">,</font><font color="#800000">'The Second Choice and default'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">),
                  (</font><font color="#800000">'Number 3'</font><font color="#000080">,</font><font color="#800000">'Last Choice, for now...'</font><font color="#000080">,</font><font color="#800000">'Last Line'</font><font color="#000080">),
                  (</font><font color="#800000">'Number 4'</font><font color="#000080">,</font><font color="#800000">'An added Selection'</font><font color="#000080">,</font><font color="#800000">'How bout that?'</font><font color="#000080">),
                  (</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">),
                  (</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">),
                  (</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">),
                  (</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">)));
</font><font color="#FF0000"><b>var
  </b></font>ScrMenu <font color="#000080">: </font>ScrMenuType<font color="#000080">;
  </font>Choice <font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>TextColor<font color="#000080">(</font>white<font color="#000080">);
  </font>TextBackGround<font color="#000080">(</font>Blue<font color="#000080">);
  </font>ClrScr<font color="#000080">;
  </font>ScrMenu<font color="#000080">.</font>NumChoices <font color="#000080">:= </font><font color="#800000">4</font><font color="#000080">;
  </font>ScrMenu<font color="#000080">.</font>Last <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
  </font>ScrMenu<font color="#000080">.</font>Line <font color="#000080">:= </font><font color="#800000">6</font><font color="#000080">;
  </font>ScrMenu<font color="#000080">.</font>Col  <font color="#000080">:= </font><font color="#800000">30</font><font color="#000080">;
  </font>ScrMenu<font color="#000080">.</font>Setup<font color="#000080">(</font>ChoiceData<font color="#000080">);
  </font>Choice <font color="#000080">:= </font>ScrMenu<font color="#000080">.</font>GetChoice<font color="#000080">;
  </font>ReadLn<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0099.PAS">Original</a><b>]</b></p></body>
</html>
