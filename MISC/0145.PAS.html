<html>
<head><title> "Maze Generator II" by MATTHEW MASTRACCI</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0145.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
From: Matthew.Mastracci@matrix.cambo.cuug.ab.ca (Matthew Mastracci)

 l&gt; This is just cool enough that I'm going to post publicly too.

 l&gt; LOU'S MAZE ALGORITHM

    Great algorithm!  I read your posting, pondered it, sat down for an hour
and wrote this:

}
{$r-} { Increases speed a marginal amount }
{
  Maze Generator - PD 1995, by Matthew Mastracci
                   rayban@matrix.cambo.cuug.ab.ca

  This program generates a maze using a plant-like approach.  It starts by
  sowing &quot;seeds&quot; about every four units around the edge, and two in the
  middle.  These then grow out in a random order in three directions.  This
  prevents seeds from sprouting if they would grow into another.

  The original algorithm for generating mazes was written by Lou Duchez and
  posted in comp.lang.pascal.  Here's a small excerpt from the part which
  describes how to work with the seeds:

 ---
Keep executing this loop until you run out of seeds:

  - Randomly select a seed.  Extend the wall in some valid direction from
    this seed point, by turning into walls the grid locations one unit and
    two units away from the seed.  To prevent the maze from closing off at
    any point, DO NOT EXTEND A WALL TO ANY POINT THAT IS ALREADY MARKED AS A
    WALL!  (With this rule, you never close off the maze; you simply
    complicate the path from beginning to end.)

  - Remove this seed.  It's done its job.

  - Add three seed points at this new location.  (The assumption is that the
    wall could grow in three directions from this new point; if you want to
    be more exacting, you can add as many seeds as there are directions that
    the wall could extend from that point.  It really doesn't matter much,
    except for the possibility of running out of seed point array elements if
    you always add 3.)

  - Seed maintenance: go through your list of seeds and eliminate any
    seeds that cannot extend in any valid direction.
 ---

  Feel free to use this source anywhere you want in anyway you want.  I
  recommend you use it to generate mazes for games, however...  :)

}
</i></font><font color="#FF0000"><b>program
  </b></font>MazeGenerator<font color="#000080">;

</font><font color="#FF0000"><b>uses
  </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>const
  </b></font>xMax <font color="#000080">= </font><font color="#800000">79</font><font color="#000080">;
  </font>yMax <font color="#000080">= </font><font color="#800000">49</font><font color="#000080">;
  </font>sMax <font color="#000080">= (</font>xMax <font color="#000080">- </font><font color="#800000">3</font><font color="#000080">) * (</font>yMax <font color="#000080">- </font><font color="#800000">3</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;

</font><font color="#FF0000"><b>type
  </b></font>tMap <font color="#000080">= </font><font color="#FF0000"><b>record
    </b></font>Data <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>xMax<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">..</font>yMax<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Boolean<font color="#000080">;
    </font>xEntrance<font color="#000080">, </font>yEntrance <font color="#000080">: </font>Byte<font color="#000080">;
    </font>xExit<font color="#000080">, </font>yExit <font color="#000080">: </font>Byte<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>tSeed <font color="#000080">= </font><font color="#FF0000"><b>record
    </b></font>x<font color="#000080">, </font>y<font color="#000080">, </font>Dir <font color="#000080">: </font>Byte<font color="#000080">;
    </font>Valid <font color="#000080">: </font>Boolean<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>Map <font color="#000080">: </font>tMap<font color="#000080">;

</font><font color="#008000"><i>{ Draws the map }
</i></font><font color="#FF0000"><b>procedure </b></font>DrawMap<font color="#000080">(</font>Map <font color="#000080">: </font>tMap<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>x<font color="#000080">, </font>y <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>x <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>xMax <font color="#FF0000"><b>do begin
    for </b></font>y <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>yMax <font color="#FF0000"><b>do begin
      if </b></font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x<font color="#000080">, </font>y<font color="#000080">] </font><font color="#FF0000"><b>then </b></font>Mem<font color="#000080">[</font><font color="#800000">$b800 </font><font color="#000080">: </font>y <font color="#000080">* </font><font color="#800000">160 </font><font color="#000080">+ </font>x <font color="#000080">* </font><font color="#800000">2</font><font color="#000080">] := </font><font color="#800000">219</font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Generates the map }
</i></font><font color="#FF0000"><b>procedure </b></font>GenerateMap<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Map <font color="#000080">: </font>tMap<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>Seeds <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>sMax<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>tSeed<font color="#000080">;

</font><font color="#008000"><i>{ Reports TRUE if any seeds are &quot;unsprouted&quot; }
</i></font><font color="#FF0000"><b>function </b></font>NoSeeds <font color="#000080">: </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>Word<font color="#000080">;
  </font>FoundSeeds <font color="#000080">: </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>FoundSeeds <font color="#000080">:= </font>False<font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>sMax <font color="#FF0000"><b>do begin
    if </b></font>Seeds<font color="#000080">[</font>i<font color="#000080">].</font>Valid <font color="#FF0000"><b>then </b></font>FoundSeeds <font color="#000080">:= </font>True<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>NoSeeds <font color="#000080">:= </font><font color="#FF0000"><b>not </b></font>FoundSeeds<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ &quot;Plant&quot; a seed }
</i></font><font color="#FF0000"><b>procedure </b></font>AddSeed<font color="#000080">(</font>x<font color="#000080">, </font>y<font color="#000080">, </font>Dir <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>i <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>repeat
    </b></font>Inc<font color="#000080">(</font>i<font color="#000080">);
  </font><font color="#FF0000"><b>until </b></font><font color="#000080">(</font>i <font color="#000080">= </font>sMax<font color="#000080">) </font><font color="#FF0000"><b>or not </b></font>Seeds<font color="#000080">[</font>i<font color="#000080">].</font>Valid<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>Seeds<font color="#000080">[</font>i<font color="#000080">].</font>Valid <font color="#FF0000"><b>then begin
    </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'Error: Out of seed space!'</font><font color="#000080">);
    </font>Halt<font color="#000080">;
  </font><font color="#FF0000"><b>end else begin
    </b></font>Seeds<font color="#000080">[</font>i<font color="#000080">].</font>x <font color="#000080">:= </font>x<font color="#000080">;
    </font>Seeds<font color="#000080">[</font>i<font color="#000080">].</font>y <font color="#000080">:= </font>y<font color="#000080">;
    </font>Seeds<font color="#000080">[</font>i<font color="#000080">].</font>Dir <font color="#000080">:= </font>Dir<font color="#000080">;
    </font>Seeds<font color="#000080">[</font>i<font color="#000080">].</font>Valid <font color="#000080">:= </font>True<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ &quot;Sprout&quot; a seed }
</i></font><font color="#FF0000"><b>procedure </b></font>Sprout<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  repeat
    </b></font>i <font color="#000080">:= </font>Random<font color="#000080">(</font>sMax<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>until </b></font>Seeds<font color="#000080">[</font>i<font color="#000080">].</font>Valid<font color="#000080">;
  </font><font color="#FF0000"><b>with </b></font>Seeds<font color="#000080">[</font>i<font color="#000080">] </font><font color="#FF0000"><b>do begin
    case </b></font>Dir <font color="#FF0000"><b>of
      </b></font><font color="#800000">0</font><font color="#000080">: </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ up }
        </i></font><font color="#FF0000"><b>if not </b></font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x<font color="#000080">, </font>y <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>then begin
          </b></font>AddSeed<font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
          </font>AddSeed<font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">);
          </font>AddSeed<font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">);
          </font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x<font color="#000080">, </font>y <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">] := </font>True<font color="#000080">;
          </font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x<font color="#000080">, </font>y <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">] := </font>True<font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#800000">1</font><font color="#000080">: </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ down }
        </i></font><font color="#FF0000"><b>if not </b></font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x<font color="#000080">, </font>y <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>then begin
          </b></font>AddSeed<font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
          </font>AddSeed<font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">);
          </font>AddSeed<font color="#000080">(</font>x<font color="#000080">, </font>y <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">);
          </font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x<font color="#000080">, </font>y <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] := </font>True<font color="#000080">;
          </font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x<font color="#000080">, </font>y <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">] := </font>True<font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#800000">2</font><font color="#000080">: </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ left }
        </i></font><font color="#FF0000"><b>if not </b></font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">] </font><font color="#FF0000"><b>then begin
          </b></font>AddSeed<font color="#000080">(</font>x <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
          </font>AddSeed<font color="#000080">(</font>x <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
          </font>AddSeed<font color="#000080">(</font>x <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">, </font><font color="#800000">3</font><font color="#000080">);
          </font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">, </font>y<font color="#000080">] := </font>True<font color="#000080">;
          </font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">] := </font>True<font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#800000">3</font><font color="#000080">: </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ right }
        </i></font><font color="#FF0000"><b>if not </b></font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">] </font><font color="#FF0000"><b>then begin
          </b></font>AddSeed<font color="#000080">(</font>x <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
          </font>AddSeed<font color="#000080">(</font>x <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
          </font>AddSeed<font color="#000080">(</font>x <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">);
          </font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font>y<font color="#000080">] := </font>True<font color="#000080">;
          </font>Map<font color="#000080">.</font>Data<font color="#000080">[</font>x <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">, </font>y<font color="#000080">] := </font>True<font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Seeds<font color="#000080">[</font>i<font color="#000080">].</font>Valid <font color="#000080">:= </font>False<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>x<font color="#000080">, </font>y <font color="#000080">: </font>Byte<font color="#000080">;
  </font>DrawCount <font color="#000080">: </font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>FillChar<font color="#000080">(</font>Map<font color="#000080">, </font>SizeOf<font color="#000080">(</font>Map<font color="#000080">), </font><font color="#800000">0</font><font color="#000080">); </font><font color="#008000"><i>{ Zero out map }
  </i></font>FillChar<font color="#000080">(</font>Seeds<font color="#000080">, </font>SizeOf<font color="#000080">(</font>Seeds<font color="#000080">), </font><font color="#800000">0</font><font color="#000080">); </font><font color="#008000"><i>{ Erase seeds }
  { Draw border }
  </i></font><font color="#FF0000"><b>with </b></font>Map <font color="#FF0000"><b>do begin
    for </b></font>x <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>xMax <font color="#FF0000"><b>do begin
      </b></font>Data<font color="#000080">[</font>x<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">] := </font>True<font color="#000080">;
      </font>Data<font color="#000080">[</font>x<font color="#000080">, </font>yMax<font color="#000080">] := </font>True<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>for </b></font>y <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>yMax <font color="#FF0000"><b>do begin
      </b></font>Data<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">, </font>y<font color="#000080">] := </font>True<font color="#000080">;
      </font>Data<font color="#000080">[</font>xMax<font color="#000080">, </font>y<font color="#000080">] := </font>True<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#008000"><i>{ Map entrance }
    </i></font>yEntrance <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
    </font>xEntrance <font color="#000080">:= (</font>Random<font color="#000080">(</font>yMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2</font><font color="#000080">;
    </font>Data<font color="#000080">[</font>xEntrance<font color="#000080">, </font>yEntrance<font color="#000080">] := </font>False<font color="#000080">;
    </font><font color="#008000"><i>{ Map exit }
    </i></font>yExit <font color="#000080">:= </font>yMax<font color="#000080">;
    </font>xExit <font color="#000080">:= (</font>Random<font color="#000080">(</font>yMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2</font><font color="#000080">;
    </font>Data<font color="#000080">[</font>xExit<font color="#000080">, </font>yExit<font color="#000080">] := </font>False<font color="#000080">;
    </font><font color="#008000"><i>{ Add a couple of seeds in the middle (islands) }
    </i></font>AddSeed<font color="#000080">((</font>Random<font color="#000080">(</font>xMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, (</font>Random<font color="#000080">(</font>yMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">,
</font>Random<font color="#000080">(</font><font color="#800000">4</font><font color="#000080">));
    </font>AddSeed<font color="#000080">((</font>Random<font color="#000080">(</font>xMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, (</font>Random<font color="#000080">(</font>yMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">,
</font>Random<font color="#000080">(</font><font color="#800000">4</font><font color="#000080">));
    </font><font color="#008000"><i>{ Add seeds around the edges, about every 4 units }
    </i></font><font color="#FF0000"><b>for </b></font>DrawCount <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#000080">(</font><font color="#800000">2 </font><font color="#000080">* </font>xMax <font color="#000080">+ </font><font color="#800000">2 </font><font color="#000080">* </font>yMax<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">4 </font><font color="#FF0000"><b>do begin
      case </b></font>Random<font color="#000080">(</font><font color="#800000">4</font><font color="#000080">) </font><font color="#FF0000"><b>of
        </b></font><font color="#800000">0</font><font color="#000080">: </font>AddSeed<font color="#000080">((</font>Random<font color="#000080">(</font>xMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">); </font><font color="#008000"><i>{ top, going down }
        </i></font><font color="#800000">1</font><font color="#000080">: </font>AddSeed<font color="#000080">((</font>Random<font color="#000080">(</font>xMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font>yMax<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">); </font><font color="#008000"><i>{ bottom, going
up }
        </i></font><font color="#800000">2</font><font color="#000080">: </font>AddSeed<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">, (</font>Random<font color="#000080">(</font>yMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">); </font><font color="#008000"><i>{ left, going right
}
        </i></font><font color="#800000">3</font><font color="#000080">: </font>AddSeed<font color="#000080">(</font>xMax<font color="#000080">, (</font>Random<font color="#000080">(</font>yMax <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">); </font><font color="#008000"><i>{ right, going
left }
      </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>DrawCount <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>repeat
    </b></font>Inc<font color="#000080">(</font>DrawCount<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>DrawCount <font color="#000080">= </font><font color="#800000">100 </font><font color="#FF0000"><b>then begin
      </b></font>DrawCount <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font>DrawMap<font color="#000080">(</font>Map<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>KeyPressed <font color="#FF0000"><b>then begin
      while </b></font>KeyPressed <font color="#FF0000"><b>do </b></font>ReadKey<font color="#000080">;
      </font>DrawMap<font color="#000080">(</font>Map<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>Sprout<font color="#000080">;
  </font><font color="#FF0000"><b>until </b></font>NoSeeds<font color="#000080">;
  </font>DrawMap<font color="#000080">(</font>Map<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>Randomize<font color="#000080">;
  </font>TextMode<font color="#000080">(</font>CO80 <font color="#000080">+ </font>Font8x8<font color="#000080">);
  </font>GenerateMap<font color="#000080">(</font>Map<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0145.PAS">Original</a><b>]</b></p></body>
</html>
