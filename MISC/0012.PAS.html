<html>
<head><title> "Yet Another Reboot" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ Subject: How to reboot With TP7.0 ??? }
</i></font><font color="#FF0000"><b>Var
  </b></font>hook <font color="#000080">: </font>Word <font color="#FF0000"><b>Absolute </b></font><font color="#800000">$0040</font><font color="#000080">:</font><font color="#800000">$0072</font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Reboot<font color="#000080">(</font>Cold <font color="#000080">: </font>Boolean<font color="#000080">); </font><font color="#FF0000"><b>Far</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font><font color="#000080">(</font>Cold <font color="#000080">= </font>True<font color="#000080">) </font><font color="#FF0000"><b>then
    </b></font>hook <font color="#000080">:= </font><font color="#800000">$0000
  </font><font color="#FF0000"><b>else
    </b></font>hook <font color="#000080">:= </font><font color="#800000">$1234</font><font color="#000080">;

  </font>ExitProc <font color="#000080">:= </font>ptr<font color="#000080">(</font><font color="#800000">$FFFF</font><font color="#000080">,</font><font color="#800000">$0000</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#008000"><i>{
P.S.  Note that it does not require any Units to compile.  Though
depending on your Implementation, you may need to call HALT to
trip the Exit code (which caUses a reboot).
}

</i></font><font color="#FF0000"><b>Program </b></font>reset<font color="#000080">;
</font><font color="#FF0000"><b>Uses
  </b></font>Dos<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>regs <font color="#000080">: </font>Registers<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>intr<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">,</font>regs<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#008000"><i>{ Yeah but it is easier to do it in Inline Asm
eg:
}
</i></font><font color="#FF0000"><b>Program </b></font>reset<font color="#000080">;
</font><font color="#FF0000"><b>begin
  Asm
    </b></font><font color="#FF00FF">INT 19h; </font><font color="#008000"><i>{19h = 25 decimal}
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#008000"><i>{
One Word about this interupt is that it is the fastest reboot
I know of but some memory managers, eg QEMM 6.03 don't like it,
It will seriously hang Windows if called from a Dos Shell,
Microsoft Mouse Driver 8.20 doesn't seem to like being run
after you call int 19h and it was resident.
Other than that it works like a gem!
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p></body>
</html>
