<html>
<head><title> "Space Lords 7 Video Game - Great Graphic" by SCOTT TUNSTALL</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0189.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
SPACE LORDS 7 - VGA PC VERSION.
(C) 1995 Scott Tunstall &amp; K. Sillett (BBC Maestro)

3 PLAYER ACTION !!!

Apologies for the swearing in some of my posts Gayle. To make up
for it, I've given ya a QUALITY video game. Seriously!
It certainly looks smart... don't ask me where I got the graphics
from tho' - some folk may complain! ;)

BEFORE YOU RUN THIS PLEASE USE THE XX3402 DECODER ON PART 2 OF
THE SPACE LORDS POST TO CREATE THE FILE IMAGES.ZIP. THEN UNZIP
THE IMAGES FILE INTO WHERE YOUR SPACE LORDS GAME EXECUTABLE FILE
(LORDS.EXE) WILL BE.

THEN, RUN THE EXE AND HAVE FUN! :)

New game requirements:
----------------------
500K of base memory
MCGA/VGA graphics adaptor supporting 320 x 200 x 256 mode
386 SX 25 processor (at worst) - will run VERY SLOWLY ON THIS MACHINE
(Ok on a 486 DX-2)

(Of course, if you are Dave &quot;Stallion Man&quot; Norrie you can use a
8Mb RAM Pentium f***ing 90 - lucky c***!! I'll put one over him
and buy an IBMRISC 400Mhz baby! (No games for it tho' - I'll change
that !)


Most importantly a 101 key keyboard is essential.


PLAYER #     UP      ROTATE LEFT    ROTATE RIGHT     FIRE
-----------------------------------------------------------------
1            '1'     'A'            'X'              'LEFT SHIFT'
2            'O'     ';'            '@'              '&gt;'
3            'Home'  'Keypad 9'     'Keypad -'       'Keypad 3'
4            JOYSTICK 1      (Not implemented)
5            JOYSTICK 2      (Not implemented)

6..100 require to be LapLinked (Aye right then)

}




{$DEFINE FULLDISPLAY}   { &lt;-- $UNDEF if using a slow 386 }
{$DEFINE BUMPING}       { &lt;-- Player to player bumping }
{$DEFINE BONUSES}       { &lt;-- Want Any bonuses on screen }
{$DEFINE MESSAGES}      { &lt;-- This may be silly of you to $UNDEF. }


{$a+,b-,s-,e+,n+,r-,v-,g+}


</i></font><font color="#FF0000"><b>Program </b></font>SPACE_LORDS_7<font color="#000080">;   </font><font color="#008000"><i>{ 7 editions already - GULP! }

</i></font><font color="#FF0000"><b>Uses </b></font>Dos<font color="#000080">,</font>NEWGRAPH<font color="#000080">, </font>NwKBDInt<font color="#000080">, </font>Crt<font color="#000080">;

     </font><font color="#008000"><i>{NEWGRAPH is in JUNE 1996 EDITION OF THE SWAG }
     {AS IS NEWKBDINT - KEYBOARD HANDLER }



</i></font><font color="#FF0000"><b>Const </b></font>TopBoundary <font color="#000080">= -</font><font color="#800000">8</font><font color="#000080">;          </font><font color="#008000"><i>{ Top of window }
      </i></font>BottomBoundary <font color="#000080">= </font><font color="#800000">204</font><font color="#000080">;
      </font>LeftBoundary <font color="#000080">= -</font><font color="#800000">4</font><font color="#000080">;
      </font>RightBoundary <font color="#000080">= </font><font color="#800000">323</font><font color="#000080">;


      </font>MaxPlayers <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">;           </font><font color="#008000"><i>{ Max no of players on screen at once }

{$IFDEF BONUSES}
      </i></font>MaxBonuses <font color="#000080">= </font><font color="#800000">6</font><font color="#000080">;           </font><font color="#008000"><i>{ Max no of bonuses on screen at once }
{$ENDIF}

      </i></font>MaxAliens <font color="#000080">= </font><font color="#800000">10</font><font color="#000080">;           </font><font color="#008000"><i>{ Getting busy on the screen ! }
      </i></font>MaxStars  <font color="#000080">= </font><font color="#800000">20</font><font color="#000080">;           </font><font color="#008000"><i>{ Number of parallax stars }


      </i></font>MaxExplodeWidth <font color="#000080">= </font><font color="#800000">200</font><font color="#000080">;    </font><font color="#008000"><i>{ And how far the explosion circles go }
      </i></font>ShipTurnAngle <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;        </font><font color="#008000"><i>{ Degrees that ships turn in }
      </i></font>PointsForBumping <font color="#000080">= </font><font color="#800000">500</font><font color="#000080">;   </font><font color="#008000"><i>{ Guess what these are ? }
      </i></font>PointsForShooting <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;
      </font>DeductionForShooting <font color="#000080">= </font><font color="#800000">10</font><font color="#000080">;


      </font><font color="#008000"><i>{
      BIT FLAGS - LEAVE ALONE
      }

      </i></font>Dead <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;                    </font><font color="#008000"><i>{ Playerstatus defines }
      </i></font>ShootAble <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;               </font><font color="#008000"><i>{ This MUST stay at 1 - V. Important }
      </i></font>Warping <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;                 </font><font color="#008000"><i>{ This MUST stay at 2 ! }
      </i></font>Exploding <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;               </font><font color="#008000"><i>{ This MUST stay at 4 ! }
      </i></font>Spinning <font color="#000080">= </font><font color="#800000">8</font><font color="#000080">;                </font><font color="#008000"><i>{ This MUST stay at 8 ! }
      </i></font>Frozen <font color="#000080">= </font><font color="#800000">16</font><font color="#000080">;

      </font><font color="#008000"><i>{
      Player Speed stuff
      }

      </i></font>MaxPlayerSpeed <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;          </font><font color="#008000"><i>{ This is the MAXIMUM number of
                                   pixels that a player ship jumps
                                   in 1 pass. Pretty fast man }
      </i></font>SlowestPlayerSpeed <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;      </font><font color="#008000"><i>{ The least number of pixel
                                   jumps }









      {
      Laser stuff - Alter MaxLasers if you like, leave the rest
      }

      </i></font>MaxLasers <font color="#000080">= (</font>MaxPlayers <font color="#000080">* </font><font color="#800000">10</font><font color="#000080">)+</font><font color="#800000">10</font><font color="#000080">;  </font><font color="#008000"><i>{ How many lasers allocated }
      </i></font>MaxPlayerLasers <font color="#000080">= </font><font color="#800000">10</font><font color="#000080">;              </font><font color="#008000"><i>{ How many each player has }
      </i></font>MaxLaserPower <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;

      </font>NumLaserTypes <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">;           </font><font color="#008000"><i>{ The current # of laser types }
      </i></font>LaserFree <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
      </font>NormalLaser <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;             </font><font color="#008000"><i>{ Lasers stop at edge of screen }
      </i></font>LaserWraps <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;              </font><font color="#008000"><i>{ Lasers can go off one side &amp;
                                   reappear on the other }
      </i></font>LaserRebound <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">;            </font><font color="#008000"><i>{ Makes lasers bounce off wall }

      </i></font>PlayerLaserSize <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;
      </font>AlienLaserSize <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;








      </font><font color="#008000"><i>{
      Bonus stuff - don't change the values of the constants
      otherwise some strange effects will occur, OK? If you want
      to add some more stuff you'll have to update BonusString
      too..
      }

{$IFDEF BONUSES}

      </i></font>NumberOfBonuses <font color="#000080">= </font><font color="#800000">13</font><font color="#000080">;


</font><font color="#008000"><i>{     BONUS NAME                POINTS FOR COLLECTING IT
      ----------                ------------------------
}

      </i></font>SlowDownBonus <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;        </font>SlowDownBonusPointsValue <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;
      </font>EnergyBonus <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;          </font>EnergyBonusPointsValue <font color="#000080">= </font><font color="#800000">200</font><font color="#000080">;
      </font>FreezeBonus <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">;          </font>FreezeBonusPointsValue <font color="#000080">= </font><font color="#800000">300</font><font color="#000080">;
      </font>ReverseBonus <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;         </font>ReverseBonusPointsValue <font color="#000080">= </font><font color="#800000">400</font><font color="#000080">;
      </font>DisableBonus <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;         </font>DisableBonusPointsValue <font color="#000080">= </font><font color="#800000">500</font><font color="#000080">;
      </font>InvulnerabilityBonus <font color="#000080">= </font><font color="#800000">6</font><font color="#000080">; </font>InvulnerabilityBonusPointsValue <font color="#000080">= </font><font color="#800000">600</font><font color="#000080">;
      </font>AssFiringBonus <font color="#000080">= </font><font color="#800000">7</font><font color="#000080">;      </font>AssFiringBonusPointsValue <font color="#000080">= </font><font color="#800000">700</font><font color="#000080">;
      </font>NormalBonus <font color="#000080">= </font><font color="#800000">8</font><font color="#000080">;          </font>NormalBonusPointsValue <font color="#000080">= </font><font color="#800000">50</font><font color="#000080">;
      </font>ToodysBonus <font color="#000080">= </font><font color="#800000">9</font><font color="#000080">;          </font>ToodysBonusPointsValue <font color="#000080">= </font><font color="#800000">2000</font><font color="#000080">;
      </font>LaserBonus <font color="#000080">= </font><font color="#800000">10</font><font color="#000080">;          </font>LaserBonusPointsValue <font color="#000080">= </font><font color="#800000">200</font><font color="#000080">;
      </font>WarpBonus <font color="#000080">=  </font><font color="#800000">11</font><font color="#000080">;          </font>WarpBonusPointsValue <font color="#000080">= </font><font color="#800000">1000</font><font color="#000080">;
      </font>BounceLaserBonus <font color="#000080">= </font><font color="#800000">12</font><font color="#000080">;    </font>BounceLaserBonusPointsValue <font color="#000080">= </font><font color="#800000">200</font><font color="#000080">;

      </font>UnknownBonus <font color="#000080">= </font><font color="#800000">13</font><font color="#000080">;


</font><font color="#008000"><i>{$ENDIF}
      </i></font>MaxInvulnerableTime <font color="#000080">= </font><font color="#800000">200</font><font color="#000080">;

</font><font color="#008000"><i>{$IFDEF BONUSES}
      </i></font>MaxFrozenTime <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;
      </font>MaxFireHaltTime <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;
      </font>MaxKeyReverseTime <font color="#000080">= </font><font color="#800000">200</font><font color="#000080">;
      </font>MaxSlowedDownTime <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;
      </font>MaxBanzaiTime <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;
      </font>MaxDisableTime <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;

</font><font color="#008000"><i>{$ENDIF}

      </i></font>EnergyIncrement <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;
      </font>SlowDownIncrement <font color="#000080">= </font><font color="#800000">10</font><font color="#000080">;
      </font>NormalMessageTime <font color="#000080">= </font><font color="#800000">80</font><font color="#000080">;

      </font>PacDelayConst <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;


</font><font color="#008000"><i>{
And now to define ALL aspects of a player's ship
}

</i></font><font color="#FF0000"><b>Type </b></font>PlayerStruct <font color="#000080">= </font><font color="#FF0000"><b>Record

     </b></font>PlayerStatus<font color="#000080">: </font>byte<font color="#000080">;           </font><font color="#008000"><i>{ 0 = Dead, 1 = ShootAble, 2= Exploding,
                                   4 = Spinning, 8 = Frozen }
     </i></font>FrozenTime<font color="#000080">: </font>word<font color="#000080">;

     </font>ExplodeWidth<font color="#000080">:</font>byte<font color="#000080">;

     </font>PlayerColour<font color="#000080">: </font>byte<font color="#000080">;

     </font>PlayerAngle<font color="#000080">: </font>integer<font color="#000080">;
     </font>SpinAngle<font color="#000080">: </font>integer<font color="#000080">;

     </font>SpinSpeed<font color="#000080">: </font>byte<font color="#000080">;
     </font>SpinCount<font color="#000080">: </font>byte<font color="#000080">;


     </font>PlayerX<font color="#000080">: </font>integer<font color="#000080">;

     </font>PlayerY<font color="#000080">: </font>integer<font color="#000080">;

     </font>PlayerWraps <font color="#000080">: </font>boolean<font color="#000080">;

     </font>PlayerMessage<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">38</font><font color="#000080">];
     </font>MessageTime<font color="#000080">: </font>byte<font color="#000080">;

     </font>BanzaiTime<font color="#000080">: </font>word<font color="#000080">;

     </font><font color="#008000"><i>{
     Speed stuff
     }

     </i></font>PlayerSpeed<font color="#000080">: </font>byte<font color="#000080">;            </font><font color="#008000"><i>{ Exceed 3 and ship movement is
                                      quite jerky. }
     </i></font>NormalPlayerSpeed<font color="#000080">: </font>byte<font color="#000080">;
     </font>SlowedDownTime<font color="#000080">: </font>word<font color="#000080">;
     </font>PlayerWait<font color="#000080">: </font>byte<font color="#000080">;
     </font>WaitCount<font color="#000080">: </font>byte<font color="#000080">;
     </font>MaxWaitCount<font color="#000080">: </font>byte<font color="#000080">;

     </font>Thrusting<font color="#000080">: </font>boolean<font color="#000080">;


     </font>PlayerEnergy<font color="#000080">: </font>integer<font color="#000080">;
     </font>MaxPlayerEnergy<font color="#000080">: </font>integer<font color="#000080">;
     </font>RechargeTime<font color="#000080">: </font>byte<font color="#000080">;
     </font>RechargeLatch<font color="#000080">: </font>byte<font color="#000080">;
     </font>RechargeDeduction<font color="#000080">: </font>byte<font color="#000080">;

     </font>KeyReverseTime<font color="#000080">: </font>byte<font color="#000080">;

     </font>AutoFire<font color="#000080">: </font>boolean<font color="#000080">;

     </font>DisableTime<font color="#000080">: </font>byte<font color="#000080">;

     </font>AssFiring <font color="#000080">: </font>boolean<font color="#000080">;

     </font>FireKeyReleased<font color="#000080">: </font>boolean<font color="#000080">;
     </font>FireDelay<font color="#000080">:</font>byte<font color="#000080">;
     </font>FireLatch<font color="#000080">:</font>byte<font color="#000080">;


     </font>LaserDeduction<font color="#000080">: </font>byte<font color="#000080">;


     </font>CurrentLaserType<font color="#000080">: </font>byte<font color="#000080">;
     </font>CurrentLaserPower<font color="#000080">: </font>byte<font color="#000080">;
     </font>CurrentLaserSpeed<font color="#000080">: </font>byte<font color="#000080">;
     </font>CurrentMaxLaserTravel<font color="#000080">: </font>byte<font color="#000080">;

     </font>LaserHurts<font color="#000080">: </font>boolean<font color="#000080">;
     </font>EnemyLaserHurts<font color="#000080">: </font>boolean<font color="#000080">;
     </font>Invulnerable<font color="#000080">: </font>boolean<font color="#000080">;
     </font>InvulnerableTime<font color="#000080">: </font>word<font color="#000080">;

     </font>PlayerScore<font color="#000080">: </font>LongInt<font color="#000080">;

</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Type </b></font>Laser <font color="#000080">= </font><font color="#FF0000"><b>Record
     </b></font>LaserType<font color="#000080">: </font>byte<font color="#000080">;
     </font>FiredBy<font color="#000080">: </font>byte<font color="#000080">;
     </font>LaserAngle<font color="#000080">: </font>integer<font color="#000080">;
     </font>LaserX<font color="#000080">: </font>integer<font color="#000080">;
     </font>LaserY<font color="#000080">: </font>integer<font color="#000080">;
     </font>LaserColour<font color="#000080">: </font>byte<font color="#000080">;
     </font>LaserSize<font color="#000080">: </font>byte<font color="#000080">;
     </font>LaserSpeed<font color="#000080">: </font>byte<font color="#000080">;

     </font>LaserTravel<font color="#000080">: </font>byte<font color="#000080">;
     </font>MaxLaserTravel<font color="#000080">: </font>byte<font color="#000080">;
     </font>LaserPower<font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#008000"><i>{$IFDEF BONUSES}

{
Yeah! Some Pick - Ups for the players!
}


</i></font><font color="#FF0000"><b>Type </b></font>Bonus <font color="#000080">= </font><font color="#FF0000"><b>Record
     </b></font>BonusType<font color="#000080">: </font>byte<font color="#000080">;
     </font>BonusX<font color="#000080">: </font>integer<font color="#000080">;                </font><font color="#008000"><i>{ Position on screen }
     </i></font>BonusY<font color="#000080">: </font>integer<font color="#000080">;
     </font>BonusXIncrement<font color="#000080">: </font>integer<font color="#000080">;
     </font>BonusYIncrement<font color="#000080">: </font>integer<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;



</font><font color="#FF0000"><b>Type </b></font>BonusArray <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxBonuses<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Bonus<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}


</i></font><font color="#FF0000"><b>Type </b></font>PlayerArray <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxPlayers<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>PlayerStruct<font color="#000080">;
</font><font color="#FF0000"><b>Type </b></font>LaserArray <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxLasers<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Laser<font color="#000080">;

</font><font color="#FF0000"><b>Var

    </b></font>PlayerRec<font color="#000080">: </font>PlayerArray<font color="#000080">;
    </font>LaserRec<font color="#000080">: </font>LaserArray<font color="#000080">;
    </font>TempLaser<font color="#000080">: </font>Laser<font color="#000080">;

</font><font color="#008000"><i>{$IFDEF BONUSES}
    </i></font>BonusRec<font color="#000080">: </font>BonusArray<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}


    </i></font>OldKbdInt<font color="#000080">: </font><font color="#FF0000"><b>procedure</b></font><font color="#000080">;

    </font>PlanetSeg<font color="#000080">,</font>PlanetOfs<font color="#000080">: </font>word<font color="#000080">;
    </font>titleBitmapSeg<font color="#000080">,</font>titleBitmapOfs<font color="#000080">: </font>word<font color="#000080">;
    </font>EmporerSeg<font color="#000080">,</font>EmporerOfs<font color="#000080">: </font>word<font color="#000080">;
    </font>ScratchSeg<font color="#000080">,</font>ScratchOfs<font color="#000080">: </font>word<font color="#000080">;

    </font>FontSegment<font color="#000080">, </font>FontOffset<font color="#000080">: </font>word<font color="#000080">;
    </font>FontHeight<font color="#000080">: </font>byte<font color="#000080">;

    </font>PacPointer<font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Pointer<font color="#000080">;
    </font>AlienPointer<font color="#000080">: </font>Pointer<font color="#000080">;
    </font>AlienShapeSize<font color="#000080">: </font>word<font color="#000080">;

    </font>DestroyerPalette<font color="#000080">: </font>PaletteType<font color="#000080">;
    </font>titleBitmapPalette<font color="#000080">: </font>PaletteType<font color="#000080">;
    </font>EmporerPalette<font color="#000080">: </font>PaletteType<font color="#000080">;


    </font>TempKey<font color="#000080">: </font>char<font color="#000080">;

    </font>ColourTable<font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxPlayers<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
    </font>QCos<font color="#000080">, </font>QSin <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">359</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>real<font color="#000080">;

    </font>PlayersOn<font color="#000080">: </font>byte<font color="#000080">;
    </font>PlayersAlive<font color="#000080">: </font>byte<font color="#000080">;                         </font><font color="#008000"><i>{ How many players are
                                                  left on the screen -
                                                  initially, PlayersAlive
                                                  equals PlayersOn but
                                                  as people are killed it
                                                  decrements }
    </i></font>LasersFired<font color="#000080">: </font>byte<font color="#000080">;
    </font>LastLaserIndex<font color="#000080">: </font>byte<font color="#000080">;
    </font>AlienCount<font color="#000080">: </font>byte<font color="#000080">;



</font><font color="#008000"><i>{$IFDEF BONUSES}
    </i></font>BonusesOnScreen<font color="#000080">: </font>byte<font color="#000080">;
    </font>BonusString<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font>NumberOfBonuses<font color="#000080">];

</font><font color="#008000"><i>{$ENDIF}

    </i></font><font color="#FF0000"><b>Message</b></font><font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">40</font><font color="#000080">];


</font><font color="#FF0000"><b>Procedure </b></font>Warp<font color="#000080">(</font>PlayerNo<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#FF0000"><b>Forward</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Procedure </b></font>LoadGraphics<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Count<font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>TextMode<font color="#000080">(</font>CO80<font color="#000080">);
     </font>TextBackGround<font color="#000080">(</font>Black<font color="#000080">);
     </font>ClrScr<font color="#000080">;

     </font>TextBackGround<font color="#000080">(</font>Red<font color="#000080">);
     </font><font color="#FF0000"><b>For </b></font>Count<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">79 </font><font color="#FF0000"><b>do </b></font>Write<font color="#000080">(</font>Chr<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">));

     </font>TextColor<font color="#000080">(</font>White<font color="#000080">);
     </font>Gotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'SPACE LORDS 7.1.2.3.5.2.9.&laquo;  (C) 1994,5 Scott Tunstall.  Lauder College Version'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font>Writeln<font color="#000080">;
     </font>TextBackGround<font color="#000080">(</font>Black<font color="#000080">);
     </font>TextColor<font color="#000080">(</font>LightGray<font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'Beginning LORDS_INIT Refresh daemon.. OK.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font><font color="#FF0000"><b>For </b></font>Count<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">79 </font><font color="#FF0000"><b>do </b></font>write<font color="#000080">(</font><font color="#800000">'='</font><font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'THIS VERSION IS PUBLIC DOMAIN AND MAY BE SWAPPED AND COPIED FREELY'</font><font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'YOU MAY NOT DISASSEMBLE, REPLICATE OR ALTER THE PROGRAM CODE IN ANY'</font><font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'WAY UNLESS YOU CONTACT THE AUTHOR.'</font><font color="#000080">);
     </font><font color="#FF0000"><b>For </b></font>Count<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">79 </font><font color="#FF0000"><b>do </b></font>write<font color="#000080">(</font><font color="#800000">'='</font><font color="#000080">);

     </font>Writeln<font color="#000080">(</font><font color="#800000">'Please wait.. Loading in PCX files from hard disk..'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;

     </font>Bitmap<font color="#000080">(</font>PlanetSeg<font color="#000080">, </font>PlanetOfs<font color="#000080">);
     </font>Bitmap<font color="#000080">(</font>titleBitmapSeg<font color="#000080">, </font>titleBitmapOfs<font color="#000080">);
     </font>Bitmap<font color="#000080">(</font>EmporerSeg<font color="#000080">, </font>EmporerOfs<font color="#000080">);
     </font>Bitmap<font color="#000080">(</font>ScratchSeg<font color="#000080">, </font>ScratchOfs<font color="#000080">);


     </font>Write<font color="#000080">(</font><font color="#800000">'DESTROYR.PCX .. '</font><font color="#000080">);

     </font>SetSourceBitmapAddr<font color="#000080">(</font>PlanetSeg<font color="#000080">, </font>PlanetOfs<font color="#000080">);
     </font>LoadPCX<font color="#000080">(</font><font color="#800000">'DESTROYR.PCX'</font><font color="#000080">,</font>DestroyerPalette<font color="#000080">);

     </font>Writeln<font color="#000080">(</font><font color="#800000">'loaded.'</font><font color="#000080">); </font>Write<font color="#000080">(</font><font color="#800000">'BACK.PCX .. '</font><font color="#000080">);

     </font>SetSourceBitmapAddr<font color="#000080">(</font>titleBitmapSeg<font color="#000080">, </font>titleBitmapOfs<font color="#000080">);
     </font>LoadPCX<font color="#000080">(</font><font color="#800000">'BACK.PCX'</font><font color="#000080">,</font>titleBitmapPalette<font color="#000080">);

     </font>Writeln<font color="#000080">(</font><font color="#800000">'loaded.'</font><font color="#000080">); </font>Write<font color="#000080">(</font><font color="#800000">'EMPORER.PCX .. '</font><font color="#000080">);

     </font>SetSourceBitmapAddr<font color="#000080">(</font>EmporerSeg<font color="#000080">, </font>EmporerOfs<font color="#000080">);
     </font>LoadPCX<font color="#000080">(</font><font color="#800000">'EMPORER.PCX'</font><font color="#000080">,</font>EmporerPalette<font color="#000080">);

     </font>Writeln<font color="#000080">(</font><font color="#800000">'loaded.'</font><font color="#000080">);


</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{
Sorry I had to get rid of the Pascal but I was pissed off
with it's slothfulness !
}


</i></font><font color="#FF0000"><b>Procedure </b></font>BitMapCopy<font color="#000080">(</font>TheSegment<font color="#000080">, </font>TheOffset<font color="#000080">:</font>word<font color="#000080">);
</font><font color="#FF0000"><b>Begin
     Asm
     </b></font><font color="#FF00FF">MOV AX,DS
     MOV ES,ScratchSeg
     MOV DI,ScratchOfs
     MOV SI,TheOffset
     MOV DS,TheSegment

     MOV CX,16000
     REPZ
     DB $66
     MOVSW
     MOV DS,AX
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font>SetSourceBitmapAddr<font color="#000080">(</font>ScratchSeg<font color="#000080">,</font>ScratchOfs<font color="#000080">);
     </font>SetDestinationBitmapAddr<font color="#000080">(</font><font color="#800000">$a000</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{========================================================

This routine could possibly be slowing the system down
quite a lot as it calls the video interrupt which as most
codies know is as slow as a snail on mogadon. Hmm.

I will update this in 1998 when I've got me postgraduate
but right now you'll have to make do with this s**t OK?
}


</i></font><font color="#FF0000"><b>Procedure </b></font>SelectFont<font color="#000080">(</font>FontNo<font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>TempWidth<font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>UseFont<font color="#000080">(</font>FontNo<font color="#000080">);
     </font>GetCurrentFontAddr<font color="#000080">(</font>FontSegment<font color="#000080">,</font>FontOffset<font color="#000080">);
     </font>GetCurrentFontSize<font color="#000080">(</font>TempWidth<font color="#000080">,</font>FontHeight<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#008000"><i>{====================

Display coloured text

}


</i></font><font color="#FF0000"><b>Procedure </b></font>TextXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>integer<font color="#000080">;</font>txt<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#FF0000"><b>Begin
     </b></font>SetColour<font color="#000080">(</font><font color="#800000">254</font><font color="#000080">);
     </font>OutTextXY<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>txt<font color="#000080">);
     </font>SetColour<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">);
     </font>OutTextXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>txt<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#008000"><i>{===============================================================

This Bresenham circle routine isn't mine. I nicked it from the
SWAG (the rest of the stuff is 100% mine though) and to be quite
honest I couldn't be bothered converting it to assembler, so if
any gurus out there (like me!) want to then they can convert.

              *** You'd be sad tho' !! ***
}

</i></font><font color="#FF0000"><b>Procedure </b></font>Circle<font color="#000080">(</font>X<font color="#000080">, </font>Y <font color="#000080">: </font>integer<font color="#000080">; </font>Radius<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>Var
   </b></font>Xs<font color="#000080">, </font>Ys    <font color="#000080">: </font>Integer<font color="#000080">;
   </font>Da<font color="#000080">, </font>Db<font color="#000080">, </font>S <font color="#000080">: </font>Integer<font color="#000080">;
   </font>TX<font color="#000080">, </font>TR    <font color="#000080">: </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
     if </b></font><font color="#000080">(</font>Radius <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
          </b></font>Exit<font color="#000080">;

     </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>Radius <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>then
     begin
          </b></font>PutPixel<font color="#000080">(</font>X<font color="#000080">, </font>Y<font color="#000080">, </font>GetColour<font color="#000080">);
          </font>Exit<font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font>Xs <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
     </font>Ys <font color="#000080">:= </font>Radius<font color="#000080">;

     </font><font color="#FF0000"><b>Repeat
           </b></font>TX<font color="#000080">:=</font>Sqr<font color="#000080">(</font>Xs<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
           </font>TR<font color="#000080">:=</font>Sqr<font color="#000080">(</font>Radius<font color="#000080">);
           </font>Da <font color="#000080">:= </font>TX <font color="#000080">+ </font>Sqr<font color="#000080">(</font>Ys<font color="#000080">) - </font>TR<font color="#000080">;
           </font>Db <font color="#000080">:= </font>TX <font color="#000080">+ </font>Sqr<font color="#000080">(</font>Ys <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) - </font>TR<font color="#000080">;
           </font>S  <font color="#000080">:= </font>Da <font color="#000080">+ </font>Db<font color="#000080">;

           </font>Inc<font color="#000080">(</font>Xs<font color="#000080">);
           </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>S <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>Dec<font color="#000080">(</font>Ys<font color="#000080">);

           </font>PutPixel<font color="#000080">(</font>X<font color="#000080">+</font>Xs<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>Y<font color="#000080">-</font>Ys<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>GetColour<font color="#000080">);
           </font>PutPixel<font color="#000080">(</font>X<font color="#000080">-</font>Xs<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>Y<font color="#000080">-</font>Ys<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>GetColour<font color="#000080">);
           </font>PutPixel<font color="#000080">(</font>X<font color="#000080">+</font>Ys<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>Y<font color="#000080">-</font>Xs<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>GetColour<font color="#000080">);
           </font>PutPixel<font color="#000080">(</font>X<font color="#000080">-</font>Ys<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>Y<font color="#000080">-</font>Xs<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>GetColour<font color="#000080">);
           </font>PutPixel<font color="#000080">(</font>X<font color="#000080">+</font>Xs<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>Y<font color="#000080">+</font>Ys<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>GetColour<font color="#000080">);
           </font>PutPixel<font color="#000080">(</font>X<font color="#000080">-</font>Xs<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>Y<font color="#000080">+</font>Ys<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>GetColour<font color="#000080">);
           </font>PutPixel<font color="#000080">(</font>X<font color="#000080">+</font>Ys<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>Y<font color="#000080">+</font>Xs<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>GetColour<font color="#000080">);
           </font>PutPixel<font color="#000080">(</font>X<font color="#000080">-</font>Ys<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>Y<font color="#000080">+</font>Xs<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>GetColour<font color="#000080">);
     </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>Xs <font color="#000080">&gt;= </font>Ys<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>InitPlayers<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>count<font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     For </b></font>count<font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxPlayers <font color="#FF0000"><b>do
         With </b></font>PlayerRec<font color="#000080">[</font>count<font color="#000080">] </font><font color="#FF0000"><b>do
              Begin
              </b></font>Warp<font color="#000080">(</font>Count<font color="#000080">);

              </font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'Player '</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">48</font><font color="#000080">+</font>Count<font color="#000080">)+</font><font color="#800000">' ready !'</font><font color="#000080">;
              </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;

              </font>ExplodeWidth<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
              </font>PlayerColour<font color="#000080">:=</font>ColourTable<font color="#000080">[</font>Count<font color="#000080">];

              </font>PlayerWraps<font color="#000080">:=</font>True<font color="#000080">;

              </font>PlayerSpeed<font color="#000080">:=</font><font color="#800000">4</font><font color="#000080">;
              </font>NormalPlayerSpeed<font color="#000080">:=</font>PlayerSpeed<font color="#000080">;

              </font>SlowedDownTime<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
              </font>PlayerWait<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;

              </font>WaitCount<font color="#000080">:=</font><font color="#800000">15</font><font color="#000080">;
              </font>MaxWaitCount<font color="#000080">:=</font>WaitCount<font color="#000080">;

              </font>Thrusting<font color="#000080">:=</font>False<font color="#000080">;

              </font>InvulnerableTime<font color="#000080">:=</font>MaxInvulnerableTime<font color="#000080">; </font><font color="#008000"><i>{ So if you warp into Paccy you
                                                       can still get away }
              </i></font>BanzaiTime<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;

              </font>PlayerEnergy<font color="#000080">:=</font><font color="#800000">20</font><font color="#000080">;
              </font>MaxPlayerEnergy<font color="#000080">:=</font>PlayerEnergy<font color="#000080">;
              </font>RechargeTime<font color="#000080">:=</font><font color="#800000">40</font><font color="#000080">;
              </font>RechargeLatch<font color="#000080">:=</font>RechargeTime<font color="#000080">;
              </font>RechargeDeduction<font color="#000080">:=</font><font color="#800000">10</font><font color="#000080">;

              </font>KeyReverseTime<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;

              </font>AssFiring<font color="#000080">:=</font>False<font color="#000080">;
              </font>DisableTime<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;

              </font>AutoFire<font color="#000080">:=</font>True<font color="#000080">;
              </font>FireKeyReleased<font color="#000080">:=</font>true<font color="#000080">;
              </font>FireDelay<font color="#000080">:=</font><font color="#800000">3</font><font color="#000080">;
              </font>FireLatch<font color="#000080">:=</font>FireDelay<font color="#000080">;

              </font>CurrentLaserType<font color="#000080">:=</font>NormalLaser<font color="#000080">;
              </font>CurrentLaserPower<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
              </font>CurrentLaserSpeed<font color="#000080">:=</font><font color="#800000">8</font><font color="#000080">;
              </font>CurrentMaxLaserTravel<font color="#000080">:=</font><font color="#800000">80</font><font color="#000080">;

              </font>LaserDeduction<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;

              </font>LaserHurts<font color="#000080">:=</font>False<font color="#000080">;
              </font>EnemyLaserHurts<font color="#000080">:=</font>True<font color="#000080">;

              </font>PlayerScore<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#008000"><i>{
Flush laser array
}

</i></font><font color="#FF0000"><b>Procedure </b></font>InitLasers<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Count<font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>LasersFired<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
     </font>LastLaserIndex<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>For </b></font>Count<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxLasers <font color="#FF0000"><b>do
     With </b></font>LaserRec<font color="#000080">[</font>Count<font color="#000080">] </font><font color="#FF0000"><b>do
         </b></font>LaserType<font color="#000080">:=</font>LaserFree<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$IFDEF BONUSES}
</i></font><font color="#FF0000"><b>Procedure </b></font>InitBonuses<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Count<font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>BonusesOnScreen<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
     </font>BonusString<font color="#000080">:=</font><font color="#800000">'SEFRDIANTLWB?'</font><font color="#000080">;      </font><font color="#008000"><i>{ Not explaining what this is for }

     </i></font><font color="#FF0000"><b>For </b></font>Count<font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxBonuses <font color="#FF0000"><b>do
         With </b></font>BonusRec<font color="#000080">[</font>Count<font color="#000080">] </font><font color="#FF0000"><b>do
         Begin
              </b></font>BonusType<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}

</i></font><font color="#FF0000"><b>Procedure </b></font>SetUpPlayers<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>Count<font color="#000080">: </font>word<font color="#000080">;
    </font>keyhit<font color="#000080">: </font>char<font color="#000080">;
    </font>PromptLatch<font color="#000080">: </font>byte<font color="#000080">;
    </font>PromptTime<font color="#000080">: </font>byte<font color="#000080">;
    </font>TextRefreshCount<font color="#000080">: </font>byte<font color="#000080">;

</font><font color="#FF0000"><b>Begin
     For </b></font>Count<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">359 </font><font color="#FF0000"><b>do
         Begin
         </b></font>QCos<font color="#000080">[</font>Count<font color="#000080">]:=</font>Cos<font color="#000080">(</font>Count <font color="#000080">* (</font>PI<font color="#000080">/</font><font color="#800000">180</font><font color="#000080">));
         </font>QSin<font color="#000080">[</font>Count<font color="#000080">]:=</font>Sin<font color="#000080">(</font>Count <font color="#000080">* (</font>PI<font color="#000080">/</font><font color="#800000">180</font><font color="#000080">));
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font><font color="#008000"><i>{ Assign player colours }

     </i></font><font color="#FF0000"><b>For </b></font>Count<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxPlayers <font color="#FF0000"><b>do
         </b></font>ColourTable<font color="#000080">[</font>Count<font color="#000080">]:=</font><font color="#800000">256</font><font color="#000080">-</font>Count<font color="#000080">;

     </font>Randomize<font color="#000080">;

     </font>PlayersOn<font color="#000080">:=</font>MaxPlayers<font color="#000080">;
     </font>PlayersAlive<font color="#000080">:=</font>PlayersOn<font color="#000080">;

     </font>InitPlayers<font color="#000080">;
     </font>InitLasers<font color="#000080">;
</font><font color="#008000"><i>{$IFDEF BONUSES}
     </i></font>InitBonuses<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}


     {
     Now draw the title screen
     }

     </i></font>PromptLatch<font color="#000080">:=</font><font color="#800000">50</font><font color="#000080">;
     </font>PromptTime<font color="#000080">:=</font>PromptLatch<font color="#000080">;
     </font>TextRefreshCount<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;

     </font>SetPalette<font color="#000080">(</font><font color="#800000">254</font><font color="#000080">, </font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
     </font>SetPalette<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">, </font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);

     </font><font color="#FF0000"><b>Repeat
           </b></font>BitMapCopy<font color="#000080">(</font>titleBitmapSeg<font color="#000080">,</font>titleBitmapOfs<font color="#000080">);

           </font>SelectFont<font color="#000080">(</font><font color="#800000">6</font><font color="#000080">);

           </font>TextXY<font color="#000080">(</font><font color="#800000">92</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">'SPACE LORDS 7&laquo;'</font><font color="#000080">);

           </font>SelectFont<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
           </font>TextXY<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">70</font><font color="#000080">, </font><font color="#800000">'PROGRAMMING BY : Scott Tunstall'</font><font color="#000080">);

           </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>TextRefreshCount <font color="#000080">&lt; </font><font color="#800000">4</font><font color="#000080">) </font><font color="#FF0000"><b>Then
              Begin
              </b></font>TextXY<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">96</font><font color="#000080">,  </font><font color="#800000">'VECTOR GFX  BY  : Scott Tunstall'</font><font color="#000080">);
              </font>TextXY<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">112</font><font color="#000080">, </font><font color="#800000">'PAC MAN     BY  : Namco (tm)'</font><font color="#000080">);
              </font>TextXY<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">128</font><font color="#000080">, </font><font color="#800000">'DIRTY WOMEN AT  : MarketGait'</font><font color="#000080">);
              </font><font color="#FF0000"><b>end
           else
              Begin
              </b></font>SelectFont<font color="#000080">(</font>Font8x16<font color="#000080">);
              </font>TextXY<font color="#000080">(</font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">96</font><font color="#000080">,  </font><font color="#800000">'SO RONNY NOW DO YOU BELIEVE'</font><font color="#000080">);
              </font>TextXY<font color="#000080">(</font><font color="#800000">48</font><font color="#000080">,</font><font color="#800000">114</font><font color="#000080">, </font><font color="#800000">'THAT I WROTE THIS PROGRAM ?'</font><font color="#000080">);
              </font>SelectFont<font color="#000080">(</font>Int43Font<font color="#000080">);
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


           </font>Delay<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
           </font>Dec<font color="#000080">(</font>PromptTime<font color="#000080">);
           </font><font color="#FF0000"><b>If </b></font>PromptTime<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
              Begin
              </b></font>PromptTime<font color="#000080">:=</font><font color="#800000">50</font><font color="#000080">;
              </font>Inc<font color="#000080">(</font>TextRefreshCount<font color="#000080">);
              </font><font color="#FF0000"><b>Asm
              </b></font><font color="#FF00FF">AND BYTE PTR TextRefreshCount, $7
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>PromptTime <font color="#000080">&gt; </font><font color="#800000">25</font><font color="#000080">) </font><font color="#FF0000"><b>Then
              Begin
              </b></font>TextXY<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">162</font><font color="#000080">,</font><font color="#800000">'PRESS SPACE TO BEGIN THE GAME !'</font><font color="#000080">);
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font>SelectFont<font color="#000080">(</font>Font8x16<font color="#000080">);
           </font>TextXY<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">180</font><font color="#000080">,</font><font color="#800000">'Program  (C) 1995 Scott Tunstall.'</font><font color="#000080">);


           </font>CopySourceBitmap <font color="#000080">;

           </font><font color="#FF0000"><b>if </b></font>keypressed <font color="#FF0000"><b>then
              </b></font>keyhit<font color="#000080">:=</font>readkey<font color="#000080">;

     </font><font color="#FF0000"><b>Until </b></font>keyhit <font color="#000080">= </font><font color="#800000">' '</font><font color="#000080">;

</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>DrawPlayerStuff<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>PlayerCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>OriginX<font color="#000080">: </font>integer<font color="#000080">;
    </font>OriginY<font color="#000080">: </font>integer<font color="#000080">;
    </font>Angle<font color="#000080">: </font>integer<font color="#000080">;
    </font>LineCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>CircCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>TempString<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">6</font><font color="#000080">];

</font><font color="#FF0000"><b>Begin
     </b></font>UseFont<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
     </font><font color="#FF0000"><b>For </b></font>PlayerCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
         With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
              Begin

              </b></font>Str<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>TempString<font color="#000080">);
              </font>SetColour<font color="#000080">(</font>PlayerColour<font color="#000080">);
              </font>OutTextXY<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">192</font><font color="#000080">- </font>PlayerCount <font color="#FF0000"><b>SHL </b></font><font color="#800000">3</font><font color="#000080">,</font>TempString<font color="#000080">);

              </font><font color="#FF0000"><b>If </b></font>MessageTime <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
                 Begin
                 </b></font>Dec<font color="#000080">(</font>MessageTime<font color="#000080">);

</font><font color="#008000"><i>{$IFDEF FULLDISPLAY}
                 </i></font>TextXY<font color="#000080">(</font><font color="#800000">56</font><font color="#000080">,</font><font color="#800000">192</font><font color="#000080">-</font>PlayerCount <font color="#FF0000"><b>SHL </b></font><font color="#800000">3</font><font color="#000080">,</font>PlayerMessage<font color="#000080">);
                 </font>SetColour<font color="#000080">(</font>PlayerColour<font color="#000080">);
</font><font color="#008000"><i>{$ELSE}
                 </i></font>OutTextXY<font color="#000080">(</font><font color="#800000">56</font><font color="#000080">,</font><font color="#800000">192</font><font color="#000080">-</font>PlayerCount <font color="#FF0000"><b>SHL </b></font><font color="#800000">3</font><font color="#000080">,</font>PlayerMessage<font color="#000080">);
</font><font color="#008000"><i>{$ENDIF}

              </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

              </font><font color="#008000"><i>{
              Time to draw the ship. I am quite pleased that this
              routine is fairly fast.
              }



              </i></font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>PlayerStatus <font color="#FF0000"><b>And </b></font>ShootAble<font color="#000080">)=</font>ShootAble  <font color="#FF0000"><b>Then
                 Begin
                 If </b></font><font color="#000080">(</font>InvulnerableTime <font color="#000080">&gt;</font><font color="#800000">10</font><font color="#000080">) </font><font color="#FF0000"><b>Or
                    </b></font><font color="#000080">(</font>InvulnerableTime <font color="#FF0000"><b>MOD </b></font><font color="#800000">2 </font><font color="#000080">= </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>Then
                    </b></font>Circle<font color="#000080">(</font>PlayerX<font color="#000080">,</font>PlayerY<font color="#000080">,</font><font color="#800000">12</font><font color="#000080">);

                 </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>BanzaiTime <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Or </b></font><font color="#000080">((</font>BanzaiTime <font color="#FF0000"><b>MOD </b></font><font color="#800000">8 </font><font color="#000080">)&gt;</font><font color="#800000">3 </font><font color="#000080">) </font><font color="#FF0000"><b>Then
                    Begin
                    </b></font>Angle<font color="#000080">:=</font>PlayerAngle<font color="#000080">;

                    </font><font color="#008000"><i>{
                    Nose of ship is 8 pixels away from
                    the start area at degree &lt;Angle&gt;
                    }

                    </i></font>OriginX<font color="#000080">:=</font>PlayerX<font color="#000080">+ </font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>Angle<font color="#000080">] * </font><font color="#800000">8</font><font color="#000080">);
                    </font>OriginY<font color="#000080">:=</font>PlayerY<font color="#000080">+ </font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>Angle<font color="#000080">] * </font><font color="#800000">8</font><font color="#000080">);

                    </font>MoveTo<font color="#000080">(</font>OriginX<font color="#000080">,</font>OriginY<font color="#000080">);

                    </font><font color="#FF0000"><b>Asm
                    </b></font><font color="#FF00FF">MOV AX,Angle
                    ADD AX,135
                    CMP AX,360
                    JB @ThisAngleIsOK1
                    SUB AX,360
   @ThisAngleIsOK1:
                    MOV Angle,AX
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                    </font>LineTo<font color="#000080">(</font>PlayerX<font color="#000080">+ </font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>Angle<font color="#000080">] * </font><font color="#800000">8</font><font color="#000080">),
                    </font>PlayerY<font color="#000080">+ </font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>Angle<font color="#000080">] * </font><font color="#800000">8</font><font color="#000080">));
                    ;

                    </font><font color="#FF0000"><b>Asm
                    </b></font><font color="#FF00FF">MOV AX,Angle
                    ADD AX,45
                    CMP AX,360
                    JB @ThisAngleIsOK2
                    SUB AX,360
   @ThisAngleIsOK2:
                    MOV Angle,AX
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                    </font>LineTo<font color="#000080">(</font>PlayerX<font color="#000080">+</font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>Angle<font color="#000080">] * </font><font color="#800000">2</font><font color="#000080">),
                    </font>PlayerY<font color="#000080">+</font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>Angle<font color="#000080">] * </font><font color="#800000">2</font><font color="#000080">));

                    </font><font color="#FF0000"><b>Asm
                    </b></font><font color="#FF00FF">MOV AX,Angle
                    ADD AX,45
                    CMP AX,360
                    JB @ThisAngleIsOK3
                    SUB AX,360
   @ThisAngleIsOK3:
                    MOV Angle,AX
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                    </font>LineTo<font color="#000080">(</font>PlayerX<font color="#000080">+</font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>Angle<font color="#000080">] * </font><font color="#800000">8</font><font color="#000080">),
                    </font>PlayerY<font color="#000080">+</font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>Angle<font color="#000080">] * </font><font color="#800000">8</font><font color="#000080">));

                    </font>LineTo<font color="#000080">(</font>OriginX<font color="#000080">,</font>OriginY<font color="#000080">);




   </font><font color="#008000"><i>{$IFDEF FULLDISPLAY}

                    </i></font><font color="#FF0000"><b>If </b></font>Thrusting <font color="#FF0000"><b>And </b></font><font color="#000080">(</font>Random<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">)=</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>Then
                       Begin
                       </b></font>SetColour<font color="#000080">(</font>Random<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">));


                       </font>Angle<font color="#000080">:=</font>PlayerAngle<font color="#000080">;

                       </font><font color="#FF0000"><b>Asm
                       </b></font><font color="#FF00FF">MOV AX,Angle  </font><font color="#008000"><i>{ I've tried the other way ! }
                       </i></font><font color="#FF00FF">ADD AX,150
                       CMP AX,360
                       JB @ThisAngleIsOK4
                       SUB AX,360
   @ThisAngleIsOK4:
                       MOV Angle,AX
                       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                       </font>MoveTo<font color="#000080">(</font>PlayerX<font color="#000080">+</font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>Angle<font color="#000080">]*</font><font color="#800000">5</font><font color="#000080">),
                       </font>PlayerY<font color="#000080">+</font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>Angle<font color="#000080">]*</font><font color="#800000">5</font><font color="#000080">));

                       </font><font color="#FF0000"><b>Asm
                       </b></font><font color="#FF00FF">MOV AX,Angle
                       ADD AX,30
                       CMP AX,360
                       JB @ThisAngleIsOK5
                       SUB AX,360
   @ThisAngleIsOK5:
                       MOV Angle,AX
                       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                       </font>LineTo<font color="#000080">(</font>PlayerX<font color="#000080">+</font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>Angle<font color="#000080">]*</font><font color="#800000">8</font><font color="#000080">),
                       </font>PlayerY<font color="#000080">+</font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>Angle<font color="#000080">]*</font><font color="#800000">8</font><font color="#000080">));

                       </font><font color="#008000"><i>{Inc(Angle,30);

                       If Angle &gt; 360 Then
                          Dec(Angle,360);}

                       </i></font><font color="#FF0000"><b>Asm
                       </b></font><font color="#FF00FF">MOV AX,Angle
                       ADD AX,30
                       CMP AX,360
                       JB @ThisAngleIsOK6
                       SUB AX,360
   @ThisAngleIsOK6:
                       MOV Angle,AX

                       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                       </font>LineTo<font color="#000080">(</font>PlayerX<font color="#000080">+</font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>Angle<font color="#000080">]*</font><font color="#800000">5</font><font color="#000080">),</font>PlayerY<font color="#000080">+</font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>Angle<font color="#000080">]*</font><font color="#800000">5</font><font color="#000080">));

                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

   </font><font color="#008000"><i>{$ENDIF}
                    </i></font>SetColour<font color="#000080">(</font>PlayerColour<font color="#000080">);

                    </font>OriginX<font color="#000080">:=</font>PlayerX<font color="#000080">-</font><font color="#800000">12</font><font color="#000080">;
                    </font>OriginY<font color="#000080">:=</font>PlayerY<font color="#000080">+</font><font color="#800000">12</font><font color="#000080">;

                    </font>Line<font color="#000080">(</font>OriginX<font color="#000080">,</font>OriginY<font color="#000080">,</font>OriginX <font color="#000080">+ </font>PlayerEnergy<font color="#000080">,</font>OriginY<font color="#000080">);
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                 </font><font color="#FF0000"><b>End
              Else
                  If </b></font><font color="#000080">(</font>PlayerStatus <font color="#000080">= </font>Exploding<font color="#000080">) </font><font color="#FF0000"><b>Or </b></font><font color="#000080">(</font>PlayerStatus <font color="#000080">= </font>Warping<font color="#000080">) </font><font color="#FF0000"><b>Then
                     Begin
                     For </b></font>circcount<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">40 </font><font color="#FF0000"><b>do
                         </b></font>PutPixel<font color="#000080">(</font>PlayerX<font color="#000080">+</font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>circcount <font color="#FF0000"><b>SHL </b></font><font color="#800000">3</font><font color="#000080">]*</font>ExplodeWidth<font color="#000080">),
                         </font>PlayerY<font color="#000080">+</font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>circcount <font color="#FF0000"><b>SHL </b></font><font color="#800000">3</font><font color="#000080">]*</font>ExplodeWidth<font color="#000080">),</font>PlayerColour<font color="#000080">);

                  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{
Put the lasers on the screen.
}


</i></font><font color="#FF0000"><b>Procedure </b></font>DrawLasers<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>LaserCount<font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     If </b></font>LasersFired <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
     For </b></font>LaserCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxLasers <font color="#FF0000"><b>do
         If </b></font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">].</font>LaserType <font color="#000080">&lt;&gt; </font>LaserFree <font color="#FF0000"><b>Then
         With </b></font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">] </font><font color="#FF0000"><b>do
         Begin
         </b></font>SetColour<font color="#000080">(</font>LaserColour<font color="#000080">);
         </font>MoveTo<font color="#000080">(</font>LaserX<font color="#000080">,</font>LaserY<font color="#000080">);
         </font>LineRel<font color="#000080">(</font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>LaserAngle<font color="#000080">]*</font>LaserSize<font color="#000080">),
         </font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>LaserAngle<font color="#000080">]*</font>LaserSize<font color="#000080">));
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#008000"><i>{$IFDEF BONUSES}

</i></font><font color="#FF0000"><b>Procedure </b></font>DrawBonuses<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>BonusCount<font color="#000080">: </font>byte<font color="#000080">;

</font><font color="#FF0000"><b>Begin
     </b></font>SetColour<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">);
     </font><font color="#FF0000"><b>If </b></font>BonusesOnScreen <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
        For </b></font>BonusCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxBonuses <font color="#FF0000"><b>do
            With </b></font>BonusRec<font color="#000080">[</font>BonusCount<font color="#000080">] </font><font color="#FF0000"><b>do
            If </b></font>BonusType <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
               Begin
               </b></font>Circle<font color="#000080">(</font>BonusX<font color="#000080">+</font><font color="#800000">4</font><font color="#000080">,</font>BonusY<font color="#000080">+</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">);

</font><font color="#008000"><i>{$IFDEF FULLDISPLAY}
               </i></font>UseFont<font color="#000080">(</font>Font8x14<font color="#000080">);
               </font>TextXY<font color="#000080">(</font>BonusX<font color="#000080">,</font>BonusY<font color="#000080">,</font>BonusString<font color="#000080">[</font>BonusType<font color="#000080">]);
</font><font color="#008000"><i>{$ELSE}
               </i></font>OutTextXY<font color="#000080">(</font>BonusX<font color="#000080">,</font>BonusY<font color="#000080">,</font>BonusString<font color="#000080">[</font>BonusType<font color="#000080">]);
</font><font color="#008000"><i>{$ENDIF}
               </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$ENDIF}

</i></font><font color="#FF0000"><b>Procedure </b></font>CheckBounds<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>XPos<font color="#000080">,</font>YPos<font color="#000080">:</font>integer<font color="#000080">;
                          </font>ObjectWraps<font color="#000080">: </font>boolean<font color="#000080">;
                          </font><font color="#FF0000"><b>Var </b></font>DidWrap<font color="#000080">:</font>boolean<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Asm
   </b></font><font color="#FF00FF">CMP ObjectWraps,1

   JNE @ObjectDoesNotWrap

   MOV SI,RightBoundary
   MOV DI,LeftBoundary
   MOV CX,BottomBoundary
   MOV DX,TopBoundary
   JMP @LetsDoThisshit


@ObjectDoesNotWrap:
   MOV SI,LeftBoundary
   MOV DI,RightBoundary
   MOV CX,TopBoundary
   MOV DX,BottomBoundary

@LetsDoThisshit:
     XOR AL,AL

     LES BX,XPos
     MOV BX,[ES:BX]

     CMP BX,LeftBoundary
     JG @XPosMoreThanLeft

     LES DI,XPos
     MOV [ES:DI],SI

     INC AL
     JMP @NowTestVertical


@XPosMoreThanLeft:
     CMP BX,RightBoundary
     JL @NowTestVertical

     LES SI,Xpos
     MOV [ES:SI],DI

     INC AL




@NowTestVertical:
     LES BX,Ypos
     MOV BX,[ES:BX]

     CMP BX,TopBoundary
     JG @YPosMoreThanTop

     LES DI,Ypos
     MOV [ES:DI],CX
     MOV AL,1
     JMP @Finito

@YPosMoreThanTop:
     CMP BX,BottomBoundary
     JL @Finito

     LES DI,YPos
     MOV [ES:DI],DX

     MOV AL,1

@Finito:
     LES DI,DidWrap
     MOV [ES:DI],AL
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Procedure </b></font>AddLaser<font color="#000080">(</font>LaserToAdd<font color="#000080">: </font>Laser<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>VacantLaserNumber<font color="#000080">: </font>byte<font color="#000080">;
    </font>LaserCount<font color="#000080">: </font>byte<font color="#000080">;

</font><font color="#FF0000"><b>Begin
     If </b></font>LaserRec<font color="#000080">[</font>LastLaserIndex<font color="#000080">].</font>LaserType <font color="#000080">= </font>LaserFree <font color="#FF0000"><b>Then
        </b></font>VacantLaserNumber<font color="#000080">:=</font>LastLaserIndex
     <font color="#FF0000"><b>Else
         Begin
         </b></font>VacantLaserNumber<font color="#000080">:=</font><font color="#800000">$FF</font><font color="#000080">;
         </font><font color="#FF0000"><b>For </b></font>LaserCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxLasers <font color="#FF0000"><b>do
             Begin
             If </b></font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">].</font>LaserType <font color="#000080">= </font>LaserFree <font color="#FF0000"><b>Then
                Begin
                </b></font>VacantLaserNumber<font color="#000080">:=</font>LaserCount<font color="#000080">;
                </font>LaserCount<font color="#000080">:=</font>MaxLasers<font color="#000080">;
             </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

     </font><font color="#FF0000"><b>If </b></font>VacantLaserNumber <font color="#000080">&lt;&gt; </font><font color="#800000">$FF </font><font color="#FF0000"><b>Then
        Begin
        </b></font>Inc<font color="#000080">(</font>LasersFired<font color="#000080">);
        </font>LaserRec<font color="#000080">[</font>VacantLaserNumber<font color="#000080">]:=</font>LaserToAdd<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Procedure </b></font>DoFireRoutine<font color="#000080">(</font>ShipNo<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>TAngle<font color="#000080">: </font>word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     If </b></font>LasersFired <font color="#000080">&lt;&gt; </font>MaxLasers <font color="#FF0000"><b>Then
        With </b></font>PlayerRec<font color="#000080">[</font>ShipNo<font color="#000080">] </font><font color="#FF0000"><b>do
        Begin
             </b></font>TempLaser<font color="#000080">.</font>LaserType<font color="#000080">:=</font>CurrentLaserType<font color="#000080">;
             </font>TempLaser<font color="#000080">.</font>FiredBy<font color="#000080">:=</font>ShipNo<font color="#000080">;
             </font><font color="#FF0000"><b>If </b></font>AssFiring <font color="#FF0000"><b>Then
                Begin
                </b></font>TempLaser<font color="#000080">.</font>LaserX<font color="#000080">:=</font>PlayerX<font color="#000080">-</font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>PlayerAngle<font color="#000080">] * </font><font color="#800000">6</font><font color="#000080">);
                </font>TempLaser<font color="#000080">.</font>LaserY<font color="#000080">:=</font>PlayerY<font color="#000080">-</font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>PlayerAngle<font color="#000080">] * </font><font color="#800000">6</font><font color="#000080">);

                </font>TAngle<font color="#000080">:=</font>PlayerAngle<font color="#000080">+</font><font color="#800000">180</font><font color="#000080">;

                </font><font color="#FF0000"><b>Asm
                </b></font><font color="#FF00FF">MOV AX,TAngle
                CMP AX,360
                JB @NoReset
                SUB AX,360
@NoReset:
                MOV Tangle,AX
                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                </font>TempLaser<font color="#000080">.</font>LaserAngle<font color="#000080">:= </font>TAngle<font color="#000080">;
                </font><font color="#FF0000"><b>End
             Else
                 Begin
                 </b></font>Templaser<font color="#000080">.</font>LaserX<font color="#000080">:=</font>PlayerX<font color="#000080">+</font>Round<font color="#000080">(</font>QCos<font color="#000080">[</font>PlayerAngle<font color="#000080">] * </font><font color="#800000">6</font><font color="#000080">);
                 </font>Templaser<font color="#000080">.</font>LaserY<font color="#000080">:=</font>PlayerY<font color="#000080">+</font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>PlayerAngle<font color="#000080">] * </font><font color="#800000">6</font><font color="#000080">);
                 </font>Templaser<font color="#000080">.</font>LaserAngle<font color="#000080">:= </font>PlayerAngle<font color="#000080">;
             </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

             </font><font color="#008000"><i>{ Make sure you know who fired the laser }

             </i></font>TempLaser<font color="#000080">.</font>LaserColour<font color="#000080">:=</font>PlayerColour<font color="#000080">;

             </font>TempLaser<font color="#000080">.</font>LaserPower<font color="#000080">:=</font>CurrentLaserPower<font color="#000080">;
             </font>TempLaser<font color="#000080">.</font>LaserSize<font color="#000080">:= </font>PlayerLaserSize<font color="#000080">;
             </font>TempLaser<font color="#000080">.</font>LaserSpeed<font color="#000080">:=</font>CurrentLaserSpeed<font color="#000080">;
             </font>TempLaser<font color="#000080">.</font>MaxLaserTravel<font color="#000080">:=</font>CurrentMaxLaserTravel<font color="#000080">;

             </font>AddLaser<font color="#000080">(</font>TempLaser<font color="#000080">);

             </font>Dec<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>DeductionForShooting<font color="#000080">);
             </font><font color="#FF0000"><b>If </b></font>PlayerScore <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>PlayerScore<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Procedure </b></font>AlterShip<font color="#000080">(</font>ShipNo<font color="#000080">:</font>byte<font color="#000080">;</font>UpKey<font color="#000080">,</font>DownKey<font color="#000080">,</font>LeftKey<font color="#000080">,</font>RightKey<font color="#000080">,</font>FireKey<font color="#000080">:</font>boolean<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>DiscardedVar<font color="#000080">: </font>boolean<font color="#000080">;
    </font>TempKey<font color="#000080">: </font>boolean<font color="#000080">;

</font><font color="#FF0000"><b>Begin
       With </b></font>PlayerRec<font color="#000080">[</font>ShipNo<font color="#000080">] </font><font color="#FF0000"><b>do
            Begin

            If </b></font>UpKey <font color="#FF0000"><b>Then
               Begin
               </b></font>Thrusting<font color="#000080">:=</font>True<font color="#000080">;
               </font><font color="#FF0000"><b>If </b></font>WaitCount <font color="#000080">&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>Then
                  </b></font>Dec<font color="#000080">(</font>WaitCount<font color="#000080">);
               </font><font color="#FF0000"><b>End
            Else
                Begin
                </b></font>Thrusting<font color="#000080">:=</font>False<font color="#000080">;
                </font><font color="#FF0000"><b>If </b></font>WaitCount <font color="#000080">&lt; </font>MaxWaitCount <font color="#FF0000"><b>Then
                   </b></font>Inc<font color="#000080">(</font>WaitCount<font color="#000080">)
                </font><font color="#FF0000"><b>Else


                    Begin
                    </b></font>Dec<font color="#000080">(</font>RechargeTime<font color="#000080">);
                    </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>RechargeTime <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>And
                    </b></font><font color="#000080">(</font>PlayerEnergy <font color="#000080">&lt; </font>MaxPlayerEnergy<font color="#000080">) </font><font color="#FF0000"><b>And
                    </b></font><font color="#000080">(</font>PlayerScore <font color="#000080">&gt;= </font>RechargeDeduction<font color="#000080">) </font><font color="#FF0000"><b>Then

                       Begin
                       </b></font>RechargeTime<font color="#000080">:=</font>RechargeLatch<font color="#000080">;
                       </font>Inc<font color="#000080">(</font>PlayerEnergy<font color="#000080">);

                       </font>Dec<font color="#000080">(</font>PlayerScore<font color="#000080">, </font>RechargeDeduction<font color="#000080">);
                       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


            </font><font color="#FF0000"><b>If </b></font>KeyReverseTime <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
               Begin
               </b></font>TempKey<font color="#000080">:=</font>LeftKey<font color="#000080">;
               </font>LeftKey<font color="#000080">:=</font>RightKey<font color="#000080">;
               </font>RightKey<font color="#000080">:=</font>TempKey<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


            </font><font color="#FF0000"><b>If </b></font>LeftKey <font color="#FF0000"><b>Then
            Begin
                 </b></font>Dec<font color="#000080">(</font>PlayerAngle<font color="#000080">,</font>ShipTurnAngle<font color="#000080">);
                 </font><font color="#FF0000"><b>If </b></font>PlayerAngle <font color="#000080">&lt;</font><font color="#800000">1 </font><font color="#FF0000"><b>Then
                    </b></font>Inc<font color="#000080">(</font>PlayerAngle<font color="#000080">,</font><font color="#800000">360</font><font color="#000080">);
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


            </font><font color="#FF0000"><b>If </b></font>RightKey <font color="#FF0000"><b>Then
            Begin
                 </b></font>Inc<font color="#000080">(</font>PlayerAngle<font color="#000080">,</font>ShipTurnAngle<font color="#000080">);
                 </font><font color="#FF0000"><b>If </b></font>PlayerAngle <font color="#000080">&gt; </font><font color="#800000">359 </font><font color="#FF0000"><b>Then
                    </b></font>Dec<font color="#000080">(</font>PlayerAngle<font color="#000080">,</font><font color="#800000">360</font><font color="#000080">);
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

            </font><font color="#008000"><i>{
            Has the player held down the fire button.
            }

            </i></font><font color="#FF0000"><b>If </b></font>FireKey <font color="#FF0000"><b>Then
               Begin
               If </b></font><font color="#000080">(</font>DisableTime<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Then
                  Begin
                  If </b></font>AutoFire <font color="#FF0000"><b>Then
                  Begin

                     If </b></font>FireDelay <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
                        Begin
                        </b></font>FireDelay<font color="#000080">:=</font>FireLatch<font color="#000080">;
                        </font>DoFireRoutine<font color="#000080">(</font>ShipNo<font color="#000080">);
                        </font><font color="#FF0000"><b>End
                     Else

                         </b></font>Dec<font color="#000080">(</font>FireDelay<font color="#000080">);
                  </font><font color="#FF0000"><b>End
                  Else
                      If </b></font>FireKeyReleased <font color="#FF0000"><b>Then
                      Begin
                         </b></font>FireKeyReleased<font color="#000080">:=</font>False<font color="#000080">;
                         </font>DoFireRoutine<font color="#000080">(</font>ShipNo<font color="#000080">);
                      </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>End
            Else

                </b></font>FireKeyReleased<font color="#000080">:=</font>True<font color="#000080">;



            </font><font color="#FF0000"><b>If </b></font>WaitCount <font color="#000080">&lt;&gt; </font>MaxWaitCount <font color="#FF0000"><b>Then
               Begin
               </b></font>Inc<font color="#000080">(</font>PlayerWait<font color="#000080">);
               </font><font color="#FF0000"><b>If </b></font>PlayerWait <font color="#000080">&gt;= </font>WaitCount <font color="#FF0000"><b>Then
                  Begin
                  </b></font>PlayerWait<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
                  </font>Inc<font color="#000080">(</font>PlayerX<font color="#000080">, </font>Round<font color="#000080">(</font>Qcos<font color="#000080">[</font>PlayerAngle<font color="#000080">]*</font>PlayerSpeed<font color="#000080">));
                  </font>Inc<font color="#000080">(</font>PlayerY<font color="#000080">, </font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>PlayerAngle<font color="#000080">]*</font>PlayerSpeed<font color="#000080">));


                  </font>CheckBounds<font color="#000080">(</font>PlayerX<font color="#000080">,</font>PlayerY<font color="#000080">,</font>PlayerWraps<font color="#000080">,</font>DiscardedVar<font color="#000080">);
                  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>UpDatePlayersSpin<font color="#000080">(</font>PlayerNo<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>DiscardedVar<font color="#000080">: </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     With </b></font>PlayerRec<font color="#000080">[</font>PlayerNo<font color="#000080">] </font><font color="#FF0000"><b>do
     Begin


     </b></font>Inc<font color="#000080">(</font>PlayerAngle<font color="#000080">,</font>ShipTurnAngle <font color="#FF0000"><b>SHL </b></font><font color="#800000">3</font><font color="#000080">);
     </font><font color="#FF0000"><b>If </b></font>PlayerAngle <font color="#000080">&gt; </font><font color="#800000">359 </font><font color="#FF0000"><b>Then </b></font>Dec<font color="#000080">(</font>PlayerAngle<font color="#000080">,</font><font color="#800000">360</font><font color="#000080">);


     </font>Inc<font color="#000080">(</font>PlayerX<font color="#000080">, </font>Round<font color="#000080">(</font>Qcos<font color="#000080">[</font>SpinAngle<font color="#000080">]*</font>SpinSpeed<font color="#000080">));
     </font>Inc<font color="#000080">(</font>PlayerY<font color="#000080">, </font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>SpinAngle<font color="#000080">]*</font>SpinSpeed<font color="#000080">));


     </font>CheckBounds<font color="#000080">(</font>PlayerX<font color="#000080">,</font>PlayerY<font color="#000080">,</font>PlayerWraps<font color="#000080">,</font>DiscardedVar<font color="#000080">);
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$IFNDEF BONUSES}
</i></font><font color="#FF0000"><b>Procedure </b></font>UpDateBonusTimer<font color="#000080">(</font>PlayerNo<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
     </b></font><font color="#008000"><i>{ Shields }
     </i></font><font color="#FF0000"><b>With </b></font>PlayerRec<font color="#000080">[</font>PlayerNo<font color="#000080">] </font><font color="#FF0000"><b>do
     If </b></font>InvulnerableTime <font color="#000080">&lt;&gt;</font><font color="#800000">0  </font><font color="#FF0000"><b>Then
        Begin
        </b></font>Dec<font color="#000080">(</font>InvulnerableTime<font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font>InvulnerableTime <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
           Begin
           </b></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'SHIELDS DOWN!'</font><font color="#000080">;
           </font>MessageTime<font color="#000080">:=</font>NormalMessageTIme<font color="#000080">;
           </font>EnemyLaserHurts<font color="#000080">:=</font>True<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$ELSE}

</i></font><font color="#FF0000"><b>Procedure </b></font>UpdateBonusTimers<font color="#000080">(</font>PlayerNo<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
     With </b></font>PlayerRec<font color="#000080">[</font>PlayerNo<font color="#000080">] </font><font color="#FF0000"><b>do
     Begin

     </b></font><font color="#008000"><i>{ Firing }

     </i></font><font color="#FF0000"><b>If </b></font>DisableTime <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
        Begin
        </b></font>Dec<font color="#000080">(</font>DisableTime<font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font>DisableTime <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
           Begin
           </b></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'I CAN SHOOT AGAIN!'</font><font color="#000080">;
           </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

     </font><font color="#008000"><i>{ Slothfullness }

     </i></font><font color="#FF0000"><b>If </b></font>SlowedDownTime <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
     Begin
          </b></font>Dec<font color="#000080">(</font>SlowedDownTime<font color="#000080">);
          </font><font color="#FF0000"><b>If </b></font>SlowedDownTime <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
             </b></font>PlayerSpeed<font color="#000080">:=</font>NormalPlayerSpeed<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

     </font><font color="#008000"><i>{ Key reversing, i.e. press key for left and you go right }

     </i></font><font color="#FF0000"><b>If </b></font>KeyReverseTime <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
        </b></font>Dec<font color="#000080">(</font>KeyReverseTime<font color="#000080">);

     </font><font color="#008000"><i>{ Shields }

     </i></font><font color="#FF0000"><b>If </b></font>InvulnerableTime <font color="#000080">&lt;&gt;</font><font color="#800000">0  </font><font color="#FF0000"><b>Then
        Begin
        </b></font>Dec<font color="#000080">(</font>InvulnerableTime<font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font>InvulnerableTime <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
           Begin
           </b></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'SHIELDS DOWN!'</font><font color="#000080">;
           </font>MessageTime<font color="#000080">:=</font>NormalMessageTIme<font color="#000080">;
           </font>EnemyLaserHurts<font color="#000080">:=</font>True<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

     </font><font color="#008000"><i>{ Toody's special bonus }

     </i></font><font color="#FF0000"><b>If </b></font>BanzaiTime <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
        Begin
        </b></font>Dec<font color="#000080">(</font>BanzaiTime<font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font>BanzaiTime <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
           Begin
           </b></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'TOODY''S POWER GONE!'</font><font color="#000080">;
           </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$ENDIF}

{
You have to check the player's status byte to determine whether
or not he's spinning, frozen, etc.
}


</i></font><font color="#FF0000"><b>Procedure </b></font>CheckPlayerStatusByte<font color="#000080">(</font>PlayerNo<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
     With </b></font>PlayerRec<font color="#000080">[</font>PlayerNo<font color="#000080">] </font><font color="#FF0000"><b>Do
     Begin
     </b></font><font color="#008000"><i>{
     Now service the PlayerStatus bits
     }

     </i></font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>PlayerStatus <font color="#FF0000"><b>And </b></font>Frozen<font color="#000080">)=</font>Frozen <font color="#FF0000"><b>Then
        Begin
        If </b></font>FrozenTime <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
           </b></font>Dec<font color="#000080">(</font>FrozenTime<font color="#000080">)
        </font><font color="#FF0000"><b>Else
            </b></font>PlayerStatus<font color="#000080">:=</font>PlayerStatus <font color="#FF0000"><b>And </b></font><font color="#000080">(</font><font color="#800000">255</font><font color="#000080">-</font>Frozen<font color="#000080">);
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


     </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>PlayerStatus <font color="#FF0000"><b>And </b></font>Spinning<font color="#000080">)=</font>Spinning <font color="#FF0000"><b>Then
        Begin

        </b></font>Dec<font color="#000080">(</font>SpinCount<font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font>SpinCount <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
           </b></font>UpdatePlayersSpin<font color="#000080">(</font>PlayerNo<font color="#000080">)
        </font><font color="#FF0000"><b>Else
            Begin

            </b></font>PlayerStatus<font color="#000080">:= </font>ShootAble<font color="#000080">;
            </font>WaitCount<font color="#000080">:=</font>MaxWaitCount<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>End
     Else
         If </b></font>PlayerStatus <font color="#000080">= </font>Exploding <font color="#FF0000"><b>Then
            Begin

            </b></font>Inc<font color="#000080">(</font>ExplodeWidth<font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);

            </font><font color="#FF0000"><b>If </b></font>ExplodeWidth <font color="#000080">&gt;= </font>MaxExplodeWidth <font color="#FF0000"><b>Then
               Begin
               </b></font>PlayerStatus<font color="#000080">:= </font>Dead<font color="#000080">;
               </font>Dec<font color="#000080">(</font>PlayersAlive<font color="#000080">);
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>End
         Else
             If </b></font>PlayerStatus <font color="#000080">= </font>Warping <font color="#FF0000"><b>Then
                Begin
                </b></font>Dec<font color="#000080">(</font>ExplodeWidth<font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);
                </font><font color="#FF0000"><b>If </b></font>ExplodeWidth <font color="#000080">&lt;=</font><font color="#800000">5 </font><font color="#FF0000"><b>Then
                   </b></font>PlayerStatus<font color="#000080">:=</font>ShootAble<font color="#000080">;
             </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{
Update the player's ships.

PlayerStatus is a combination of BIT FLAGS which indicate to the
program the current player status. Doh!

If bit 0 of PlayerStatus is set then the player is still ShootAble. (i.e. Alive)
If bit 1 of PlayerStatus is set then the player is Warping.
If bit 2 of PlayerStatus is set then the player is Exploding.
If bit 3 of PlayerStatus is set then the Player is Spinning.
If bit 4 of PlayerStatus is set the player is Frozen.

Bits 5 - 7 are undefined and should stay that way for now.
}

</i></font><font color="#FF0000"><b>Procedure </b></font>MoveShips<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>PlayerCount<font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     For </b></font>PlayerCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
         With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
         If </b></font><font color="#000080">(</font>PlayerStatus <font color="#000080">= </font>ShootAble<font color="#000080">) </font><font color="#FF0000"><b>Then
            Begin
            Case </b></font>PlayerCount <font color="#FF0000"><b>Of

            </b></font><font color="#800000">1</font><font color="#000080">: </font>AlterShip<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font>keydown<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">15</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">30</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">45</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">42</font><font color="#000080">]);
            </font><font color="#800000">2</font><font color="#000080">: </font>AlterShip<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">,</font>keydown<font color="#000080">[</font><font color="#800000">24</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">38</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">39</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">40</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">52</font><font color="#000080">]);
            </font><font color="#800000">3</font><font color="#000080">: </font>AlterShip<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">,</font>keydown<font color="#000080">[</font><font color="#800000">71</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">76</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">73</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">74</font><font color="#000080">],</font>keydown<font color="#000080">[</font><font color="#800000">81</font><font color="#000080">]);

            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$IFNDEF BONUSES}
            </i></font>UpdateBonusTimer<font color="#000080">(</font>PlayerCount<font color="#000080">);
</font><font color="#008000"><i>{$ELSE}
            </i></font>UpdateBonusTimers<font color="#000080">(</font>PlayerCount<font color="#000080">);
</font><font color="#008000"><i>{$ENDIF}
            </i></font><font color="#FF0000"><b>End
         Else
             </b></font>CheckPlayerStatusByte<font color="#000080">(</font>PlayerCount<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{
O.K. You've got to update the lasers (and special weapons later
on, perhaps)

}

</i></font><font color="#FF0000"><b>Procedure </b></font>MoveLasers<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>playercount<font color="#000080">: </font>byte<font color="#000080">;
    </font>LaserCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>ItWrapped<font color="#000080">: </font>boolean<font color="#000080">;

</font><font color="#FF0000"><b>Begin
     If </b></font>LasersFired <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
        Begin
        For </b></font>LaserCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxLasers <font color="#FF0000"><b>do
            With </b></font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">] </font><font color="#FF0000"><b>do
            Begin

            If </b></font>LaserType<font color="#000080">&lt;&gt;</font>LaserFree <font color="#FF0000"><b>Then
               Begin

               </b></font>Inc<font color="#000080">(</font>LaserTravel<font color="#000080">);

               </font><font color="#FF0000"><b>If </b></font>LaserTravel <font color="#000080">&lt; </font>MaxLaserTravel <font color="#FF0000"><b>Then
                  Begin

                  </b></font>Inc<font color="#000080">(</font>LaserX<font color="#000080">, </font>Round<font color="#000080">(</font>Qcos<font color="#000080">[</font>LaserAngle<font color="#000080">]*</font>LaserSpeed<font color="#000080">));
                  </font>Inc<font color="#000080">(</font>LaserY<font color="#000080">, </font>Round<font color="#000080">(</font>QSin<font color="#000080">[</font>LaserAngle<font color="#000080">]*</font>LaserSpeed<font color="#000080">));


                  </font>CheckBounds<font color="#000080">(</font>LaserX<font color="#000080">,</font>LaserY<font color="#000080">, </font>LaserType <font color="#000080">= </font>LaserWraps<font color="#000080">,</font>ItWrapped<font color="#000080">);


                  </font><font color="#FF0000"><b>If </b></font>ItWrapped <font color="#FF0000"><b>Then
                     Begin
                     Case </b></font>LaserType <font color="#FF0000"><b>of
                     </b></font>NormalLaser<font color="#000080">:   </font><font color="#FF0000"><b>Begin
                                    </b></font>LaserType<font color="#000080">:=</font>LaserFree<font color="#000080">;
                                    </font>LastLaserIndex<font color="#000080">:=</font>LaserCount<font color="#000080">;
                                    </font>Dec<font color="#000080">(</font>LasersFired<font color="#000080">);
                                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                     </font>LaserRebound<font color="#000080">:  </font>LaserAngle<font color="#000080">:=</font>Random<font color="#000080">(</font><font color="#800000">359</font><font color="#000080">);
                     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                  </font><font color="#FF0000"><b>End
               Else

                   Begin
                   </b></font>LaserType<font color="#000080">:=</font>LaserFree<font color="#000080">;
                   </font>Dec<font color="#000080">(</font>LasersFired<font color="#000080">);



                   </font>LastLaserIndex<font color="#000080">:=</font>LaserCount<font color="#000080">;

                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$IFDEF BONUSES}


{
The Bonuses are not player controlled (of course) so therefore
the MoveBonuses routine should initiate some bonuses as well
as move them.

How will the CPU know when to initiate bonuses? Well as you
know, it can't so It'll have to be a purely random thingie.
}

</i></font><font color="#FF0000"><b>Procedure </b></font>MoveBonuses<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>BonusCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>SearchCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>BonusDidWrap<font color="#000080">: </font>boolean<font color="#000080">;

</font><font color="#FF0000"><b>Begin
     If </b></font>BonusesOnScreen <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
        For </b></font>BonusCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxBonuses <font color="#FF0000"><b>do
        With </b></font>BonusRec<font color="#000080">[</font>BonusCount<font color="#000080">] </font><font color="#FF0000"><b>do
             If </b></font>BonusType <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
             Begin
             </b></font>Inc<font color="#000080">(</font>BonusX<font color="#000080">,</font>BonusXIncrement<font color="#000080">);
             </font>Inc<font color="#000080">(</font>BonusY<font color="#000080">,</font>BonusYIncrement<font color="#000080">);
             </font>CheckBounds<font color="#000080">(</font>BonusX<font color="#000080">,</font>BonusY<font color="#000080">,</font>true<font color="#000080">,</font>BonusDidWrap<font color="#000080">);

             </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

     </font><font color="#008000"><i>{
     Of course, some bonuses just have to be initialised as
     well !
     }

     </i></font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>BonusesOnScreen <font color="#000080">&lt;= </font>MaxBonuses<font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>Random<font color="#000080">(</font><font color="#800000">80</font><font color="#000080">)=</font><font color="#800000">40</font><font color="#000080">) </font><font color="#FF0000"><b>Then
        Begin
        </b></font>SearchCount<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
        </font><font color="#FF0000"><b>Repeat
              With </b></font>BonusRec<font color="#000080">[</font>SearchCount<font color="#000080">] </font><font color="#FF0000"><b>do
              If </b></font>BonusType <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
                   Begin
                   </b></font>Inc<font color="#000080">(</font>BonusesOnScreen<font color="#000080">);

                   </font>BonusType<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">+(</font>Random<font color="#000080">(</font>NumberOfBonuses<font color="#000080">));

                   </font>BonusX<font color="#000080">:=</font>Random<font color="#000080">(</font><font color="#800000">319</font><font color="#000080">);

                   </font><font color="#FF0000"><b>Case </b></font>Random<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">) </font><font color="#FF0000"><b>of
                   </b></font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">1</font><font color="#000080">: </font>BonusY<font color="#000080">:=-</font><font color="#800000">1</font><font color="#000080">;
                   </font><font color="#800000">2</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">: </font>BonusY<font color="#000080">:=</font><font color="#800000">200</font><font color="#000080">;
                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                   </font><font color="#FF0000"><b>Case </b></font>Random<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">) </font><font color="#FF0000"><b>of
                   </b></font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">1</font><font color="#000080">: </font>BonusXIncrement<font color="#000080">:=-</font><font color="#800000">1</font><font color="#000080">;
                   </font><font color="#800000">2</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">: </font>BonusXIncrement<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                   </font><font color="#FF0000"><b>Case </b></font>Random<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">) </font><font color="#FF0000"><b>of
                   </b></font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">1</font><font color="#000080">: </font>BonusYIncrement<font color="#000080">:=-</font><font color="#800000">1</font><font color="#000080">;
                   </font><font color="#800000">2</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">: </font>BonusYIncrement<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                   </font>SearchCount<font color="#000080">:=</font>MaxBonuses<font color="#000080">;
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

        </font>Inc<font color="#000080">(</font>SearchCount<font color="#000080">);

        </font><font color="#FF0000"><b>Until </b></font>SearchCount <font color="#000080">&gt; </font>MaxBonuses<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$ENDIF}










</i></font><font color="#FF0000"><b>Function </b></font>Collision<font color="#000080">(</font>X1<font color="#000080">,</font>Y1<font color="#000080">,</font>X2<font color="#000080">,</font>Y2<font color="#000080">:</font>integer<font color="#000080">;</font>DistX<font color="#000080">,</font>DistY<font color="#000080">:</font>word<font color="#000080">): </font>boolean<font color="#000080">; </font><font color="#008000"><i>{Assembler;}
</i></font><font color="#FF0000"><b>Begin
     </b></font>Collision<font color="#000080">:=(</font>Abs<font color="#000080">(</font>X2<font color="#000080">-</font>X1<font color="#000080">) &lt; </font>DistX<font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>Abs<font color="#000080">(</font>Y2<font color="#000080">-</font>Y1<font color="#000080">) &lt; </font>DistY<font color="#000080">)
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{===================================================================

Guess what this routine does ?

}


</i></font><font color="#FF0000"><b>Procedure </b></font>UpdatePlayerScore<font color="#000080">(</font>PlayerNo<font color="#000080">: </font>byte<font color="#000080">; </font>HowManyPoints<font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>Begin
     With </b></font>PlayerRec<font color="#000080">[</font>PlayerNo<font color="#000080">] </font><font color="#FF0000"><b>do
     Begin
     </b></font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>HowManyPoints<font color="#000080">);
     </font><font color="#FF0000"><b>If </b></font>PlayerScore <font color="#000080">&gt; </font><font color="#800000">$7FFFFFFF </font><font color="#FF0000"><b>Then
        </b></font>PlayerScore <font color="#000080">:= </font><font color="#800000">$7FFFFFFF</font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{=====================================================

I'm gonna have to optimize this one day.. For now tho'
I'll leave it as it is so that the B.Sc chaps can suss
what's happening..
}

</i></font><font color="#FF0000"><b>Procedure </b></font>DoPlayerToLaser<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>PlayerCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>LaserCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>Object1X<font color="#000080">: </font>integer<font color="#000080">;
    </font>Object2X<font color="#000080">: </font>integer<font color="#000080">;
    </font>Object1Y<font color="#000080">: </font>integer<font color="#000080">;
    </font>Object2Y<font color="#000080">: </font>integer<font color="#000080">;

    </font>TempLaserPower<font color="#000080">: </font>byte<font color="#000080">;
    </font>PersonWhoShot<font color="#000080">: </font>byte<font color="#000080">;

</font><font color="#FF0000"><b>Begin
     If </b></font>LasersFired <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>Then
        For </b></font>PlayerCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
            With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
            If </b></font><font color="#000080">((</font>PlayerStatus <font color="#FF0000"><b>AND </b></font>Shootable<font color="#000080">)&lt;&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Then
               Begin
               </b></font>Object2X<font color="#000080">:=</font>PlayerX<font color="#000080">;
               </font>Object2Y<font color="#000080">:=</font>PlayerY<font color="#000080">;


               </font><font color="#FF0000"><b>For </b></font>LaserCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxLasers <font color="#FF0000"><b>do
               If </b></font><font color="#000080">(</font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">].</font>LaserType <font color="#000080">&lt;&gt; </font>LaserFree<font color="#000080">) </font><font color="#FF0000"><b>Then
                  Begin
                  With </b></font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">] </font><font color="#FF0000"><b>do
                       Begin
                       </b></font>Object1X<font color="#000080">:=</font>LaserX<font color="#000080">;
                       </font>Object1Y<font color="#000080">:=</font>LaserY<font color="#000080">;
                  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                  </font><font color="#FF0000"><b>If </b></font>Collision<font color="#000080">( </font>Object1X<font color="#000080">,</font>Object1Y<font color="#000080">,
                                </font>Object2X<font color="#000080">,</font>Object2Y<font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>Then
                     Begin
                     </b></font>PersonWhoShot<font color="#000080">:=</font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">].</font>FiredBy<font color="#000080">;

                     </font><font color="#FF0000"><b>With </b></font>PlayerRec<font color="#000080">[</font>PersonWhoShot<font color="#000080">] </font><font color="#FF0000"><b>do
                          Begin
                          </b></font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>PointsForShooting<font color="#000080">);
                          </font><font color="#FF0000"><b>If </b></font>Playerscore <font color="#000080">&gt; </font><font color="#800000">$7FFFFF </font><font color="#FF0000"><b>Then
                             </b></font>PlayerScore<font color="#000080">:= </font><font color="#800000">$7fffff</font><font color="#000080">;
                     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                     </font><font color="#008000"><i>{
                     Player has been hit so make the missile
                     whack into the ships side and disappear
                     }


                     </i></font><font color="#FF0000"><b>With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                          If </b></font><font color="#000080">(</font>InvulnerableTime <font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Then
                             </b></font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">].</font>LaserAngle<font color="#000080">:=</font>Random<font color="#000080">(</font><font color="#800000">359</font><font color="#000080">)
                          </font><font color="#FF0000"><b>Else
                              Begin
                              </b></font>Dec<font color="#000080">(</font>LasersFired<font color="#000080">);
                              </font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">].</font>LaserType<font color="#000080">:=</font>LaserFree<font color="#000080">;
                              </font>TempLaserPower<font color="#000080">:=</font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">].</font>LaserPower<font color="#000080">;

                              </font><font color="#FF0000"><b>If </b></font>LaserRec<font color="#000080">[</font>LaserCount<font color="#000080">].</font>Firedby <font color="#000080">&lt;&gt; </font>PlayerCount <font color="#FF0000"><b>Then
                                 Begin
                                 </b></font>Dec<font color="#000080">(</font>PlayerEnergy<font color="#000080">,</font>TempLaserPower<font color="#000080">);
                                 </font><font color="#FF0000"><b>If </b></font>PlayerEnergy <font color="#000080">&lt;= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
                                    Begin
                                    </b></font>PlayerStatus<font color="#000080">:=</font>Exploding<font color="#000080">;
                                    </font>ExplodeWidth<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
                                 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{==========================================================

Guess what this does ?

}

</i></font><font color="#FF0000"><b>Procedure </b></font>SpinPlayer<font color="#000080">( </font>PlayerBumped<font color="#000080">, </font>PlayerWhoBumped<font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>SpeedVar<font color="#000080">: </font>byte<font color="#000080">;
    </font>Ratio<font color="#000080">: </font>byte<font color="#000080">;

</font><font color="#FF0000"><b>begin
     With </b></font>PlayerRec<font color="#000080">[</font>PlayerBumped<font color="#000080">] </font><font color="#FF0000"><b>do
        Begin
        </b></font>PlayerStatus<font color="#000080">:=</font>PlayerStatus <font color="#FF0000"><b>OR </b></font>Spinning<font color="#000080">;

        </font>SpeedVar <font color="#000080">:= </font>PlayerRec<font color="#000080">[</font>PlayerWhoBumped<font color="#000080">].</font>WaitCount<font color="#000080">;
        </font>Ratio    <font color="#000080">:= </font>PlayerRec<font color="#000080">[</font>PlayerWhoBumped<font color="#000080">].</font>MaxWaitCount <font color="#000080">- </font>SpeedVar<font color="#000080">;

        </font>WaitCount<font color="#000080">:=</font>SpeedVar<font color="#000080">;

        </font>SpinAngle<font color="#000080">:=</font>PlayerRec<font color="#000080">[</font>PlayerWhoBumped<font color="#000080">].</font>PlayerAngle<font color="#000080">;
        </font>SpinSpeed<font color="#000080">:= (</font>Ratio <font color="#FF0000"><b>SHR </b></font><font color="#800000">2</font><font color="#000080">)+</font><font color="#800000">4</font><font color="#000080">;
        </font>SpinCount<font color="#000080">:= (</font>Ratio <font color="#FF0000"><b>SHL </b></font><font color="#800000">1</font><font color="#000080">)+</font><font color="#800000">4</font><font color="#000080">;

        </font>UpDatePlayersSpin<font color="#000080">(</font>PlayerBumped<font color="#000080">);
     </font><font color="#FF0000"><b>End
End</b></font><font color="#000080">;

</font><font color="#008000"><i>{

Check if two players did bump
}


{$IFDEF BUMPING }


</i></font><font color="#FF0000"><b>Procedure </b></font>CheckBump<font color="#000080">(</font>PlayerCount1<font color="#000080">, </font>PlayerCount2 <font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>var
    </b></font>PlayerSpeed1<font color="#000080">: </font>byte<font color="#000080">;
    </font>PlayerSpeed2<font color="#000080">: </font>byte<font color="#000080">;

</font><font color="#FF0000"><b>Begin

     If </b></font><font color="#000080">(</font>PlayerRec<font color="#000080">[</font>PlayerCount1<font color="#000080">].</font>PlayerStatus <font color="#000080">= </font>Exploding<font color="#000080">)
     </font><font color="#FF0000"><b>Or </b></font><font color="#000080">(</font>PlayerRec<font color="#000080">[</font>PlayerCount2<font color="#000080">].</font>PlayerStatus <font color="#000080">= </font>Exploding<font color="#000080">) </font><font color="#FF0000"><b>Then </b></font>Exit<font color="#000080">;


     </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>PlayerRec<font color="#000080">[</font>PlayerCount1<font color="#000080">].</font>BanzaiTime <font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>And
     </b></font><font color="#000080">(</font>PlayerRec<font color="#000080">[</font>PlayerCount2<font color="#000080">].</font>InvulnerableTime <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Then
        With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount2<font color="#000080">] </font><font color="#FF0000"><b>do
           Begin
           </b></font>PlayerStatus<font color="#000080">:=</font>Exploding<font color="#000080">;
           </font>ExplodeWidth<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
           </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'AARGH etc. etc. !!'</font><font color="#000080">;
           </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
           </font><font color="#FF0000"><b>End
        Else
            Begin
            </b></font>PlayerSpeed1<font color="#000080">:= </font>PlayerRec<font color="#000080">[</font>PlayerCount1<font color="#000080">].</font>WaitCount<font color="#000080">;
            </font>PlayerSpeed2<font color="#000080">:= </font>PlayerRec<font color="#000080">[</font>PlayerCount2<font color="#000080">].</font>WaitCount<font color="#000080">;

            </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>PlayerSpeed2 <font color="#000080">&lt;= </font>PlayerSpeed1<font color="#000080">) </font><font color="#FF0000"><b>Then
               </b></font>SpinPlayer<font color="#000080">(</font>PlayerCount1<font color="#000080">,</font>PlayerCount2<font color="#000080">)
            </font><font color="#FF0000"><b>Else
                </b></font>UpdatePlayerScore<font color="#000080">(</font>PlayerCount1<font color="#000080">,</font>PointsForBumping<font color="#000080">);
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;



</font><font color="#008000"><i>{$ENDIF}

{$IFDEF BUMPING}

</i></font><font color="#FF0000"><b>Procedure </b></font>DoPlayerToPlayer<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>PlayerCount1<font color="#000080">: </font>byte<font color="#000080">;
    </font>PlayerCount2<font color="#000080">: </font>byte<font color="#000080">;
    </font>Object1X<font color="#000080">: </font>integer<font color="#000080">;
    </font>Object2X<font color="#000080">: </font>integer<font color="#000080">;
    </font>Object1Y<font color="#000080">: </font>integer<font color="#000080">;
    </font>Object2Y<font color="#000080">: </font>integer<font color="#000080">;


</font><font color="#FF0000"><b>Begin
     For </b></font>PlayerCount1<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
         If </b></font><font color="#000080">(</font>PlayerRec<font color="#000080">[</font>PlayerCount1<font color="#000080">].</font>PlayerStatus <font color="#FF0000"><b>AND </b></font>Shootable <font color="#000080">=
         </font>ShootAble<font color="#000080">) </font><font color="#FF0000"><b>Then
            Begin
            With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount1<font color="#000080">] </font><font color="#FF0000"><b>do
                 Begin
                 </b></font>Object1X<font color="#000080">:=</font>PlayerX<font color="#000080">;
                 </font>Object1Y<font color="#000080">:=</font>PlayerY<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;



            </font><font color="#008000"><i>{
            Check if the two ships have bumped into each other.
            Not too keen on what I wrote for this part but it works.
            As I said when me B.Sc is finished this part will be
            upgraded.
            }


            </i></font><font color="#FF0000"><b>For </b></font>PlayerCount2<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
                If </b></font><font color="#000080">(</font>PlayerRec<font color="#000080">[</font>PlayerCount2<font color="#000080">].</font>PlayerStatus <font color="#FF0000"><b>And
                </b></font>Shootable <font color="#000080">= </font>Shootable<font color="#000080">) </font><font color="#FF0000"><b>And
                   </b></font><font color="#000080">(</font>PlayerCount1 <font color="#000080">&lt;&gt; </font>PlayerCount2<font color="#000080">) </font><font color="#FF0000"><b>Then
                   Begin
                   </b></font><font color="#008000"><i>{
                   Check if a collision has occurred.
                   }

                   </i></font><font color="#FF0000"><b>With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount2<font color="#000080">] </font><font color="#FF0000"><b>do
                        Begin
                        </b></font>Object2X<font color="#000080">:=</font>PlayerX<font color="#000080">;
                        </font>Object2Y<font color="#000080">:=</font>PlayerY<font color="#000080">;
                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                   </font><font color="#008000"><i>{
                   Bumping?
                   }

                   </i></font><font color="#FF0000"><b>If </b></font>Collision<font color="#000080">(</font>Object1X<font color="#000080">,</font>Object1Y<font color="#000080">,</font>Object2X<font color="#000080">,</font>Object2Y<font color="#000080">,</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">)
                   </font><font color="#FF0000"><b>Then
                      Begin
                      </b></font>CheckBump<font color="#000080">(</font>PlayerCount1<font color="#000080">, </font>PlayerCount2<font color="#000080">);
                      </font>CheckBump<font color="#000080">(</font>PlayerCount2<font color="#000080">, </font>PlayerCount1<font color="#000080">);
                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$ENDIF}

</i></font><font color="#FF0000"><b>Procedure </b></font>Warp<font color="#000080">(</font>PlayerNo<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
     With </b></font>PlayerRec<font color="#000080">[</font>PlayerNo<font color="#000080">] </font><font color="#FF0000"><b>do
     Begin
          </b></font>PlayerStatus<font color="#000080">:=</font>Warping<font color="#000080">;
          </font>ExplodeWidth<font color="#000080">:=</font>MaxExplodeWidth<font color="#000080">;
          </font>PlayerAngle<font color="#000080">:= </font>Random<font color="#000080">(</font><font color="#800000">359</font><font color="#000080">);
          </font>PlayerX<font color="#000080">:=</font>Random<font color="#000080">(</font><font color="#800000">319</font><font color="#000080">);
          </font>PlayerY<font color="#000080">:=</font>Random<font color="#000080">(</font><font color="#800000">199</font><font color="#000080">);
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$IFDEF BONUSES}

</i></font><font color="#FF0000"><b>Procedure </b></font>DoPlayerToBonuses<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>PlayerCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>BonusCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>OtherCount<font color="#000080">: </font>byte<font color="#000080">;
    </font>Object1X<font color="#000080">: </font>integer<font color="#000080">;
    </font>Object2X<font color="#000080">: </font>integer<font color="#000080">;
    </font>Object1Y<font color="#000080">: </font>integer<font color="#000080">;
    </font>Object2Y<font color="#000080">: </font>integer<font color="#000080">;




</font><font color="#FF0000"><b>Begin
     For </b></font>PlayerCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
         If </b></font><font color="#000080">(</font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">].</font>PlayerStatus <font color="#FF0000"><b>And </b></font>Shootable<font color="#000080">) = </font>Shootable
            <font color="#FF0000"><b>Then Begin

            With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
            Begin
                 </b></font>Object1X<font color="#000080">:=</font>PlayerX<font color="#000080">;
                 </font>Object1Y<font color="#000080">:=</font>PlayerY<font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

            </font><font color="#FF0000"><b>For </b></font>BonusCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxBonuses <font color="#FF0000"><b>do

                If </b></font><font color="#000080">(</font>BonusRec<font color="#000080">[</font>BonusCount<font color="#000080">].</font>BonusType <font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#000080">) </font><font color="#FF0000"><b>Then
                   Begin

                   With </b></font>BonusRec<font color="#000080">[</font>BonusCount<font color="#000080">] </font><font color="#FF0000"><b>do
                        Begin
                        </b></font>Object2X<font color="#000080">:=</font>BonusX<font color="#000080">;
                        </font>Object2Y<font color="#000080">:=</font>BonusY<font color="#000080">;
                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font><font color="#FF0000"><b>If </b></font>collision<font color="#000080">( </font>Object1X<font color="#000080">,</font>Object1Y<font color="#000080">,
                                 </font>Object2X<font color="#000080">,</font>Object2Y<font color="#000080">,</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">) </font><font color="#FF0000"><b>Then

                   With </b></font>BonusRec<font color="#000080">[</font>BonusCount<font color="#000080">] </font><font color="#FF0000"><b>do
                   Begin

                        If </b></font>BonusType <font color="#000080">= </font>UnknownBonus <font color="#FF0000"><b>Then
                           </b></font>BonusType<font color="#000080">:= </font>Random<font color="#000080">(</font>NumberOfBonuses<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">;





                        </font><font color="#FF0000"><b>Case </b></font>BonusType <font color="#FF0000"><b>Of
                        </b></font>SlowDownBonus<font color="#000080">: </font><font color="#FF0000"><b>begin
                                       With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                            Begin
                                            </b></font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>SlowDownBonusPointsValue<font color="#000080">);
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                            </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'PICKED UP A SLOWDOWN BONUS !'</font><font color="#000080">;
                                            </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                        </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                                        </font><font color="#FF0000"><b>For </b></font>OtherCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
                                        If </b></font>OtherCount <font color="#000080">&lt;&gt; </font>PlayerCount <font color="#FF0000"><b>Then
                                            With </b></font>PlayerRec<font color="#000080">[</font>OtherCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                                 Begin
                                                 If </b></font>PlayerSpeed <font color="#000080">&lt;&gt;</font>SlowestPlayerSpeed <font color="#FF0000"><b>Then
                                                    </b></font>Dec<font color="#000080">(</font>PlayerSpeed<font color="#000080">);

                                                 </font>Inc<font color="#000080">(</font>SlowedDownTime<font color="#000080">,</font>MaxSlowedDownTime<font color="#000080">);
                                            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font>EnergyBonus<font color="#000080">: </font><font color="#FF0000"><b>With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                Begin
                                </b></font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>EnergyBonusPointsValue<font color="#000080">);
                                </font>Inc<font color="#000080">(</font>PlayerEnergy<font color="#000080">,</font>EnergyIncrement<font color="#000080">);

                                </font><font color="#FF0000"><b>If </b></font>PlayerEnergy <font color="#000080">&gt;</font>MaxPlayerEnergy <font color="#FF0000"><b>Then
                                   Begin
                                   </b></font>PlayerEnergy<font color="#000080">:=</font>MaxPlayerEnergy<font color="#000080">;
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                   </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'I DIDN''T NEED THE ENERGY !'</font><font color="#000080">;
                                   </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
{$IFDEF MESSAGES}
                                   </i></font><font color="#FF0000"><b>End
                                Else
                                    If </b></font>PlayerEnergy <font color="#000080">&lt;= </font>EnergyIncrement <font color="#FF0000"><b>Then
                                       Begin
                                       </b></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'ENERGY JUST IN TIME, TOO !'</font><font color="#000080">;
                                       </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
                                       </font><font color="#FF0000"><b>End
                                    Else
                                        Begin
                                        </b></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'PICKED UP AN ENERGY BONUS !'</font><font color="#000080">;
                                        </font>messageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
                                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{$ENDIF}
                                </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font>FreezeBonus<font color="#000080">: </font><font color="#FF0000"><b>Begin
                                With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                     Begin
                                     </b></font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>FreezeBonusPointsValue<font color="#000080">);
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                     </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'PICKED UP A FREEZE BONUS !'</font><font color="#000080">;
                                     </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                                </font><font color="#FF0000"><b>For </b></font>OtherCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
                                    If </b></font>OtherCount <font color="#000080">&lt;&gt; </font>PlayerCount <font color="#FF0000"><b>Then
                                    With </b></font>PlayerRec<font color="#000080">[</font>OtherCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                    Begin
                                    </b></font>PlayerStatus<font color="#000080">:=</font>PlayerStatus <font color="#FF0000"><b>OR </b></font>Frozen<font color="#000080">;
                                    </font>Inc<font color="#000080">(</font>FrozenTime<font color="#000080">,</font>MaxFrozenTime<font color="#000080">);
                                    </font>WaitCount<font color="#000080">:=</font>MaxWaitCount<font color="#000080">;
                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font>ReverseBonus<font color="#000080">: </font><font color="#FF0000"><b>Begin
                                 With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                 Begin
                                      </b></font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>ReverseBonusPointsValue<font color="#000080">);
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                      </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'PICKED UP A REVERSE BONUS !'</font><font color="#000080">;
                                      </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                 </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                                 </font><font color="#FF0000"><b>For </b></font>OtherCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
                                    If </b></font>OtherCount <font color="#000080">&lt;&gt; </font>PlayerCount <font color="#FF0000"><b>Then
                                    With </b></font>PlayerRec<font color="#000080">[</font>OtherCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                         Begin
                                         </b></font>Inc<font color="#000080">(</font>KeyReverseTime<font color="#000080">,</font>MaxKeyReverseTime<font color="#000080">);
                                         </font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'OH NO! KEYS ARE REVERSED !'</font><font color="#000080">;
                                         </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
                                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                                 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font>DisableBonus<font color="#000080">: </font><font color="#FF0000"><b>Begin
                                 With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                      Begin
                                      </b></font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>DisableBonusPointsValue<font color="#000080">);
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                      </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'PICKED UP A DISABLE BONUS !'</font><font color="#000080">;
                                      </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                 </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                                 </font><font color="#FF0000"><b>For </b></font>OtherCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
                                 If </b></font>OtherCount <font color="#000080">&lt;&gt; </font>PlayerCount <font color="#FF0000"><b>Then
                                    </b></font>Inc<font color="#000080">(</font>PlayerRec<font color="#000080">[</font>OtherCount<font color="#000080">].</font>DisableTime<font color="#000080">,</font>MaxDisableTime<font color="#000080">);
                                 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font>InvulnerabilityBonus<font color="#000080">: </font><font color="#FF0000"><b>Begin
                                         With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                              Begin
                                              </b></font>EnemyLaserHurts<font color="#000080">:=</font>False<font color="#000080">;
                                              </font>InvulnerableTime<font color="#000080">:=</font>MaxInvulnerableTime<font color="#000080">;

                                              </font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>InvulnerabilityBonusPointsValue<font color="#000080">);
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                              </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'YEAH! I AM INVULNERABLE !'</font><font color="#000080">;
                                              </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                         </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                                         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font>AssFiringBonus<font color="#000080">:  </font><font color="#FF0000"><b>Begin
                                     With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                          Begin
                                          </b></font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>AssFiringBonusPointsValue<font color="#000080">);
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                          </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'PICKED UP AN Ass FIRING BONUS !'</font><font color="#000080">;
                                          </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                     </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                                     </font><font color="#FF0000"><b>For </b></font>OtherCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
                                         If </b></font>OtherCount <font color="#000080">&lt;&gt; </font>PlayerCount <font color="#FF0000"><b>Then
                                            With </b></font>PlayerRec<font color="#000080">[</font>OtherCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                            Begin
                                            </b></font>AssFiring<font color="#000080">:=</font>True<font color="#000080">;
                                         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                                     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font>NormalBonus<font color="#000080">:    </font><font color="#FF0000"><b>Begin
                                   With </b></font>PlayerRec<font color="#000080">[</font>Playercount<font color="#000080">] </font><font color="#FF0000"><b>do
                                   Begin
                                        </b></font>DisableTime<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
                                        </font>KeyReverseTime<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
                                        </font>SlowedDownTime<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
                                        </font>PlayerSpeed<font color="#000080">:=</font>NormalPlayerSpeed<font color="#000080">;
                                        </font>CurrentLaserType<font color="#000080">:=</font>NormalLaser<font color="#000080">;
                                        </font>AssFiring<font color="#000080">:=</font>False<font color="#000080">;

                                        </font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>NormalBonusPointsValue<font color="#000080">);
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                        </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'PICKED UP A NORMALITY BONUS.'</font><font color="#000080">;
                                        </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                   </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font>ToodysBonus<font color="#000080">:    </font><font color="#FF0000"><b>Begin
                                   With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                        begin
                                        </b></font>Inc<font color="#000080">(</font>BanzaiTime<font color="#000080">,</font>MaxBanzaiTime<font color="#000080">);

                                        </font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>ToodysBonusPointsValue<font color="#000080">);
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                        </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'BANZAI THE OTHER PLAYERS !'</font><font color="#000080">;
                                        </font>MessageTime<font color="#000080">:=</font>MaxBanzaiTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                        </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                                   </font><font color="#FF0000"><b>For </b></font>OtherCount<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>PlayersOn <font color="#FF0000"><b>do
                                   If </b></font>OtherCount <font color="#000080">&lt;&gt; </font>PlayerCount <font color="#FF0000"><b>Then
                                       With </b></font>PlayerRec<font color="#000080">[</font>OtherCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                       Begin
</b></font><font color="#008000"><i>{$IFDEF MESSAGES}
                                       </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'DO NOT BUMP PLAYER '</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">48 </font><font color="#000080">+ </font>PlayerCount<font color="#000080">)+</font><font color="#800000">' !'</font><font color="#000080">;
                                       </font>MessageTime<font color="#000080">:=</font>MaxBanzaiTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                       </i></font><font color="#FF0000"><b>End
                                   End</b></font><font color="#000080">;


                   </font>LaserBonus<font color="#000080">:     </font><font color="#FF0000"><b>Begin
                                   With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                   If </b></font>CurrentLaserPower <font color="#000080">&lt; </font>MaxLaserPower <font color="#FF0000"><b>Then
                                      Begin
                                      </b></font>Inc<font color="#000080">(</font>CurrentlaserPower<font color="#000080">);

                                      </font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>LaserBonusPointsValue<font color="#000080">);
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                      </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'LASERS ENHANCED !'</font><font color="#000080">;
                                      </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                      </i></font><font color="#FF0000"><b>End
                                    Else
                                        Begin
                                        </b></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'WRAP AROUND LASERS !'</font><font color="#000080">;
                                        </font>CurrentLaserType<font color="#000080">:=</font>LaserWraps<font color="#000080">;
                                        </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
                                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                   </font>WarpBonus<font color="#000080">:      </font><font color="#FF0000"><b>With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                   Begin
                                        </b></font>Warp<font color="#000080">(</font>PlayerCount<font color="#000080">);

                                        </font>Inc<font color="#000080">(</font>PlayerScore<font color="#000080">,</font>WarpBonusPointsValue<font color="#000080">);

</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                        </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'WARPING !'</font><font color="#000080">;
                                        </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                   </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;


            </font>BounceLaserBonus<font color="#000080">:      </font><font color="#FF0000"><b>With </b></font>PlayerRec<font color="#000080">[</font>PlayerCount<font color="#000080">] </font><font color="#FF0000"><b>do
                                   Begin
                                        </b></font>CurrentLaserType<font color="#000080">:= </font>LaserRebound<font color="#000080">;
</font><font color="#008000"><i>{$IFDEF MESSAGES}
                                        </i></font>PlayerMessage<font color="#000080">:=</font><font color="#800000">'OOH! BOUNCY LASERS!'</font><font color="#000080">;
                                        </font>MessageTime<font color="#000080">:=</font>NormalMessageTime<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
                                   </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


                   </font><font color="#008000"><i>{ Indicate bonus has been taken
                   }


                   </i></font>BonusRec<font color="#000080">[</font>BonusCount<font color="#000080">].</font>BonusType<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
                   </font>Dec<font color="#000080">(</font>BonusesOnScreen<font color="#000080">);


                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}

</i></font><font color="#FF0000"><b>Procedure </b></font>DoCollisions<font color="#000080">;
</font><font color="#FF0000"><b>Begin

     </b></font>DoPlayerToLaser<font color="#000080">;

</font><font color="#008000"><i>{$IFDEF BUMPING}
     </i></font>DoPlayerToPlayer<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}

{$IFDEF BONUSES}
     </i></font>DoPlayerToBonuses<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}
</i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
     </b></font>LoadGraphics<font color="#000080">;
     </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>PlanetSeg <font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>titleBitmapSeg<font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">)
     </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>EmporerSeg<font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>ScratchSeg<font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Then
        Begin


        Repeat

              </b></font>InitVGAMode<font color="#000080">;
              </font>SetAllPalette<font color="#000080">(</font>titleBitmapPalette<font color="#000080">);

              </font>SetUpPlayers<font color="#000080">;

              </font>SetAllPalette<font color="#000080">(</font>DestroyerPalette<font color="#000080">);
              </font>SetPalette<font color="#000080">(</font><font color="#800000">253</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">);
              </font>SetPalette<font color="#000080">(</font><font color="#800000">254</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
              </font>SetPalette<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);

              </font>HookKeyboardInt<font color="#000080">;


              </font>SelectFont<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);

              </font><font color="#FF0000"><b>Repeat
                    </b></font>BitmapCopy<font color="#000080">(</font>PlanetSeg<font color="#000080">,</font>PlanetOfs<font color="#000080">);
                    </font>DrawPlayerStuff<font color="#000080">;
                    </font>DrawLasers<font color="#000080">;

</font><font color="#008000"><i>{$IFDEF BONUSES}
                    </i></font>DrawBonuses<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}

                    </i></font>Vwait<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
                    </font>CopySourceBitmap <font color="#000080">;


                    </font>MoveShips<font color="#000080">;
                    </font>MoveLasers<font color="#000080">;

</font><font color="#008000"><i>{$IFDEF BONUSES}
                    </i></font>MoveBonuses<font color="#000080">;
</font><font color="#008000"><i>{$ENDIF}

                    </i></font>DoCollisions<font color="#000080">;

                    </font>delay<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);

              </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>keydown<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>PlayersAlive <font color="#000080">&lt;= </font><font color="#800000">1</font><font color="#000080">);


              </font><font color="#008000"><i>{ back to normal crap DOS key reading }

              </i></font>UnHookKeyboardInt<font color="#000080">;

              </font><font color="#FF0000"><b>If </b></font>PlayersAlive <font color="#000080">&lt;= </font><font color="#800000">1 </font><font color="#FF0000"><b>Then
                 Begin

                 </b></font>Memw<font color="#000080">[</font><font color="#800000">$0040</font><font color="#000080">:</font><font color="#800000">$1a</font><font color="#000080">]:=</font>Memw<font color="#000080">[</font><font color="#800000">$0040</font><font color="#000080">:</font><font color="#800000">$1c</font><font color="#000080">];

                 </font>SetAllPalette<font color="#000080">(</font>EmporerPalette<font color="#000080">);

                 </font>BitMapCopy<font color="#000080">(</font>EmporerSeg<font color="#000080">,</font>EmporerOfs<font color="#000080">);
                 </font>SelectFont<font color="#000080">(</font><font color="#800000">6</font><font color="#000080">);

                 </font>SetColour<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">);

                 </font><font color="#008000"><i>{
                 El snido messago (Adjust to suit your peer group)
                 }

                 </i></font><font color="#FF0000"><b>Case </b></font>Random<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">) </font><font color="#FF0000"><b>of
                 </b></font><font color="#800000">0</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Even Paul Langa has scored more !'</font><font color="#000080">;
                 </font><font color="#800000">1</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Stop drinking and you''ll shoot better !'</font><font color="#000080">;
                 </font><font color="#800000">2</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Next time, press the fire button !'</font><font color="#000080">;
                 </font><font color="#800000">3</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Are you sure that you weren''t cheating ?'</font><font color="#000080">;
                 </font><font color="#800000">4</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Come in and meet my daughter, son!'</font><font color="#000080">;
                 </font><font color="#800000">5</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Next time SHOOT the other players !!'</font><font color="#000080">;
                 </font><font color="#800000">6</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Would you like to see my puppies ?'</font><font color="#000080">;
                 </font><font color="#800000">7</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Ian Makin has eyebrows just like these !'</font><font color="#000080">;
                 </font><font color="#800000">9</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'&lt;SPEECHLESS&gt;'</font><font color="#000080">;
                </font><font color="#800000">10</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'What a waste of good hard disk space !'</font><font color="#000080">;
                </font><font color="#800000">11</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Does your maw know you''re here ?'</font><font color="#000080">;
                </font><font color="#800000">12</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'I bet you''re one of Tunstall''s mates !'</font><font color="#000080">;
                </font><font color="#800000">13</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Your performance was pure f***ing crap !'</font><font color="#000080">;
                </font><font color="#800000">14</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Come up and see my etchings, young man !'</font><font color="#000080">;
                </font><font color="#800000">15</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'You sure did kick some ass out there !'</font><font color="#000080">;
                </font><font color="#800000">16</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'I bet you drink Carling Black Label !'</font><font color="#000080">;
                </font><font color="#800000">17</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Err... I love you.'</font><font color="#000080">;
                </font><font color="#800000">18</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'I never liked Dune that much anyway !'</font><font color="#000080">;
                </font><font color="#800000">19</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'Your mum looks like Yoda from Star Wars !'</font><font color="#000080">;
                </font><font color="#800000">20</font><font color="#000080">: </font><font color="#FF0000"><b>Message</b></font><font color="#000080">:=</font><font color="#800000">'I''m buying the rounds tonight son !'</font><font color="#000080">;
                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                 </font>OutTextXY<font color="#000080">( ((</font><font color="#800000">40 </font><font color="#000080">- </font>Length<font color="#000080">(</font><font color="#FF0000"><b>Message</b></font><font color="#000080">))</font><font color="#FF0000"><b>DIV </b></font><font color="#800000">2</font><font color="#000080">) *</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">160</font><font color="#000080">,</font><font color="#FF0000"><b>Message</b></font><font color="#000080">);

                 </font>CopySourceBitmap <font color="#000080">;

                 </font>Delay<font color="#000080">(</font><font color="#800000">2000</font><font color="#000080">);

                 </font>Memw<font color="#000080">[</font><font color="#800000">$0040</font><font color="#000080">:</font><font color="#800000">$1a</font><font color="#000080">]:=</font>Memw<font color="#000080">[</font><font color="#800000">$0040</font><font color="#000080">:</font><font color="#800000">$1c</font><font color="#000080">];
                 </font>TempKey<font color="#000080">:=</font>ReadKey<font color="#000080">;
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

        </font><font color="#FF0000"><b>Until </b></font>Keydown<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];  </font><font color="#008000"><i>{ Until key is definitely ESC }

        {
        Right, deallocate the memory required for the
        game &amp; virtual screens.
        }

        </i></font>FreeBitmap<font color="#000080">(</font>PlanetSeg<font color="#000080">,</font>PlanetOfs<font color="#000080">);

        </font>FreeBitmap<font color="#000080">(</font>titleBitmapSeg<font color="#000080">,</font>TitleBitmapOfs<font color="#000080">);

        </font>FreeBitmap<font color="#000080">(</font>EmporerSeg<font color="#000080">, </font>EmporerOfs<font color="#000080">);

        </font>FreeBitmap<font color="#000080">(</font>ScratchSeg<font color="#000080">,</font>ScratchOfs<font color="#000080">);
        </font><font color="#FF0000"><b>End
   Else
       Begin
       </b></font>Writeln<font color="#000080">;
       </font>Writeln<font color="#000080">(</font><font color="#800000">'Memory allocation error! 400K bytes free on heap needed.'</font><font color="#000080">);
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font><font color="#008000"><i>{ I love you all !!! ;) }</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MISC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0189.PAS">Original</a><b>]</b></p></body>
</html>
