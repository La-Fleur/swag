<html>
<head><title> "Locking Hard Drives" by M. MOELING</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0087.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
: Is there a way that I can cut off all access to a hard drive in bp7.
: I mean like a security program that if you don't enter the right Password
: then it won't let you even read the HD... Is there a Dos function or
: something?

From: martijn@arbor.gds.nl (M. Moeling)
}

</i></font><font color="#FF0000"><b>program </b></font>x<font color="#000080">;
</font><font color="#008000"><i>{$M 1024,0,0} {only if you use the keep 0}

</i></font><font color="#FF0000"><b>procedure </b></font>kill_int_13h<font color="#000080">; </font>interrupt<font color="#000080">;

</font><font color="#FF0000"><b>begin
end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  if not</b></font><font color="#000080">(</font>get_password<font color="#000080">) </font><font color="#FF0000"><b>then   </b></font><font color="#008000"><i>{funtion that will get the password}
  </i></font><font color="#FF0000"><b>begin
     </b></font>setintvec<font color="#000080">(</font><font color="#800000">$13</font><font color="#000080">,@</font>kill_int_13h<font color="#000080">);
     </font>keep <font color="#800000">0</font><font color="#000080">;   </font><font color="#008000"><i>{if you want to return to dos}
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{
  the rest of your program
}
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#008000"><i>{
int 13h is your hd interrupt. Dos uses functions of this int to manage you hd,
now you tp procedure does the job and returns without doing anything.
}</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0087.PAS">Original</a><b>]</b></p></body>
</html>
