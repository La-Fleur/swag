<html>
<head><title> "DISK SERIAL" by JON JASIUNAS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0048.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{===========================================================================
Date: 08-22-93 (01:50)             Number: 35568
From: JON JASIUNAS                 Refer#: NONE
Subj: SERIAL # OF DISK               Conf: (1221) F-PASCAL
--------------------------------------------------------------------------- }

  </i></font><font color="#FF0000"><b>Uses </b></font>DOS<font color="#000080">, </font>CRT<font color="#000080">;
  </font><font color="#FF0000"><b>Type </b></font>MIDRecord <font color="#000080">= </font><font color="#FF0000"><b>Record
     </b></font>InfoLevel <font color="#000080">: </font>Word<font color="#000080">;
     </font>SerialNum <font color="#000080">: </font>LongInt<font color="#000080">;   </font><font color="#008000"><i>{This is the serial number...}
     </i></font>VolLabel  <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">11</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Char<font color="#000080">;
     </font>FatType   <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">8</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Char<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Function </b></font>Label_Fat<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>Mid <font color="#000080">: </font>MidRecord<font color="#000080">; </font>Drive <font color="#000080">: </font>Word<font color="#000080">) : </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Result <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Regs   <font color="#000080">: </font>Registers<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>FillChar<font color="#000080">(</font>Mid<font color="#000080">,</font>SizeOf<font color="#000080">(</font>Mid<font color="#000080">),</font><font color="#800000">0</font><font color="#000080">);
     </font>FillChar<font color="#000080">(</font>Regs<font color="#000080">,</font>SizeOf<font color="#000080">(</font>Regs<font color="#000080">),</font><font color="#800000">0</font><font color="#000080">);
     </font><font color="#FF0000"><b>With </b></font>Regs <font color="#FF0000"><b>DO
     Begin
          </b></font>AX <font color="#000080">:= </font><font color="#800000">$440D</font><font color="#000080">;
          </font>BX <font color="#000080">:= </font>Drive<font color="#000080">;
          </font>CX <font color="#000080">:= </font><font color="#800000">$0866</font><font color="#000080">;
          </font>DS <font color="#000080">:= </font>Seg<font color="#000080">(</font>Mid<font color="#000080">);
          </font>DX <font color="#000080">:= </font>Ofs<font color="#000080">(</font>Mid<font color="#000080">);
          </font>Intr<font color="#000080">(</font><font color="#800000">$21</font><font color="#000080">,</font>Regs<font color="#000080">);
          </font><font color="#FF0000"><b>Case </b></font>AX <font color="#FF0000"><b>of
               </b></font><font color="#800000">$01 </font><font color="#000080">: </font>Label_Fat <font color="#000080">:= </font>False<font color="#000080">;
               </font><font color="#800000">$02 </font><font color="#000080">: </font>Label_Fat <font color="#000080">:= </font>False<font color="#000080">;
               </font><font color="#800000">$05 </font><font color="#000080">: </font>Label_Fat <font color="#000080">:= </font>False<font color="#000080">;
               </font><font color="#FF0000"><b>Else </b></font>Label_Fat <font color="#000080">:= </font>True<font color="#000080">;
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var </b></font>Mid <font color="#000080">: </font>MidRecord<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>ClrScr<font color="#000080">;
     </font><font color="#FF0000"><b>If </b></font>Label_Fat<font color="#000080">(</font>Mid<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Then
     With </b></font>Mid <font color="#FF0000"><b>DO
     Begin
          </b></font>Writeln<font color="#000080">(</font>SerialNum<font color="#000080">);
          </font>Writeln<font color="#000080">(</font>VolLabel<font color="#000080">);
          </font>Writeln<font color="#000080">(</font>FatType<font color="#000080">);
     </font><font color="#FF0000"><b>End
     Else </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Error Occured'</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0048.PAS">Original</a><b>]</b></p></body>
</html>
