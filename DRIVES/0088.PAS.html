<html>
<head><title> "Detect Disk Protected Tab" by MAYNARD PHILBROOK</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0088.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; Didn't work. It only checks if the file is there(???) not if the flo
&gt; write-protected. Did I mis understand your suggestion?

 Yes i think we must have got our wires crossed, i thunk i was
replying to a request to see if a file exist,  i would have
no reason for telling use the GetFattr to check for a Write
protected disk, that has to be done by getting the Device Statues.
}
</i></font><font color="#FF0000"><b>Function </b></font>DiskProtected<font color="#000080">:</font>Boolean<font color="#000080">;
 </font><font color="#FF0000"><b>Begin
  ASm
   </b></font><font color="#FF00FF">Mov AH,01;
   mov dl, 0; </font><font color="#008000"><i>{ 0= A:, 1= B: ect }
   </i></font><font color="#FF00FF">int $13;
   cmp AL, 03;
   Jne @No;
   Mov AL, True;
   Je @done;
@No:
   Xor AL,AL;
@Done:
  Endl
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Example: }

</i></font><font color="#FF0000"><b>if </b></font>Diskprotected <font color="#FF0000"><b>Then </b></font>Write<font color="#000080">(</font><font color="#800000">' Write protect was used on last operation'</font><font color="#000080">);
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0088.PAS">Original</a><b>]</b></p></body>
</html>
