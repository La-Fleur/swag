<html>
<head><title> "Absolute Disk Sectors" by EDDY THILLEMAN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0102.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#FF0000"><b>FUNCTION </b></font>ReadSector<font color="#000080">(</font>drive<font color="#000080">, </font>head<font color="#000080">, </font>track<font color="#000080">, </font>sector <font color="#000080">: </font>Byte<font color="#000080">; </font>buff<font color="#000080">: </font>Pointer<font color="#000080">): </font>Byte<font color="#000080">;
</font><font color="#008000"><i>{ drive = 0 for drive A:, 1 = B:,   }
{ 80h = first hard drive.           }
</i></font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">; </font><font color="#FF0000"><b>ASM
    </b></font><font color="#FF00FF">mov  ax, 0201h      </font><font color="#008000"><i>{ read 1 sector }
    </i></font><font color="#FF00FF">les  bx, [buff]     </font><font color="#008000"><i>{ es:bx -&gt; buffer }
    </i></font><font color="#FF00FF">mov  ch, [track]
    mov  cl, [sector]
    mov  dh, [head]
    mov  dl, [drive]
    int  13h
    mov  al, ah         </font><font color="#008000"><i>{ status result in al }
</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>FUNCTION </b></font>WriteSector<font color="#000080">(</font>drive<font color="#000080">, </font>head<font color="#000080">, </font>track<font color="#000080">, </font>sector <font color="#000080">: </font>Byte<font color="#000080">; </font>buff<font color="#000080">: </font>Pointer<font color="#000080">): </font>Byte<font color="#000080">;
</font><font color="#008000"><i>{ drive = 0 for drive A:, 1 = B:,   }
{ 80h = first hard drive.           }
</i></font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">; </font><font color="#FF0000"><b>ASM
    </b></font><font color="#FF00FF">mov  ax, 0301h      </font><font color="#008000"><i>{ read 1 sector }
    </i></font><font color="#FF00FF">les  bx, [buff]     </font><font color="#008000"><i>{ es:bx -&gt; buffer }
    </i></font><font color="#FF00FF">mov  ch, [track]
    mov  cl, [sector]
    mov  dh, [head]
    mov  dl, [drive]
    int  13h
    mov  al, ah         </font><font color="#008000"><i>{ status result in al }
</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0102.PAS">Original</a><b>]</b></p></body>
</html>
