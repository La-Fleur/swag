<html>
<head><title> "FCBLABELS - Disk Serial" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0026.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>UNIT </b></font>FCBLabel<font color="#000080">;
</font><font color="#008000"><i>{Turbo Pascal unit for manipulating volume labels}

</i></font><font color="#FF0000"><b>INTERFACE
USES
    </b></font>DOS<font color="#000080">;
</font><font color="#FF0000"><b>TYPE
    </b></font>DriveType   <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
    </font>DiskIDType  <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">11</font><font color="#000080">];

</font><font color="#FF0000"><b>FUNCTION </b></font>GetDiskID<font color="#000080">(</font>Drive<font color="#000080">:</font>DriveType<font color="#000080">): </font>DiskIDType<font color="#000080">;
</font><font color="#FF0000"><b>FUNCTION </b></font>SetDiskID<font color="#000080">(</font>Drive<font color="#000080">:</font>DriveType<font color="#000080">;
                    </font>DiskID<font color="#000080">:</font>DiskIDType<font color="#000080">): </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>FUNCTION </b></font>ReNameDiskID<font color="#000080">(</font>Drive<font color="#000080">:</font>DriveType<font color="#000080">;
                   </font>OldDiskID<font color="#000080">:</font>DiskIDType<font color="#000080">;
                   </font>NewDiskID<font color="#000080">:</font>DiskIDType<font color="#000080">): </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>FUNCTION </b></font>DeleteDiskID<font color="#000080">(</font>Drive<font color="#000080">:</font>DriveType<font color="#000080">): </font>Boolean<font color="#000080">;

</font><font color="#FF0000"><b>IMPLEMENTATION
TYPE
    </b></font>ExtendedFCBRecord <font color="#000080">= </font><font color="#FF0000"><b>RECORD
               </b></font>ExtFCB <font color="#000080">: </font>Byte<font color="#000080">;
               </font>Res1   <font color="#000080">: </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">5</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>Byte<font color="#000080">;
               </font>Attr   <font color="#000080">: </font>Byte<font color="#000080">;
               </font>Drive  <font color="#000080">: </font>Byte<font color="#000080">;
               </font>Name1  <font color="#000080">: </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">11</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>Char<font color="#000080">;
               </font>Unused1<font color="#000080">: </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">5</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>Char<font color="#000080">;
               </font>Name2  <font color="#000080">: </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">11</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>Char<font color="#000080">;
               </font>Unused2<font color="#000080">: </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">9</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>Byte<font color="#000080">;
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>GetDiskID<font color="#000080">(</font>Drive<font color="#000080">:</font>DriveType<font color="#000080">): </font>DiskIDType<font color="#000080">;
</font><font color="#FF0000"><b>VAR
   </b></font>DirInfo     <font color="#000080">: </font>SearchRec<font color="#000080">;
   </font>DirDiskID   <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">12</font><font color="#000080">];
   </font>I<font color="#000080">,</font>PosPeriod <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
   </b></font>FindFirst<font color="#000080">(</font>Drive<font color="#000080">+</font><font color="#800000">':\'</font><font color="#000080">+</font><font color="#800000">'*.*'</font><font color="#000080">,</font>VolumeID<font color="#000080">,</font>DirInfo<font color="#000080">);
   </font><font color="#FF0000"><b>IF </b></font>DosError <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
      BEGIN
         </b></font>DirDiskID <font color="#000080">:= </font>DirInfo<font color="#000080">.</font>Name<font color="#000080">;
         </font>PosPeriod <font color="#000080">:= </font>POS<font color="#000080">(</font><font color="#800000">'.'</font><font color="#000080">,</font>DirDiskID<font color="#000080">);
         </font><font color="#FF0000"><b>IF </b></font>PosPeriod <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
            </b></font>Delete<font color="#000080">(</font>DirDiskID<font color="#000080">,</font>PosPeriod<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
         </font>GetDiskID <font color="#000080">:= </font>DirDiskID
      <font color="#FF0000"><b>END
   ELSE
      </b></font>GetDiskID <font color="#000080">:= </font><font color="#800000">''
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#008000"><i>{Use MsDos service 16H to SET a volume label }
</i></font><font color="#FF0000"><b>FUNCTION </b></font>SetDiskID<font color="#000080">(</font>Drive<font color="#000080">:</font>DriveType<font color="#000080">;
                    </font>DiskID<font color="#000080">:</font>DiskIDType<font color="#000080">): </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>VAR
   </b></font>FCB  <font color="#000080">: </font>ExtendedFCBRecord<font color="#000080">;
   </font>Regs <font color="#000080">: </font>Registers<font color="#000080">;
   </font>Temp <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
   </font>I    <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
   </b></font>Temp <font color="#000080">:= </font>Drive<font color="#000080">;
   </font><font color="#FF0000"><b>WITH </b></font>FCB <font color="#FF0000"><b>DO
     BEGIN
       </b></font>ExtFCB <font color="#000080">:= </font><font color="#800000">$FF</font><font color="#000080">;
       </font>Attr   <font color="#000080">:= </font><font color="#800000">$8</font><font color="#000080">;
       </font>Drive  <font color="#000080">:= </font>Ord<font color="#000080">(</font>UpCase<font color="#000080">(</font>Temp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">])) - </font><font color="#800000">64</font><font color="#000080">;
       </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>Length<font color="#000080">(</font>DiskID<font color="#000080">) </font><font color="#FF0000"><b>DO
         </b></font>Name1<font color="#000080">[</font>I<font color="#000080">] := </font>DiskID<font color="#000080">[</font>I<font color="#000080">];
         </font><font color="#FF0000"><b>IF </b></font>Length<font color="#000080">(</font>DiskID<font color="#000080">) &lt; </font><font color="#800000">11 </font><font color="#FF0000"><b>THEN
           FOR </b></font>I <font color="#000080">:= (</font>Length<font color="#000080">(</font>DiskID<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>TO </b></font><font color="#800000">11 </font><font color="#FF0000"><b>DO
             </b></font>Name1<font color="#000080">[</font>I<font color="#000080">] := </font><font color="#800000">' '
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
   </font>Regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">$16</font><font color="#000080">;
   </font>Regs<font color="#000080">.</font>ds <font color="#000080">:= </font>Seg<font color="#000080">(</font>FCB<font color="#000080">);
   </font>Regs<font color="#000080">.</font>dx <font color="#000080">:= </font>Ofs<font color="#000080">(</font>FCB<font color="#000080">);
   </font>MsDos<font color="#000080">(</font>Regs<font color="#000080">);
   </font><font color="#FF0000"><b>IF </b></font>Regs<font color="#000080">.</font>AL <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
      </b></font>SetDiskID <font color="#000080">:= </font>TRUE
   <font color="#FF0000"><b>ELSE
      </b></font>SetDiskID <font color="#000080">:= </font>FALSE
<font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#008000"><i>{use MsDOS service 17H to RENAME a volume label }
</i></font><font color="#FF0000"><b>FUNCTION </b></font>ReNameDiskID<font color="#000080">(</font>Drive<font color="#000080">:</font>DriveType<font color="#000080">;
                   </font>OldDiskID<font color="#000080">:</font>DiskIDType <font color="#000080">;
                   </font>NewDiskID<font color="#000080">:</font>DiskIDType<font color="#000080">): </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>VAR
   </b></font>FCB  <font color="#000080">: </font>ExtendedFCBRecord<font color="#000080">;
   </font>Regs <font color="#000080">: </font>Registers<font color="#000080">;
   </font>Temp <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
   </font>I    <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>Temp <font color="#000080">:= </font>Drive<font color="#000080">;
  </font><font color="#FF0000"><b>WITH </b></font>FCB <font color="#FF0000"><b>DO
    BEGIN
      </b></font>ExtFCB <font color="#000080">:= </font><font color="#800000">$FF</font><font color="#000080">;
      </font>Attr   <font color="#000080">:= </font><font color="#800000">$8</font><font color="#000080">;
      </font>Drive  <font color="#000080">:= </font>Ord<font color="#000080">(</font>UpCase<font color="#000080">(</font>Temp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">])) - </font><font color="#800000">64</font><font color="#000080">;

      </font><font color="#008000"><i>{Set old disk id}

      </i></font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>Length<font color="#000080">(</font>OldDiskID<font color="#000080">) </font><font color="#FF0000"><b>DO
        </b></font>Name1<font color="#000080">[</font>I<font color="#000080">] := </font>OldDiskID<font color="#000080">[</font>I<font color="#000080">];
      </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= (</font>Length<font color="#000080">(</font>OldDiskID<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>TO </b></font><font color="#800000">11 </font><font color="#FF0000"><b>DO
        </b></font>Name1<font color="#000080">[</font>I<font color="#000080">] := </font><font color="#800000">' '</font><font color="#000080">;

      </font><font color="#008000"><i>{Set new disk id}

      </i></font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>Length<font color="#000080">(</font>NewDiskID<font color="#000080">) </font><font color="#FF0000"><b>DO
        </b></font>Name2<font color="#000080">[</font>I<font color="#000080">] := </font>NewDiskID<font color="#000080">[</font>I<font color="#000080">];
      </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= (</font>Length<font color="#000080">(</font>NewDiskID<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>TO </b></font><font color="#800000">11 </font><font color="#FF0000"><b>DO
        </b></font>Name2<font color="#000080">[</font>I<font color="#000080">] := </font><font color="#800000">' '
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font>Regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">$17</font><font color="#000080">;
  </font>Regs<font color="#000080">.</font>ds <font color="#000080">:= </font>Seg<font color="#000080">(</font>FCB<font color="#000080">);
  </font>Regs<font color="#000080">.</font>dx <font color="#000080">:= </font>Ofs<font color="#000080">(</font>FCB<font color="#000080">);
  </font>MsDos<font color="#000080">(</font>Regs<font color="#000080">);
  </font><font color="#FF0000"><b>IF </b></font>Regs<font color="#000080">.</font>AL <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
     </b></font>ReNameDiskID <font color="#000080">:= </font>TRUE
  <font color="#FF0000"><b>ELSE
     </b></font>ReNameDiskID <font color="#000080">:= </font>FALSE
<font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#008000"><i>{Use MsDos service 13H DELETE a volume label }

</i></font><font color="#FF0000"><b>FUNCTION </b></font>DeleteDiskID<font color="#000080">(</font>Drive<font color="#000080">:</font>DriveType<font color="#000080">): </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>VAR
  </b></font>FCB  <font color="#000080">: </font>ExtendedFCBRecord<font color="#000080">;
  </font>Regs <font color="#000080">: </font>Registers<font color="#000080">;
  </font>Temp <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
  </font>I    <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>Temp <font color="#000080">:= </font>Drive<font color="#000080">;
  </font><font color="#FF0000"><b>WITH </b></font>FCB <font color="#FF0000"><b>DO
    BEGIN
      </b></font>ExtFCB <font color="#000080">:= </font><font color="#800000">$FF</font><font color="#000080">;
      </font>Attr   <font color="#000080">:= </font><font color="#800000">$8</font><font color="#000080">;
      </font>Drive  <font color="#000080">:= </font>Ord<font color="#000080">(</font>UpCase<font color="#000080">(</font>Temp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">])) - </font><font color="#800000">64</font><font color="#000080">;
      </font>Name1<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">'*'</font><font color="#000080">;
      </font>Name1<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] := </font><font color="#800000">'.'</font><font color="#000080">;
      </font>Name1<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">] := </font><font color="#800000">'*'</font><font color="#000080">;
      </font><font color="#FF0000"><b>FOR </b></font>I <font color="#000080">:= </font><font color="#800000">4 </font><font color="#FF0000"><b>TO </b></font><font color="#800000">11 </font><font color="#FF0000"><b>DO </b></font>Name1<font color="#000080">[</font>I<font color="#000080">] := </font><font color="#800000">' '
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font>Regs<font color="#000080">.</font>ah <font color="#000080">:= </font><font color="#800000">$13</font><font color="#000080">;
  </font>Regs<font color="#000080">.</font>ds <font color="#000080">:= </font>Seg<font color="#000080">(</font>FCB<font color="#000080">);
  </font>Regs<font color="#000080">.</font>dx <font color="#000080">:= </font>Ofs<font color="#000080">(</font>FCB<font color="#000080">);
  </font>MsDos<font color="#000080">(</font>Regs<font color="#000080">);
  </font><font color="#FF0000"><b>IF </b></font>Regs<font color="#000080">.</font>AL <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
     </b></font>DeleteDiskID <font color="#000080">:= </font>TRUE
  <font color="#FF0000"><b>ELSE
     </b></font>DeleteDiskID <font color="#000080">:= </font>FALSE
<font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">.

</font><font color="#008000"><i>{ ---------------    TEST PROGRAM -------------------}


</i></font><font color="#FF0000"><b>PROGRAM </b></font>TestFCB<font color="#000080">;

</font><font color="#008000"><i>{ test FCBLabel UNIT}

</i></font><font color="#FF0000"><b>USES  </b></font>CRT<font color="#000080">,</font>FCBLabel<font color="#000080">;

</font><font color="#FF0000"><b>VAR
   </b></font>Choice      <font color="#000080">: </font>Byte<font color="#000080">;
   </font>Drive       <font color="#000080">: </font>DriveType<font color="#000080">;
   </font>DiskID      <font color="#000080">: </font>DiskIDType<font color="#000080">;
   </font>NewDiskID   <font color="#000080">: </font>DiskIDType<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
  REPEAT </b></font><font color="#008000"><i>{Endless loop - select option 5 to Exit}
    </i></font>ClrScr<font color="#000080">;
    </font>GotoXY<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);  </font>WriteLn<font color="#000080">(</font><font color="#800000">'Volume Functions'</font><font color="#000080">);
    </font>GotoXY<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">);  </font>WriteLn<font color="#000080">(</font><font color="#800000">'1) SET LABEL'</font><font color="#000080">);
    </font>GotoXY<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">); </font>WriteLn<font color="#000080">(</font><font color="#800000">'2) DELETE LABEL'</font><font color="#000080">);
    </font>GotoXY<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">); </font>WriteLn<font color="#000080">(</font><font color="#800000">'3) RENAME LABEL'</font><font color="#000080">);
    </font>GotoXY<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">); </font>WriteLn<font color="#000080">(</font><font color="#800000">'4) GET LABEL'</font><font color="#000080">);
    </font>GotoXY<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">); </font>WriteLn<font color="#000080">(</font><font color="#800000">'5) Exit'</font><font color="#000080">);
    </font>GotoXY<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">15</font><font color="#000080">);
    </font>Write<font color="#000080">(</font><font color="#800000">'Type number and press Enter &gt; '</font><font color="#000080">);
    </font>ReadLn<font color="#000080">(</font>Choice<font color="#000080">); </font>WriteLn<font color="#000080">;
    </font>Drive <font color="#000080">:= </font><font color="#800000">'C'</font><font color="#000080">;   </font><font color="#008000"><i>{ use drive C: as test drive }

    </i></font><font color="#FF0000"><b>CASE </b></font>Choice <font color="#FF0000"><b>OF
    </b></font><font color="#800000">1</font><font color="#000080">: </font><font color="#FF0000"><b>BEGIN  </b></font><font color="#008000"><i>{Set volume LABEL}
        </i></font>DiskID <font color="#000080">:= </font>GetDiskID<font color="#000080">(</font>Drive<font color="#000080">);
          </font><font color="#FF0000"><b>IF </b></font>DiskID <font color="#000080">&lt;&gt; </font><font color="#800000">'' </font><font color="#FF0000"><b>THEN
            BEGIN
              </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'Label not null: '</font><font color="#000080">,</font>DiskID<font color="#000080">);
              </font>WriteLn<font color="#000080">(</font><font color="#800000">'Use RENAME instead'</font><font color="#000080">);
              </font>WriteLn<font color="#000080">(</font><font color="#800000">'Press Enter to continue'</font><font color="#000080">);
              </font>ReadLn
            <font color="#FF0000"><b>END
          ELSE
            BEGIN
              </b></font>Write<font color="#000080">(</font><font color="#800000">'Enter new label &gt; '</font><font color="#000080">);
              </font>ReadLn<font color="#000080">(</font>DiskID<font color="#000080">);
              </font><font color="#FF0000"><b>IF NOT </b></font>SetDiskID<font color="#000080">(</font>Drive<font color="#000080">,</font>DiskID<font color="#000080">) </font><font color="#FF0000"><b>THEN
                BEGIN
                  </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'System Error'</font><font color="#000080">);
                  </font>WriteLn
                     <font color="#000080">(</font><font color="#800000">'Press Enter to continue'</font><font color="#000080">);
                  </font>ReadLn
                <font color="#FF0000"><b>END
            END
          END</b></font><font color="#000080">;
     </font><font color="#800000">2</font><font color="#000080">: </font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>{Delete Volume LABEL}
          </i></font><font color="#FF0000"><b>IF </b></font>DeleteDiskID<font color="#000080">(</font>Drive<font color="#000080">) </font><font color="#FF0000"><b>THEN
            </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'Volume label deleted'</font><font color="#000080">)
          </font><font color="#FF0000"><b>ELSE
            </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'System Error'</font><font color="#000080">);
          </font>WriteLn<font color="#000080">(</font><font color="#800000">'Press Enter to continue'</font><font color="#000080">);
          </font>ReadLn
        <font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#800000">3</font><font color="#000080">: </font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>{Rename Volume LABEL}
          </i></font>DiskID <font color="#000080">:= </font>GetDiskID<font color="#000080">(</font>Drive<font color="#000080">);
          </font><font color="#FF0000"><b>IF </b></font>DiskID <font color="#000080">= </font><font color="#800000">'' </font><font color="#FF0000"><b>THEN
            BEGIN
              </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'Current label is null:'</font><font color="#000080">);
              </font>WriteLn<font color="#000080">(</font><font color="#800000">'Use SET option instead'</font><font color="#000080">);
              </font>WriteLn<font color="#000080">(</font><font color="#800000">'Press Enter to continue'</font><font color="#000080">);
              </font>ReadLn
            <font color="#FF0000"><b>END
          ELSE
            BEGIN
              </b></font>Write<font color="#000080">(</font><font color="#800000">'Enter new name of label &gt; '</font><font color="#000080">);
              </font>ReadLn<font color="#000080">(</font>NewDiskID<font color="#000080">);
              </font><font color="#FF0000"><b>IF NOT </b></font>ReNameDiskID
                     <font color="#000080">(</font>Drive<font color="#000080">,</font>DiskID<font color="#000080">,</font>NewDiskID<font color="#000080">) </font><font color="#FF0000"><b>THEN
                BEGIN
                  </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'System Error'</font><font color="#000080">);
                  </font>WriteLn
                     <font color="#000080">(</font><font color="#800000">'Press Enter to continue'</font><font color="#000080">);
                  </font>ReadLn
                <font color="#FF0000"><b>END
            END
        END</b></font><font color="#000080">;
     </font><font color="#800000">4</font><font color="#000080">: </font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>{Get Volume LABEL}
          </i></font>DiskID <font color="#000080">:= </font>GetDiskID<font color="#000080">(</font>Drive<font color="#000080">);
          </font>Write<font color="#000080">(</font><font color="#800000">'The current label is '</font><font color="#000080">);
          </font><font color="#FF0000"><b>IF </b></font>DiskID <font color="#000080">= </font><font color="#800000">'' </font><font color="#FF0000"><b>THEN
            </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'null'</font><font color="#000080">)
          </font><font color="#FF0000"><b>ELSE
            </b></font>WriteLn<font color="#000080">(</font>DiskID<font color="#000080">);
            </font>WriteLn<font color="#000080">(</font><font color="#800000">'Press Enter to continue'</font><font color="#000080">);
            </font>ReadLn
        <font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#800000">5</font><font color="#000080">: </font>Halt<font color="#000080">;
     </font><font color="#FF0000"><b>ELSE   </b></font><font color="#008000"><i>{ continue }
    </i></font><font color="#FF0000"><b>END     </b></font><font color="#008000"><i>{ case }
  </i></font><font color="#FF0000"><b>UNTIL </b></font>FALSE
<font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DRIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0026.PAS">Original</a><b>]</b></p></body>
</html>
