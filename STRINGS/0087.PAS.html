<html>
<head><title> "number conversion" by MARIO POLYCARPOU</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to STRINGS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0087.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
 JS&gt; I, remember way back which could be a while I saw a basic routine
 JS&gt; that would convert numbers to their written form like 120= one
 JS&gt; hundred and twenty. If anyone has such a routine it would be
 JS&gt; appreciated..


 This was quite a challenge..I did find a bug so have a look at the
 test. To really put this to the test you'd have to get it to return
 every single number (0-64K) and observe the output.


{Returns the written format of any number between 0-65535}
{ Could be useful in a checkbook program }

</i></font><font color="#FF0000"><b>USES </b></font>Crt<font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------------}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>LZ<font color="#000080">(</font>Num<font color="#000080">:</font>Word<font color="#000080">; </font>Times<font color="#000080">:</font>Byte<font color="#000080">; </font>Ch<font color="#000080">:</font>Char<font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>VAR </b></font>S<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
 </b></font>Str<font color="#000080">(</font>Num<font color="#000080">,</font>S<font color="#000080">); </font><font color="#FF0000"><b>WHILE </b></font>Length<font color="#000080">(</font>S<font color="#000080">)&lt;</font>Times <font color="#FF0000"><b>DO </b></font>S<font color="#000080">:=</font>Ch<font color="#000080">+</font>S<font color="#000080">; </font>LZ<font color="#000080">:=</font>S<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------------------------------------}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>Convert<font color="#000080">(</font>Num<font color="#000080">:</font>Word<font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>CONST
 </b></font>Hu<font color="#000080">=</font><font color="#800000">'hundred'</font><font color="#000080">; </font>Th<font color="#000080">=</font><font color="#800000">'thousand'</font><font color="#000080">;
 </font>Units<font color="#000080">:</font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">9</font><font color="#000080">] </font><font color="#FF0000"><b>OF String</b></font><font color="#000080">[</font><font color="#800000">5</font><font color="#000080">]=   </font><font color="#008000"><i>{60 bytes}
 </i></font><font color="#000080">(</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">'one'</font><font color="#000080">,</font><font color="#800000">'two'</font><font color="#000080">,</font><font color="#800000">'three'</font><font color="#000080">,</font><font color="#800000">'four'</font><font color="#000080">,</font><font color="#800000">'five'</font><font color="#000080">,</font><font color="#800000">'six'</font><font color="#000080">,</font><font color="#800000">'seven'</font><font color="#000080">,</font><font color="#800000">'eight'</font><font color="#000080">,</font><font color="#800000">'nine'</font><font color="#000080">);
 </font>Tens<font color="#000080">:</font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">9</font><font color="#000080">] </font><font color="#FF0000"><b>OF String</b></font><font color="#000080">[</font><font color="#800000">7</font><font color="#000080">]=    </font><font color="#008000"><i>{80 bytes}
 </i></font><font color="#000080">(</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">'ten,'</font><font color="#000080">,</font><font color="#800000">'twenty'</font><font color="#000080">,</font><font color="#800000">'thirty'</font><font color="#000080">,</font><font color="#800000">'fourty'</font><font color="#000080">,</font><font color="#800000">'fifty'</font><font color="#000080">,</font><font color="#800000">'sixty'</font><font color="#000080">,</font><font color="#800000">'seventy'</font><font color="#000080">,</font><font color="#800000">'eighty'</font><font color="#000080">,
 </font><font color="#800000">'ninety'</font><font color="#000080">);
 </font>Ones<font color="#000080">:</font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">9</font><font color="#000080">] </font><font color="#FF0000"><b>OF String</b></font><font color="#000080">[</font><font color="#800000">9</font><font color="#000080">]=    </font><font color="#008000"><i>{100 bytes}
 </i></font><font color="#000080">(</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">'eleven'</font><font color="#000080">,</font><font color="#800000">'twelve'</font><font color="#000080">,</font><font color="#800000">'thirteen'</font><font color="#000080">,</font><font color="#800000">'fourteen'</font><font color="#000080">,</font><font color="#800000">'fifteen'</font><font color="#000080">,</font><font color="#800000">'sixteen'</font><font color="#000080">,
  </font><font color="#800000">'seventeen'</font><font color="#000080">,</font><font color="#800000">'eighteen'</font><font color="#000080">,</font><font color="#800000">'nineteen'</font><font color="#000080">);
</font><font color="#FF0000"><b>VAR </b></font>S1<font color="#000080">,</font>S2<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>X<font color="#000080">:</font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
 </b></font>S1<font color="#000080">:=</font>LZ<font color="#000080">(</font>Num<font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">' '</font><font color="#000080">); </font>S2<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">;
 </font><font color="#FF0000"><b>FOR </b></font>Num<font color="#000080">:=</font>Length<font color="#000080">(</font>S1<font color="#000080">) </font><font color="#FF0000"><b>DOWNTO </b></font><font color="#800000">1 </font><font color="#FF0000"><b>DO
  IF </b></font>S1<font color="#000080">[</font>Num<font color="#000080">]&lt;&gt;</font><font color="#800000">' ' </font><font color="#FF0000"><b>THEN
   BEGIN
    </b></font>X<font color="#000080">:=</font>Ord<font color="#000080">(</font>S1<font color="#000080">[</font>Num<font color="#000080">])-</font><font color="#800000">48</font><font color="#000080">;
    </font><font color="#FF0000"><b>CASE </b></font>Num <font color="#FF0000"><b>OF
     </b></font><font color="#800000">1</font><font color="#000080">: </font>S2<font color="#000080">:=</font>Tens<font color="#000080">[</font>X<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">+</font>S2<font color="#000080">;
     </font><font color="#800000">2</font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>S1<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]=</font><font color="#800000">'1' </font><font color="#FF0000"><b>THEN
         BEGIN
          </b></font>S2<font color="#000080">:=</font>Ones<font color="#000080">[</font>X<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">+</font>Th<font color="#000080">+</font><font color="#800000">' '</font><font color="#000080">+</font>S2<font color="#000080">; </font>Break<font color="#000080">;
         </font><font color="#FF0000"><b>END ELSE </b></font>S2<font color="#000080">:=</font>Units<font color="#000080">[</font>X<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">+</font>Th<font color="#000080">+</font><font color="#800000">' '</font><font color="#000080">+</font>S2<font color="#000080">;
     </font><font color="#800000">3</font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>S1<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">]=</font><font color="#800000">'0' </font><font color="#FF0000"><b>THEN
         BEGIN
          IF </b></font><font color="#000080">(</font>S1<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]&lt;&gt;</font><font color="#800000">'0'</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>S1<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]&lt;&gt;</font><font color="#800000">' '</font><font color="#000080">) </font><font color="#FF0000"><b>THEN </b></font>S2<font color="#000080">:=</font><font color="#800000">'and '</font><font color="#000080">+</font>S2<font color="#000080">;
         </font><font color="#FF0000"><b>END ELSE
          IF </b></font>S1<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">]&lt;&gt;</font><font color="#800000">'0' </font><font color="#FF0000"><b>THEN </b></font>S2<font color="#000080">:=</font>Units<font color="#000080">[</font>X<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">+</font>Hu<font color="#000080">+</font><font color="#800000">' and '</font><font color="#000080">+</font>S2
           <font color="#FF0000"><b>ELSE </b></font>S2<font color="#000080">:=</font>Units<font color="#000080">[</font>X<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">+</font>Hu<font color="#000080">;
     </font><font color="#800000">4</font><font color="#000080">: </font>S2<font color="#000080">:=</font>Tens<font color="#000080">[</font>X<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">+</font>S2<font color="#000080">;
     </font><font color="#800000">5</font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font>S1<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">]=</font><font color="#800000">'1' </font><font color="#FF0000"><b>THEN
         BEGIN
          </b></font>S2<font color="#000080">:=</font>Ones<font color="#000080">[</font>X<font color="#000080">]; </font>Break<font color="#000080">;
         </font><font color="#FF0000"><b>END ELSE </b></font>S2<font color="#000080">:=</font>Units<font color="#000080">[</font>X<font color="#000080">];
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font>Convert<font color="#000080">:=</font>S2<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------------------------------------}
</i></font><font color="#FF0000"><b>BEGIN
 </b></font>ClrScr<font color="#000080">;
 </font>Writeln<font color="#000080">(</font>Convert<font color="#000080">(</font><font color="#800000">23452</font><font color="#000080">));     </font><font color="#008000"><i>{ok}
 </i></font>Writeln<font color="#000080">(</font>Convert<font color="#000080">(</font><font color="#800000">60201</font><font color="#000080">));    </font><font color="#008000"><i>{Bug!}
 </i></font>Writeln<font color="#000080">(</font>Convert<font color="#000080">(</font><font color="#800000">9900</font><font color="#000080">));      </font><font color="#008000"><i>{ok}
 </i></font>Writeln<font color="#000080">(</font>Convert<font color="#000080">(</font><font color="#800000">534</font><font color="#000080">));       </font><font color="#008000"><i>{ok}
 </i></font>Writeln<font color="#000080">(</font>Convert<font color="#000080">(</font><font color="#800000">18770</font><font color="#000080">));     </font><font color="#008000"><i>{ok}
 </i></font>Writeln<font color="#000080">(</font>Convert<font color="#000080">(</font><font color="#800000">4</font><font color="#000080">));         </font><font color="#008000"><i>{ok}
</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to STRINGS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0087.PAS">Original</a><b>]</b></p></body>
</html>
