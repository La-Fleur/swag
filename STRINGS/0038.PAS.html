<html>
<head><title> ""IF" Boolean processing" by MARTIN RICHARDSON</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to STRINGS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0038.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{*****************************************************************************
 * Function ...... CIF()
 * Purpose ....... To return a character based on a boolean expression
 * Parameters .... Exp        Boolean expression to evaluate
 *                 tVar       Result if &lt;Exp&gt; is TRUE
 *                 fVar       Result if &lt;Exp&gt; is FALSE
 * Returns ....... &lt;tVar&gt; if &lt;Exp&gt; is TRUE, &lt;fVar&gt; if &lt;Exp&gt; is FALSE
 * Notes ......... None
 * Author ........ Martin Richardson
 * Date .......... May 13, 1992
 *****************************************************************************}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>CIF<font color="#000080">( </font>Exp<font color="#000080">: </font>BOOLEAN<font color="#000080">; </font>tVar<font color="#000080">, </font>fVar<font color="#000080">: </font>CHAR <font color="#000080">): </font>CHAR<font color="#000080">; </font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
     </b></font><font color="#FF00FF">TEST Exp, 1
     JZ   @@1
     MOV  AL, tVar
     JMP  @@2
@@1: MOV  AL, fVar
@@2:
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#008000"><i>{*****************************************************************************
 * Function ...... SIF()
 * Purpose ....... To return a string based on a boolean expression
 * Parameters .... Exp        Boolean expression to evaluate
 *                 tVar       Result if &lt;Exp&gt; is TRUE
 *                 fVar       Result if &lt;Exp&gt; is FALSE
 * Returns ....... &lt;tVar&gt; if &lt;Exp&gt; is TRUE, &lt;fVar&gt; if &lt;Exp&gt; is FALSE
 * Notes ......... None
 * Author ........ Martin Richardson
 * Date .......... May 13, 1992
 *****************************************************************************}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>SIF<font color="#000080">( </font>Exp<font color="#000080">: </font>BOOLEAN<font color="#000080">; </font>tVar<font color="#000080">, </font>fVAR<font color="#000080">: </font><font color="#FF0000"><b>STRING </b></font><font color="#000080">): </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">; </font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
       </b></font><font color="#FF00FF">PUSH DS
       TEST Exp, 1
       JZ   @@1
       LDS  SI, tVar
       JMP  @@2
@@1:   LDS  SI, fVar
@@2:   LES  DI, @Result
       XOR  CH, CH
       MOV  CL, BYTE PTR DS:[SI]
       MOV  BYTE PTR ES:[DI], CL
       INC  DI
       INC  SI
       CLD
       REP  MOVSB
       POP  DS
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#008000"><i>{*****************************************************************************
 * Function ...... IIF()
 * Purpose ....... To return an integer based on a boolean expression
 * Parameters .... Exp        Boolean expression to evaluate
 *                 tVar       Result if &lt;Exp&gt; is TRUE
 *                 fVar       Result if &lt;Exp&gt; is FALSE
 * Returns ....... &lt;tVar&gt; if &lt;Exp&gt; is TRUE, &lt;fVar&gt; if &lt;Exp&gt; is FALSE
 * Notes ......... None
 * Author ........ Martin Richardson
 * Date .......... May 13, 1992
 *****************************************************************************}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>IIF<font color="#000080">( </font>Exp<font color="#000080">: </font>BOOLEAN<font color="#000080">; </font>tVar<font color="#000080">, </font>fVar<font color="#000080">: </font>LONGINT <font color="#000080">): </font>LONGINT<font color="#000080">; </font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
     </b></font><font color="#FF00FF">TEST Exp, 1
     JZ   @@1
     MOV  AX, WORD PTR tVar[0]
     MOV  DX, WORD PTR tVar[2]
     JMP  @@2
@@1: MOV  AX, WORD PTR fVar[0]
     MOV  DX, WORD PTR fVar[2]
@@2:
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#008000"><i>{*****************************************************************************
 * Function ...... RIF()
 * Purpose ....... To return a real based on a boolean expression
 * Parameters .... Exp        Boolean expression to evaluate
 *                 tVar       Result if &lt;Exp&gt; is TRUE
 *                 fVar       Result if &lt;Exp&gt; is FALSE
 * Returns ....... &lt;tVar&gt; if &lt;Exp&gt; is TRUE, &lt;fVar&gt; if &lt;Exp&gt; is FALSE
 * Notes ......... None
 * Author ........ Martin Richardson
 * Date .......... May 13, 1992
 *****************************************************************************}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>RIF<font color="#000080">( </font>Exp <font color="#000080">: </font>BOOLEAN<font color="#000080">; </font>tVar<font color="#000080">, </font>fVAR <font color="#000080">: </font>REAL <font color="#000080">) : </font>REAL<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     IF </b></font>Exp <font color="#FF0000"><b>THEN </b></font>RIF <font color="#000080">:= </font>tVAR <font color="#FF0000"><b>ELSE </b></font>RIF <font color="#000080">:= </font>fVar<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to STRINGS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0038.PAS">Original</a><b>]</b></p></body>
</html>
