<html>
<head><title> "STRNGSF4.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to STRINGS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0014.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
This code has been slightly shrunk to fit into one message.
}

</i></font><font color="#FF0000"><b>Program </b></font>input<font color="#000080">;
</font><font color="#FF0000"><b>Uses
  </b></font>Dos<font color="#000080">, </font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>Word_wrap <font color="#000080">= </font><font color="#800000">50</font><font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>tick<font color="#000080">,
  </font>mlines  <font color="#000080">: </font>Integer<font color="#000080">;
  </font>modem   <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
  </font>incom<font color="#000080">,
  </font>waiting <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">128</font><font color="#000080">];

</font><font color="#FF0000"><b>Procedure </b></font>outread<font color="#000080">(</font>avr1<font color="#000080">, </font>avr2<font color="#000080">, </font>avr3 <font color="#000080">: </font>Integer<font color="#000080">);

</font><font color="#FF0000"><b>Var                      </b></font><font color="#008000"><i>{ avr1= 1=passWord, 2=normal                   }
  </i></font>i<font color="#000080">,</font>y<font color="#000080">,</font>o<font color="#000080">,                 </font><font color="#008000"><i>{ avr2= 1=none, 2=Word wrap                    }
  </i></font>count<font color="#000080">:</font>Integer<font color="#000080">;         </font><font color="#008000"><i>{ avr3= 1=pull from String, 2=none             }
  </i></font>Word<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">10</font><font color="#000080">]; </font>Charout<font color="#000080">:</font>Char<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>incom<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">; </font>count<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">; </font>mlines<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>avr3<font color="#000080">=</font><font color="#800000">2 </font><font color="#FF0000"><b>then </b></font>waiting<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>avr3<font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then if </b></font>waiting<font color="#000080">&lt;&gt;</font><font color="#800000">'' </font><font color="#FF0000"><b>then
    begin
      </b></font>incom<font color="#000080">:=</font>waiting<font color="#000080">;
      </font>waiting<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">;
      </font>Write<font color="#000080">(</font>incom<font color="#000080">);
      </font>count<font color="#000080">:=</font>length<font color="#000080">(</font>incom<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>modem<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">; </font>TextColor<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">);
  </font><font color="#FF0000"><b>While </b></font>modem<font color="#000080">&lt;&gt;</font>chr<font color="#000080">(</font><font color="#800000">13</font><font color="#000080">) </font><font color="#FF0000"><b>do
    begin
      </b></font>Charout<font color="#000080">:=</font>ReadKey<font color="#000080">; </font>modem<font color="#000080">:=</font>Charout<font color="#000080">;
      </font><font color="#FF0000"><b>Case </b></font>ord<font color="#000080">(</font>modem<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]) </font><font color="#FF0000"><b>of
        </b></font><font color="#800000">13</font><font color="#000080">:</font><font color="#FF0000"><b>begin             </b></font><font color="#008000"><i>{ return }
             </i></font>Writeln<font color="#000080">; </font>Exit<font color="#000080">;
           </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
         </font><font color="#800000">8</font><font color="#000080">:</font><font color="#FF0000"><b>begin             </b></font><font color="#008000"><i>{ backspace }
             </i></font><font color="#FF0000"><b>if </b></font>count<font color="#000080">&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then
               begin
                 </b></font>Write<font color="#000080">(</font>chr<font color="#000080">(</font><font color="#800000">8</font><font color="#000080">)+</font>chr<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">)+</font>chr<font color="#000080">(</font><font color="#800000">8</font><font color="#000080">));
                 </font>delete<font color="#000080">(</font>incom<font color="#000080">,</font>count<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
                 </font>count<font color="#000080">:=</font>count<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
             </font>modem<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">;
           </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
         </font><font color="#800000">9</font><font color="#000080">:</font><font color="#FF0000"><b>begin             </b></font><font color="#008000"><i>{ tab }
             </i></font>Write<font color="#000080">(</font><font color="#800000">'     '</font><font color="#000080">); </font>incom<font color="#000080">:=</font>incom<font color="#000080">+</font><font color="#800000">'     '</font><font color="#000080">; </font>count<font color="#000080">:=</font>count<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">;
             </font>modem<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">;
           </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font><font color="#800000">10</font><font color="#000080">:</font>modem<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">;        </font><font color="#008000"><i>{ line feed }
    </i></font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">26</font><font color="#000080">,
   </font><font color="#800000">28</font><font color="#000080">..</font><font color="#800000">31</font><font color="#000080">,
  </font><font color="#800000">128</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">:</font><font color="#FF0000"><b>begin             </b></font><font color="#008000"><i>{ inappropriate Characters }
             </i></font>modem<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">;
           </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>modem<font color="#000080">&lt;&gt;</font><font color="#800000">'' </font><font color="#FF0000"><b>then
        begin
          </b></font>count<font color="#000080">:=</font>count<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
          </font><font color="#FF0000"><b>if </b></font>count<font color="#000080">&lt;</font>Word_wrap <font color="#FF0000"><b>then
            begin
              </b></font>incom<font color="#000080">:=</font>incom<font color="#000080">+</font>modem<font color="#000080">;
              </font><font color="#FF0000"><b>Case </b></font>avr1 <font color="#FF0000"><b>of
                </b></font><font color="#800000">1</font><font color="#000080">:</font>Write<font color="#000080">(</font><font color="#800000">'?'</font><font color="#000080">);
                </font><font color="#800000">5</font><font color="#000080">:</font>Write<font color="#000080">;
                </font><font color="#FF0000"><b>else </b></font>Write<font color="#000080">(</font>modem<font color="#000080">);
              </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>end else if </b></font>avr2<font color="#000080">=</font><font color="#800000">2 </font><font color="#FF0000"><b>then
              begin
                </b></font>waiting<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">;
                </font><font color="#FF0000"><b>For </b></font>i<font color="#000080">:=</font>length<font color="#000080">(</font>incom<font color="#000080">) </font><font color="#FF0000"><b>DownTo </b></font><font color="#800000">1 </font><font color="#FF0000"><b>do
                  begin
                    </b></font>Write<font color="#000080">(</font>chr<font color="#000080">(</font><font color="#800000">8</font><font color="#000080">)+</font>chr<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">)+</font>chr<font color="#000080">(</font><font color="#800000">8</font><font color="#000080">));
                    </font>Word<font color="#000080">:=</font>copy<font color="#000080">(</font>incom<font color="#000080">,</font>i<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
                    </font><font color="#FF0000"><b>if </b></font>Word<font color="#000080">=</font>chr<font color="#000080">(</font><font color="#800000">32</font><font color="#000080">) </font><font color="#FF0000"><b>then
                      begin
                        </b></font>waiting<font color="#000080">:=</font>copy<font color="#000080">(</font>incom<font color="#000080">,</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>length<font color="#000080">(</font>incom<font color="#000080">));
                        </font>waiting<font color="#000080">:=</font>waiting<font color="#000080">+</font>modem<font color="#000080">;
                        </font>delete<font color="#000080">(</font>incom<font color="#000080">,</font>i<font color="#000080">,</font>length<font color="#000080">(</font>incom<font color="#000080">)); </font>Writeln<font color="#000080">; </font>Exit<font color="#000080">;
                      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
                   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
              </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ waiting For modem to = chr(13) }
  </i></font><font color="#FF0000"><b>if </b></font>avr1 <font color="#000080">&lt;&gt; </font><font color="#800000">5 </font><font color="#FF0000"><b>then </b></font>Writeln<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ end of Procedure }

</i></font><font color="#FF0000"><b>begin
  </b></font>ClrScr<font color="#000080">;
  </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
  </font>Write<font color="#000080">(</font><font color="#800000">'This is a passWord input: '</font><font color="#000080">);
  </font>outread<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
  </font>TextColor<font color="#000080">(</font><font color="#800000">11</font><font color="#000080">);
  </font>Writeln<font color="#000080">(</font><font color="#800000">'Return = '</font><font color="#000080">,</font>incom<font color="#000080">);
  </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
  </font>Write<font color="#000080">(</font><font color="#800000">'This is a normal input: '</font><font color="#000080">);
  </font>outread<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
  </font>TextColor<font color="#000080">(</font><font color="#800000">11</font><font color="#000080">);
  </font>Writeln<font color="#000080">(</font><font color="#800000">'Return = '</font><font color="#000080">,</font>incom<font color="#000080">);
  </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
  </font>Writeln<font color="#000080">(</font><font color="#800000">'This is a controlled Word-wrap input at length 50:'</font><font color="#000080">);
  </font>Writeln<font color="#000080">;
  </font>tick <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>tick <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">5 </font><font color="#FF0000"><b>do
    </b></font>outread<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to STRINGS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0014.PAS">Original</a><b>]</b></p></body>
</html>
