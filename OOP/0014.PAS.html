<html>
<head><title> "OOPMENU.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to OOP SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0014.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Menus in TV are instances of class tMenuBar, accessed via Pointer Type
pMenuBar. A Complete menu is a Single-linked list, terminated With a NIL
Pointer. Each item or node is just a Record that holds inFormation on
what the node displays and responds to, and a Pointer to the next menu
node in the list.

I've written out a short bit of TV menu code that you can Compile and
play With, and then you can highlight parts that you don't understand
when you send back your reply.
}

</i></font><font color="#FF0000"><b>Program </b></font>TestMenu<font color="#000080">;

</font><font color="#FF0000"><b>Uses
  </b></font>Objects<font color="#000080">, </font>Drivers<font color="#000080">, </font>Views<font color="#000080">, </font>Menus<font color="#000080">, </font>App<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>cmOpen  <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;  </font><font color="#008000"><i>(* Command message Constants *)
  </i></font>cmClose <font color="#000080">= </font><font color="#800000">101</font><font color="#000080">;

</font><font color="#FF0000"><b>Type
  </b></font>pTestApp <font color="#000080">= ^</font>tTestApp<font color="#000080">;
  </font>tTestApp <font color="#000080">= </font><font color="#FF0000"><b>Object</b></font><font color="#000080">(</font>tApplication<font color="#000080">)
    </font><font color="#FF0000"><b>Procedure </b></font>InitMenuBar<font color="#000080">; </font><font color="#FF0000"><b>Virtual</b></font><font color="#000080">;    </font><font color="#008000"><i>(* Do-nothing inherited method *)
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;                                 </font><font color="#008000"><i>(* which you override          *)

(* Set up the menu by filling in the inherited method *)
</i></font><font color="#FF0000"><b>Procedure </b></font>tTestApp<font color="#000080">.</font>InitMenuBar<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>vRect <font color="#000080">: </font>tRect<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>GetExtent<font color="#000080">(</font>vRect<font color="#000080">);
  </font>vRect<font color="#000080">.</font>B<font color="#000080">.</font>Y <font color="#000080">:= </font>vRect<font color="#000080">.</font>A<font color="#000080">.</font>Y <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
  </font>MenuBar <font color="#000080">:= </font>New<font color="#000080">(</font>pMenuBar<font color="#000080">, </font>Init<font color="#000080">(</font>vRect<font color="#000080">, </font>NewMenu<font color="#000080">(
    </font>NewSubMenu<font color="#000080">(</font><font color="#800000">'~F~ile'</font><font color="#000080">, </font>hcNoConText<font color="#000080">, </font>NewMenu<font color="#000080">(
      </font>NewItem<font color="#000080">(</font><font color="#800000">'~O~pen'</font><font color="#000080">, </font><font color="#800000">'Alt-O'</font><font color="#000080">, </font>kbAltO<font color="#000080">, </font>cmOpen<font color="#000080">, </font>hcNoConText<font color="#000080">,
      </font>NewItem<font color="#000080">(</font><font color="#800000">'~C~lose'</font><font color="#000080">, </font><font color="#800000">'Alt-C'</font><font color="#000080">, </font>kbAltC<font color="#000080">, </font>cmClose<font color="#000080">, </font>hcNoConText<font color="#000080">,
      </font>NewItem<font color="#000080">(</font><font color="#800000">'E~x~it'</font><font color="#000080">, </font><font color="#800000">'Alt-X'</font><font color="#000080">, </font>kbAltX<font color="#000080">, </font>cmQuit<font color="#000080">, </font>hcNoConText<font color="#000080">,
      </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">)))),
    </font>NewSubMenu<font color="#000080">(</font><font color="#800000">'~E~dit'</font><font color="#000080">, </font>hcNoConText<font color="#000080">, </font>NewMenu<font color="#000080">(
      </font>NewItem<font color="#000080">(</font><font color="#800000">'C~u~t'</font><font color="#000080">, </font><font color="#800000">'Alt-U'</font><font color="#000080">, </font>kbAltU<font color="#000080">, </font>cmCut<font color="#000080">, </font>hcNoConText<font color="#000080">,
      </font>NewItem<font color="#000080">(</font><font color="#800000">'Cop~y~'</font><font color="#000080">, </font><font color="#800000">'Alt-Y'</font><font color="#000080">, </font>kbAltY<font color="#000080">, </font>cmCopy<font color="#000080">, </font>hcNoConText<font color="#000080">,
      </font>NewItem<font color="#000080">(</font><font color="#800000">'~P~aste'</font><font color="#000080">, </font><font color="#800000">'Alt-P'</font><font color="#000080">, </font>kbAltP<font color="#000080">, </font>cmPaste<font color="#000080">, </font>hcNoConText<font color="#000080">,
      </font>NewItem<font color="#000080">(</font><font color="#800000">'C~l~ear'</font><font color="#000080">, </font><font color="#800000">'Alt-L'</font><font color="#000080">, </font>kbAltL<font color="#000080">, </font>cmClear<font color="#000080">, </font>hcNoConText<font color="#000080">,
      </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">))))),
    </font>NewSubMenu<font color="#000080">(</font><font color="#800000">'~W~indow'</font><font color="#000080">, </font>hcNoConText<font color="#000080">, </font>NewMenu<font color="#000080">(
        </font>NewItem<font color="#000080">(</font><font color="#800000">'Ca~s~cade'</font><font color="#000080">, </font><font color="#800000">'Alt-S'</font><font color="#000080">, </font>kbAltS<font color="#000080">, </font>cmCascade<font color="#000080">, </font>hcNoConText<font color="#000080">,
      </font>NewItem<font color="#000080">(</font><font color="#800000">'~T~ile'</font><font color="#000080">, </font><font color="#800000">'Alt-T'</font><font color="#000080">, </font>kbAltT<font color="#000080">, </font>cmTile<font color="#000080">, </font>hcNoConText<font color="#000080">,
      </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">))),
    </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">))))
  ))
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>vApp <font color="#000080">: </font>pTestApp<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>New<font color="#000080">(</font>vApp<font color="#000080">, </font>Init<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>vApp <font color="#000080">= </font><font color="#FF0000"><b>NIL then
    begin
      </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'Couldn''t instantiate the application'</font><font color="#000080">);
      </font>Exit<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>vApp<font color="#000080">^.</font>Run<font color="#000080">;
  </font>vApp<font color="#000080">^.</font>Done<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to OOP SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0014.PAS">Original</a><b>]</b></p></body>
</html>
