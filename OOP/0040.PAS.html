<html>
<head><title> "TV Library Objects" by DEVIN COOK</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to OOP SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0040.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>Unit </b></font>Misc<font color="#000080">;

</font><font color="#008000"><i>{
                                MISC.PAS
                     A Turbo Vision Object Library

                             By  Devin Cook
                               MSD - 1990

I haven't been exactly overwhelmed by the amount of Turbo Vision objects shared
by TP users, so I thought I would thow my hat into the ring and spread a few
objects I have developed around.

I am not an expert in Turbo Vision ( who can be in 3 weeks? ), or in OOP, so I
have probably broken quite a few rules, but you might get some ideas from the
work I have done.

This unit has some of the my more mainstream objects included.  I have a few
other, less general objects which I may spread around later.

These objects have not been used enough to verify they are 100% bug free, so
if you find any problems, or have any comments, please send me some Email
( D.Cook on Genie ).

                                OBJECTS:

TDateView      -    A date text box, much like TClockView in TVDemos.

TPushButton    -    A descendend of TButton, with &quot;feel&quot; for keyboard users.

TNum_Box       -    A number only input box with an adjustable number of digits
                    before and after the decimal point, along with selectable
                    negative number acceptance.

TLinked_Dialog -    A descendent of TDialog which allows you to set &quot;Links&quot;
                    between items ( i.e. item selection through cursor keys ).

Also, FormatDate, a function used by TDateView is provided.


                            &Eacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&raquo;
                            &ordm;  TDateView  &ordm;
                            &Egrave;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&frac14;


TDateView is almost identicle to TClockView ( in TVDemos - Gadget.Pas ).

INITIALIZATION:

TDateView is initialized by sending TDateView a TRect giving it's location.

USAGE:

Once TDateView is initialized, an occasional call to TDateView.Update keeps
the displayed date current.

Example:

  Var TR    : TRect ;
      DateV : TDateView ;
  Begin
      TR.Assign( 60 , 0 , 78 , 1 );
      DateV.Init( TR );
      DateV.Update ;
  End;



                           &Eacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&raquo;
                           &ordm;  TPushButton  &ordm;
                           &Egrave;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&frac14;


TPushButton is identicle to TButton in every way except that when it is
&quot;pressed&quot;, it actually draws itself pressed.

This gives visual feedback to those using non-mouse systems.

The delay values in TPushButton.Press may need to be altered to adjust the
&quot;feel&quot;.

                             &Eacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&raquo;
                             &ordm;  TNum_Box  &ordm;
                             &Egrave;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&frac14;


TNum_Box is a numerical entry box with definable precision.

INITIALIZATION:

TNum_Box is initialized by sending TNum_Box.Init:
        Location                            : TPoint
        Max Digits before the decimal point : Integer
        Max Digits after the decimal point  : Integer
        Negative Numbers allowed flag       : Boolean
        Default Value                       : Extended

If the digits after the decimal point = 0, no decimal point is displayed
( or excepted ).

If negative numbers are allowed, one extra space is reserved for a negative
sign.  No digits can be entered in this spot.

Only Backspace is used to edit the numberical field.

USAGE:

The value of the input box can be read directly from TNum_Box.Curr_Val.

This value may not be up to date if editing is still taking place, or no
data has been entered.  To ensure a correct reading, a call to
TNum_Box.Update_Value is recommended.

After initilization, the box is displayed with blanks for the number of digits.
If you wish to display the default value instead, use TNum_Box.Update_Value.

Example:

  Var TP        : TPoint ;
      Int_Box1  : TNum_Box ;
      Int_Box2  : TNum_Box ;
      Flt_Box1  : TNum_Box ;
  Begin
      Tp.X := 10 ;
      Tp.Y := 5 ;

      (* Define a box at 10,5 with 3 digits, no decimals, no negatives and a
         default of 0 *)

      Int_Box1.Init( TP , 3 , 0 , False , 0 )

      TP.X := 15 ;

      (* Define a box at 10,15 with 5 digits, no decimals, negatives and a
         default of 1.  Then, update the box displaying the default *)

      Int_Box2.Init( TP , 5 , 0 , True , 1 )
      Int_Box2.Update_Value ;

      TP.X := 25 ;

      (* Define a box at 10,25 with 5 digits, 2 decimal places , negatives and
         a default of 0.  Leave the box a blank. *)

      flt_Box1.Init( TP , 5 , 2 , True , 0 )

  End;

                          &Eacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&raquo;
                          &ordm;  TLinked_Dialog  &ordm;
                          &Egrave;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&frac14;


TLinked_Dialog is descendant of TDialog with improved cursor movement between
fields.

Developing for a non-mouse system ( even a mouse system ) where your dialogs
have over about 10 fields gets a bit ugly.  The tab key becomes impracticle
and setting hotkeys for each field may not be practicle.

The program EXAMPLE.PAS is not an exageration, it is a SIMPLIFIED version of
a dialog I am developing at work.  Try getting to a field #54 via tabs!

TLinked_Dialog solves the problem by having the Dialog jump between links
you define. Cursor keys are used to select the link direction, though 2 spare
links are defined for object future use or for object use.

     Example of a linking:               11
                                         21 22
                                         31

  Object 21 would want links defined for 11 ( DLink_Up ), 22 ( DLink_Right ),
  and 31 ( DLink_Down ).

  Once the links are defined, HandleEvent switches the focus according to the
  cursor keys.


INITIALIZATION:

TDialog is initialized exactly the same as TDialog.  ( Refer to the Turbo Vision
manual for details. )

TLinked_Dialog.Init calls TDialog.Init and the initialized a collection of
links to track item linking.

USAGE:

Once TLinked_Dialog is initialized, you insert items into the TLinked_Dialog
just as you would a normal dialog.

After the items are inserted, you set up links.

*****  NOTE:  Do not set up links for an item before it is inserted! *****

Links are created by calling TLinked_Dialog.Set_Link with
        Item to set link for    : PView
        Direction of link       : Integer
                                              Use the constants:
                                      DLink_Up, Dlink_Down, DLink_Right,
                                      DLink_Left, DLink_Spare1, Dlink_Spare2
        Pointer to linked item  : Pointer

All links are 1 way.  If you wish Button55 &lt;--&gt; Button56, you must define
two links, Button55 right to Button56 and Button56 left to Button55.  This is
because multiple items may be linked to the same item, which would make finding
the reverse link impossible.

You can select another object via a link by calling TLinked_Dialog.Select_Link
with the link direction.  The currently selected object's link will be traced
to the next object ( If possible ).

Example:

  Var TR    : TRect ;
      TP    : TPoint ;
      TLD   : TLinked_Dialog ;
      Butt1 : TPushButton ;
      Box1  : TNum_Box ;
      Box2  : TNum_Box ;
      Box3  : TNum_Box ;
      Box4  : TNum_Box ;

  Begin
      TR.Assign( 10 , 1 , 70 , 10 );
      TLD.Init( TR ,'Test Linked Dialog');


      (* Set up a button and insert it *)

      TR.Assign( 5 , 3 , 15 , 5 );
      Butt1.Init(TR,'~P~ush',cmOk,bfDefault));
      TLD.Insert( Butt1 );

      (* Set up box1 and insert it *)
      TP.Y := 8 ;
      TP.X := 3 ;

      Box1.Init( TP , 3 , 2 , FALSE , 1 );
      TLD.Insert( Box1 );

      (* Set up box2 and insert it *)
      TP.X := TP.X + 10 ;

      Box2.Init( TP , 3 , 2 , FALSE , 1 );
      TLD.Insert( Box2 );

      TP.Y := 9 ;
      TP.X := 3 ;

      (* Set up box3 and insert it *)

      Box3.Init( TP , 3 , 2 , FALSE , 1 );
      TLD.Insert( Box3 );

      TP.X := TP.X + 10 ;

      (* Set up box and insert it *)

      Box4.Init( TP , 3 , 2 , FALSE , 1 );
      TLD.Insert( Box4 );

      (*   Boxes at  [1] [2]  *)
      (*             [3] [4]  *)

      (* Link Box1 -&gt; Box2 *)
      TDL.Set_Link( @BOX1 , DLink_Right , @BOX2 );

      (* Link Box1 &lt;- Box2 *)
      TDL.Set_Link( @BOX2 , DLink_Left  , @BOX1 );

      (* Link Box3 -&gt; Box4 *)
      TDL.Set_Link( @BOX3 , DLink_Right , @BOX4 );

      (* Link Box3 &lt;- Box4 *)
      TDL.Set_Link( @BOX4 , DLink_Left  , @BOX3 );

      (* Link Box1 -&gt; Box3 *)
      TDL.Set_Link( @BOX1 , DLink_Down  , @BOX3 );

      (* Link Box1 &lt;- Box3 *)
      TDL.Set_Link( @BOX3 , DLink_Up    , @BOX1 );

      (* Link Box2 -&gt; Box4 *)
      TDL.Set_Link( @BOX2 , DLink_Down  , @BOX4 );

      (* Link Box2 &lt;- Box4 *)
      TDL.Set_Link( @BOX4 , DLink_Up    , @BOX2 );

End;


}

{ Note:  Tab Size = 4 }

(* Set conditions to allow for &quot;Extended&quot; type *)
{$N+,E+}

(**************************************************************************)
(*                                                                        *)
(*               Library of objects for Turbo Vision  V1.00               *)
(*                                                                        *)
(*               By:   Devin Cook                                         *)
(*                     copyright (c) 1990 MSD                             *)
(*                     Public Domain Object library                       *)
(*                                                                        *)
(*   Object:  TDateView                                                   *)
(*                Same as TClockView, except displays the date            *)
(*                                                                        *)
(*   Object:  TPushButton                                                 *)
(*                Same as TButton, except button &quot;Show&quot; press by keyboard *)
(*                                                                        *)
(*   Object:  TNum_Box                                                    *)
(*                An editable number only entry box - configurable        *)
(*                                                                        *)
(*   Object:  TLinked_Dialog                                              *)
(*                A normal dialog which handles cursor links to other     *)
(*                items                                                   *)
(*                                                                        *)
(*   Func:    FormatDate                                                  *)
(*                Formats a date into a string                            *)
(*                                                                        *)
(**************************************************************************)

{$F+,O+,S-,D+}

</i></font><font color="#FF0000"><b>Interface

Uses </b></font>Crt<font color="#000080">, </font>Dos<font color="#000080">, </font>Objects<font color="#000080">, </font>Views<font color="#000080">, </font>Dialogs<font color="#000080">, </font>Drivers<font color="#000080">;

</font><font color="#008000"><i>(*   Constents for Linked_Dialog   *)

</i></font><font color="#FF0000"><b>Const        </b></font>DLink_Left                <font color="#000080">=        </font><font color="#800000">1 </font><font color="#000080">;
                </font>DLink_Right                <font color="#000080">=        </font><font color="#800000">2 </font><font color="#000080">;
                </font>DLink_Up                <font color="#000080">=        </font><font color="#800000">3 </font><font color="#000080">;
                </font>DLink_Down                <font color="#000080">=        </font><font color="#800000">4 </font><font color="#000080">;
                </font>DLink_Spare1        <font color="#000080">=        </font><font color="#800000">5 </font><font color="#000080">;
                </font>DLink_Spare2        <font color="#000080">=        </font><font color="#800000">6 </font><font color="#000080">;

</font><font color="#FF0000"><b>Type

</b></font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TDateView                               *)
(*                                                                        *)
(*  Desc: TDateView is a static text object of the date, in a formated    *)
(*        string, usually placed on the status or menu lines.             *)
(*                                                                        *)
(*        Format:  Sun  Dec 16, 1990                                      *)
(*                                                                        *)
(*        This format can be altered by changing Function FormatDate.     *)
(*                                                                        *)
(*  Init: Initialization is done by supply a TRect to the INIT method.    *)
(*                                                                        *)
(*  Note: The UPDATE method checks to see if the Day-of-Week value still  *)
(*        matches the system Day-of-Week, and updates it's view if they   *)
(*        don't match.  An occasional call to TDateView.UPDATE will keep  *)
(*        your date indicator up to date.                                 *)
(*                                                                        *)
(**************************************************************************)

        </i></font>PDateView <font color="#000080">= ^</font>TDateView<font color="#000080">;
        </font>TDateView <font color="#000080">= </font><font color="#FF0000"><b>Object</b></font><font color="#000080">(</font>TView<font color="#000080">)
                                        </font>DateStr<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">19</font><font color="#000080">];
                                        </font>Last_DOW<font color="#000080">: </font>Word<font color="#000080">;
                                        </font><font color="#FF0000"><b>Constructor </b></font>Init<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Bounds<font color="#000080">: </font>TRect<font color="#000080">);
                                        </font><font color="#FF0000"><b>Procedure </b></font>Draw<font color="#000080">; </font><font color="#FF0000"><b>virtual</b></font><font color="#000080">;
                                        </font><font color="#FF0000"><b>Procedure </b></font>Update<font color="#000080">; </font><font color="#FF0000"><b>virtual</b></font><font color="#000080">;
                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TPushButton                             *)
(*                                                                        *)
(*  Desc: TPushButton is a TButton except that it indicates being         *)
(*        pressed from the keyboard.                                      *)
(*                                                                        *)
(*  Note: You may wish to adjust with the delay values in the             *)
(*        TPushButton.Press method to suit your taste.                    *)
(*                                                                        *)
(*        See TButton for method descriptions.                            *)
(*                                                                        *)
(**************************************************************************)

  </i></font>PPushButton        <font color="#000080">=        ^</font>TPushButton<font color="#000080">;
  </font>TPushButton        <font color="#000080">=        </font><font color="#FF0000"><b>Object</b></font><font color="#000080">(</font>Tbutton<font color="#000080">)
                                                </font><font color="#FF0000"><b>Procedure </b></font>Press <font color="#000080">;        </font><font color="#FF0000"><b>Virtual </b></font><font color="#000080">;
                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TNum_Box                                *)
(*                                                                        *)
(*  Desc: TInt_Box is a number only input box with an adjustable number   *)
(*        of digits before and after the decimal point.                   *)
(*                                                                        *)
(*        It can be flagged not to accept negative numbers if desired.    *)
(*                                                                        *)
(*  Init: Initialization is done by providing your desired configuration  *)
(*        to TNum_Box.Init.                                               *)
(*                                                                        *)
(*        TNum_Box.Init(                                                  *)
(*            Loc       -     TPoint with location for num                *)
(*            MaxWh     -     Integer with #digits before the decimal     *)
(*                            point                                       *)
(*            MaxDs     -     Integer with #digits after the decimal      *)
(*                            point                                       *)
(*            NegOk     -     Boolean.  True if neg values allowed        *)
(*            Deflt     -     Extended floating point with default value  *)
(*                     )                                                  *)
(*                                                                        *)
(*  Box width =   MaxWh +                                                 *)
(*                MaxDs + 1 ( if MaxDs &gt; 0 ) +                            *)
(*                1 if Negok                                              *)
(*                                                                        *)
(*  To read the value back, simply access the Curr_Val variable for the   *)
(*  TNum_Box.  It is an extended floating point varaible, so you should   *)
(*  convert it to the desired precision.                                  *)
(*                                                                        *)
(*  Note:  A call to TNum_Box.Update_Val &quot;Locks&quot; the edited number into   *)
(*         the curr_val field, loading the default value if no number has *)
(*         been entered.                                                  *)
(*                                                                        *)
(**************************************************************************)

        </i></font>PNum_Box    <font color="#000080">=        ^</font>TNum_Box<font color="#000080">;
        </font>TNum_Box    <font color="#000080">=        </font><font color="#FF0000"><b>Object        </b></font><font color="#000080">( </font>TView <font color="#000080">)
                                                </font>Max_Whole        <font color="#000080">:        </font>Integer <font color="#000080">;
                                                </font>Max_Decs        <font color="#000080">:        </font>Integer <font color="#000080">;
                                                </font>Max_Len                <font color="#000080">:        </font>Integer <font color="#000080">;
                                                </font>Neg_Ok      <font color="#000080">:   </font>Boolean <font color="#000080">;
                                                </font>Default_val        <font color="#000080">:        </font>Extended <font color="#000080">;
                                                </font>Num_Str                <font color="#000080">:        </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">24</font><font color="#000080">] ;
                                                </font>Curr_Val        <font color="#000080">:        </font>Extended <font color="#000080">;
                                                </font>Dec_Pos                <font color="#000080">:        </font>Integer <font color="#000080">;
                                                </font>First_Char        <font color="#000080">:        </font>Boolean <font color="#000080">;

                                                </font><font color="#FF0000"><b>Constructor </b></font>Init<font color="#000080">( </font>Loc        <font color="#000080">:        </font>TPoint <font color="#000080">;
                                                                                  </font>MaxWh <font color="#000080">:        </font>Integer <font color="#000080">;
                                                                                  </font>MaxDs <font color="#000080">:        </font>Integer <font color="#000080">;
                                                                                  </font>NegOk <font color="#000080">:         </font>Boolean <font color="#000080">;
                                                                                  </font>Dflt        <font color="#000080">:        </font>Extended <font color="#000080">);
                                                </font><font color="#FF0000"><b>Procedure </b></font>Draw<font color="#000080">;        </font><font color="#FF0000"><b>Virtual</b></font><font color="#000080">;
                                                </font><font color="#FF0000"><b>Procedure </b></font>HandleEvent<font color="#000080">( </font><font color="#FF0000"><b>Var </b></font>Event<font color="#000080">:</font>TEvent <font color="#000080">); </font><font color="#FF0000"><b>Virtual</b></font><font color="#000080">;
                                                </font><font color="#FF0000"><b>Procedure </b></font>SetState<font color="#000080">( </font>AState<font color="#000080">:</font>Word<font color="#000080">; </font>Enable<font color="#000080">:</font>Boolean<font color="#000080">);
                                                        </font><font color="#FF0000"><b>Virtual</b></font><font color="#000080">;
                                                </font><font color="#FF0000"><b>Procedure </b></font>Add_Digit<font color="#000080">( </font>Charcode <font color="#000080">: </font>Char <font color="#000080">);        </font><font color="#FF0000"><b>Virtual</b></font><font color="#000080">;
                                                </font><font color="#FF0000"><b>Procedure </b></font>Do_Edit<font color="#000080">( </font>Keycode <font color="#000080">: </font>Word <font color="#000080">); </font><font color="#FF0000"><b>Virtual</b></font><font color="#000080">;
                                                </font><font color="#FF0000"><b>Procedure </b></font>Update_Value<font color="#000080">;
                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(*  Record used by TLinked_Dialog  *)

                </i></font>DLink_Record        <font color="#000080">=        </font><font color="#FF0000"><b>Record
                                                                </b></font>Item                <font color="#000080">:        </font>Pointer <font color="#000080">;
                                                                </font>Left_Link        <font color="#000080">:        </font>Pointer <font color="#000080">;
                                                                </font>Right_Link        <font color="#000080">:        </font>Pointer <font color="#000080">;
                                                                </font>Up_Link                <font color="#000080">:        </font>Pointer <font color="#000080">;
                                                                </font>Down_Link        <font color="#000080">:        </font>Pointer <font color="#000080">;
                                                                </font>Spare1_Link        <font color="#000080">:        </font>Pointer <font color="#000080">;
                                                                </font>Spare2_Link        <font color="#000080">:        </font>Pointer <font color="#000080">;
                                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(*  Object for TLinked_Dialog's collection  *)

                </i></font>PLink_Item                <font color="#000080">=        ^</font>TLink_Item <font color="#000080">;
                </font>TLink_Item                <font color="#000080">=        </font><font color="#FF0000"><b>Object
                                                                </b></font>Item                <font color="#000080">:        </font>Pointer <font color="#000080">;
                                                                </font>Pointers        <font color="#000080">:        </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">6</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Pointer <font color="#000080">;
                                                                </font><font color="#FF0000"><b>Constructor </b></font>Init<font color="#000080">( </font>Link_Rec <font color="#000080">: </font>DLink_Record <font color="#000080">);
                                                                </font><font color="#FF0000"><b>Procedure </b></font>Add_Link<font color="#000080">( </font>Link_Direc <font color="#000080">: </font>Integer <font color="#000080">;
                                                                                                        </font>Link <font color="#000080">: </font>Pointer <font color="#000080">);
                                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(*  TLinked_Dialog's collection of links  *)

                </i></font>PLinked_List        <font color="#000080">=        ^</font>TLinked_List <font color="#000080">;
                </font>TLinked_List        <font color="#000080">=        </font><font color="#FF0000"><b>Object</b></font><font color="#000080">( </font>TCollection <font color="#000080">)
                                                                </font><font color="#FF0000"><b>Function </b></font>Search<font color="#000080">( </font>key <font color="#000080">: </font>Pointer <font color="#000080">) : </font>Integer <font color="#000080">;
                                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TLinked_Dialog                          *)
(*                                                                        *)
(*  Desc: TLinked_Dialog is a variation of a standard dialog which        *)
(*        allows for improved cursor movement between items.              *)
(*                                                                        *)
(*        You can define which objects to &quot;Link&quot; to on the right, left,   *)
(*        above and below.  These objects are focused by use of the       *)
(*        cursor keys.                                                    *)
(*                                                                        *)
(*        Two spare links are defined for item use ( such as switching    *)
(*        to a certain box once a button is pressed. )                    *)
(*                                                                        *)
(*  Init: Initialization is identical to TDialog's init.  Refer to the    *)
(*        Turbo Vision manual for details.                                *)
(*                                                                        *)
(*  Inserting an item is identical to a normal TDialog.Insert. When an    *)
(*  item is inserted into a TLinked_Dialog, a record is created for       *)
(*  tracking links.                                                       *)
(*                                                                        *)
(*                             Defining a Link                            *)
(*                                                                        *)
(*  Once you have inserted all items into your dialog, links are created  *)
(*  to other items using TLinked_Dialog.Setlink.                          *)
(*                                                                        *)
(*  TLinked_Dialog.Setlink(                                               *)
(*       P          -    PView or descendant.                             *)
(*                       This is a pointer to the item you wish to add    *)
(*                       the link to.                                     *)
(*       Link_Direc -    Integer with link direction.                     *)
(*                       This should be one of the following constants:   *)
(*                             DLink_Up     :   Up                        *)
(*                             DLink_Down   :   Down                      *)
(*                             DLink_Right  :   Right                     *)
(*                             DLink_Left   :   Left                      *)
(*                             DLink_Spare1 :   Spare 1                   *)
(*                             DLink_Spare2 :   Spare 2                   *)
(*       Link       -    A pointer to the item you want to link to        *)
(*       )                                                                *)
(*                                                                        *)
(*                           Accesing a link                              *)
(*                                                                        *)
(*  Items within a dialog can switch to a linked item by calling:         *)
(*                                                                        *)
(*  TLinked_Dialog.Select_link(                                           *)
(*       Direc      -    Integer with link direction.                     *)
(*       )                                                                *)
(*                                                                        *)
(**************************************************************************)

                </i></font>PLinked_Dialog        <font color="#000080">=   ^</font>TLinked_Dialog <font color="#000080">;
                </font>TLinked_Dialog        <font color="#000080">=        </font><font color="#FF0000"><b>Object</b></font><font color="#000080">( </font>TDialog <font color="#000080">)
                                                                </font>Link_List        <font color="#000080">:        </font>TLinked_List <font color="#000080">;
                                                                </font><font color="#FF0000"><b>Constructor </b></font>Init<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Bounds<font color="#000080">: </font>TRect<font color="#000080">;
                                                                                                 </font>ATitle<font color="#000080">: </font>TTitleStr<font color="#000080">);
                                                                </font><font color="#FF0000"><b>Procedure </b></font>Insert<font color="#000080">(</font>P<font color="#000080">: </font>PView<font color="#000080">); </font><font color="#FF0000"><b>Virtual</b></font><font color="#000080">;
                                                                </font><font color="#FF0000"><b>Procedure </b></font>Set_Link<font color="#000080">( </font>P<font color="#000080">: </font>PView <font color="#000080">;
                                                                                                        </font>Link_Direc <font color="#000080">: </font>Integer <font color="#000080">;
                                                                                                        </font>Link <font color="#000080">: </font>Pointer <font color="#000080">);
                                                                </font><font color="#FF0000"><b>Procedure </b></font>HandleEvent<font color="#000080">( </font><font color="#FF0000"><b>Var </b></font>Event <font color="#000080">: </font>TEvent <font color="#000080">);
                                                                        </font><font color="#FF0000"><b>Virtual</b></font><font color="#000080">;
                                                                </font><font color="#FF0000"><b>Procedure </b></font>Select_Link<font color="#000080">( </font>Direc <font color="#000080">: </font>Integer <font color="#000080">);
                                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                      Function: FormatDate                              *)
(*                                                                        *)
(*  Desc:  The format date function used by TDateView, made public for    *)
(*         other possible uses.                                           *)
(*                                                                        *)
(**************************************************************************)

</i></font><font color="#FF0000"><b>Function </b></font>FormatDate<font color="#000080">( </font>Year <font color="#000080">, </font>Month <font color="#000080">, </font>Day <font color="#000080">, </font>DOW <font color="#000080">: </font>Word <font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Implementation

</b></font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TDateView                               *)
(*                                                                        *)
(**************************************************************************)

</i></font><font color="#FF0000"><b>Constructor </b></font>TDateView<font color="#000080">.</font>Init<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Bounds<font color="#000080">: </font>TRect<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>TView<font color="#000080">.</font>Init<font color="#000080">(</font>Bounds<font color="#000080">);
        </font>DateStr <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
        </font>LAST_DOW <font color="#000080">:= </font><font color="#800000">8 </font><font color="#000080">;     </font><font color="#008000"><i>(*  Force an update!  *)
</i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#008000"><i>(* Draw the TDateView object *)

</i></font><font color="#FF0000"><b>Procedure </b></font>TDateView<font color="#000080">.</font>Draw<font color="#000080">;
</font><font color="#FF0000"><b>Var
        </b></font>B<font color="#000080">: </font>TDrawBuffer<font color="#000080">;
        </font>C<font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>C <font color="#000080">:= </font>GetColor<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">);
        </font>MoveChar<font color="#000080">(</font>B<font color="#000080">, </font><font color="#800000">' '</font><font color="#000080">, </font>C<font color="#000080">, </font>Size<font color="#000080">.</font>X<font color="#000080">);
        </font>MoveStr<font color="#000080">(</font>B<font color="#000080">, </font>DateStr<font color="#000080">, </font>C<font color="#000080">);
        </font>WriteLine<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font>Size<font color="#000080">.</font>X<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>B<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(* Verify the TDateView object is up to date *)
(* Redisplaying it if it needs updating      *)

</i></font><font color="#FF0000"><b>Procedure </b></font>TDateView<font color="#000080">.</font>Update<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Year<font color="#000080">, </font>Month<font color="#000080">, </font>Day<font color="#000080">, </font>DOW <font color="#000080">: </font>word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>GetDate<font color="#000080">( </font>Year <font color="#000080">, </font>Month <font color="#000080">, </font>Day <font color="#000080">, </font>Dow <font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>DOW <font color="#000080">&lt;&gt; </font>LAST_DOW<font color="#000080">) </font><font color="#FF0000"><b>then
        Begin
                </b></font>DateStr <font color="#000080">:= </font>FormatDate<font color="#000080">( </font>Year <font color="#000080">, </font>Month <font color="#000080">, </font>Day <font color="#000080">, </font>DOW <font color="#000080">);
                </font>DrawView<font color="#000080">;
                </font>LAST_DOW <font color="#000080">:= </font>DOW <font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TPushButton                             *)
(*                                                                        *)
(**************************************************************************)

</i></font><font color="#FF0000"><b>Procedure </b></font>TPushButton<font color="#000080">.</font>Press<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>DrawState<font color="#000080">(</font>TRUE<font color="#000080">);        </font><font color="#008000"><i>(*  Draw Button &quot;Pressed&quot;  *)
        </i></font>Delay<font color="#000080">(</font><font color="#800000">150</font><font color="#000080">);
        </font>DrawState<font color="#000080">(</font>FALSE<font color="#000080">);        </font><font color="#008000"><i>(*  Draw Button &quot;Released&quot; *)
        </i></font>Delay<font color="#000080">(</font><font color="#800000">50</font><font color="#000080">);
        </font>TButton<font color="#000080">.</font>Press<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TNum_Box                                *)
(*                                                                        *)
(**************************************************************************)

</i></font><font color="#FF0000"><b>Constructor </b></font>TNum_Box<font color="#000080">.</font>Init<font color="#000080">( </font>Loc <font color="#000080">: </font>TPoint <font color="#000080">; </font>MaxWh<font color="#000080">, </font>MaxDs <font color="#000080">: </font>Integer <font color="#000080">;
                                                   </font>NegOk <font color="#000080">: </font>Boolean <font color="#000080">;  </font>Dflt <font color="#000080">: </font>Extended <font color="#000080">);
</font><font color="#FF0000"><b>Var        </b></font>R                <font color="#000080">:        </font>TRect <font color="#000080">;
        </font>X                <font color="#000080">:        </font>Integer <font color="#000080">;
        </font>Wrk_Str <font color="#000080">:        </font><font color="#FF0000"><b>String </b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin

        </b></font>Wrk_Str <font color="#000080">:= </font><font color="#800000">'' </font><font color="#000080">;
        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>NegOk <font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>Wrk_Str <font color="#000080">:= </font><font color="#800000">' ' </font><font color="#000080">;
        </font><font color="#FF0000"><b>For </b></font>X <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxWh <font color="#FF0000"><b>do
                </b></font>Wrk_Str <font color="#000080">:= </font>Wrk_Str <font color="#000080">+ </font><font color="#800000">' ' </font><font color="#000080">;

        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>MaxDs <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#000080">) </font><font color="#FF0000"><b>then
        Begin
                </b></font>Wrk_Str <font color="#000080">:= </font>Wrk_Str <font color="#000080">+ </font><font color="#800000">'.'</font><font color="#000080">;
                </font><font color="#FF0000"><b>For </b></font>X <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxDs <font color="#FF0000"><b>do
                        </b></font>Wrk_Str <font color="#000080">:= </font>Wrk_Str <font color="#000080">+ </font><font color="#800000">' ' </font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font>R<font color="#000080">.</font>Assign<font color="#000080">( </font>Loc<font color="#000080">.</font>X <font color="#000080">, </font>Loc<font color="#000080">.</font>Y <font color="#000080">, </font>Loc<font color="#000080">.</font>X <font color="#000080">+ </font>Length<font color="#000080">( </font>Wrk_Str <font color="#000080">) , </font>Loc<font color="#000080">.</font>Y <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">);
        </font>TView<font color="#000080">.</font>Init<font color="#000080">( </font>R <font color="#000080">) ;

        </font>Num_Str <font color="#000080">:= </font>Wrk_Str <font color="#000080">;

        </font>Neg_Ok <font color="#000080">:= </font>NegOk <font color="#000080">;
        </font>Max_Whole <font color="#000080">:= </font>MaxWh <font color="#000080">;
        </font>Max_Decs <font color="#000080">:= </font>MaxDs <font color="#000080">;

        </font>Max_Len <font color="#000080">:= </font>Length<font color="#000080">( </font>Num_Str <font color="#000080">);

        </font>Options <font color="#000080">:= </font>Options <font color="#FF0000"><b>OR </b></font>ofSelectable <font color="#000080">;

        </font>Default_Val <font color="#000080">:= </font>Dflt <font color="#000080">;
        </font>Curr_Val <font color="#000080">:= </font>Dflt <font color="#000080">;
        </font>Dec_Pos <font color="#000080">:= </font>Pos<font color="#000080">( </font><font color="#800000">'.' </font><font color="#000080">, </font>Num_Str <font color="#000080">);

        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>Dec_Pos <font color="#000080">&lt; </font><font color="#800000">1 </font><font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>Dec_Pos <font color="#000080">:= </font>Max_Len <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">;


        </font>Cursor<font color="#000080">.</font>X <font color="#000080">:= </font>Dec_Pos <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">;

        </font>First_Char <font color="#000080">:= </font>True <font color="#000080">;
        </font>ShowCursor<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(*  Draw the TNum_Box on the view.  *)
(*  Color depends on the state of   *)
(*  the object.                     *)

</i></font><font color="#FF0000"><b>Procedure </b></font>TNum_Box<font color="#000080">.</font>Draw<font color="#000080">;
</font><font color="#FF0000"><b>Var        </b></font>Buff <font color="#000080">: </font>TDrawBuffer <font color="#000080">;
        </font>Colr <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>Colr <font color="#000080">:= </font>GetColor<font color="#000080">(</font><font color="#800000">19</font><font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font>GetState<font color="#000080">(</font>sfFocused<font color="#000080">) </font><font color="#FF0000"><b>then
                If </b></font>First_Char <font color="#FF0000"><b>then
                        </b></font>Colr <font color="#000080">:= </font>GetColor<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">)
                </font><font color="#FF0000"><b>else
                        </b></font>Colr <font color="#000080">:= </font>GetColor<font color="#000080">(</font><font color="#800000">22</font><font color="#000080">);

        </font>MoveChar<font color="#000080">( </font>Buff<font color="#000080">,</font><font color="#800000">' '</font><font color="#000080">,</font>Colr<font color="#000080">, </font>Size<font color="#000080">.</font>X<font color="#000080">);
        </font>MoveStr<font color="#000080">( </font>Buff<font color="#000080">,</font>Num_Str<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
        </font>Writeline<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>Size<font color="#000080">.</font>X<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>Buff<font color="#000080">);

</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(*  Updated SetState to watch for changes in the  *)
(*  selected and focused flags.                   *)

</i></font><font color="#FF0000"><b>Procedure </b></font>TNum_Box<font color="#000080">.</font>SetState<font color="#000080">(</font>AState<font color="#000080">: </font>Word<font color="#000080">; </font>Enable<font color="#000080">: </font>Boolean<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>TView<font color="#000080">.</font>SetState<font color="#000080">(</font>AState<font color="#000080">, </font>Enable<font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>AState <font color="#000080">= </font>sfFocused <font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>Draw <font color="#000080">;
        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>AState <font color="#000080">= </font>sfFocused <font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">( </font>Enable <font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>First_Char <font color="#000080">:= </font>TRUE <font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(*  HandleEvent, routing keystrokes  *)

</i></font><font color="#FF0000"><b>Procedure </b></font>TNum_Box<font color="#000080">.</font>HandleEvent<font color="#000080">( </font><font color="#FF0000"><b>Var </b></font>Event <font color="#000080">: </font>TEvent <font color="#000080">);
</font><font color="#FF0000"><b>Var        </b></font>NextCmd<font color="#000080">: </font>TEvent<font color="#000080">;
        </font>test<font color="#000080">:</font>PEvent<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>TView<font color="#000080">.</font>HandleEvent<font color="#000080">( </font>Event <font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font>Event<font color="#000080">.</font>What <font color="#000080">= </font>evKeydown <font color="#FF0000"><b>then
        Begin
                Case </b></font><font color="#000080">( </font>Event<font color="#000080">.</font>Charcode <font color="#000080">) </font><font color="#FF0000"><b>of
                        </b></font><font color="#800000">#00                </font><font color="#000080">:   </font><font color="#FF0000"><b>Begin
                                                End</b></font><font color="#000080">;
                        </font><font color="#800000">#08                </font><font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        </b></font>Do_Edit<font color="#000080">( </font>Event<font color="#000080">.</font>keyCode <font color="#000080">);
                                                        </font>ClearEvent<font color="#000080">( </font>Event <font color="#000080">);
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                        </font><font color="#800000">#13                </font><font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        </b></font>ClearEvent<font color="#000080">( </font>Event <font color="#000080">);
                                                        </font>Update_Value <font color="#000080">;
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                        </font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9'</font><font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        </b></font>Add_Digit<font color="#000080">( </font>Event<font color="#000080">.</font>Charcode <font color="#000080">);
                                                        </font>ClearEvent<font color="#000080">( </font>Event <font color="#000080">);
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                        </font><font color="#800000">'.'</font><font color="#000080">,</font><font color="#800000">'-'</font><font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        </b></font>Add_Digit<font color="#000080">( </font>Event<font color="#000080">.</font>Charcode <font color="#000080">);
                                                        </font>ClearEvent<font color="#000080">( </font>Event <font color="#000080">);
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(*  Perform normal charector addition to the number string  *)

</i></font><font color="#FF0000"><b>Procedure </b></font>TNum_Box<font color="#000080">.</font>Add_Digit<font color="#000080">( </font>Charcode <font color="#000080">: </font>Char <font color="#000080">);
</font><font color="#FF0000"><b>Var        </b></font>X                        <font color="#000080">:        </font>Integer <font color="#000080">;
        </font>First_Dig        <font color="#000080">:        </font>Integer <font color="#000080">;
</font><font color="#FF0000"><b>Begin

        If </b></font><font color="#000080">( </font>First_Char <font color="#000080">) </font><font color="#FF0000"><b>then
        Begin
                For </b></font>X <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Length<font color="#000080">( </font>Num_Str <font color="#000080">) </font><font color="#FF0000"><b>do
                        If </b></font><font color="#000080">(</font>Num_Str<font color="#000080">[</font>X<font color="#000080">]&lt;&gt;</font><font color="#800000">'.'</font><font color="#000080">) </font><font color="#FF0000"><b>then
                                </b></font>Num_Str<font color="#000080">[</font>X<font color="#000080">]:=</font><font color="#800000">' '</font><font color="#000080">;

                </font>First_Char <font color="#000080">:= </font>False <font color="#000080">;
                </font>Cursor<font color="#000080">.</font>X <font color="#000080">:= </font>Dec_Pos <font color="#000080">- </font><font color="#800000">2</font><font color="#000080">;
                </font>ShowCursor<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

        </font><font color="#FF0000"><b>If </b></font>Neg_Ok <font color="#FF0000"><b>then
                </b></font>First_Dig <font color="#000080">:= </font><font color="#800000">2
        </font><font color="#FF0000"><b>else
                </b></font>First_Dig <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;

        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>Cursor<font color="#000080">.</font>X <font color="#000080">&lt; </font>Dec_Pos <font color="#000080">) </font><font color="#FF0000"><b>then
        Case </b></font><font color="#000080">( </font>Charcode <font color="#000080">) </font><font color="#FF0000"><b>of
                </b></font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9'        </font><font color="#000080">:        </font><font color="#FF0000"><b>If Not</b></font><font color="#000080">( </font>Num_Str<font color="#000080">[ </font>First_Dig <font color="#000080">] </font><font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9'</font><font color="#000080">]) </font><font color="#FF0000"><b>then
                                                Begin
                                                        For </b></font>X <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Cursor<font color="#000080">.</font>X <font color="#FF0000"><b>do
                                                                </b></font>Num_Str<font color="#000080">[</font>X<font color="#000080">] := </font>Num_Str<font color="#000080">[</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] ;
                                                        </font>Num_Str<font color="#000080">[ </font>Cursor<font color="#000080">.</font>X <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">] := </font>Charcode <font color="#000080">;
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                </font><font color="#800000">'-'                        </font><font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        If </b></font><font color="#000080">(</font>Neg_Ok<font color="#000080">) </font><font color="#FF0000"><b>then
                                                        Begin
                                                                if </b></font><font color="#000080">(</font>Num_Str<font color="#000080">[ </font>Cursor<font color="#000080">.</font>X <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">] = </font><font color="#800000">' '</font><font color="#000080">) </font><font color="#FF0000"><b>then
                                                                        </b></font>Num_Str<font color="#000080">[ </font>Cursor<font color="#000080">.</font>X <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">] := </font><font color="#800000">'-'
                                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                </font><font color="#800000">'.'                        </font><font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        If </b></font><font color="#000080">(</font>Max_Decs<font color="#000080">&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">( </font>Cursor<font color="#000080">.</font>X <font color="#000080">&lt; </font>Dec_Pos <font color="#000080">) </font><font color="#FF0000"><b>then
                                                        Begin
                                                                </b></font>Cursor<font color="#000080">.</font>X <font color="#000080">:= </font>Dec_Pos <font color="#000080">;
                                                                </font>ShowCursor<font color="#000080">;
                                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>End
        else
        Case </b></font><font color="#000080">( </font>Charcode <font color="#000080">) </font><font color="#FF0000"><b>of
                </b></font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9'        </font><font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        If </b></font><font color="#000080">( </font>Cursor<font color="#000080">.</font>X <font color="#000080">&lt; ( </font>Max_Len <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">)) </font><font color="#FF0000"><b>then
                                                        Begin
                                                                </b></font>Num_Str<font color="#000080">[</font>Cursor<font color="#000080">.</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>Charcode <font color="#000080">;
                                                                </font>Inc<font color="#000080">( </font>Cursor<font color="#000080">.</font>X <font color="#000080">);
                                                                </font>ShowCursor<font color="#000080">;
                                                        </font><font color="#FF0000"><b>End
                                                        else
                                                                if </b></font>Num_Str<font color="#000080">[</font>Cursor<font color="#000080">.</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] = </font><font color="#800000">' ' </font><font color="#FF0000"><b>then
                                                                        </b></font>Num_Str<font color="#000080">[</font>Cursor<font color="#000080">.</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>Charcode <font color="#000080">;
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

        </font>Draw<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(*  Perform any editing on the number string  *)
(*  ( Only the &lt;Backspace&gt; key is currently   *)
(*  supported ).                              *)

</i></font><font color="#FF0000"><b>Procedure </b></font>TNum_Box<font color="#000080">.</font>Do_Edit<font color="#000080">( </font>Keycode <font color="#000080">: </font>Word <font color="#000080">);
</font><font color="#FF0000"><b>Var        </b></font>X                        <font color="#000080">:        </font>Integer <font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>First_Char <font color="#000080">:= </font>False <font color="#000080">;
        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>Dec_Pos <font color="#000080">= </font><font color="#800000">0 </font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">( </font>Cursor<font color="#000080">.</font>X <font color="#000080">&lt; </font>Dec_Pos <font color="#000080">) </font><font color="#FF0000"><b>then
        Begin
                If </b></font><font color="#000080">(</font>Keycode <font color="#000080">= </font>kbBack<font color="#000080">) </font><font color="#FF0000"><b>then
                Begin
                        For </b></font>X <font color="#000080">:= </font>Cursor<font color="#000080">.</font>X<font color="#000080">+</font><font color="#800000">1 </font><font color="#FF0000"><b>downto </b></font><font color="#800000">2 </font><font color="#FF0000"><b>do
                                </b></font>Num_Str<font color="#000080">[</font>X<font color="#000080">] := </font>Num_Str<font color="#000080">[</font>X<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">] ;
                        </font>Num_Str<font color="#000080">[ </font><font color="#800000">1 </font><font color="#000080">] := </font><font color="#800000">' ' </font><font color="#000080">;
                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>End
        else
        Begin
                If </b></font><font color="#000080">(</font>Keycode <font color="#000080">= </font>kbBack<font color="#000080">) </font><font color="#FF0000"><b>then
                Begin
                        If </b></font>Num_Str<font color="#000080">[</font>Cursor<font color="#000080">.</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] = </font><font color="#800000">' ' </font><font color="#FF0000"><b>then
                        Begin
                                </b></font>Dec<font color="#000080">( </font>Cursor<font color="#000080">.</font>X <font color="#000080">);
                                </font>Num_Str<font color="#000080">[</font>Cursor<font color="#000080">.</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">' '</font><font color="#000080">;
                        </font><font color="#FF0000"><b>End
                        else
                                </b></font>Num_Str<font color="#000080">[</font>Cursor<font color="#000080">.</font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">' '</font><font color="#000080">;

                        </font><font color="#FF0000"><b>If </b></font>Num_Str<font color="#000080">[ </font>Cursor<font color="#000080">.</font>X <font color="#000080">] = </font><font color="#800000">'.' </font><font color="#FF0000"><b>then
                                </b></font>Cursor<font color="#000080">.</font>X <font color="#000080">:= </font>Cursor<font color="#000080">.</font>X <font color="#000080">- </font><font color="#800000">2 </font><font color="#000080">;
                        </font>ShowCursor<font color="#000080">;
                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

        </font>Draw<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(* &quot;Lock&quot; the number string value in the box.     *)
(* Use the default value if no number is present. *)

</i></font><font color="#FF0000"><b>Procedure </b></font>TNum_Box<font color="#000080">.</font>Update_Value<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Code        <font color="#000080">:        </font>Integer <font color="#000080">;
        </font>Work_str<font color="#000080">:        </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">24</font><font color="#000080">];
</font><font color="#FF0000"><b>Begin
        </b></font>Work_Str <font color="#000080">:= </font>Num_Str <font color="#000080">;
        </font><font color="#FF0000"><b>While </b></font><font color="#000080">(( </font>Length<font color="#000080">( </font>Work_Str <font color="#000080">)&gt;</font><font color="#800000">0 </font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">( </font>Work_Str<font color="#000080">[</font>Length<font color="#000080">( </font>Work_Str <font color="#000080">)] </font><font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">'.'</font><font color="#000080">,</font><font color="#800000">' '</font><font color="#000080">])) </font><font color="#FF0000"><b>do
                </b></font>Work_Str <font color="#000080">:= </font>Copy<font color="#000080">( </font>Work_Str <font color="#000080">, </font><font color="#800000">1 </font><font color="#000080">, </font>length<font color="#000080">( </font>Work_Str <font color="#000080">) -</font><font color="#800000">1 </font><font color="#000080">);

        </font>Code <font color="#000080">:= </font><font color="#800000">0 </font><font color="#000080">;

        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>Work_Str <font color="#000080">= </font><font color="#800000">'' </font><font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>Curr_Val <font color="#000080">:= </font>Default_Val
        <font color="#FF0000"><b>else
                </b></font>Val<font color="#000080">( </font>Work_Str<font color="#000080">, </font>Curr_Val <font color="#000080">, </font>Code <font color="#000080">);
        </font>Str<font color="#000080">( </font>Curr_Val<font color="#000080">:</font>Max_Len<font color="#000080">:</font>Max_Decs <font color="#000080">, </font>Num_Str <font color="#000080">);

        </font>Cursor<font color="#000080">.</font>X <font color="#000080">:= </font>Max_Len <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">;
        </font>First_Char <font color="#000080">:= </font>True <font color="#000080">;
        </font>Draw<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TLink_Item                              *)
(*                                                                        *)
(*                 Used by TLinked_Dialog to track links                  *)
(*                                                                        *)
(**************************************************************************)

</i></font><font color="#FF0000"><b>Constructor </b></font>TLink_Item<font color="#000080">.</font>Init<font color="#000080">( </font>Link_Rec <font color="#000080">: </font>DLink_Record <font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>Item <font color="#000080">:= </font>Link_Rec<font color="#000080">.</font>Item <font color="#000080">;
        </font><font color="#FF0000"><b>With </b></font>Link_Rec <font color="#FF0000"><b>do
        Begin
                </b></font>Pointers<font color="#000080">[</font>DLink_Left<font color="#000080">]        := </font>Left_Link<font color="#000080">;
                </font>Pointers<font color="#000080">[</font>DLink_Right<font color="#000080">]        := </font>Right_Link<font color="#000080">;
                </font>Pointers<font color="#000080">[</font>DLink_Up<font color="#000080">]                := </font>Up_Link<font color="#000080">;
                </font>Pointers<font color="#000080">[</font>DLink_Down<font color="#000080">]         := </font>Down_Link<font color="#000080">;
                </font>Pointers<font color="#000080">[</font>DLink_Spare1<font color="#000080">]        := </font>Spare1_Link<font color="#000080">;
                </font>Pointers<font color="#000080">[</font>DLink_Spare2<font color="#000080">]        := </font>Spare2_Link<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>TLink_Item<font color="#000080">.</font>Add_Link<font color="#000080">( </font>Link_Direc <font color="#000080">: </font>Integer <font color="#000080">; </font>Link <font color="#000080">: </font>Pointer <font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>Pointers<font color="#000080">[ </font>Link_Direc <font color="#000080">] := </font>Link <font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TLink_List                              *)
(*                                                                        *)
(*                 Used by TLinked_Dialog to track links                  *)
(*                                                                        *)
(**************************************************************************)

</i></font><font color="#FF0000"><b>Function </b></font>TLinked_List<font color="#000080">.</font>Search<font color="#000080">( </font>Key <font color="#000080">: </font>Pointer <font color="#000080">) : </font>Integer <font color="#000080">;
</font><font color="#FF0000"><b>Var        </b></font>X <font color="#000080">: </font>Integer <font color="#000080">;
        </font>Found <font color="#000080">: </font>Boolean <font color="#000080">;
        </font>Linked_Item <font color="#000080">: </font>PLink_Item <font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>Search <font color="#000080">:= -</font><font color="#800000">1 </font><font color="#000080">;
        </font>Found <font color="#000080">:= </font>False <font color="#000080">;
        </font>X <font color="#000080">:= </font><font color="#800000">0 </font><font color="#000080">;
        </font><font color="#FF0000"><b>While </b></font><font color="#000080">( </font>X <font color="#000080">&lt; </font>Count <font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">( </font><font color="#FF0000"><b>NOT </b></font>FOUND <font color="#000080">) </font><font color="#FF0000"><b>do
        Begin
                </b></font>Linked_Item <font color="#000080">:= </font>at<font color="#000080">( </font>X <font color="#000080">);
                </font>Found <font color="#000080">:= </font>Linked_Item<font color="#000080">^.</font>Item <font color="#000080">= </font>Key <font color="#000080">;
                </font>X <font color="#000080">:= </font>X <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>Found <font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>Search <font color="#000080">:= </font>X <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                        Object: TLinked_Dialog                          *)
(*                                                                        *)
(**************************************************************************)

</i></font><font color="#FF0000"><b>Constructor </b></font>TLinked_Dialog<font color="#000080">.</font>Init<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Bounds<font color="#000080">: </font>TRect<font color="#000080">; </font>ATitle<font color="#000080">: </font>TTitleStr<font color="#000080">);
</font><font color="#FF0000"><b>Begin
        </b></font>TDialog<font color="#000080">.</font>Init<font color="#000080">( </font>Bounds <font color="#000080">, </font>ATitle <font color="#000080">);
        </font>Link_List<font color="#000080">.</font>Init<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">5</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>TLinked_Dialog<font color="#000080">.</font>Insert<font color="#000080">(</font>P<font color="#000080">: </font>PView<font color="#000080">);
</font><font color="#FF0000"><b>Var        </b></font>Linked_Item <font color="#000080">: </font>PLink_Item <font color="#000080">;
        </font>Blank_Rec <font color="#000080">: </font>DLink_Record <font color="#000080">;
</font><font color="#FF0000"><b>Begin
        With </b></font>Blank_Rec <font color="#FF0000"><b>do
        Begin
                </b></font>Item <font color="#000080">:= </font>P <font color="#000080">;
                </font>Left_Link         <font color="#000080">:= </font><font color="#FF0000"><b>Nil </b></font><font color="#000080">;
                </font>Right_Link        <font color="#000080">:= </font><font color="#FF0000"><b>Nil </b></font><font color="#000080">;
                </font>Up_Link                <font color="#000080">:= </font><font color="#FF0000"><b>Nil </b></font><font color="#000080">;
                </font>Down_Link        <font color="#000080">:= </font><font color="#FF0000"><b>Nil </b></font><font color="#000080">;
                </font>Spare1_Link        <font color="#000080">:= </font><font color="#FF0000"><b>Nil </b></font><font color="#000080">;
                </font>Spare2_Link <font color="#000080">:= </font><font color="#FF0000"><b>Nil </b></font><font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font>Linked_Item <font color="#000080">:= </font>New<font color="#000080">( </font>PLink_Item <font color="#000080">, </font>Init<font color="#000080">( </font>Blank_Rec <font color="#000080">) );
        </font>TDialog<font color="#000080">.</font>Insert<font color="#000080">( </font>P <font color="#000080">);
        </font>Link_List<font color="#000080">.</font>Insert<font color="#000080">( </font>Linked_Item <font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>TLinked_Dialog<font color="#000080">.</font>Set_Link<font color="#000080">(</font>P<font color="#000080">:</font>PView<font color="#000080">;</font>Link_Direc<font color="#000080">:</font>Integer<font color="#000080">;</font>Link<font color="#000080">:</font>Pointer<font color="#000080">);
</font><font color="#FF0000"><b>Var        </b></font>Linked_Item <font color="#000080">: </font>PLink_Item <font color="#000080">;
        </font>X <font color="#000080">: </font>Integer <font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>X <font color="#000080">:= </font>Link_List<font color="#000080">.</font>Search<font color="#000080">( </font>P <font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>X <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>Exit <font color="#000080">;
        </font>Linked_Item <font color="#000080">:= </font>Link_List<font color="#000080">.</font>at<font color="#000080">( </font>X <font color="#000080">);
        </font>Linked_Item<font color="#000080">^.</font>Pointers<font color="#000080">[ </font>Link_Direc <font color="#000080">] := </font>Link <font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>TLinked_Dialog<font color="#000080">.</font>Select_Link<font color="#000080">( </font>Direc <font color="#000080">: </font>Integer <font color="#000080">);
</font><font color="#FF0000"><b>Var        </b></font>X                <font color="#000080">: </font>Integer <font color="#000080">;
        </font>LL_Item        <font color="#000080">: </font>PLink_Item <font color="#000080">;
        </font>Item        <font color="#000080">: </font>PView <font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>X <font color="#000080">:= </font>Link_List<font color="#000080">.</font>Search<font color="#000080">( </font>Current <font color="#000080">);
        </font>LL_Item <font color="#000080">:= </font>Link_List<font color="#000080">.</font>at<font color="#000080">(</font>X<font color="#000080">);
        </font>Item <font color="#000080">:= </font>LL_Item<font color="#000080">^.</font>Pointers<font color="#000080">[ </font>Direc <font color="#000080">];
        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>Item <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>Nil </b></font><font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>Item<font color="#000080">^.</font>Select <font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>TLinked_Dialog<font color="#000080">.</font>HandleEvent<font color="#000080">( </font><font color="#FF0000"><b>Var </b></font>Event <font color="#000080">: </font>TEvent <font color="#000080">);
</font><font color="#FF0000"><b>Var        </b></font>X                <font color="#000080">: </font>Integer <font color="#000080">;
        </font>LL_Item        <font color="#000080">: </font>PLink_Item <font color="#000080">;
        </font>Item        <font color="#000080">: </font>PView <font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>TDialog<font color="#000080">.</font>HandleEvent<font color="#000080">( </font>Event <font color="#000080">);

        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>Event<font color="#000080">.</font>What <font color="#000080">= </font>evKeydown <font color="#000080">) </font><font color="#FF0000"><b>then
                Case </b></font>Event<font color="#000080">.</font>keycode <font color="#FF0000"><b>of
                        </b></font>kbUp        <font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        </b></font>Select_Link<font color="#000080">( </font>DLink_Up <font color="#000080">);
                                                        </font>ClearEvent<font color="#000080">( </font>Event <font color="#000080">);
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                        </font>kbDown        <font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        </b></font>Select_Link<font color="#000080">( </font>DLink_Down <font color="#000080">);
                                                        </font>ClearEvent<font color="#000080">( </font>Event <font color="#000080">);
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                        </font>kbRight        <font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        </b></font>Select_Link<font color="#000080">( </font>DLink_Right <font color="#000080">);
                                                        </font>ClearEvent<font color="#000080">( </font>Event <font color="#000080">);
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                        </font>kbLeft        <font color="#000080">:        </font><font color="#FF0000"><b>Begin
                                                        </b></font>Select_Link<font color="#000080">( </font>DLink_Left <font color="#000080">);
                                                        </font>ClearEvent<font color="#000080">( </font>Event <font color="#000080">);
                                                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(**************************************************************************)
(*                                                                        *)
(*                      Function: FormatDate                              *)
(*                                                                        *)
(**************************************************************************)

</i></font><font color="#FF0000"><b>Function </b></font>FormatDate<font color="#000080">( </font>Year <font color="#000080">, </font>Month <font color="#000080">, </font>Day <font color="#000080">, </font>DOW <font color="#000080">: </font>Word <font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Const
        </b></font>DAYS <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">6</font><font color="#000080">] </font><font color="#FF0000"><b>of String </b></font><font color="#000080">= ( </font><font color="#800000">'Sun'</font><font color="#000080">,</font><font color="#800000">'Mon'</font><font color="#000080">,</font><font color="#800000">'Tue'</font><font color="#000080">,</font><font color="#800000">'Wed'</font><font color="#000080">,</font><font color="#800000">'Thu'</font><font color="#000080">,</font><font color="#800000">'Fri'</font><font color="#000080">,</font><font color="#800000">'Sat'</font><font color="#000080">);
        </font>MONTHS <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">12</font><font color="#000080">] </font><font color="#FF0000"><b>of String </b></font><font color="#000080">= ( </font><font color="#800000">'Jan'</font><font color="#000080">,</font><font color="#800000">'Feb'</font><font color="#000080">,</font><font color="#800000">'Mar'</font><font color="#000080">,</font><font color="#800000">'Apr'</font><font color="#000080">,</font><font color="#800000">'May'</font><font color="#000080">,</font><font color="#800000">'Jun'</font><font color="#000080">,</font><font color="#800000">'Jul'</font><font color="#000080">,</font><font color="#800000">'Aug'</font><font color="#000080">,</font><font color="#800000">'Sep'</font><font color="#000080">,</font><font color="#800000">'Oct'</font><font color="#000080">,</font><font color="#800000">'Nov'</font><font color="#000080">,</font><font color="#800000">'Dec'</font><font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>Work1<font color="#000080">,</font>Work2 <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">4</font><font color="#000080">] ;
</font><font color="#FF0000"><b>Begin
        </b></font>Str<font color="#000080">( </font>Day<font color="#000080">,</font>Work1 <font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>Day <font color="#000080">&lt; </font><font color="#800000">10 </font><font color="#000080">) </font><font color="#FF0000"><b>then
        </b></font>Work1 <font color="#000080">:= </font><font color="#800000">'0' </font><font color="#000080">+ </font>Work1 <font color="#000080">;
        </font>Str<font color="#000080">( </font>Year<font color="#000080">,</font>Work2 <font color="#000080">);
        </font>FormatDate <font color="#000080">:= </font>DAYS<font color="#000080">[</font>DOW<font color="#000080">]+</font><font color="#800000">'  '</font><font color="#000080">+</font>MONTHS<font color="#000080">[</font>Month<font color="#000080">]+</font><font color="#800000">' '</font><font color="#000080">+</font>Work1<font color="#000080">+</font><font color="#800000">', '</font><font color="#000080">+</font>Work2<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
end</b></font><font color="#000080">.

</font><font color="#008000"><i>{-----------------------    DEMO CODE --------------------- }

</i></font><font color="#FF0000"><b>Program </b></font>Example<font color="#000080">;

</font><font color="#FF0000"><b>Uses </b></font>Crt<font color="#000080">,</font>App<font color="#000080">, </font>Objects<font color="#000080">, </font>Views<font color="#000080">, </font>Dialogs<font color="#000080">, </font>Drivers<font color="#000080">, </font>Misc<font color="#000080">;

</font><font color="#FF0000"><b>Type
        </b></font>PMyApp                <font color="#000080">=        ^</font>TMyApp <font color="#000080">;
        </font>TMyApp                <font color="#000080">=        </font><font color="#FF0000"><b>Object</b></font><font color="#000080">( </font>TApplication <font color="#000080">)
                                                </font><font color="#FF0000"><b>Constructor </b></font>Init<font color="#000080">;
                                        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var
        </b></font>MyApp        <font color="#000080">:        </font>TMyApp <font color="#000080">;
        </font>Dialog  <font color="#000080">:   </font>PLinked_Dialog<font color="#000080">;

        </font>Screen_Array        <font color="#000080">:        </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">70</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>TNum_Box<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Build_Links<font color="#000080">;
</font><font color="#FF0000"><b>Var        </b></font>P        <font color="#000080">:        </font>TPoint <font color="#000080">;
        </font>X<font color="#000080">,</font>Y <font color="#000080">:        </font>Integer <font color="#000080">;
        </font>N        <font color="#000080">:        </font>Integer <font color="#000080">;
</font><font color="#FF0000"><b>Begin

        For </b></font>N <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">50 </font><font color="#FF0000"><b>do
        Begin
                </b></font>P<font color="#000080">.</font>Y <font color="#000080">:= ( </font>N <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">10         </font><font color="#000080">+ </font><font color="#800000">8 </font><font color="#000080">;
                </font>P<font color="#000080">.</font>X <font color="#000080">:= ( </font>N <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">) </font><font color="#FF0000"><b>MOD </b></font><font color="#800000">10 </font><font color="#000080">* </font><font color="#800000">4 </font><font color="#000080">+ </font><font color="#800000">20 </font><font color="#000080">;

                </font>Screen_Array<font color="#000080">[</font>N<font color="#000080">].</font>Init<font color="#000080">( </font>P <font color="#000080">, </font><font color="#800000">3 </font><font color="#000080">, </font><font color="#800000">0 </font><font color="#000080">, </font>FALSE <font color="#000080">, </font>N <font color="#000080">);
                </font>Screen_Array<font color="#000080">[</font>N<font color="#000080">].</font>Update_Value<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

        </font><font color="#FF0000"><b>For </b></font>N <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">8 </font><font color="#FF0000"><b>do
        Begin
                </b></font>P<font color="#000080">.</font>Y <font color="#000080">:= ( </font>N <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">) </font><font color="#FF0000"><b>Div </b></font><font color="#800000">3 </font><font color="#000080">* </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">8  </font><font color="#000080">;
                </font>P<font color="#000080">.</font>X <font color="#000080">:= ( </font>N <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">) </font><font color="#FF0000"><b>Mod </b></font><font color="#800000">3 </font><font color="#000080">* </font><font color="#800000">4 </font><font color="#000080">+ </font><font color="#800000">60 </font><font color="#000080">;
                </font><font color="#FF0000"><b>If </b></font><font color="#000080">( </font>N <font color="#000080">&gt; </font><font color="#800000">6 </font><font color="#000080">) </font><font color="#FF0000"><b>then
                        </b></font>P<font color="#000080">.</font>X <font color="#000080">:= </font>P<font color="#000080">.</font>X <font color="#000080">+ </font><font color="#800000">4 </font><font color="#000080">;
                </font>Screen_Array<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">50</font><font color="#000080">].</font>Init<font color="#000080">( </font>P <font color="#000080">, </font><font color="#800000">3 </font><font color="#000080">, </font><font color="#800000">0 </font><font color="#000080">, </font>FALSE <font color="#000080">, </font>N<font color="#000080">+</font><font color="#800000">50 </font><font color="#000080">);
                </font>Screen_Array<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">50</font><font color="#000080">].</font>Update_Value<font color="#000080">;
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

        </font>P<font color="#000080">.</font>Y <font color="#000080">:= </font><font color="#800000">6 </font><font color="#000080">;

</font><font color="#008000"><i>(* Initialize 5 floating point boxes *)

        </i></font><font color="#FF0000"><b>For </b></font>N <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">5 </font><font color="#FF0000"><b>do
        Begin
                </b></font>P<font color="#000080">.</font>X <font color="#000080">:= ( </font>N <font color="#000080">* </font><font color="#800000">12 </font><font color="#000080">) ;
                </font>Screen_Array<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">58</font><font color="#000080">].</font>Init<font color="#000080">( </font>P <font color="#000080">, </font><font color="#800000">4 </font><font color="#000080">, </font><font color="#800000">2 </font><font color="#000080">, </font>True <font color="#000080">, </font>N<font color="#000080">+</font><font color="#800000">58 </font><font color="#000080">);
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>(* Insert all boxes before setting links! *)

        </i></font><font color="#FF0000"><b>For </b></font>N <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
                </b></font>Dialog<font color="#000080">^.</font>Insert<font color="#000080">( @</font>Screen_Array<font color="#000080">[</font>N<font color="#000080">] );

        </font><font color="#FF0000"><b>For </b></font>N <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">50 </font><font color="#FF0000"><b>do
        Begin
                if </b></font><font color="#000080">( </font>N <font color="#FF0000"><b>MOD </b></font><font color="#800000">10 </font><font color="#000080">) &lt;&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>then
                        </b></font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">]);
                </font><font color="#FF0000"><b>if </b></font><font color="#000080">( </font>N <font color="#FF0000"><b>MOD </b></font><font color="#800000">10 </font><font color="#000080">) &lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
                        </b></font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">]);
                </font><font color="#FF0000"><b>if </b></font><font color="#000080">( </font>N <font color="#000080">&gt; </font><font color="#800000">10 </font><font color="#000080">) </font><font color="#FF0000"><b>then
                        </b></font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Up   <font color="#000080">,@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">])
                </font><font color="#FF0000"><b>else
                        </b></font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Up   <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">59</font><font color="#000080">]);

                </font><font color="#FF0000"><b>if </b></font><font color="#000080">( </font>N <font color="#000080">&lt;</font><font color="#800000">41 </font><font color="#000080">) </font><font color="#FF0000"><b>then
                        </b></font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Down <font color="#000080">,@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">10</font><font color="#000080">]);

                </font><font color="#FF0000"><b>if </b></font><font color="#000080">( </font>N<font color="#000080">=</font><font color="#800000">10 </font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">( </font>N<font color="#000080">=</font><font color="#800000">20 </font><font color="#000080">) </font><font color="#FF0000"><b>then
                        </b></font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">51</font><font color="#000080">]);

                </font><font color="#FF0000"><b>if </b></font><font color="#000080">( </font>N<font color="#000080">=</font><font color="#800000">30 </font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">( </font>N<font color="#000080">=</font><font color="#800000">40 </font><font color="#000080">) </font><font color="#FF0000"><b>then
                        </b></font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">54</font><font color="#000080">]);
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">50</font><font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">57</font><font color="#000080">]);

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">51</font><font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">51</font><font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">52</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">51</font><font color="#000080">],</font>DLink_Down <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">54</font><font color="#000080">]);

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">52</font><font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">51</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">52</font><font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">53</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">52</font><font color="#000080">],</font>DLink_Down <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">55</font><font color="#000080">]);

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">53</font><font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">52</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">53</font><font color="#000080">],</font>DLink_Down <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">56</font><font color="#000080">]);

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">54</font><font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">30</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">54</font><font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">55</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">54</font><font color="#000080">],</font>DLink_Down <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">57</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">54</font><font color="#000080">],</font>DLink_Up   <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">51</font><font color="#000080">]);

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">55</font><font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">54</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">55</font><font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">56</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">55</font><font color="#000080">],</font>DLink_Down <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">57</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">55</font><font color="#000080">],</font>DLink_Up   <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">52</font><font color="#000080">]);

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">56</font><font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">55</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">56</font><font color="#000080">],</font>DLink_Down <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">58</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">56</font><font color="#000080">],</font>DLink_Up   <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">53</font><font color="#000080">]);

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">57</font><font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">50</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">57</font><font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">58</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">57</font><font color="#000080">],</font>DLink_Up   <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">55</font><font color="#000080">]);

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">58</font><font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">57</font><font color="#000080">]);
        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font><font color="#800000">58</font><font color="#000080">],</font>DLink_Up   <font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">56</font><font color="#000080">]);

        </font><font color="#FF0000"><b>For </b></font>N <font color="#000080">:= </font><font color="#800000">59 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
        Begin
                if </b></font><font color="#000080">( </font>N <font color="#000080">&gt; </font><font color="#800000">59 </font><font color="#000080">) </font><font color="#FF0000"><b>then
                        </b></font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Left <font color="#000080">,@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">]);
                </font><font color="#FF0000"><b>if </b></font><font color="#000080">( </font>N <font color="#000080">&lt; </font><font color="#800000">63 </font><font color="#000080">) </font><font color="#FF0000"><b>then
                        </b></font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">]);
                </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(@</font>Screen_array<font color="#000080">[</font>N<font color="#000080">],</font>DLink_Down<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]);
        </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Do_Dialog<font color="#000080">;
</font><font color="#FF0000"><b>Var        </b></font>R                <font color="#000080">:        </font>TRect <font color="#000080">;
        </font>TP                <font color="#000080">:        </font>TPoint <font color="#000080">;
        </font>N                <font color="#000080">:        </font>Integer <font color="#000080">;
        </font>Button        <font color="#000080">:        </font>PButton <font color="#000080">;
</font><font color="#FF0000"><b>Begin

        </b></font>R<font color="#000080">.</font>Assign<font color="#000080">( </font><font color="#800000">0 </font><font color="#000080">, </font><font color="#800000">10 </font><font color="#000080">, </font><font color="#800000">80 </font><font color="#000080">, </font><font color="#800000">24 </font><font color="#000080">);
        </font>Dialog <font color="#000080">:= </font>New<font color="#000080">( </font>PLinked_Dialog <font color="#000080">, </font>Init<font color="#000080">( </font>R <font color="#000080">, </font><font color="#800000">'Linked Dialog Example' </font><font color="#000080">));
        </font>Dialog<font color="#000080">^.</font>SetState<font color="#000080">(</font>sfShadow<font color="#000080">,</font>False <font color="#000080">);

        </font>Build_Links<font color="#000080">;

        </font>R<font color="#000080">.</font>Assign<font color="#000080">( </font><font color="#800000">5 </font><font color="#000080">, </font><font color="#800000">8 </font><font color="#000080">, </font><font color="#800000">15 </font><font color="#000080">, </font><font color="#800000">10 </font><font color="#000080">);
        </font>Button <font color="#000080">:= </font>New<font color="#000080">(</font>PPushButton<font color="#000080">,</font>Init<font color="#000080">(</font>R<font color="#000080">,</font><font color="#800000">'~P~ush'</font><font color="#000080">,</font>cmOk<font color="#000080">,</font>bfDefault<font color="#000080">));
        </font>Dialog<font color="#000080">^.</font>Insert<font color="#000080">( </font>Button <font color="#000080">);

        </font>R<font color="#000080">.</font>Assign<font color="#000080">( </font><font color="#800000">5 </font><font color="#000080">, </font><font color="#800000">11 </font><font color="#000080">, </font><font color="#800000">15 </font><font color="#000080">, </font><font color="#800000">13 </font><font color="#000080">);
        </font>Button <font color="#000080">:= </font>New<font color="#000080">(</font>PPushButton<font color="#000080">,</font>Init<font color="#000080">(</font>R<font color="#000080">,</font><font color="#800000">'~E~xit'</font><font color="#000080">,</font>cmQuit<font color="#000080">,</font>bfDefault<font color="#000080">));
        </font>Dialog<font color="#000080">^.</font>Insert<font color="#000080">( </font>Button <font color="#000080">);

        </font>Dialog<font color="#000080">^.</font>Set_Link<font color="#000080">(</font>Button<font color="#000080">,</font>DLink_Right<font color="#000080">,@</font>Screen_array<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]);

        </font>MyApp<font color="#000080">.</font>Insert<font color="#000080">( </font>Dialog <font color="#000080">);

</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Constructor </b></font>TMyApp<font color="#000080">.</font>Init<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        </b></font>TApplication<font color="#000080">.</font>Init <font color="#000080">;
        </font>Do_Dialog<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
        </b></font>ClrScr<font color="#000080">;
        </font>MyApp<font color="#000080">.</font>Init <font color="#000080">;
        </font>MyApp<font color="#000080">.</font>Run <font color="#000080">;
        </font>MyApp<font color="#000080">.</font>Done <font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to OOP SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0040.PAS">Original</a><b>]</b></p></body>
</html>
