<html>
<head><title> "Password for TVision" by EDWIN GROOTHUIS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to OOP SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0025.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
EDWIN GROOTHUIS

somebody asked For a inputline For passWords. I have such one, but I've
forgotten WHICH discussionlist... so I'll mail it to the above lists, I
know it's one of it, and know it can be interesting For somebody else.

What I have done is overriden the Draw-Procedure For the inputline to draw
only ***'s instead of the right Characters.  The solution I gave yesterday
was not quitte correct: I used the Procedure SetData to put the *'s into the
Data^-field, but that Procedure calls the Draw-Procedure itself so you'll
get an infinite loop and a stack-overflow error. Now I put the *'s direct to
the Data^-field, I don't think it can give problems.
}

</i></font><font color="#FF0000"><b>Uses
  </b></font>app<font color="#000080">, </font>dialogs<font color="#000080">, </font>views<font color="#000080">, </font>Objects<font color="#000080">;

</font><font color="#FF0000"><b>Type
  </b></font>PPassWord <font color="#000080">= ^</font>TPassWord<font color="#000080">;
  </font>TPassWord <font color="#000080">= </font><font color="#FF0000"><b>Object</b></font><font color="#000080">(</font>TInputLine<font color="#000080">)
                </font><font color="#FF0000"><b>Procedure </b></font>Draw<font color="#000080">; </font><font color="#FF0000"><b>Virtual</b></font><font color="#000080">;
              </font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Procedure </b></font>TPassWord<font color="#000080">.</font>Draw<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>s<font color="#000080">, </font>t <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>i    <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>GetData<font color="#000080">(</font>s<font color="#000080">);
  </font>t <font color="#000080">:= </font>s<font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>length<font color="#000080">(</font>t<font color="#000080">) </font><font color="#FF0000"><b>do
    </b></font>t<font color="#000080">[</font>i<font color="#000080">] := </font><font color="#800000">'*'</font><font color="#000080">;
  </font>Data<font color="#000080">^ := </font>t<font color="#000080">;
  </font><font color="#FF0000"><b>inherited </b></font>Draw<font color="#000080">;
  </font>Data<font color="#000080">^ := </font>s<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>about<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>d <font color="#000080">: </font>pdialog<font color="#000080">;
  </font>r <font color="#000080">: </font>trect<font color="#000080">;
  </font>b <font color="#000080">: </font>pview<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>r<font color="#000080">.</font>assign<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">60</font><font color="#000080">, </font><font color="#800000">15</font><font color="#000080">);
  </font>d <font color="#000080">:= </font>new<font color="#000080">(</font>pdialog<font color="#000080">,</font>init<font color="#000080">(</font>r<font color="#000080">, </font><font color="#800000">'About'</font><font color="#000080">));
  </font><font color="#FF0000"><b>With </b></font>d<font color="#000080">^ </font><font color="#FF0000"><b>do
  begin
    </b></font>flags <font color="#000080">:= </font>flags <font color="#FF0000"><b>or </b></font>wfgrow<font color="#000080">;
    </font>r<font color="#000080">.</font>assign<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">);
    </font>insert<font color="#000080">(</font>new<font color="#000080">(</font>PButton<font color="#000080">, </font>init<font color="#000080">(</font>r<font color="#000080">,</font><font color="#800000">'~O~K'</font><font color="#000080">, </font>cmok<font color="#000080">, </font>bfdefault<font color="#000080">)));
    </font>r<font color="#000080">.</font>assign<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);
    </font>insert<font color="#000080">(</font>new<font color="#000080">(</font>PPassWord<font color="#000080">, </font>init<font color="#000080">(</font>r<font color="#000080">,</font><font color="#800000">10</font><font color="#000080">)));
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>desktop<font color="#000080">^.</font>execview<font color="#000080">(</font>d<font color="#000080">);
  </font>dispose<font color="#000080">(</font>d<font color="#000080">, </font>done<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Var
  </b></font>a <font color="#000080">: </font>TApplication<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>a<font color="#000080">.</font>init<font color="#000080">;
  </font>about<font color="#000080">;
  </font>a<font color="#000080">.</font>run<font color="#000080">;
  </font>a<font color="#000080">.</font>done<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to OOP SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0025.PAS">Original</a><b>]</b></p></body>
</html>
