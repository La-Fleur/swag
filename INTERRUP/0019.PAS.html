<html>
<head><title> "Interrupt Table" by KEVIN MESS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to INTERRUP SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{$R-,S+,I+,D+,T+,F-,V+,B-,N-,L+ }
{$M 4096,0,0 }

</i></font><font color="#FF0000"><b>program </b></font>interrupt_table <font color="#000080">(</font>input<font color="#000080">,</font>output<font color="#000080">);

</font><font color="#008000"><i>{

  A Program that displays all interrupt vectors.

  Version 1.00 - 03/10/88 - First release

  Kevin Mess
  PO Box 35
  Boulder City, NV   89005
  Compuserve 71121,3360

}

</i></font><font color="#FF0000"><b>uses
  </b></font>crt<font color="#000080">,</font>dos<font color="#000080">,</font>cursors<font color="#000080">; </font><font color="#008000"><i>{ Cursors unit as written by Scott Bussinger }

</i></font><font color="#FF0000"><b>const
  </b></font>bell        <font color="#000080">= ^</font>G<font color="#000080">;

</font><font color="#FF0000"><b>type
  </b></font>string4     <font color="#000080">= </font><font color="#FF0000"><b>string </b></font><font color="#000080">[</font><font color="#800000">4</font><font color="#000080">];
  </font>keyset      <font color="#000080">= (</font>ESC<font color="#000080">,</font>PGUP<font color="#000080">,</font>PGDN<font color="#000080">,</font>nothing<font color="#000080">);
  </font>pointer_rec <font color="#000080">= </font><font color="#FF0000"><b>record
                  case </b></font>integer <font color="#FF0000"><b>of
                    </b></font><font color="#800000">0 </font><font color="#000080">: (</font>address         <font color="#000080">: </font>pointer<font color="#000080">);
                    </font><font color="#800000">1 </font><font color="#000080">: (</font>offset<font color="#000080">, </font>segment <font color="#000080">: </font>word<font color="#000080">)
                </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ record }
  </i></font>screentype  <font color="#000080">= </font><font color="#FF0000"><b>record
                   </b></font>position <font color="#000080">: </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">4000</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
                   </font>x<font color="#000080">,</font>y      <font color="#000080">: </font>byte<font color="#000080">;
                </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ record }
</i></font><font color="#FF0000"><b>var
  </b></font>vector      <font color="#000080">: </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">$00</font><font color="#000080">..</font><font color="#800000">$FF</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>pointer_rec <font color="#FF0000"><b>absolute </b></font><font color="#800000">$0000</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">;
  </font>colorscreen <font color="#000080">: </font>screentype <font color="#FF0000"><b>absolute </b></font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">;
  </font>monoscreen  <font color="#000080">: </font>screentype <font color="#FF0000"><b>absolute </b></font><font color="#800000">$B000</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">;
  </font>savedscreen <font color="#000080">: </font>screentype<font color="#000080">;
  </font>intnumber   <font color="#000080">: </font>byte<font color="#000080">;
  </font>finished    <font color="#000080">: </font>Boolean<font color="#000080">;

</font><font color="#008000"><i>{*************************************}

</i></font><font color="#FF0000"><b>function </b></font>hex <font color="#000080">(</font>decimal <font color="#000080">: </font>word<font color="#000080">) : </font>string4<font color="#000080">;

   </font><font color="#FF0000"><b>const
      </b></font>hexdigit  <font color="#000080">: </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">$0</font><font color="#000080">..</font><font color="#800000">$F</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>char <font color="#000080">= </font><font color="#800000">'0123456789ABCDEF'</font><font color="#000080">;

   </font><font color="#FF0000"><b>var
      </b></font>temp    <font color="#000080">: </font>string4<font color="#000080">;

   </font><font color="#FF0000"><b>begin
      </b></font>temp <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
      </font>temp <font color="#000080">:= </font>hexdigit <font color="#000080">[ </font>hi <font color="#000080">(</font>decimal<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">16 </font><font color="#000080">] +
              </font>hexdigit <font color="#000080">[ </font>hi <font color="#000080">(</font>decimal<font color="#000080">) </font><font color="#FF0000"><b>mod </b></font><font color="#800000">16 </font><font color="#000080">] +
              </font>hexdigit <font color="#000080">[ </font>lo <font color="#000080">(</font>decimal<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">16 </font><font color="#000080">] +
              </font>hexdigit <font color="#000080">[ </font>lo <font color="#000080">(</font>decimal<font color="#000080">) </font><font color="#FF0000"><b>mod </b></font><font color="#800000">16 </font><font color="#000080">] ;
      </font>hex  <font color="#000080">:= </font>temp
   <font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{*************************************}

</i></font><font color="#FF0000"><b>procedure </b></font>frame <font color="#000080">(</font>x1<font color="#000080">,</font>y1<font color="#000080">,</font>x2<font color="#000080">,</font>y2 <font color="#000080">: </font>byte<font color="#000080">);

   </font><font color="#FF0000"><b>const
      </b></font>upperleft  <font color="#000080">= </font><font color="#800000">#201</font><font color="#000080">;
      </font>lowerleft  <font color="#000080">= </font><font color="#800000">#200</font><font color="#000080">;
      </font>upperright <font color="#000080">= </font><font color="#800000">#187</font><font color="#000080">;
      </font>lowerright <font color="#000080">= </font><font color="#800000">#188</font><font color="#000080">;
      </font>horizontal <font color="#000080">= </font><font color="#800000">#205</font><font color="#000080">;
      </font>vertical   <font color="#000080">= </font><font color="#800000">#186</font><font color="#000080">;

   </font><font color="#FF0000"><b>var
      </b></font>i          <font color="#000080">: </font>byte<font color="#000080">;

   </font><font color="#FF0000"><b>begin
      </b></font>gotoxy <font color="#000080">(</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
      </font>write  <font color="#000080">(</font>upperleft<font color="#000080">);
      </font>gotoxy <font color="#000080">(</font>x2<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
      </font>write  <font color="#000080">(</font>upperright<font color="#000080">);
      </font>gotoxy <font color="#000080">(</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>y2<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
      </font>write  <font color="#000080">(</font>lowerleft<font color="#000080">);
      </font>gotoxy <font color="#000080">(</font>x2<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y2<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
      </font>write  <font color="#000080">(</font>lowerright<font color="#000080">);
      </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font>x1 <font color="#FF0000"><b>to </b></font>x2 <font color="#FF0000"><b>do
         begin
            </b></font>gotoxy <font color="#000080">(</font>i<font color="#000080">,</font>y1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">);
            </font>write  <font color="#000080">(</font>horizontal<font color="#000080">);
            </font>gotoxy <font color="#000080">(</font>i<font color="#000080">,</font>y2<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
            </font>write  <font color="#000080">(</font>horizontal<font color="#000080">)
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font>y1 <font color="#FF0000"><b>to </b></font>y2 <font color="#FF0000"><b>do
         begin
            </b></font>gotoxy <font color="#000080">(</font>x1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>i<font color="#000080">);
            </font>write  <font color="#000080">(</font>vertical<font color="#000080">);
            </font>gotoxy <font color="#000080">(</font>x2<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>i<font color="#000080">);
            </font>write  <font color="#000080">(</font>vertical<font color="#000080">)
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ frame }


{*************************************}

</i></font><font color="#FF0000"><b>procedure </b></font>display_screen <font color="#000080">(</font>first_intnumber <font color="#000080">: </font>byte<font color="#000080">);

  </font><font color="#FF0000"><b>var
     </b></font>x<font color="#000080">,</font>y<font color="#000080">,
     </font>last_intnumber<font color="#000080">,
     </font>intnumber      <font color="#000080">: </font>byte<font color="#000080">;

  </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ display_screen }
     </i></font>last_intnumber <font color="#000080">:= </font>first_intnumber <font color="#000080">+ </font><font color="#800000">$3F</font><font color="#000080">;
     </font>x <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">;
     </font>y <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>for </b></font>intnumber <font color="#000080">:= </font>first_intnumber <font color="#FF0000"><b>to </b></font>last_intnumber <font color="#FF0000"><b>do
       with </b></font>vector <font color="#000080">[</font>intnumber<font color="#000080">] </font><font color="#FF0000"><b>do
         begin
           </b></font>gotoxy <font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">);
           </font>write <font color="#000080">(</font>copy<font color="#000080">(</font>hex<font color="#000080">(</font>intnumber<font color="#000080">),</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">),</font>hex<font color="#000080">(</font>segment<font color="#000080">):</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">':'</font><font color="#000080">,</font>hex<font color="#000080">(</font>offset<font color="#000080">));
           </font>inc <font color="#000080">(</font>y<font color="#000080">);
           </font><font color="#FF0000"><b>if </b></font><font color="#000080">((</font>intnumber <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>mod </b></font><font color="#800000">$10</font><font color="#000080">) = </font><font color="#800000">0 </font><font color="#FF0000"><b>then
             if </b></font>intnumber <font color="#000080">&lt;&gt; </font>last_intnumber <font color="#FF0000"><b>then
                begin
                  </b></font>inc <font color="#000080">(</font>x<font color="#000080">,</font><font color="#800000">19</font><font color="#000080">);
                  </font>y <font color="#000080">:= </font><font color="#800000">1
                </font><font color="#FF0000"><b>end
         end</b></font><font color="#000080">; </font><font color="#008000"><i>{ with }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ display_screen }


{*************************************}


</i></font><font color="#FF0000"><b>function </b></font>endkey <font color="#000080">: </font>keyset<font color="#000080">;

   </font><font color="#FF0000"><b>var
     </b></font>anykey <font color="#000080">: </font>char<font color="#000080">;
     </font>exit   <font color="#000080">: </font>keyset<font color="#000080">;

   </font><font color="#FF0000"><b>begin
     repeat
        </b></font>exit <font color="#000080">:= </font>nothing<font color="#000080">;
        </font>anykey <font color="#000080">:= </font>readkey<font color="#000080">;
        </font><font color="#FF0000"><b>if </b></font>anykey <font color="#000080">= </font><font color="#800000">#0 </font><font color="#FF0000"><b>then
           </b></font>anykey <font color="#000080">:= </font>readkey<font color="#000080">;
        </font><font color="#FF0000"><b>case </b></font>anykey <font color="#FF0000"><b>of
           </b></font><font color="#800000">#27 </font><font color="#000080">: </font>exit <font color="#000080">:= </font>ESC<font color="#000080">;
           </font><font color="#800000">#73 </font><font color="#000080">: </font>exit <font color="#000080">:= </font>PGUP<font color="#000080">;
           </font><font color="#800000">#81 </font><font color="#000080">: </font>exit <font color="#000080">:= </font>PGDN<font color="#000080">;
           </font><font color="#FF0000"><b>else  </b></font>write <font color="#000080">(</font>bell<font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ case }
     </i></font><font color="#FF0000"><b>until </b></font>exit <font color="#FF0000"><b>in </b></font><font color="#000080">[</font>ESC<font color="#000080">,</font>PGUP<font color="#000080">,</font>PGDN<font color="#000080">];
     </font>endkey <font color="#000080">:= </font>exit
   <font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{*************************************}

</i></font><font color="#FF0000"><b>procedure </b></font>int_table <font color="#000080">(</font>intnumber <font color="#000080">: </font>byte<font color="#000080">);

   </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ int_table }
      </i></font><font color="#FF0000"><b>if </b></font>monodisplay <font color="#FF0000"><b>then
         </b></font>savedscreen <font color="#000080">:= </font>monoscreen
      <font color="#FF0000"><b>else
         begin
            </b></font>savedscreen <font color="#000080">:= </font>colorscreen<font color="#000080">;
            </font>textcolor <font color="#000080">(</font>white<font color="#000080">);
            </font>textbackground <font color="#000080">(</font>blue<font color="#000080">)
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>savedscreen<font color="#000080">.</font>x <font color="#000080">:= </font>wherex<font color="#000080">;
      </font>savedscreen<font color="#000080">.</font>y <font color="#000080">:= </font>wherey<font color="#000080">;
      </font>makecursor <font color="#000080">(</font>nocursor<font color="#000080">);
      </font>frame  <font color="#000080">(</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">79</font><font color="#000080">,</font><font color="#800000">19</font><font color="#000080">);
      </font>window <font color="#000080">(</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">79</font><font color="#000080">,</font><font color="#800000">19</font><font color="#000080">);
      </font>clrscr<font color="#000080">;
      </font>gotoxy <font color="#000080">(</font><font color="#800000">12</font><font color="#000080">,</font><font color="#800000">18</font><font color="#000080">);
      </font>write <font color="#000080">(</font><font color="#800000">'PgUp - Previous Page,  PgDn - Next Page,  Esc to Exit'</font><font color="#000080">);
      </font>finished  <font color="#000080">:= </font>FALSE<font color="#000080">;
      </font><font color="#FF0000"><b>repeat
         </b></font>display_screen <font color="#000080">(</font>intnumber<font color="#000080">);
         </font><font color="#FF0000"><b>case </b></font>endkey <font color="#FF0000"><b>of
            </b></font>PGUP <font color="#000080">: </font><font color="#FF0000"><b>if </b></font>intnumber <font color="#000080">&gt;= </font><font color="#800000">$40 </font><font color="#FF0000"><b>then
                      </b></font>dec <font color="#000080">(</font>intnumber<font color="#000080">,</font><font color="#800000">$40</font><font color="#000080">)
                   </font><font color="#FF0000"><b>else
                      </b></font>intnumber <font color="#000080">:= </font><font color="#800000">$C0</font><font color="#000080">;
            </font>PGDN <font color="#000080">: </font><font color="#FF0000"><b>if </b></font>intnumber <font color="#000080">&lt;= </font><font color="#800000">$80 </font><font color="#FF0000"><b>then
                      </b></font>inc <font color="#000080">(</font>intnumber<font color="#000080">,</font><font color="#800000">$40</font><font color="#000080">)
                   </font><font color="#FF0000"><b>else
                      </b></font>intnumber <font color="#000080">:= </font><font color="#800000">$00</font><font color="#000080">;
            </font>ESC  <font color="#000080">: </font>finished <font color="#000080">:= </font>TRUE
         <font color="#FF0000"><b>end </b></font><font color="#008000"><i>{ case }
      </i></font><font color="#FF0000"><b>until </b></font>finished<font color="#000080">;
      </font>window <font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">80</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">);
      </font><font color="#FF0000"><b>if </b></font>monodisplay <font color="#FF0000"><b>then
         </b></font>monoscreen <font color="#000080">:= </font>savedscreen
      <font color="#FF0000"><b>else
         </b></font>colorscreen  <font color="#000080">:= </font>savedscreen<font color="#000080">;
      </font>gotoxy <font color="#000080">(</font>savedscreen<font color="#000080">.</font>x<font color="#000080">,</font>savedscreen<font color="#000080">.</font>y<font color="#000080">);
      </font>makecursor <font color="#000080">(</font>restorecursor<font color="#000080">)
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;  </font><font color="#008000"><i>{ int_table }

{*************************************}


</i></font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ main }
   </i></font>intnumber <font color="#000080">:= </font><font color="#800000">$00</font><font color="#000080">;
   </font>int_table <font color="#000080">(</font>intnumber<font color="#000080">)
</font><font color="#FF0000"><b>end</b></font><font color="#000080">. </font><font color="#008000"><i>{ main }
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to INTERRUP SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p></body>
</html>
