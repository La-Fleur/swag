<html>
<head><title> "Handling Bitfields" by HOVIK A. MELIKIAN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0078.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Delphi Compenent Library gives a good lesson of how to do this in Turbo
Pascal, and I think it's the best way.

Let us have flags:
}

</i></font><font color="#FF0000"><b>type
  </b></font>TFlagValues <font color="#000080">= (</font>flagUse<font color="#000080">, </font>flagSets<font color="#000080">, </font>flagInsteadOf<font color="#000080">, </font>flagBitOperations<font color="#000080">);

</font><font color="#FF0000"><b>Then </b></font>we declare a <font color="#FF0000"><b>set</b></font><font color="#000080">:

</font><font color="#FF0000"><b>type
  </b></font>TFlags <font color="#000080">= </font><font color="#FF0000"><b>set of </b></font>TFlagValues<font color="#000080">;

</font>Variables <font color="#FF0000"><b>of </b></font>this <font color="#FF0000"><b>type </b></font>will occupy only one byte<font color="#000080">. </font>Now<font color="#000080">, </font>common operations<font color="#000080">:

  </font>Flags <font color="#000080">:= [];                   </font><font color="#008000"><i>{ clear all flags }
  </i></font>Flags <font color="#000080">:= </font>Flags <font color="#000080">+ </font>flagXXX<font color="#000080">;      </font><font color="#008000"><i>{ set this flag to 1 }
  </i></font>Include<font color="#000080">(</font>Flags<font color="#000080">, </font>flagXXX<font color="#000080">);       </font><font color="#008000"><i>{ same in TP 7.0 and Delphi, more efficient }
  </i></font>Flags <font color="#000080">:= </font>Flags <font color="#000080">- </font>flagXXX<font color="#000080">;      </font><font color="#008000"><i>{ clear this flag }
  </i></font>Exclude<font color="#000080">(</font>Flags<font color="#000080">, </font>flagXXX<font color="#000080">);       </font><font color="#008000"><i>{ same in TP 7.0 and Delphi, more efficient }
  </i></font><font color="#FF0000"><b>if </b></font>flagXXX <font color="#FF0000"><b>in </b></font>Flags <font color="#FF0000"><b>then </b></font><font color="#000080">...   </font><font color="#008000"><i>{ test }

</i></font>This generates same code <font color="#FF0000"><b>as with </b></font>bit operations <font color="#FF0000"><b>and </b></font>read easier<font color="#000080">.


</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0078.PAS">Original</a><b>]</b></p></body>
</html>
