<html>
<head><title> "Word Permutes 2!" by CLIVE MOSES</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0055.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
DC&gt;I have a little major problem... And offcourse I want YOU to help me!
DC&gt;I want to write something that gives of a 8-letter word all the possible
DC&gt;combinations. So that 'RDEPTRAO' gives 'PREDATOR'. I think it must be about
DC&gt;256 combinations. I don't need a program that gives 'PREDATOR' directly, but
DC&gt;just something that gives me all those possibilities.

Here is something that may help you a little. It works fine on my
PC with one small proviso. If you specify permutations of 8
objects taken 8 at a time (what you want ...) then the program
runs out of heap space. Try it will smaller numbers first - like
permutations of 5 objects taken 3 at a time. This will show you
how it works. You can then try to modify it so that it will not
run out of memory generating the 40320 permutations that you are
looking for.

  Program perms, written by Clive Moses. This program will
  generate all permutations of n objects, taken r at a time,
  memory allowing.

  Challenge: try to modify the program so that it will not
  guzzle massive amounts of memory generating its output.
}

</i></font><font color="#FF0000"><b>program </b></font>perms<font color="#000080">;

</font><font color="#008000"><i>{ Program to generate permutations of n objects, taken m at a time.
  For test purposes: m &lt;= n &lt;= 8. The program, as implemented here,
  effectively uses a 'breadth-first' algorithm. If it could be changed
  to run in a 'depth-first' fashion, it would not be necessary to
  store all of the intermediate information used to create the
  permutations. A 'depth-first' algorithm might have to be recursive
  however.
}

</i></font><font color="#FF0000"><b>uses  </b></font>crt<font color="#000080">;

</font><font color="#FF0000"><b>type  </b></font>str8   <font color="#000080">= </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">8</font><font color="#000080">];

      </font>torec   <font color="#000080">= ^</font>rec<font color="#000080">;

      </font>rec  <font color="#000080">= </font><font color="#FF0000"><b>record
        </b></font>perm<font color="#000080">,
        </font>left  <font color="#000080">: </font>str8<font color="#000080">;
        </font>next  <font color="#000080">: </font>torec<font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>const </b></font>objects <font color="#000080">: </font>str8 <font color="#000080">= </font><font color="#800000">'abcdefgh'</font><font color="#000080">;

</font><font color="#FF0000"><b>var   </b></font>m<font color="#000080">, </font>n    <font color="#000080">: </font>integer<font color="#000080">;
      </font>first   <font color="#000080">: </font>torec<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>NewRec <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>p <font color="#000080">: </font>torec<font color="#000080">);
</font><font color="#FF0000"><b>begin
  </b></font>NEW <font color="#000080">(</font>p<font color="#000080">);
  </font><font color="#FF0000"><b>with </b></font>p<font color="#000080">^ </font><font color="#FF0000"><b>do
  begin
    </b></font>perm <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
    </font>left <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
    </font>next <font color="#000080">:= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>PrintPerms <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>first <font color="#000080">: </font>torec<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>p     <font color="#000080">: </font>torec<font color="#000080">;
    </font>count <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>p <font color="#000080">:= </font>first<font color="#000080">;
  </font>count <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>while </b></font>p<font color="#000080">&lt;&gt;</font><font color="#FF0000"><b>NIL do
  begin
    if </b></font>p<font color="#000080">^.</font>perm <font color="#000080">&lt;&gt; </font><font color="#800000">''
    </font><font color="#FF0000"><b>then
       begin
         </b></font>write <font color="#000080">(</font>p<font color="#000080">^.</font>perm<font color="#000080">:</font><font color="#800000">8</font><font color="#000080">);
         </font>inc <font color="#000080">(</font>count<font color="#000080">);
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>p <font color="#000080">:= </font>p<font color="#000080">^.</font>next<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>writeln<font color="#000080">;
  </font>writeln<font color="#000080">;
  </font>writeln <font color="#000080">(</font>count<font color="#000080">,</font><font color="#800000">' records printed.'</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>MakePerms <font color="#000080">(</font>m<font color="#000080">, </font>n <font color="#000080">: </font>integer<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>first <font color="#000080">: </font>torec<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>i<font color="#000080">,
    </font>level <font color="#000080">: </font>integer<font color="#000080">;
    </font>p<font color="#000080">,
    </font>p2<font color="#000080">,
    </font>temp  <font color="#000080">: </font>torec<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>writeln <font color="#000080">(</font><font color="#800000">'Permutations of '</font><font color="#000080">,</font>n<font color="#000080">,</font><font color="#800000">' objects taken '</font><font color="#000080">,</font>m<font color="#000080">,</font><font color="#800000">' at a time ...'</font><font color="#000080">);
  </font>writeln<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>m <font color="#000080">&lt;= </font>n
  <font color="#FF0000"><b>then
     begin
       </b></font>level <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
       </font>NewRec <font color="#000080">(</font>first<font color="#000080">);
       </font>first<font color="#000080">^.</font>left <font color="#000080">:= </font>copy <font color="#000080">(</font>objects<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>n<font color="#000080">);
       </font><font color="#FF0000"><b>while </b></font>level <font color="#000080">&lt; </font>m <font color="#FF0000"><b>do
       begin
         </b></font>p2 <font color="#000080">:= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;
         </font>temp <font color="#000080">:= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;
         </font>p <font color="#000080">:= </font>first<font color="#000080">;
         </font>NewRec <font color="#000080">(</font>p2<font color="#000080">);
         </font><font color="#FF0000"><b>while </b></font>p <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>NIL do
         begin
           for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>length<font color="#000080">(</font>p<font color="#000080">^.</font>left<font color="#000080">) </font><font color="#FF0000"><b>do
           begin
             if </b></font>temp<font color="#000080">=</font><font color="#FF0000"><b>NIL then </b></font>temp <font color="#000080">:= </font>p2<font color="#000080">;
             </font>p2<font color="#000080">^.</font>perm <font color="#000080">:= </font>p<font color="#000080">^.</font>perm <font color="#000080">+ </font>p<font color="#000080">^.</font>left<font color="#000080">[</font>i<font color="#000080">];
             </font>p2<font color="#000080">^.</font>left <font color="#000080">:= </font>p<font color="#000080">^.</font>left<font color="#000080">;
             </font>delete <font color="#000080">(</font>p2<font color="#000080">^.</font>left<font color="#000080">, </font>i<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
             </font>NewRec <font color="#000080">(</font>p2<font color="#000080">^.</font>next<font color="#000080">);
             </font>p2 <font color="#000080">:= </font>p2<font color="#000080">^.</font>next<font color="#000080">;
           </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
           </font>p <font color="#000080">:= </font>p<font color="#000080">^.</font>next<font color="#000080">;
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
         </font>inc <font color="#000080">(</font>level<font color="#000080">);
         </font>p <font color="#000080">:= </font>first<font color="#000080">;
         </font><font color="#FF0000"><b>while </b></font>p<font color="#000080">&lt;&gt;</font><font color="#FF0000"><b>NIL do
         begin
           </b></font>p2 <font color="#000080">:= </font>p<font color="#000080">^.</font>next<font color="#000080">;
           </font>dispose <font color="#000080">(</font>p<font color="#000080">);
           </font>p <font color="#000080">:= </font>p2<font color="#000080">;
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
         </font>first <font color="#000080">:= </font>temp<font color="#000080">;
       </font><font color="#FF0000"><b>end
     end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ Main Program }
  </i></font>clrscr<font color="#000080">;
  </font>first <font color="#000080">:= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;
  </font>writeln <font color="#000080">(</font><font color="#800000">'Memory available = '</font><font color="#000080">,</font>memavail<font color="#000080">);
  </font>writeln<font color="#000080">;
  </font><font color="#FF0000"><b>repeat
    </b></font>write <font color="#000080">(</font><font color="#800000">'Total number of objects: '</font><font color="#000080">);
    </font>readln <font color="#000080">(</font>n<font color="#000080">);
  </font><font color="#FF0000"><b>until </b></font>n <font color="#FF0000"><b>in </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">8</font><font color="#000080">];
  </font><font color="#FF0000"><b>repeat
    </b></font>write <font color="#000080">(</font><font color="#800000">'Size of permutation:   '</font><font color="#000080">);
    </font>readln <font color="#000080">(</font>m<font color="#000080">);
  </font><font color="#FF0000"><b>until </b></font>m <font color="#FF0000"><b>in </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>n<font color="#000080">];
  </font>MakePerms <font color="#000080">(</font>m<font color="#000080">, </font>n<font color="#000080">, </font>first<font color="#000080">);
  </font>PrintPerms <font color="#000080">(</font>first<font color="#000080">);
  </font>writeln<font color="#000080">;
  </font>writeln <font color="#000080">(</font><font color="#800000">'Memory available = '</font><font color="#000080">,</font>memavail<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0055.PAS">Original</a><b>]</b></p></body>
</html>
