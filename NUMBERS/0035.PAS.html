<html>
<head><title> "LongInt to HEX" by GREG VIGNEAULT</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0035.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
GREG VIGNEAULT

&gt; So to assign the File I will need the HEX in String format.
}

</i></font><font color="#FF0000"><b>Type
  </b></font>String8 <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">8</font><font color="#000080">];

</font><font color="#FF0000"><b>Var
  </b></font>MyStr <font color="#000080">: </font>String8<font color="#000080">;
  </font>ALong <font color="#000080">: </font>LongInt<font color="#000080">;

</font><font color="#008000"><i>{ convert a LongInt value to an 8-Character String, using hex digits  }
{ (using all 8 Chars will allow correct order in a sorted directory)  }

</i></font><font color="#FF0000"><b>Procedure </b></font>LongToHex<font color="#000080">(</font>AnyLong <font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>HexString <font color="#000080">: </font>String8<font color="#000080">);
</font><font color="#FF0000"><b>Var
  </b></font>ch    <font color="#000080">: </font>Char<font color="#000080">;
  </font>Index <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>HexString <font color="#000080">:= </font><font color="#800000">'00000000'</font><font color="#000080">;                  </font><font color="#008000"><i>{ default to zero   }
  </i></font>Index <font color="#000080">:= </font>Length<font color="#000080">(</font>HexString<font color="#000080">);               </font><font color="#008000"><i>{ String length     }
  </i></font><font color="#FF0000"><b>While </b></font>AnyLong <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>do
  begin                                     </b></font><font color="#008000"><i>{ loop 'til done    }
    </i></font>ch <font color="#000080">:= </font>Chr<font color="#000080">(</font><font color="#800000">48 </font><font color="#000080">+ </font>Byte<font color="#000080">(</font>AnyLong<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#800000">$0F</font><font color="#000080">);  </font><font color="#008000"><i>{ 0..9 -&gt; '0'..'9'  }
    </i></font><font color="#FF0000"><b>if </b></font>ch <font color="#000080">&gt; </font><font color="#800000">'9' </font><font color="#FF0000"><b>then
      </b></font>Inc<font color="#000080">(</font>ch<font color="#000080">, </font><font color="#800000">7</font><font color="#000080">);                           </font><font color="#008000"><i>{ 10..15 -&gt; 'A'..'F'}
    </i></font>HexString<font color="#000080">[</font>Index<font color="#000080">] := </font>ch<font color="#000080">;                 </font><font color="#008000"><i>{ insert Char       }
    </i></font>Dec<font color="#000080">(</font>Index<font color="#000080">);                             </font><font color="#008000"><i>{ adjust chr Index  }
    </i></font>AnyLong <font color="#000080">:= </font>AnyLong <font color="#FF0000"><b>SHR </b></font><font color="#800000">4</font><font color="#000080">;               </font><font color="#008000"><i>{ For next nibble   }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>ALong <font color="#000080">:= </font><font color="#800000">$12345678</font><font color="#000080">;                       </font><font color="#008000"><i>{ a LongInt value   }
  </i></font>LongToHex<font color="#000080">(</font>ALong<font color="#000080">, </font>MyStr<font color="#000080">);                  </font><font color="#008000"><i>{ convert to hex str}
  </i></font>WriteLn<font color="#000080">;
  </font>WriteLn<font color="#000080">(</font><font color="#800000">'$'</font><font color="#000080">, </font>MyStr<font color="#000080">);                      </font><font color="#008000"><i>{ display the String}
  </i></font>WriteLn<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0035.PAS">Original</a><b>]</b></p></body>
</html>
