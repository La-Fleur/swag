<html>
<head><title> "Numeric Converter" by MARCO ANTONIO ALVARADO PEREZ</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0080.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{----------------------------------------------------------------------------}
{ NUMERIC CONVERTER                                             version 2.1

  Written by Marco Antonio Alvarado Perez.
  Costa Rica, September 1996.

  Internet: 9500149@ITCR-LI.LI.ITCR.Ac.CR

  About the tool:
    Firstly I wrote the program for curiosity, and then I found it was very
  useful to translate those huge bitmaps that I wanted to insert in the
  source code. Actually, I use a version that reads text files and builts the
  arrays.

  About Turbo Pascal 7.0:
    You can call this program directly from the editor. Insert it as a tool 
  with Options - Tools in the menu bar.

  About the language:    
    I hope you could understand my English. I have source code in Spanish, if 
  you want a copy just send me E-Mail.
}
{----------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>PROGRAM </b></font>NumericConverter<font color="#000080">;

  </font><font color="#FF0000"><b>CONST
    </b></font>GreaterDigit <font color="#000080">= </font><font color="#800000">15</font><font color="#000080">;
    </font>Digits <font color="#000080">: </font><font color="#FF0000"><b>ARRAY </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>GreaterDigit<font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>Char <font color="#000080">= </font><font color="#800000">'0123456789ABCDEF'</font><font color="#000080">;

  </font><font color="#FF0000"><b>FUNCTION </b></font>DigitToValue <font color="#000080">(</font>Digit <font color="#000080">: </font>Char<font color="#000080">) : </font>Byte<font color="#000080">;

    </font><font color="#FF0000"><b>VAR
      </b></font>Index <font color="#000080">: </font>Byte<font color="#000080">;

  </font><font color="#FF0000"><b>BEGIN
    </b></font>Digit <font color="#000080">:= </font>UpCase <font color="#000080">(</font>Digit<font color="#000080">);
    </font>Index <font color="#000080">:= </font>GreaterDigit<font color="#000080">;
    </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>Index <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>Digit <font color="#000080">&lt;&gt; </font>Digits <font color="#000080">[</font>Index<font color="#000080">]) </font><font color="#FF0000"><b>DO </b></font>Dec <font color="#000080">(</font>Index<font color="#000080">);
</font><font color="#008000"><i>{unknow digit = 0}
    </i></font>DigitToValue <font color="#000080">:= </font>Index<font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>FUNCTION </b></font>PositionValue <font color="#000080">(</font>Position<font color="#000080">, </font>Base <font color="#000080">: </font>Byte<font color="#000080">) : </font>LongInt<font color="#000080">;

      </font><font color="#FF0000"><b>VAR
        </b></font>Value <font color="#000080">: </font>LongInt<font color="#000080">;
        </font>Index <font color="#000080">: </font>Byte<font color="#000080">;

  </font><font color="#FF0000"><b>BEGIN
    </b></font>Value <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>FOR </b></font>Index <font color="#000080">:= </font><font color="#800000">2 </font><font color="#FF0000"><b>TO </b></font>Position <font color="#FF0000"><b>DO </b></font>Value <font color="#000080">:= </font>Value <font color="#000080">* </font>Base<font color="#000080">;
    </font>PositionValue <font color="#000080">:= </font>Value<font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>FUNCTION </b></font>StringToValue <font color="#000080">(</font>Str <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">; </font>Base <font color="#000080">: </font>Byte<font color="#000080">) : </font>LongInt<font color="#000080">;

      </font><font color="#FF0000"><b>VAR
        </b></font>Value <font color="#000080">: </font>LongInt<font color="#000080">;
        </font>Index <font color="#000080">: </font>Byte<font color="#000080">;

  </font><font color="#FF0000"><b>BEGIN
    </b></font>Value <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>FOR </b></font>Index <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>Length <font color="#000080">(</font>Str<font color="#000080">) </font><font color="#FF0000"><b>DO </b></font>Inc <font color="#000080">(</font>Value<font color="#000080">, </font>DigitToValue <font color="#000080">(</font>Str
      <font color="#000080">[</font>Index<font color="#000080">]) * </font>PositionValue <font color="#000080">(</font>Length <font color="#000080">(</font>Str<font color="#000080">) - </font>Index <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font>Base<font color="#000080">));
    </font>StringToValue <font color="#000080">:= </font>Value<font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>FUNCTION </b></font>ValueToString <font color="#000080">(</font>Value <font color="#000080">: </font>LongInt<font color="#000080">; </font>Base <font color="#000080">: </font>Byte<font color="#000080">) : </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>VAR
      </b></font>Str <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>BEGIN

    IF </b></font>Value <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>Str <font color="#000080">:= </font>Digits <font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] </font><font color="#FF0000"><b>ELSE
    BEGIN
      </b></font>Str <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;

      </font><font color="#FF0000"><b>WHILE </b></font>Value <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>DO
      BEGIN
        </b></font>Str <font color="#000080">:= </font>Digits <font color="#000080">[</font>Value <font color="#FF0000"><b>MOD </b></font>Base<font color="#000080">] + </font>Str<font color="#000080">;
        </font>Value <font color="#000080">:= </font>Value <font color="#FF0000"><b>DIV </b></font>Base<font color="#000080">;
      </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

    </font>ValueToString <font color="#000080">:= </font>Str<font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>PROCEDURE </b></font>ShowHelp<font color="#000080">;
  </font><font color="#FF0000"><b>BEGIN
    </b></font>WriteLn <font color="#000080">(</font><font color="#800000">'CONV - Numeric Converter'</font><font color="#000080">);
    </font>WriteLn<font color="#000080">;
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'Written by Marco Antonio Alvarado.'</font><font color="#000080">);
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'Costa Rica, September 1996.'</font><font color="#000080">);
    </font>WriteLn<font color="#000080">;
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'Internet: 9500149@ITCR-LI.LI.ITCR.Ac.CR'</font><font color="#000080">);
    </font>WriteLn<font color="#000080">;
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'Use:'</font><font color="#000080">);
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'  CONV &lt;number&gt; &lt;base of number&gt; &lt;base to convert&gt;'</font><font color="#000080">);
    </font>WriteLn<font color="#000080">;
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'Bases:'</font><font color="#000080">);
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'  B   binary'</font><font color="#000080">);
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'  O   octal'</font><font color="#000080">);
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'  D   decimal'</font><font color="#000080">);
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'  H   hexadecimal'</font><font color="#000080">);
    </font>WriteLn<font color="#000080">;
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'Example:'</font><font color="#000080">);
    </font>WriteLn <font color="#000080">(</font><font color="#800000">'  CONV A000 H D'</font><font color="#000080">);
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>VAR
    </b></font>Number <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
    </font>Base <font color="#000080">: </font><font color="#FF0000"><b>STRING </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
    </font>BaseNumber <font color="#000080">: </font>Byte<font color="#000080">;
    </font>BaseConvert <font color="#000080">: </font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
  </b></font>Number <font color="#000080">:= </font><font color="#800000">'0'</font><font color="#000080">;
  </font>BaseNumber <font color="#000080">:= </font><font color="#800000">10</font><font color="#000080">;
  </font>BaseConvert <font color="#000080">:= </font><font color="#800000">10</font><font color="#000080">;

  </font><font color="#FF0000"><b>IF </b></font>ParamCount <font color="#000080">= </font><font color="#800000">3 </font><font color="#FF0000"><b>THEN
  BEGIN
    </b></font>Number <font color="#000080">:= </font>ParamStr <font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);

    </font>Base <font color="#000080">:= </font>ParamStr <font color="#000080">(</font><font color="#800000">2</font><font color="#000080">);
    </font>Base <font color="#000080">:= </font>UpCase <font color="#000080">(</font>Base <font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]);
    </font><font color="#FF0000"><b>IF </b></font>Base <font color="#000080">= </font><font color="#800000">'B' </font><font color="#FF0000"><b>THEN </b></font>BaseNumber <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
    </font><font color="#FF0000"><b>IF </b></font>Base <font color="#000080">= </font><font color="#800000">'O' </font><font color="#FF0000"><b>THEN </b></font>BaseNumber <font color="#000080">:= </font><font color="#800000">8</font><font color="#000080">;
    </font><font color="#FF0000"><b>IF </b></font>Base <font color="#000080">= </font><font color="#800000">'D' </font><font color="#FF0000"><b>THEN </b></font>BaseNumber <font color="#000080">:= </font><font color="#800000">10</font><font color="#000080">;
    </font><font color="#FF0000"><b>IF </b></font>Base <font color="#000080">= </font><font color="#800000">'H' </font><font color="#FF0000"><b>THEN </b></font>BaseNumber <font color="#000080">:= </font><font color="#800000">16</font><font color="#000080">;

    </font>Base <font color="#000080">:= </font>ParamStr <font color="#000080">(</font><font color="#800000">3</font><font color="#000080">);
    </font>Base <font color="#000080">:= </font>UpCase <font color="#000080">(</font>Base <font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]);
    </font><font color="#FF0000"><b>IF </b></font>Base <font color="#000080">= </font><font color="#800000">'B' </font><font color="#FF0000"><b>THEN </b></font>BaseConvert <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
    </font><font color="#FF0000"><b>IF </b></font>Base <font color="#000080">= </font><font color="#800000">'O' </font><font color="#FF0000"><b>THEN </b></font>BaseConvert <font color="#000080">:= </font><font color="#800000">8</font><font color="#000080">;
    </font><font color="#FF0000"><b>IF </b></font>Base <font color="#000080">= </font><font color="#800000">'D' </font><font color="#FF0000"><b>THEN </b></font>BaseConvert <font color="#000080">:= </font><font color="#800000">10</font><font color="#000080">;
    </font><font color="#FF0000"><b>IF </b></font>Base <font color="#000080">= </font><font color="#800000">'H' </font><font color="#FF0000"><b>THEN </b></font>BaseConvert <font color="#000080">:= </font><font color="#800000">16</font><font color="#000080">;

    </font>Write <font color="#000080">(</font>Number<font color="#000080">, </font><font color="#800000">' '</font><font color="#000080">, </font>ParamStr <font color="#000080">(</font><font color="#800000">2</font><font color="#000080">), </font><font color="#800000">' = '</font><font color="#000080">);
    </font>WriteLn <font color="#000080">(</font>ValueToString <font color="#000080">(</font>StringToValue <font color="#000080">(</font>Number<font color="#000080">, </font>BaseNumber<font color="#000080">), </font>BaseConvert<font color="#000080">),
      </font><font color="#800000">' '</font><font color="#000080">, </font>ParamStr <font color="#000080">(</font><font color="#800000">3</font><font color="#000080">));
  </font><font color="#FF0000"><b>END ELSE </b></font>ShowHelp<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0080.PAS">Original</a><b>]</b></p></body>
</html>
