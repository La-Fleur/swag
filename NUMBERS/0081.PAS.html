<html>
<head><title> "32bit Random Numbers" by J.J.A. KOOT</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0081.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#000000">Hi<font color="#000080">,
</font>Here <font color="#FF0000"><b>is </b></font>a simple but good working randdom number generator <font color="#FF0000"><b>for
</b></font><font color="#800000">32 </font>bit machines <font color="#FF0000"><b>with </b></font>a period <font color="#FF0000"><b>of </b></font><font color="#800000">2</font><font color="#000080">^</font><font color="#800000">31</font><font color="#000080">-</font><font color="#800000">2. </font>It generates uniformally
distributed integer  numbers <font color="#FF0000"><b>in </b></font>the range from <font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">2</font><font color="#000080">^</font><font color="#800000">31</font><font color="#000080">-</font><font color="#800000">3</font><font color="#000080">, </font>limits
included<font color="#000080">. </font>The version <font color="#FF0000"><b>of type </b></font>real generates uniformally distributed
reals <font color="#FF0000"><b>in </b></font>the range from <font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">1</font><font color="#000080">, </font>limits included<font color="#000080">.

 </font><font color="#FF0000"><b>VAR </b></font>seed<font color="#000080">:</font>longint<font color="#000080">;

 </font><font color="#FF0000"><b>PROCEDURE </b></font>ranset<font color="#000080">(</font>s<font color="#000080">:</font>longint<font color="#000080">);
 </font><font color="#FF0000"><b>BEGIN
   </b></font>seed<font color="#000080">:=</font>s
 <font color="#FF0000"><b>END</b></font><font color="#000080">;

 </font><font color="#FF0000"><b>FUNCTION </b></font>random<font color="#000080">:</font>longint<font color="#000080">;
 </font><font color="#FF0000"><b>CONST
   </b></font>a<font color="#000080">=       </font><font color="#800000">16807</font><font color="#000080">; </font><font color="#008000"><i>{This is just a lucky prime number}
   </i></font>m<font color="#000080">=  </font><font color="#800000">2147483647</font><font color="#000080">; </font><font color="#008000"><i>{This is 2^31-1, must be the same as in realrandom}
   </i></font>q<font color="#000080">=      </font><font color="#800000">127773</font><font color="#000080">; </font><font color="#008000"><i>{This is m div a}
   </i></font>r<font color="#000080">=        </font><font color="#800000">2836</font><font color="#000080">; </font><font color="#008000"><i>{This is m mod a}
 </i></font><font color="#FF0000"><b>BEGIN
   </b></font>seed<font color="#000080">:= </font>a<font color="#000080">*(</font>seed <font color="#FF0000"><b>mod </b></font>q<font color="#000080">) - </font>r<font color="#000080">*(</font>seed <font color="#FF0000"><b>div </b></font>q<font color="#000080">);
   </font><font color="#FF0000"><b>IF </b></font>seed <font color="#000080">&lt;=</font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>seed<font color="#000080">:=</font>seed<font color="#000080">+</font>m<font color="#000080">;
   </font>random<font color="#000080">:=</font>seed<font color="#000080">-</font><font color="#800000">1
 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

 </font><font color="#FF0000"><b>FUNCTION </b></font>realrandom<font color="#000080">:</font>real<font color="#000080">;
 </font><font color="#FF0000"><b>CONST </b></font>m<font color="#000080">=</font><font color="#800000">2147483647</font><font color="#000080">; </font><font color="#008000"><i>{Must be the same as in random}
 </i></font><font color="#FF0000"><b>BEGIN
   </b></font>realrandom<font color="#000080">:=</font>random<font color="#000080">/(</font>m<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">)
 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0081.PAS">Original</a><b>]</b></p></body>
</html>
