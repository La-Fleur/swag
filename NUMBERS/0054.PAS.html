<html>
<head><title> "Permutinf Words" by CLIVE MOSES</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0054.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Here is another attempt. It will also work with any length string
and generates all permutations without running out of memory, by
searching in a depth-first fashion.
}

{$M 64000,0,655360}

</i></font><font color="#FF0000"><b>program </b></font>perms2<font color="#000080">;

</font><font color="#FF0000"><b>uses  </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>type  </b></font>str52 <font color="#000080">= </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">52</font><font color="#000080">];

</font><font color="#FF0000"><b>const </b></font>objects <font color="#000080">: </font>str52 <font color="#000080">= </font><font color="#800000">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'</font><font color="#000080">;

</font><font color="#FF0000"><b>var   </b></font>m<font color="#000080">, </font>n<font color="#000080">,
      </font>fw<font color="#000080">, </font>level<font color="#000080">,
      </font>nperline   <font color="#000080">: </font>integer<font color="#000080">;
      </font>p1<font color="#000080">, </font>p2     <font color="#000080">: </font>str52<font color="#000080">;
      </font>nperms     <font color="#000080">: </font>longint<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>p <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>p1<font color="#000080">, </font>p2 <font color="#000080">: </font>str52<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>level <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>p1n<font color="#000080">, </font>p2n  <font color="#000080">: </font>str52<font color="#000080">;
    </font>i<font color="#000080">, </font>nlevel <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>level <font color="#000080">&lt; </font>m
  <font color="#FF0000"><b>then
     begin
       </b></font>nlevel <font color="#000080">:= </font>level <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
       </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>length<font color="#000080">(</font>p2<font color="#000080">) </font><font color="#FF0000"><b>do
       begin
         </b></font>p1n <font color="#000080">:= </font>p1 <font color="#000080">+ </font>p2<font color="#000080">[</font>i<font color="#000080">];
         </font>p2n <font color="#000080">:= </font>p2<font color="#000080">;
         </font>delete <font color="#000080">(</font>p2n<font color="#000080">, </font>i<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
         </font>p <font color="#000080">(</font>p1n<font color="#000080">, </font>p2n<font color="#000080">, </font>nlevel<font color="#000080">);
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>end
  else
     begin
       </b></font>write <font color="#000080">(</font>p1<font color="#000080">:</font>fw<font color="#000080">);
       </font>inc <font color="#000080">(</font>nperms<font color="#000080">);
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  repeat
    </b></font>clrscr<font color="#000080">;
    </font><font color="#FF0000"><b>repeat
      </b></font>write <font color="#000080">(</font><font color="#800000">'How many objects altogether?  '</font><font color="#000080">);
      </font>readln <font color="#000080">(</font>n<font color="#000080">);
    </font><font color="#FF0000"><b>until </b></font><font color="#000080">(</font>n<font color="#000080">&gt;=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>n<font color="#000080">&lt;</font><font color="#800000">53</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>n<font color="#000080">&gt;</font><font color="#800000">0
    </font><font color="#FF0000"><b>then
       begin
         repeat
           </b></font>write <font color="#000080">(</font><font color="#800000">'How many in each permutation? '</font><font color="#000080">);
           </font>readln <font color="#000080">(</font>m<font color="#000080">);
         </font><font color="#FF0000"><b>until </b></font><font color="#000080">(</font>m<font color="#000080">&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>m<font color="#000080">&lt;=</font>n<font color="#000080">);
         </font>writeln<font color="#000080">;
         </font><font color="#FF0000"><b>case </b></font>m <font color="#FF0000"><b>of
           </b></font><font color="#800000">1      </font><font color="#000080">: </font>fw <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;    </font><font color="#008000"><i>{ 40 per line }
           </i></font><font color="#800000">2</font><font color="#000080">..</font><font color="#800000">3   </font><font color="#000080">: </font>fw <font color="#000080">:= </font><font color="#800000">4</font><font color="#000080">;    </font><font color="#008000"><i>{ 20 per line }
           </i></font><font color="#800000">4      </font><font color="#000080">: </font>fw <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">;    </font><font color="#008000"><i>{ 16 per line }
           </i></font><font color="#800000">5</font><font color="#000080">..</font><font color="#800000">7   </font><font color="#000080">: </font>fw <font color="#000080">:= </font><font color="#800000">8</font><font color="#000080">;    </font><font color="#008000"><i>{ 10 per line }
           </i></font><font color="#800000">8</font><font color="#000080">..</font><font color="#800000">9   </font><font color="#000080">: </font>fw <font color="#000080">:= </font><font color="#800000">10</font><font color="#000080">;   </font><font color="#008000"><i>{ 8 per line }
           </i></font><font color="#800000">10</font><font color="#000080">..</font><font color="#800000">15 </font><font color="#000080">: </font>fw <font color="#000080">:= </font><font color="#800000">16</font><font color="#000080">;   </font><font color="#008000"><i>{ 5 per line }
           </i></font><font color="#800000">16</font><font color="#000080">..</font><font color="#800000">19 </font><font color="#000080">: </font>fw <font color="#000080">:= </font><font color="#800000">20</font><font color="#000080">;   </font><font color="#008000"><i>{ 4 per line }
           </i></font><font color="#800000">20</font><font color="#000080">..</font><font color="#800000">39 </font><font color="#000080">: </font>fw <font color="#000080">:= </font><font color="#800000">40</font><font color="#000080">;   </font><font color="#008000"><i>{ 2 per line }
           </i></font><font color="#800000">40</font><font color="#000080">..</font><font color="#800000">52 </font><font color="#000080">: </font>fw <font color="#000080">:= </font><font color="#800000">80</font><font color="#000080">;   </font><font color="#008000"><i>{ 1 per line }
         </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
         </font>nperline <font color="#000080">:= </font><font color="#800000">80 </font><font color="#FF0000"><b>div </b></font>fw<font color="#000080">;
         </font>level <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
         </font>p1 <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
         </font>p2 <font color="#000080">:= </font>copy <font color="#000080">(</font>objects<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>n<font color="#000080">);
         </font>nperms <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
         </font>p <font color="#000080">(</font>p1<font color="#000080">, </font>p2<font color="#000080">, </font>level<font color="#000080">);
         </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>nperms <font color="#FF0000"><b>mod </b></font>nperline<font color="#000080">) &lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>writeln<font color="#000080">;
         </font>writeln<font color="#000080">;
         </font>writeln <font color="#000080">(</font>nperms<font color="#000080">,</font><font color="#800000">' Permutations generated.'</font><font color="#000080">);
         </font>readln<font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>until </b></font>n<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font><font color="#008000"><i>{
This one is a little more elegant, and should also be a little
easier to decipher than the last one! Hope this will be of some
use to you!
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0054.PAS">Original</a><b>]</b></p></body>
</html>
