<html>
<head><title> "Positive or negative integer into binary" by JAMES LO</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0088.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>PROGRAM </b></font>DECBINCNV<font color="#000080">;

</font><font color="#FF0000"><b>USES </b></font>crt<font color="#000080">;

</font><font color="#008000"><i>{//////////////////////////////////////////////////////////////////////////////
  AUTHOR    : Lo Ching Chin James (950208778)
  COURSE    : CIS101 - Introduction to Computer and Computer Programming
  ASSIGN    : CW3A.PAS
  DATE      : 20 Nov 1997
  COPYRIGHT : JAMES LO NOVEMBER 1997, HONG KONG

  This program provides function to :

  1. Convert a positive or negative integer into binary string.
  2. Convert a binary string into a positive or negative integer.
  3. Convert a real number to binary string.
  4. Convert a binary string to real number.

  Input :

  User select appropriate options and input data such as no. of bytes, binary
  strings or integers to perform conversion.

  Output :

  Systems will display the results depending on what task has been performed.

///////////////////////////////////////////////////////////////////////////////}


</i></font><font color="#FF0000"><b>CONST

    </b></font>i_LowLimit       <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the lower limit of choice value }
    </i></font>i_HighLimit      <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the higher limit of the choice value }
    </i></font>i_1Byte          <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the value for 1 byte }
    </i></font>i_2Byte          <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the value for 2 bytes }
    </i></font>i_NoOfBit        <font color="#000080">= </font><font color="#800000">8</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the number of bits per byte }
    </i></font>i_Base2          <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;  </font><font color="#008000"><i>{ Define base 2 value }
    </i></font>i_8ExpStartBit   <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the starting bit of exponent real num 8 bit }
    </i></font>i_8ExpEndBit     <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the ending bit of exponent real num 8 bit }
    </i></font>i_8ManStartBit   <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the starting bit mantissa of real num 8 bit }
    </i></font>i_8ManEndBit     <font color="#000080">= </font><font color="#800000">8</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the ending bit mantissa of real num 8 bit }
    </i></font>i_16ExpStartBit  <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the starting bit exponent of real num 16 bit }
    </i></font>i_16ExpEndBit    <font color="#000080">= </font><font color="#800000">6</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the ending bit exponent of real num 16 bit }
    </i></font>i_16ManStartBit  <font color="#000080">= </font><font color="#800000">7</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the starting bit mantissa of real num 16 bit }
    </i></font>i_16ManEndBit    <font color="#000080">= </font><font color="#800000">16</font><font color="#000080">; </font><font color="#008000"><i>{ Define the ending bit mantissa of real num 16 bit }
    </i></font>i_8BitExpInd     <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;  </font><font color="#008000"><i>{ Define the 8 bit indicator }
    </i></font>i_16BitExpInd    <font color="#000080">= </font><font color="#800000">16</font><font color="#000080">; </font><font color="#008000"><i>{ Define the 16 bit indicator }
    </i></font>r_8posbinary     <font color="#000080">= </font><font color="#800000">7.5</font><font color="#000080">;  </font><font color="#008000"><i>{Define real number limit for 8 bit}
    </i></font>r_16posbinary    <font color="#000080">= </font><font color="#800000">32736.0</font><font color="#000080">; </font><font color="#008000"><i>{Define real number limit for 16 bit}
    </i></font>i_MultipleOfByte <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;    </font><font color="#008000"><i>{Define the mutiple of bits per byte}
    </i></font>s_ZeroString     <font color="#000080">= </font><font color="#800000">'0'</font><font color="#000080">;  </font><font color="#008000"><i>{Define '0' string}
    </i></font>s_OneString      <font color="#000080">= </font><font color="#800000">'1'</font><font color="#000080">;  </font><font color="#008000"><i>{Define '1' string}
    </i></font>i_OKIOResult     <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;    </font><font color="#008000"><i>{Define good I/O result}
    </i></font>s_Space          <font color="#000080">= </font><font color="#800000">' '</font><font color="#000080">;  </font><font color="#008000"><i>{Define space value}
    </i></font>r_OneHalf        <font color="#000080">= </font><font color="#800000">0.5</font><font color="#000080">;  </font><font color="#008000"><i>{Define one half value}
    </i></font>i_NegativeOne    <font color="#000080">= -</font><font color="#800000">1</font><font color="#000080">;
    </font>i_PositiveOne    <font color="#000080">=  </font><font color="#800000">1</font><font color="#000080">;

</font><font color="#FF0000"><b>TYPE

    </b></font>bit_string       <font color="#000080">= </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>i_NoOfBit <font color="#000080">* </font>i_MultipleOfByte<font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>Char<font color="#000080">;

</font><font color="#FF0000"><b>VAR

    </b></font>s_Response     <font color="#000080">: </font>char<font color="#000080">;       </font><font color="#008000"><i>{Define a char for response}
    </i></font>i_Choice       <font color="#000080">: </font>integer<font color="#000080">;    </font><font color="#008000"><i>{Define choice variable}
    </i></font>i_Byte<font color="#000080">,</font>i_Bit   <font color="#000080">: </font>integer<font color="#000080">;    </font><font color="#008000"><i>{Define byte and bit variable}
    </i></font>i_integer      <font color="#000080">: </font>Longint<font color="#000080">;    </font><font color="#008000"><i>{Define variable for integer input}
    </i></font>r_RealNum      <font color="#000080">: </font>Real<font color="#000080">;       </font><font color="#008000"><i>{Define variable for real number input }
    </i></font>s_string       <font color="#000080">: </font>bit_string<font color="#000080">; </font><font color="#008000"><i>{Define variable for converted string}
    </i></font>s_dummy        <font color="#000080">: </font>char<font color="#000080">;       </font><font color="#008000"><i>{Define dummy variable for enter key}
    </i></font>i_LowRange<font color="#000080">,
    </font>i_HighRange    <font color="#000080">: </font>LONGINT<font color="#000080">;    </font><font color="#008000"><i>{Define variable for hi and low integers}
    </i></font>r_LowRange<font color="#000080">,
    </font>r_HighRange    <font color="#000080">: </font>REAL<font color="#000080">;       </font><font color="#008000"><i>{Define variable for hi and low real number}


{////////////////////////////////////////////////////////////////////////////
 TRIM() - this function trims trailing space.
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>TRIM<font color="#000080">(</font>inStr<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">):</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

    WHILE </b></font><font color="#000080">(</font>inStr<font color="#000080">[</font>LENGTH <font color="#000080">(</font>inStr<font color="#000080">)] = </font><font color="#800000">' '</font><font color="#000080">) </font><font color="#FF0000"><b>DO
        </b></font>inStr <font color="#000080">:= </font>COPY <font color="#000080">(</font>inStr<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>LENGTH <font color="#000080">(</font>inStr <font color="#000080">) - </font><font color="#800000">1</font><font color="#000080">);
    </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>inStr<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] = </font><font color="#800000">' '</font><font color="#000080">) </font><font color="#FF0000"><b>DO
          </b></font>DELETE <font color="#000080">(</font>inStr<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
    </font>TRIM <font color="#000080">:= </font>inStr

<font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{TRIM}


{/////////////////////////////////////////////////////////////////////////////
 Press any key to continue procedure
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>PRESSKEY<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

    </b></font>WRITE<font color="#000080">(</font><font color="#800000">'Press any key to continue ...'</font><font color="#000080">);

</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#008000"><i>{/////////////////////////////////////////////////////////////////////////////
 Raise X to power Y
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>RAISEPOWER<font color="#000080">(</font>base<font color="#000080">,</font>exponent<font color="#000080">:</font>INTEGER<font color="#000080">): </font>LONGINT<font color="#000080">;

</font><font color="#FF0000"><b>VAR

     </b></font>i_temp<font color="#000080">, </font>i <font color="#000080">: </font>LONGINT<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

     </b></font>i_temp <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;

     </font><font color="#FF0000"><b>FOR </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>exponent <font color="#FF0000"><b>DO
         </b></font>i_temp <font color="#000080">:= </font>i_temp <font color="#000080">* </font>i_base2<font color="#000080">;

     </font>RAISEPOWER <font color="#000080">:= </font>i_temp<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{RAISEPOWER}


{////////////////////////////////////////////////////////////////////////////
 Print bit string to screen
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BIT_STRING_PRINT<font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>b<font color="#000080">:</font>bit_string<font color="#000080">; </font>nbit<font color="#000080">:</font>INTEGER<font color="#000080">);

</font><font color="#FF0000"><b>VAR

     </b></font>i    <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

     FOR </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>nbit <font color="#FF0000"><b>DO
         </b></font>WRITE <font color="#000080">(</font>b<font color="#000080">[</font>i<font color="#000080">]);

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BIT_STRING_PRINT}


{////////////////////////////////////////////////////////////////////////////
 Set bit value of '0' or '1' based on passed parameter value
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BIT_STRING_SETBIT<font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>b<font color="#000080">:</font>bit_string<font color="#000080">; </font>nth<font color="#000080">:</font>INTEGER<font color="#000080">; </font>value<font color="#000080">:</font>INTEGER<font color="#000080">);

</font><font color="#FF0000"><b>VAR

     </b></font>s  <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];

</font><font color="#FF0000"><b>BEGIN

     </b></font>STR<font color="#000080">(</font>value<font color="#000080">,</font>s<font color="#000080">);
     </font>b<font color="#000080">[</font>nth<font color="#000080">] := </font>s<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BIT_STRING_SETBIT}


{////////////////////////////////////////////////////////////////////////////
 Fill in '0's to the trailing space
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BIT_STRING_ZERO<font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>b<font color="#000080">:</font>bit_string<font color="#000080">; </font>i_frvalue<font color="#000080">:</font>INTEGER<font color="#000080">; </font>i_tovalue<font color="#000080">: </font>INTEGER<font color="#000080">);

</font><font color="#FF0000"><b>VAR

     </b></font>i <font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      FOR </b></font>i <font color="#000080">:= </font>i_frvalue <font color="#FF0000"><b>TO </b></font>i_tovalue <font color="#FF0000"><b>DO
           </b></font>b<font color="#000080">[</font>i<font color="#000080">] := </font>s_ZeroString<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BIT_STRING_ZERO}


{////////////////////////////////////////////////////////////////////////////
 Reverse bit string order e.g. '00100000' --&gt; '00000100'
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BIT_STRING_REVERSE<font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>b<font color="#000080">:</font>bit_string<font color="#000080">; </font>value<font color="#000080">:</font>INTEGER<font color="#000080">);

</font><font color="#FF0000"><b>VAR

    </b></font>i<font color="#000080">,</font>j        <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>tmp_string <font color="#000080">: </font>bit_string<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

     </b></font>j <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
     </font><font color="#FF0000"><b>FOR </b></font>i <font color="#000080">:= </font>value <font color="#FF0000"><b>DOWNTO </b></font><font color="#800000">1 </font><font color="#FF0000"><b>DO   </b></font><font color="#008000"><i>{ Reverse the order }
         </i></font><font color="#FF0000"><b>BEGIN
            </b></font>INC<font color="#000080">(</font>j<font color="#000080">);
            </font>tmp_string<font color="#000080">[</font>j<font color="#000080">] := </font>b<font color="#000080">[</font>i<font color="#000080">];
         </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

     </font><font color="#FF0000"><b>FOR </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>value <font color="#FF0000"><b>DO       </b></font><font color="#008000"><i>{ Move from temp array to actual array }
         </i></font><font color="#FF0000"><b>BEGIN
            </b></font>b<font color="#000080">[</font>i<font color="#000080">] := </font>tmp_string<font color="#000080">[</font>i<font color="#000080">];
         </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BIT_STRING_REVERSE}


{////////////////////////////////////////////////////////////////////////////
 2's complement routine e.g. '00100000' --&gt; '11100000'
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BIT_STRING_2COM<font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>b<font color="#000080">:</font>bit_string<font color="#000080">; </font>nbit<font color="#000080">:</font>INTEGER<font color="#000080">);

</font><font color="#FF0000"><b>VAR

    </b></font>b_finish   <font color="#000080">: </font>boolean<font color="#000080">;
    </font>j<font color="#000080">, </font>i       <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      FOR </b></font>i <font color="#000080">:= </font>nbit <font color="#FF0000"><b>DOWNTO </b></font><font color="#800000">1 </font><font color="#FF0000"><b>DO  </b></font><font color="#008000"><i>{ Reverse the bit '0' to '1' or vice versa }
          </i></font><font color="#FF0000"><b>IF </b></font>b<font color="#000080">[</font>i<font color="#000080">] = </font>s_ZeroString <font color="#FF0000"><b>THEN
             </b></font>b<font color="#000080">[</font>i<font color="#000080">] := </font>SUCC<font color="#000080">(</font>b<font color="#000080">[</font>i<font color="#000080">])
          </font><font color="#FF0000"><b>ELSE
             </b></font>b<font color="#000080">[</font>i<font color="#000080">] := </font>PRED<font color="#000080">(</font>b<font color="#000080">[</font>i<font color="#000080">]);

      </font>b_finish  <font color="#000080">:= </font>FALSE<font color="#000080">;
      </font>j <font color="#000080">:= </font>nbit<font color="#000080">;

      </font><font color="#FF0000"><b>REPEAT

         BEGIN
            IF </b></font>b<font color="#000080">[</font>j<font color="#000080">] = </font>s_ZeroString <font color="#FF0000"><b>THEN
               BEGIN
                   </b></font>b<font color="#000080">[</font>j<font color="#000080">] := </font>SUCC<font color="#000080">(</font>b<font color="#000080">[</font>j<font color="#000080">]);
                   </font>b_finish <font color="#000080">:= </font>TRUE<font color="#000080">;    </font><font color="#008000"><i>{ Exit from this loop }
               </i></font><font color="#FF0000"><b>END
            ELSE
               BEGIN
                   </b></font>b<font color="#000080">[</font>j<font color="#000080">] := </font>PRED<font color="#000080">(</font>b<font color="#000080">[</font>j<font color="#000080">]);
               </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
            </font>DEC<font color="#000080">(</font>j<font color="#000080">);                     </font><font color="#008000"><i>{ Decrease from right to left }
         </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;

      </font><font color="#FF0000"><b>UNTIL </b></font>b_finish<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BIT_STRING_2COM}


{////////////////////////////////////////////////////////////////////////////
 To copy the string into the array
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BIT_STRING_COPY<font color="#000080">(</font>s_inString        <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
                         </font>i_ExpStart<font color="#000080">,</font>i_ExpEnd<font color="#000080">: </font>INTEGER<font color="#000080">;
                          </font><font color="#FF0000"><b>VAR </b></font>b             <font color="#000080">: </font>bit_string<font color="#000080">);


</font><font color="#FF0000"><b>VAR

      </b></font>j<font color="#000080">, </font>i <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      </b></font>j <font color="#000080">:= </font><font color="#800000">1 </font><font color="#000080">;
      </font><font color="#FF0000"><b>FOR </b></font>i <font color="#000080">:= </font>i_ExpStart <font color="#FF0000"><b>TO </b></font>i_ExpEnd <font color="#FF0000"><b>DO
          BEGIN
             </b></font>b<font color="#000080">[</font>i<font color="#000080">] := </font>s_inString<font color="#000080">[</font>j<font color="#000080">];
             </font>INC<font color="#000080">(</font>j<font color="#000080">);
          </font><font color="#FF0000"><b>END

END</b></font><font color="#000080">; </font><font color="#008000"><i>{BIT_STRING_COPY}


{////////////////////////////////////////////////////////////////////////////
 Routine to chop off zeros in extreme left in order to get the first 1
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>STRING_CHOPOFF_ZERO<font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>s_inString<font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
                              </font><font color="#FF0000"><b>VAR </b></font>i_expvalue<font color="#000080">: </font>INTEGER<font color="#000080">);

</font><font color="#FF0000"><b>VAR

      </b></font>tmp_string <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
      </font>i<font color="#000080">, </font>j       <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

       </b></font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
       </font>i_expvalue <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
       </font>tmp_string <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;

       </font><font color="#FF0000"><b>WHILE </b></font>s_inString<font color="#000080">[</font>i<font color="#000080">] &lt;&gt; </font>s_OneString <font color="#FF0000"><b>DO
         BEGIN
              </b></font>INC<font color="#000080">(</font>i_expvalue<font color="#000080">);
              </font>INC<font color="#000080">(</font>i<font color="#000080">);
         </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

       </font>j <font color="#000080">:= </font>i<font color="#000080">;
       </font>tmp_string <font color="#000080">:= </font>COPY<font color="#000080">(</font>s_instring<font color="#000080">, </font>j<font color="#000080">, </font>LENGTH<font color="#000080">(</font>s_inString<font color="#000080">) - </font>i <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">);
       </font>s_inString <font color="#000080">:= </font>tmp_String<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#008000"><i>{////////////////////////////////////////////////////////////////////////////
 Calculate no. of bits based on byte number
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>GETBITNO<font color="#000080">(</font>i_byte<font color="#000080">:</font>INTEGER<font color="#000080">): </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

     IF </b></font>i_byte <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>THEN
        </b></font>GETBITNO <font color="#000080">:= </font>i_NoOFBit
     <font color="#FF0000"><b>ELSE
        </b></font>GETBITNO <font color="#000080">:= </font>i_NoOFBit <font color="#000080">* </font>i_MultipleOfByte<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{GETBITNO}


{////////////////////////////////////////////////////////////////////////////
 Capture number of bytes
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>GETBYTENO<font color="#000080">(</font>i_1B<font color="#000080">,</font>i_2B          <font color="#000080">: </font>INTEGER<font color="#000080">;
                    </font><font color="#FF0000"><b>VAR </b></font>i_RByte<font color="#000080">, </font>i_RBit<font color="#000080">: </font>INTEGER<font color="#000080">);

</font><font color="#FF0000"><b>VAR

      </b></font>i_Number<font color="#000080">,</font>i_X<font color="#000080">,</font>i_Y   <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      REPEAT

            </b></font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">11</font><font color="#000080">);
            </font>WRITE  <font color="#000080">(</font><font color="#800000">'Enter how many bytes '</font><font color="#000080">,</font><font color="#800000">'(1 Byte = '</font><font color="#000080">,</font>i_NoOfBit<font color="#000080">, </font><font color="#800000">' bits) ('</font><font color="#000080">,</font>i_1B<font color="#000080">:</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">' or '</font><font color="#000080">,</font>i_2B<font color="#000080">:</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">') : '</font><font color="#000080">);
            </font>i_X <font color="#000080">:= </font>WHEREX<font color="#000080">;
            </font>i_Y <font color="#000080">:= </font>WHEREY<font color="#000080">;
            </font><font color="#008000"><i>{$I-}
            </i></font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
            </font>READLN <font color="#000080">(</font>i_Number<font color="#000080">);
            </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
            </font><font color="#008000"><i>{$I+}
            </i></font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>IORESULT <font color="#000080">&lt;&gt; </font>i_OKIOResult<font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>i_Number <font color="#000080">&lt; </font>i_1B<font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>i_Number <font color="#000080">&gt; </font>i_2B<font color="#000080">) </font><font color="#FF0000"><b>THEN
               BEGIN
                 </b></font>GOTOXY<font color="#000080">(</font>i_X<font color="#000080">,</font>i_Y<font color="#000080">);
                 </font>CLREOL<font color="#000080">;
               </font><font color="#FF0000"><b>END
            ELSE
               BEGIN
                 </b></font>i_RByte <font color="#000080">:= </font>i_Number<font color="#000080">;
                 </font>i_RBit  <font color="#000080">:= </font>GETBITNO<font color="#000080">(</font>i_Number<font color="#000080">);
               </font><font color="#FF0000"><b>END

      UNTIL </b></font><font color="#000080">(</font>IORESULT <font color="#000080">= </font>i_OKIOResult<font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>i_Number <font color="#000080">&gt;= </font>i_1B<font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>i_Number <font color="#000080">&lt;= </font>i_2B<font color="#000080">)

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{GETBYTENO}


{/////////////////////////////////////////////////////////////////////////////
 Get user input a integer number
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>GETNUMBER<font color="#000080">(</font>i_Low<font color="#000080">,</font>i_High  <font color="#000080">: </font>INTEGER<font color="#000080">;
                    </font><font color="#FF0000"><b>VAR </b></font>i_Number  <font color="#000080">: </font>LONGINT<font color="#000080">;
                    </font><font color="#FF0000"><b>VAR </b></font>b_OverFlow<font color="#000080">: </font>BOOLEAN<font color="#000080">);

</font><font color="#FF0000"><b>VAR

     </b></font>i_X<font color="#000080">,</font>i_Y<font color="#000080">, </font>i_IORESULT   <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      REPEAT

          </b></font>b_OverFlow <font color="#000080">:= </font>FALSE<font color="#000080">;
          </font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">);
          </font>WRITE  <font color="#000080">(</font><font color="#800000">'Enter a positive or negative integer: '</font><font color="#000080">);
          </font>i_X <font color="#000080">:= </font>WHEREX<font color="#000080">;
          </font>i_Y <font color="#000080">:= </font>WHEREY<font color="#000080">;
          </font><font color="#008000"><i>{$I-}
          </i></font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
          </font>READLN <font color="#000080">(</font>i_Number<font color="#000080">);
          </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
          </font><font color="#008000"><i>{$I+}
          </i></font>i_ioresult <font color="#000080">:= </font>IORESULT<font color="#000080">;
          </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>i_Number <font color="#000080">&lt; </font>i_Low<font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>i_Number <font color="#000080">&gt; </font>i_High<font color="#000080">) </font><font color="#FF0000"><b>THEN
             BEGIN
                </b></font>b_OverFlow <font color="#000080">:= </font>TRUE<font color="#000080">;    </font><font color="#008000"><i>{ Set this flag to true for overflow }
                </i></font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">);
                </font>TEXTCOLOR<font color="#000080">(</font>LIGHTRED<font color="#000080">+</font>BLINK<font color="#000080">);
                </font>WRITELN<font color="#000080">(</font><font color="#800000">'Error: Data overflow. Range is '</font><font color="#000080">,</font>i_Low<font color="#000080">, </font><font color="#800000">' to '</font><font color="#000080">, </font>i_High<font color="#000080">,</font><font color="#800000">' for '</font><font color="#000080">,</font>i_Byte<font color="#000080">, </font><font color="#800000">' byte(s).'</font><font color="#000080">);
                </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
             </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>i_IORESULT <font color="#000080">&lt;&gt; </font>i_OKIOResult<font color="#000080">) </font><font color="#FF0000"><b>THEN
             BEGIN
                </b></font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">);
                </font>TEXTCOLOR<font color="#000080">(</font>LIGHTRED<font color="#000080">+</font>BLINK<font color="#000080">);
                </font>WRITE<font color="#000080">(</font><font color="#800000">'Error: Accepts only positive or negative integer.'</font><font color="#000080">);
                </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
                </font>s_dummy <font color="#000080">:= </font>READKEY<font color="#000080">;
                </font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">);
                </font>CLREOL<font color="#000080">;
                </font>GOTOXY<font color="#000080">(</font>i_X<font color="#000080">,</font>i_Y<font color="#000080">);
                </font>CLREOL<font color="#000080">;
             </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>i_IORESULT <font color="#000080">= </font>i_OKIOResult<font color="#000080">)


</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{GETNUMBER}


{/////////////////////////////////////////////////////////////////////////////
 Get user input a integer number
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>GETREALNUM<font color="#000080">(</font>r_Low<font color="#000080">,</font>r_High  <font color="#000080">: </font>REAL<font color="#000080">;
                     </font><font color="#FF0000"><b>VAR </b></font>r_Number  <font color="#000080">: </font>REAL<font color="#000080">;
                     </font><font color="#FF0000"><b>VAR </b></font>b_OverFlow<font color="#000080">: </font>BOOLEAN<font color="#000080">);

</font><font color="#FF0000"><b>VAR

     </b></font>i_X<font color="#000080">,</font>i_Y<font color="#000080">, </font>i_IORESULT   <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      REPEAT

          </b></font>b_OverFlow <font color="#000080">:= </font>FALSE<font color="#000080">;
          </font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">);
          </font>WRITE  <font color="#000080">(</font><font color="#800000">'Enter a positive or negative real number : '</font><font color="#000080">);
          </font>i_X <font color="#000080">:= </font>WHEREX<font color="#000080">;
          </font>i_Y <font color="#000080">:= </font>WHEREY<font color="#000080">;
          </font><font color="#008000"><i>{$I-}
          </i></font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
          </font>READLN <font color="#000080">(</font>r_Number<font color="#000080">);
          </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
          </font><font color="#008000"><i>{$I+}
          </i></font>i_IORESULT <font color="#000080">:= </font>IORESULT<font color="#000080">;
          </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>r_Number <font color="#000080">&lt; </font>r_Low<font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>r_Number <font color="#000080">&gt; </font>r_High<font color="#000080">) </font><font color="#FF0000"><b>THEN
             BEGIN
                </b></font>b_OverFlow <font color="#000080">:= </font>TRUE<font color="#000080">;
                </font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">);
                </font>TEXTCOLOR<font color="#000080">(</font>LIGHTRED<font color="#000080">+</font>BLINK<font color="#000080">);
                </font>WRITELN<font color="#000080">(</font><font color="#800000">'Error: Data overflow, range is '</font><font color="#000080">,</font>r_Low<font color="#000080">:</font><font color="#800000">5</font><font color="#000080">:</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">' to '</font><font color="#000080">,</font>r_High<font color="#000080">:</font><font color="#800000">5</font><font color="#000080">:</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">' for '</font><font color="#000080">,</font>i_Byte<font color="#000080">, </font><font color="#800000">' byte(s).'</font><font color="#000080">);
                </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
             </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

          </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>i_IORESULT <font color="#000080">&lt;&gt; </font>i_OKIOResult<font color="#000080">) </font><font color="#FF0000"><b>THEN
             BEGIN
                </b></font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">);
                </font>WRITE<font color="#000080">(</font><font color="#800000">'Error: Accepts only real number.'</font><font color="#000080">);
                </font>s_dummy <font color="#000080">:= </font>READKEY<font color="#000080">;
                </font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">);
                </font>CLREOL<font color="#000080">;
                </font>GOTOXY<font color="#000080">(</font>i_X<font color="#000080">,</font>i_Y<font color="#000080">);
                </font>CLREOL<font color="#000080">;
             </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

      </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>i_IORESULT <font color="#000080">= </font>i_OKIOResult<font color="#000080">)

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{GETREALNUM}


{//////////////////////////////////////////////////////////////////////////////
 Process calculate integer to binary
//////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>CALINTBIN<font color="#000080">(</font>i_Num<font color="#000080">: </font>LONGINT<font color="#000080">; </font>i_Bit <font color="#000080">:</font>INTEGER<font color="#000080">; </font><font color="#FF0000"><b>VAR </b></font>b<font color="#000080">:</font>bit_string<font color="#000080">;
                    </font>b_OFFlag<font color="#000080">:</font>BOOLEAN<font color="#000080">);

</font><font color="#FF0000"><b>VAR

       </b></font>i_quotient<font color="#000080">,</font>i_remainder<font color="#000080">, </font>i<font color="#000080">, </font>j<font color="#000080">, </font>k  <font color="#000080">: </font>INTEGER<font color="#000080">;
       </font>s                                <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
       </font>tmp_string<font color="#000080">, </font>bin_string           <font color="#000080">: </font>bit_string<font color="#000080">;
       </font>i_absnum                         <font color="#000080">: </font>LONGINT<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

       FOR </b></font>j <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>i_bit <font color="#FF0000"><b>DO    </b></font><font color="#008000"><i>{ Initialize array }
          </i></font><font color="#FF0000"><b>BEGIN
             </b></font>tmp_string<font color="#000080">[</font>j<font color="#000080">] := </font>s_Space<font color="#000080">;
             </font>bin_string<font color="#000080">[</font>j<font color="#000080">] := </font>s_Space<font color="#000080">;
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

       </font>i <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
       </font>i_absnum <font color="#000080">:= </font>ABS<font color="#000080">(</font>i_num<font color="#000080">);
       </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>i_absnum <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>DO   </b></font><font color="#008000"><i>{ IF number is 10, the base 2 is 0101 }
          </i></font><font color="#FF0000"><b>BEGIN
             </b></font>i_quotient <font color="#000080">:= </font>i_absnum <font color="#FF0000"><b>DIV </b></font>i_MultipleOfByte<font color="#000080">;
             </font>i_remainder<font color="#000080">:= </font>i_absnum <font color="#FF0000"><b>MOD </b></font>i_MultipleOfByte<font color="#000080">;
             </font>i_absnum <font color="#000080">:= </font>i_quotient<font color="#000080">;
             </font>INC<font color="#000080">(</font>i<font color="#000080">);
             </font>BIT_STRING_SETBIT<font color="#000080">(</font>tmp_string<font color="#000080">,</font>i<font color="#000080">,</font>i_remainder<font color="#000080">);
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

       </font>k <font color="#000080">:= </font>i <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;   </font><font color="#008000"><i>{ Should add 1 here for next bit }
       </i></font>BIT_STRING_ZERO<font color="#000080">(</font>tmp_string<font color="#000080">, </font>k<font color="#000080">, </font>i_bit<font color="#000080">); </font><font color="#008000"><i>{ Fill in '0' }

       { At this point, the bit pattern is filled with '0's but in reverse
         order.  e.g.  4 ---&gt; '00100000', should be '00000100'.
         So, we have to reverse it. }

       </i></font>BIT_STRING_REVERSE<font color="#000080">(</font>tmp_string<font color="#000080">,</font>i_bit<font color="#000080">); </font><font color="#008000"><i>{ Reverse the bit pattern }

       </i></font>bin_string <font color="#000080">:= </font>tmp_string<font color="#000080">;
       </font><font color="#008000"><i>{ At this point, the bit pattern is in proper order }

       </i></font><font color="#FF0000"><b>IF </b></font>i_num <font color="#000080">&lt; </font><font color="#800000">0  </font><font color="#FF0000"><b>THEN   </b></font><font color="#008000"><i>{ Input number is a negative number }
          </i></font><font color="#FF0000"><b>BEGIN
             </b></font>BIT_STRING_2COM<font color="#000080">(</font>bin_string<font color="#000080">,</font>i_bit<font color="#000080">);  </font><font color="#008000"><i>{Get the 2's complement}
             </i></font>b <font color="#000080">:= </font>bin_string<font color="#000080">;
          </font><font color="#FF0000"><b>END
       ELSE
          </b></font>b <font color="#000080">:= </font>bin_string<font color="#000080">;

      </font><font color="#FF0000"><b>IF </b></font>b_OFFlag <font color="#FF0000"><b>THEN   </b></font><font color="#008000"><i>{If the number inputed is overflow }
         </i></font><font color="#FF0000"><b>IF </b></font>i_num <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
            </b></font>b<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font>s_OneString   <font color="#008000"><i>{Set to '1'}
         </i></font><font color="#FF0000"><b>ELSE
            </b></font>b<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font>s_ZeroString<font color="#000080">; </font><font color="#008000"><i>{Set to '0'}


</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{CALINTBIN}


{/////////////////////////////////////////////////////////////////////////////
 Binary to decimal
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>BINTODEC <font color="#000080">(</font>s_binary<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">):</font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>VAR

     </b></font>j              <font color="#000080">: </font>integer<font color="#000080">;  </font><font color="#008000"><i>{ Define counter }
     </i></font>i_value        <font color="#000080">: </font>LONGINT<font color="#000080">;  </font><font color="#008000"><i>{ Define converted binary to decimal value }

</i></font><font color="#FF0000"><b>BEGIN

     </b></font>i_value <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;

     </font><font color="#FF0000"><b>FOR </b></font>j <font color="#000080">:= </font>LENGTH<font color="#000080">(</font>TRIM<font color="#000080">(</font>s_binary<font color="#000080">)) </font><font color="#FF0000"><b>DOWNTO </b></font><font color="#800000">2 </font><font color="#FF0000"><b>DO
         </b></font><font color="#008000"><i>{ Not downto 1 because 1 is a sign bit }
         </i></font><font color="#FF0000"><b>BEGIN
              IF </b></font>s_binary<font color="#000080">[</font>j<font color="#000080">] = </font>s_OneString <font color="#FF0000"><b>THEN
                  </b></font>i_value <font color="#000080">:= </font>i_value <font color="#000080">+ </font>TRUNC<font color="#000080">(</font>EXP<font color="#000080">(((</font>LENGTH<font color="#000080">(</font>TRIM<font color="#000080">(</font>s_binary<font color="#000080">)) - </font>j<font color="#000080">) * </font>LN<font color="#000080">(</font>i_Base2<font color="#000080">) )))
              </font><font color="#FF0000"><b>ELSE
                  </b></font>i_value <font color="#000080">:= </font>i_value <font color="#000080">+ </font><font color="#800000">0</font><font color="#000080">;
         </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

     </font><font color="#FF0000"><b>IF </b></font>s_binary<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] = </font>s_OneString <font color="#FF0000"><b>THEN    </b></font><font color="#008000"><i>{Input number is a negative value}
        </i></font>BINTODEC <font color="#000080">:= </font>i_value <font color="#000080">- </font>RAISEPOWER<font color="#000080">(</font>i_Base2<font color="#000080">,</font>i_bit <font color="#000080">- </font>i_PositiveOne<font color="#000080">)
     </font><font color="#FF0000"><b>ELSE
        </b></font>BINTODEC <font color="#000080">:= </font>i_value<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BINTODEC}


{/////////////////////////////////////////////////////////////////////////////
 Binary to integer routine
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BINTOINT<font color="#000080">;

</font><font color="#FF0000"><b>VAR

     </b></font>i<font color="#000080">,</font>j<font color="#000080">,</font>i_X<font color="#000080">,</font>i_Y      <font color="#000080">: </font>integer<font color="#000080">;
     </font>b_okay           <font color="#000080">: </font>boolean<font color="#000080">;
     </font>s_binary         <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

     </b></font>GETBYTENO<font color="#000080">(</font>i_1Byte<font color="#000080">,</font>i_2Byte<font color="#000080">,</font>i_Byte<font color="#000080">,</font>i_Bit<font color="#000080">);

     </font><font color="#FF0000"><b>REPEAT

         BEGIN

           </b></font>b_okay <font color="#000080">:= </font>TRUE<font color="#000080">;
           </font>s_binary <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
           </font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">);
           </font>WRITE <font color="#000080">(</font><font color="#800000">'Please enter a binary string in '</font><font color="#000080">,</font>i_Bit<font color="#000080">, </font><font color="#800000">' bit format : '</font><font color="#000080">);
           </font>i_X <font color="#000080">:= </font>WHEREX<font color="#000080">;
           </font>i_Y <font color="#000080">:= </font>WHEREY<font color="#000080">;
           </font>CLREOL<font color="#000080">;
           </font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
           </font>READLN <font color="#000080">(</font>s_binary<font color="#000080">);
           </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
           </font><font color="#FF0000"><b>FOR </b></font>i <font color="#000080">:= </font>LENGTH<font color="#000080">(</font>TRIM<font color="#000080">(</font>s_binary<font color="#000080">)) </font><font color="#FF0000"><b>DOWNTO </b></font>i_PositiveOne <font color="#FF0000"><b>DO
               IF NOT </b></font><font color="#000080">(</font>s_binary<font color="#000080">[</font>i<font color="#000080">] = </font>s_ZeroString<font color="#000080">) </font><font color="#FF0000"><b>AND NOT </b></font><font color="#000080">(</font>s_binary<font color="#000080">[</font>i<font color="#000080">] = </font>s_OneString<font color="#000080">) </font><font color="#FF0000"><b>THEN
                   BEGIN
                        </b></font>b_okay <font color="#000080">:= </font>FALSE<font color="#000080">;
                        </font>GOTOXY<font color="#000080">(</font>i_X<font color="#000080">,</font>i_Y<font color="#000080">);
                        </font>CLREOL<font color="#000080">;
                   </font><font color="#FF0000"><b>END
         END

     UNTIL </b></font>b_okay <font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>LENGTH<font color="#000080">(</font>TRIM<font color="#000080">(</font>s_binary<font color="#000080">)) = (</font>i_Bit<font color="#000080">));

     </font>WRITE  <font color="#000080">(</font><font color="#800000">'&quot;'</font><font color="#000080">, </font>s_binary<font color="#000080">, </font><font color="#800000">'&quot; binary string represents integer value : '</font><font color="#000080">);
     </font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
     </font>WRITE<font color="#000080">(</font>BINTODEC<font color="#000080">(</font>s_binary<font color="#000080">));
     </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
     </font>WRITELN<font color="#000080">(</font><font color="#800000">'.'</font><font color="#000080">);

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BINTOINT}


{////////////////////////////////////////////////////////////////////////////
 Integer to binary conversion
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>INTTOBIN<font color="#000080">;

</font><font color="#FF0000"><b>VAR

      </b></font>b_OFlowFlag <font color="#000080">: </font>BOOLEAN<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      </b></font>GETBYTENO<font color="#000080">(</font>i_1Byte<font color="#000080">,</font>i_2Byte<font color="#000080">,</font>i_Byte<font color="#000080">,</font>i_Bit<font color="#000080">);
      </font>i_LowRange  <font color="#000080">:= </font>RAISEPOWER<font color="#000080">(</font>i_Base2<font color="#000080">,</font>i_Bit <font color="#000080">- </font>i_PositiveOne<font color="#000080">) * </font>i_NegativeOne<font color="#000080">;
      </font>i_HighRange <font color="#000080">:= </font>RAISEPOWER<font color="#000080">(</font>i_Base2<font color="#000080">,</font>i_Bit <font color="#000080">- </font>i_PositiveOne<font color="#000080">) - </font>i_PositiveOne<font color="#000080">;
      </font>GETNUMBER<font color="#000080">(</font>i_LowRange<font color="#000080">,</font>i_HighRange<font color="#000080">,</font>i_Integer<font color="#000080">,</font>b_OFlowFlag<font color="#000080">);
      </font>WRITE <font color="#000080">(</font>i_integer<font color="#000080">,</font><font color="#800000">' will be stored in '</font><font color="#000080">,</font>i_byte<font color="#000080">, </font><font color="#800000">' byte(s) as : '</font><font color="#000080">);
      </font>WRITE<font color="#000080">(</font><font color="#800000">'&quot;'</font><font color="#000080">);
      </font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
      </font>CALINTBIN<font color="#000080">(</font>i_integer<font color="#000080">,</font>i_Bit<font color="#000080">,</font>s_string<font color="#000080">,</font>b_OFlowFlag<font color="#000080">);  </font><font color="#008000"><i>{ Integer to binary routine }
      </i></font>BIT_STRING_PRINT<font color="#000080">(</font>s_string<font color="#000080">,</font>i_bit<font color="#000080">);   </font><font color="#008000"><i>{ Print binary string }
      </i></font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
      </font>WRITE<font color="#000080">(</font><font color="#800000">'&quot;.'</font><font color="#000080">);
      </font>WRITELN<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{INTTOBIN}


{///////////////////////////////////////////////////////////////////////////
 Calculate exponent value
///////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>CALEXP<font color="#000080">(</font>s<font color="#000080">:</font>Char<font color="#000080">; </font>p<font color="#000080">:</font>INTEGER<font color="#000080">):</font>REAL<font color="#000080">;

</font><font color="#FF0000"><b>VAR

      </b></font>r_value   <font color="#000080">: </font>REAL<font color="#000080">;
      </font>i_errcode <font color="#000080">: </font>INTEGER<font color="#000080">;
      </font>i<font color="#000080">,</font>j       <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      </b></font>VAL<font color="#000080">(</font>s<font color="#000080">,</font>i<font color="#000080">,</font>i_errcode<font color="#000080">);
      </font>r_value <font color="#000080">:= </font><font color="#800000">1.0</font><font color="#000080">;

      </font><font color="#FF0000"><b>FOR </b></font>j <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>p <font color="#FF0000"><b>DO
          </b></font>r_value <font color="#000080">:= </font>r_value <font color="#000080">* </font>r_OneHalf<font color="#000080">;

      </font>CALEXP <font color="#000080">:= </font>r_value <font color="#000080">* </font>i<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">;  </font><font color="#008000"><i>{CALEXP}


{/////////////////////////////////////////////////////////////////////////////
 Calculate the exponent value of the bit string to real numbers
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>CALEXPVAL<font color="#000080">(</font>s_bitchar<font color="#000080">:</font>Char<font color="#000080">; </font>i<font color="#000080">: </font>INTEGER<font color="#000080">): </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>VAR

      </b></font>i_bitcharval<font color="#000080">,</font>i_expval<font color="#000080">,</font>i_errcode <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      </b></font>i_expval <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font>i_bitcharval <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font>VAL<font color="#000080">(</font>s_bitchar<font color="#000080">,</font>i_bitcharval<font color="#000080">,</font>i_errcode<font color="#000080">);
      </font>i_expval <font color="#000080">:= </font>TRUNC<font color="#000080">(</font>EXP<font color="#000080">(</font>i <font color="#000080">* </font>LN <font color="#000080">(</font>i_base2<font color="#000080">)));

      </font>CALEXPVAL <font color="#000080">:= </font>i_bitcharval <font color="#000080">* </font>i_expval<font color="#000080">;
      </font><font color="#008000"><i>{ bit value (e.g. '1' -&gt; 1 * 2 ^ i value }

</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{CALEXPVAL}


{/////////////////////////////////////////////////////////////////////////////
 Calculate exponent value of the bit string to real number
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>GETEXPVAL<font color="#000080">(</font>s_binary<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
                   </font>i_start<font color="#000080">,</font>i_end<font color="#000080">,</font>i_expvalue<font color="#000080">:</font>INTEGER<font color="#000080">):</font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>VAR

      </b></font>r_temp  <font color="#000080">: </font>INTEGER<font color="#000080">;
      </font>j<font color="#000080">,</font>i     <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      </b></font>r_temp <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
           </font>j <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;  </font><font color="#008000"><i>{Starting point}

      </i></font><font color="#FF0000"><b>FOR </b></font>i<font color="#000080">:= </font>i_end <font color="#FF0000"><b>DOWNTO </b></font>i_start <font color="#FF0000"><b>DO

          BEGIN
             </b></font>r_temp <font color="#000080">:= </font>r_temp <font color="#000080">+ </font>CALEXPVAL<font color="#000080">(</font>s_binary<font color="#000080">[</font>i<font color="#000080">],</font>j<font color="#000080">);
             </font>INC<font color="#000080">(</font>j<font color="#000080">);
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

      </font>GETEXPVAL <font color="#000080">:= </font>r_temp <font color="#000080">- </font>i_expvalue<font color="#000080">;  </font><font color="#008000"><i>{ value of the exponent - 4 or 16 }

</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{GETEXPVAL}


{/////////////////////////////////////////////////////////////////////////////
 Calculate mantissa value of the bit string to real number
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>GETMANVAL<font color="#000080">(</font>s_binary<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;</font>i_start<font color="#000080">,</font>i_end<font color="#000080">:</font>INTEGER<font color="#000080">):</font>REAL<font color="#000080">;

</font><font color="#FF0000"><b>VAR

      </b></font>r_temp  <font color="#000080">: </font>REAL<font color="#000080">;
      </font>j<font color="#000080">,</font>i     <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      </b></font>r_temp <font color="#000080">:= </font><font color="#800000">0.0</font><font color="#000080">;

      </font>j <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>FOR </b></font>i<font color="#000080">:= </font>i_start <font color="#FF0000"><b>TO </b></font>i_end <font color="#FF0000"><b>DO
          BEGIN
               </b></font>r_temp <font color="#000080">:= </font>r_temp <font color="#000080">+ </font>CALEXP<font color="#000080">(</font>s_binary<font color="#000080">[</font>i<font color="#000080">],</font>j<font color="#000080">);
               </font>INC<font color="#000080">(</font>j<font color="#000080">);
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

      </font>GETMANVAL <font color="#000080">:= </font>r_temp<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">;  </font><font color="#008000"><i>{GETMANVAL}


{/////////////////////////////////////////////////////////////////////////////
 This function calculates parameter value in real type and return also in real
 type but in base 2
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>REMAINBASE2<font color="#000080">(</font>r_fractionValue<font color="#000080">:</font>REAL<font color="#000080">):</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;

</font><font color="#FF0000"><b>VAR

      </b></font>s_base2value                        <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
      </font>r_temp<font color="#000080">, </font>r_fraction                  <font color="#000080">: </font>REAL<font color="#000080">;
      </font>i<font color="#000080">, </font>j<font color="#000080">, </font>i_string<font color="#000080">, </font>icode<font color="#000080">, </font>i_divisor    <font color="#000080">: </font>INTEGER<font color="#000080">;
      </font>s_temp_string                       <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
      </font>s_string                            <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      </b></font>r_fraction <font color="#000080">:= </font>r_fractionValue<font color="#000080">;
      </font>i          <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font>s_string   <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
      </font>r_temp     <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;

      </font><font color="#FF0000"><b>REPEAT
           BEGIN
             </b></font>r_temp        <font color="#000080">:= </font>r_fraction <font color="#000080">* </font>i_MultipleOfByte<font color="#000080">;
             </font>STR<font color="#000080">(</font>TRUNC<font color="#000080">(</font>r_temp<font color="#000080">),</font>s_temp_string<font color="#000080">);
             </font>s_string      <font color="#000080">:= </font>s_string <font color="#000080">+ </font>s_temp_string<font color="#000080">;
             </font>r_fraction    <font color="#000080">:= </font>r_temp <font color="#000080">- </font>TRUNC<font color="#000080">(</font>r_temp<font color="#000080">);
             </font>INC<font color="#000080">(</font>i<font color="#000080">);
           </font><font color="#FF0000"><b>END
      UNTIL </b></font>r_fraction <font color="#000080">= </font><font color="#800000">0.0</font><font color="#000080">;

      </font><font color="#008000"><i>{At this point, the s_string contains e.g. 01 Base 2 for 0.25 value}
      </i></font>s_base2value <font color="#000080">:= </font>s_string<font color="#000080">;
      </font>REMAINBASE2 <font color="#000080">:= </font>s_base2value<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#008000"><i>{//////////////////////////////////////////////////////////////////////////////
 Process calculate integer to binary
//////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>INTBASE2<font color="#000080">(</font>i_Num<font color="#000080">: </font>LONGINT<font color="#000080">;  </font><font color="#FF0000"><b>VAR </b></font>i_exponent<font color="#000080">:</font>INTEGER<font color="#000080">;
                                    </font><font color="#FF0000"><b>VAR </b></font>bin_string<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">);

</font><font color="#FF0000"><b>VAR

       </b></font>i_quotient<font color="#000080">,</font>i_remainder<font color="#000080">, </font>p<font color="#000080">,
       </font>j<font color="#000080">, </font>k<font color="#000080">, </font>i_intBase2<font color="#000080">, </font>icode          <font color="#000080">: </font>INTEGER<font color="#000080">;
       </font>s                                <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
       </font>tmp_string                       <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
       </font>i_absnum                         <font color="#000080">: </font>LONGINT<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

       </b></font>i_exponent <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
       </font>i_absnum <font color="#000080">:= </font>ABS<font color="#000080">(</font>i_num<font color="#000080">);
       </font>tmp_string <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
       </font>bin_string <font color="#000080">:= </font><font color="#800000">'          '</font><font color="#000080">; 
       </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>i_absnum <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>DO
       </b></font><font color="#008000"><i>{ IF number is 10, the base 2 is 0101, if number is 0 then it will
         skip this part }
          </i></font><font color="#FF0000"><b>BEGIN
             </b></font>i_quotient <font color="#000080">:= </font>i_absnum <font color="#FF0000"><b>DIV </b></font>i_MultipleOfByte<font color="#000080">;
             </font>i_remainder<font color="#000080">:= </font>i_absnum <font color="#FF0000"><b>MOD </b></font>i_MultipleOfByte<font color="#000080">;
             </font>i_absnum <font color="#000080">:= </font>i_quotient<font color="#000080">;
             </font>STR<font color="#000080">(</font>i_remainder<font color="#000080">,</font>s<font color="#000080">);
             </font>tmp_string <font color="#000080">:= </font>tmp_string <font color="#000080">+ </font>s<font color="#000080">;
             </font>INC<font color="#000080">(</font>i_exponent<font color="#000080">);
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

       </font><font color="#008000"><i>{ At this point, the string value in tmp_string is in reverse order
         so we have to reverse back it}

       </i></font><font color="#FF0000"><b>IF </b></font>ABS<font color="#000080">(</font>i_num<font color="#000080">) &lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
          BEGIN
              </b></font>p <font color="#000080">:= </font>i_exponent<font color="#000080">;
              </font><font color="#FF0000"><b>FOR </b></font>j <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>p <font color="#FF0000"><b>DO
              BEGIN
                 </b></font>bin_string<font color="#000080">[</font>j<font color="#000080">] := </font>tmp_string<font color="#000080">[</font>p<font color="#000080">];
                 </font>DEC<font color="#000080">(</font>p<font color="#000080">);
              </font><font color="#FF0000"><b>END
          END
       ELSE
          BEGIN
             </b></font>i_exponent <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
             </font>bin_string <font color="#000080">:= </font>s_ZeroString<font color="#000080">;
          </font><font color="#FF0000"><b>END


END</b></font><font color="#000080">; </font><font color="#008000"><i>{INTBASE2}


{/////////////////////////////////////////////////////////////////////////////
 Copy temporary bit string to the final bit string
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BIT_STRING_SETMAN<font color="#000080">(</font>s_inString<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
                            </font>i_nBit    <font color="#000080">:</font>INTEGER<font color="#000080">;
                            </font><font color="#FF0000"><b>VAR </b></font>b     <font color="#000080">:</font>bit_string<font color="#000080">);

</font><font color="#FF0000"><b>VAR

     </b></font>i_StartBit<font color="#000080">, </font>i_EndBit<font color="#000080">, </font>i<font color="#000080">, </font>j<font color="#000080">, </font>k<font color="#000080">, </font>q<font color="#000080">, </font>p <font color="#000080">: </font>INTEGER<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      IF </b></font>i_nBit <font color="#000080">= </font>i_NoOfBit <font color="#FF0000"><b>THEN
         BEGIN
            </b></font>i_StartBit <font color="#000080">:= </font>i_8ManStartBit <font color="#000080">;
            </font>i_EndBit   <font color="#000080">:= </font>i_8ManEndBit   <font color="#000080">;
         </font><font color="#FF0000"><b>END
      ELSE
         BEGIN
            </b></font>i_StartBit <font color="#000080">:= </font>i_16ManStartBit <font color="#000080">;
            </font>i_EndBit   <font color="#000080">:= </font>i_16ManEndBit   <font color="#000080">;
         </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

      </font>j <font color="#000080">:= </font>i_EndBit <font color="#000080">- </font>i_StartBit <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;   </font><font color="#008000"><i>{ j refers to no. of bit for mantissa }
      </i></font>k <font color="#000080">:= </font>i_StartBit<font color="#000080">;
      </font><font color="#FF0000"><b>IF </b></font>LENGTH<font color="#000080">(</font>TRIM<font color="#000080">(</font>s_inString<font color="#000080">)) &gt; </font>j <font color="#FF0000"><b>THEN
         BEGIN
            </b></font>WRITELN<font color="#000080">(</font><font color="#800000">'Note: Round off error.'</font><font color="#000080">);
            </font><font color="#FF0000"><b>FOR </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>j <font color="#FF0000"><b>DO    </b></font><font color="#008000"><i>{ How many times to fill the s_InString }
            </i></font><font color="#FF0000"><b>BEGIN
               </b></font>b<font color="#000080">[</font>k<font color="#000080">] := </font>s_InString<font color="#000080">[</font>i<font color="#000080">];
               </font>INC<font color="#000080">(</font>k<font color="#000080">);
            </font><font color="#FF0000"><b>END
         END
      ELSE
         FOR </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>LENGTH<font color="#000080">(</font>TRIM<font color="#000080">(</font>s_inString<font color="#000080">)) </font><font color="#FF0000"><b>DO    </b></font><font color="#008000"><i>{ How many times to fill the s_InString }
         </i></font><font color="#FF0000"><b>BEGIN
             </b></font>b<font color="#000080">[</font>k<font color="#000080">] := </font>s_InString<font color="#000080">[</font>i<font color="#000080">];
             </font>INC<font color="#000080">(</font>k<font color="#000080">);
         </font><font color="#FF0000"><b>END</b></font><font color="#000080">;


      </font><font color="#008000"><i>{ If there is available space to fill in, we have to do the following
        routine, e.g. if the input is 16 bit the storage for 2.25 is like
        this for mantissa:
                    16 bit
        +-------------------------------+
        | | | | | | |1|0|0|1| | | | | | |
        +-------------------------------+
                     |       | | | | | | ----&gt; these should be filled with '0'
                     +----Start of mantissa
      }

      </i></font>q <font color="#000080">:= </font>k<font color="#000080">;
      </font>p <font color="#000080">:= </font>LENGTH<font color="#000080">(</font>TRIM<font color="#000080">(</font>s_inString<font color="#000080">));

      </font><font color="#FF0000"><b>IF </b></font>p <font color="#000080">&lt; (</font>i_EndBit <font color="#000080">- </font>i_StartBit <font color="#000080">+ </font>i_PositiveOne<font color="#000080">) </font><font color="#FF0000"><b>THEN
      </b></font><font color="#008000"><i>{ To check whether any zero to fill }

         </i></font><font color="#FF0000"><b>BEGIN
           </b></font>BIT_STRING_ZERO<font color="#000080">(</font>b<font color="#000080">,</font>q<font color="#000080">,</font>i_EndBit<font color="#000080">);
         </font><font color="#FF0000"><b>END

END</b></font><font color="#000080">; </font><font color="#008000"><i>{BIT_STRING_SETMAN}


{/////////////////////////////////////////////////////////////////////////////
 To set the bit string for exponent value
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BIT_STRING_SETEXP<font color="#000080">(</font>i_exponent<font color="#000080">:</font>INTEGER<font color="#000080">;
                            </font>c_Sign    <font color="#000080">:</font>CHAR<font color="#000080">;
                            </font>i_Bit     <font color="#000080">:</font>INTEGER<font color="#000080">;
                            </font><font color="#FF0000"><b>VAR </b></font>b     <font color="#000080">:</font>bit_string<font color="#000080">);

</font><font color="#FF0000"><b>VAR

    </b></font>k<font color="#000080">, </font>i<font color="#000080">, </font>p<font color="#000080">, </font>q<font color="#000080">, </font>r<font color="#000080">, </font>t<font color="#000080">, </font>u<font color="#000080">, </font>w<font color="#000080">, </font>y<font color="#000080">, </font>z<font color="#000080">, </font>x<font color="#000080">, </font>i_dummy <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>s_rtnstring<font color="#000080">,</font>s_finalString<font color="#000080">, </font>tmp_string    <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

       </b></font>s_finalstring <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;

       </font><font color="#FF0000"><b>IF </b></font>i_Bit <font color="#000080">= </font>i_NoOfBit <font color="#FF0000"><b>THEN
          BEGIN
             </b></font>q <font color="#000080">:= </font>i_8BitExpInd<font color="#000080">;          </font><font color="#008000"><i>{ q is excess 4 }
             </i></font>t <font color="#000080">:= </font>i_8ExpStartBit<font color="#000080">;
             </font>u <font color="#000080">:= </font>i_8ExpEndBit<font color="#000080">;
             </font>w <font color="#000080">:= </font>i_8ExpEndBit <font color="#000080">- </font>i_8ExpStartBit<font color="#000080">;
          </font><font color="#FF0000"><b>END
       ELSE
          BEGIN
             </b></font>q <font color="#000080">:= </font>i_16BitExpInd<font color="#000080">;         </font><font color="#008000"><i>{ q in excess 16 }
             </i></font>t <font color="#000080">:= </font>i_16ExpStartBit<font color="#000080">;
             </font>u <font color="#000080">:= </font>i_16ExpEndBit<font color="#000080">;
             </font>w <font color="#000080">:= </font>i_16ExpEndBit <font color="#000080">- </font>i_16ExpStartBit<font color="#000080">;
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

       </font><font color="#FF0000"><b>IF </b></font>i_exponent <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font><font color="#008000"><i>{ Logically meant, no need to do with the exponent }
          </i></font><font color="#FF0000"><b>BEGIN
              </b></font>p <font color="#000080">:= </font>q<font color="#000080">;
              </font>INTBASE2<font color="#000080">(</font>p<font color="#000080">,</font>i_dummy<font color="#000080">,</font>s_rtnstring<font color="#000080">);
          </font><font color="#FF0000"><b>END
       ELSE
          BEGIN
              IF </b></font>c_Sign <font color="#000080">= </font><font color="#800000">'+' </font><font color="#FF0000"><b>THEN
                 </b></font>p <font color="#000080">:= </font>i_exponent <font color="#000080">+ </font>q
              <font color="#FF0000"><b>ELSE
                 </b></font>p <font color="#000080">:= </font>i_exponent <font color="#000080">* </font>i_NegativeOne <font color="#000080">+ </font>q<font color="#000080">;
              </font>INTBASE2<font color="#000080">(</font>p<font color="#000080">,</font>i_dummy<font color="#000080">,</font>s_rtnstring<font color="#000080">);
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

       </font>tmp_string <font color="#000080">:= </font>TRIM<font color="#000080">(</font>s_rtnString<font color="#000080">);
       </font>x <font color="#000080">:= </font>LENGTH<font color="#000080">(</font>tmp_string<font color="#000080">);

       </font><font color="#FF0000"><b>IF </b></font>x <font color="#000080">&lt; </font>w <font color="#000080">+ </font><font color="#800000">1 </font><font color="#FF0000"><b>THEN
          BEGIN
            </b></font>y  <font color="#000080">:= ( </font>w <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">) - </font>x<font color="#000080">;
            </font><font color="#FF0000"><b>FOR </b></font>z <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>y <font color="#FF0000"><b>DO
              </b></font>s_finalString <font color="#000080">:= </font>s_finalString <font color="#000080">+ </font>s_ZeroString<font color="#000080">;
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

       </font>s_finalString <font color="#000080">:= </font>s_finalString <font color="#000080">+ </font>tmp_string<font color="#000080">;

       </font><font color="#008000"><i>{At this point, we have already the string for exponent side and ready
        to put it into the final bit string array }

       </i></font>BIT_STRING_COPY<font color="#000080">(</font>s_finalstring<font color="#000080">,</font>t<font color="#000080">,</font>u<font color="#000080">,</font>b<font color="#000080">);

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BIT_STRING_SETEXP}


{///////////////////////////////////////////////////////////////////////////
 Real to bin
///////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>CALREALBIN <font color="#000080">(</font>r_inputReal   <font color="#000080">:</font>REAL<font color="#000080">;
                     </font>i_Bit          <font color="#000080">:</font>INTEGER<font color="#000080">;
                     </font>b_OFFlag       <font color="#000080">:</font>BOOLEAN<font color="#000080">;
                     </font><font color="#FF0000"><b>VAR </b></font>s_outstring<font color="#000080">:</font>bit_string<font color="#000080">);

</font><font color="#FF0000"><b>VAR

    </b></font>r_RealNumInBase2 <font color="#000080">: </font>REAL<font color="#000080">;
    </font>r_ABSValNum      <font color="#000080">: </font>REAL<font color="#000080">;
    </font>r_remain         <font color="#000080">: </font>REAL<font color="#000080">;
    </font>s_remainBase2    <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
    </font>s_totvalBase2    <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
    </font>s_intBase2       <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
    </font>i_intBase2       <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>icode            <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>i_exponent       <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>i_expvalue       <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>i<font color="#000080">,</font>ierrcode<font color="#000080">,</font>j<font color="#000080">,</font>k   <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>bin_string       <font color="#000080">: </font>bit_string<font color="#000080">;
    </font>i_totexpval<font color="#000080">,</font>q    <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>i_dummy<font color="#000080">,</font>i_loop   <font color="#000080">: </font>INTEGER<font color="#000080">;
    </font>c_Sign           <font color="#000080">: </font>CHAR<font color="#000080">;

    </font><font color="#008000"><i>{ Fractional value in base 2, e.g. 6.25 (base 10) --&gt; 110.01 (base 2) }

</i></font><font color="#FF0000"><b>BEGIN

    </b></font>r_ABSValNum   <font color="#000080">:= </font>ABS<font color="#000080">(</font>r_inputReal<font color="#000080">);      </font><font color="#008000"><i>{ Get the absolute value}
    </i></font>r_remain      <font color="#000080">:= </font>r_ABSValNum <font color="#000080">- </font>TRUNC<font color="#000080">(</font>r_ABSValNum<font color="#000080">); </font><font color="#008000"><i>{ e.g. 6.25 - 6.0 = .25 }

    </i></font><font color="#FF0000"><b>IF </b></font>r_ABSValNum <font color="#000080">&lt; </font>r_OneHalf <font color="#FF0000"><b>THEN  </b></font><font color="#008000"><i>{ Check the inputed value in absolute value }
       </i></font>c_Sign <font color="#000080">:= </font><font color="#800000">'-'
    </font><font color="#FF0000"><b>ELSE
       </b></font>c_Sign <font color="#000080">:= </font><font color="#800000">'+'</font><font color="#000080">;

    </font>s_remainBase2 <font color="#000080">:= </font>REMAINBASE2<font color="#000080">(</font>r_remain<font color="#000080">);    </font><font color="#008000"><i>{ 0.25 Base 10 --&gt; '01' }
    </i></font>INTBASE2<font color="#000080">(</font>TRUNC<font color="#000080">(</font>r_ABSValNum<font color="#000080">), </font>i_exponent<font color="#000080">, </font>s_intBase2<font color="#000080">);  </font><font color="#008000"><i>{6 Base 10 --&gt; '110' }
    </i></font>s_intBase2 <font color="#000080">:= </font>TRIM<font color="#000080">(</font>s_intBase2<font color="#000080">);

    </font><font color="#FF0000"><b>IF </b></font>s_intBase2 <font color="#000080">= </font>s_ZeroString <font color="#FF0000"><b>THEN       </b></font><font color="#008000"><i>{ if the integer part is 0 }
       </i></font>s_totvalBase2 <font color="#000080">:= </font>s_remainBase2 <font color="#008000"><i>{ '01' = '01' }
    </i></font><font color="#FF0000"><b>ELSE
       </b></font>s_totvalBase2 <font color="#000080">:= </font>s_intBase2 <font color="#000080">+ </font>s_remainBase2<font color="#000080">; </font><font color="#008000"><i>{ '110'+'01' = '11001' }

    {At this point, there are cases which the s_totvalbase2 string will
     start with '0....'. e.g. 0.4 base10 with be 0.01100110011... in base 2,
     so we must chop off the first 0 until the first bit is 1}

    </i></font>STRING_CHOPOFF_ZERO<font color="#000080">(</font>s_totvalBase2<font color="#000080">, </font>i_expvalue<font color="#000080">);
    </font><font color="#008000"><i>{ i_expvalue is exponent to the right }

    </i></font><font color="#FF0000"><b>FOR </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>i_Bit <font color="#FF0000"><b>DO            </b></font><font color="#008000"><i>{ Initialize the final bit string }
       </i></font>bin_string<font color="#000080">[</font>i<font color="#000080">] := </font>s_Space<font color="#000080">;

    </font><font color="#FF0000"><b>IF </b></font>i_exponent <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
       </b></font>i_exponent <font color="#000080">:= </font>i_expvalue<font color="#000080">;

    </font>BIT_STRING_SETMAN<font color="#000080">(</font>s_totvalBase2<font color="#000080">,</font>i_Bit<font color="#000080">,</font>bin_string<font color="#000080">);
    </font><font color="#008000"><i>{ To copy the bit string value of mantissa e.g. 6.25 ,
      the mantissa is '11001'}

    </i></font>BIT_STRING_SETEXP<font color="#000080">(</font>i_exponent<font color="#000080">,</font>c_Sign<font color="#000080">,</font>i_Bit<font color="#000080">,</font>bin_string<font color="#000080">);
    </font><font color="#008000"><i>{ To set the exponent bit string e.g. 6.25 , the exponent bit string is
      '111' because '111' is 3 in excess 4 notation }

    { So, at this point, the bit string for 6.25 is '01111100' for 8 bit or
      '0100111100000000' for 16 bit }

    </i></font><font color="#FF0000"><b>IF </b></font>r_inputReal <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
       </b></font>bin_string<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font>s_OneString
    <font color="#FF0000"><b>ELSE
       </b></font>bin_string<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font>s_ZeroString<font color="#000080">;

    </font><font color="#FF0000"><b>IF </b></font>b_OFFlag <font color="#FF0000"><b>THEN
       </b></font>WRITELN<font color="#000080">(</font><font color="#800000">'Note: The inputed real value has been overflowed.'</font><font color="#000080">);

    </font>s_outstring <font color="#000080">:= </font>bin_string<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{CALREALBIN}


{/////////////////////////////////////////////////////////////////////////////
 Convert real number to binary string
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>REALTOBIN<font color="#000080">;

</font><font color="#FF0000"><b>VAR

      </b></font>r_realposval<font color="#000080">, </font>r_realnegval  <font color="#000080">: </font>REAL<font color="#000080">;
      </font>b_OverFlow                  <font color="#000080">: </font>BOOLEAN<font color="#000080">;
      </font>s_binString                 <font color="#000080">: </font>bit_String<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      </b></font>GETBYTENO<font color="#000080">(</font>i_1Byte<font color="#000080">,</font>i_2Byte<font color="#000080">,</font>i_Byte<font color="#000080">,</font>i_Bit<font color="#000080">);
      </font><font color="#FF0000"><b>IF </b></font>i_Bit <font color="#000080">= </font>i_NoOfBit <font color="#FF0000"><b>THEN
          BEGIN
            </b></font>r_realposval <font color="#000080">:=  </font><font color="#800000">1.0 </font><font color="#000080">* </font>r_8posbinary<font color="#000080">;
            </font>r_realnegval <font color="#000080">:= -</font><font color="#800000">1.0 </font><font color="#000080">* </font>r_8posbinary<font color="#000080">;
          </font><font color="#FF0000"><b>END
      ELSE
          BEGIN
            </b></font>r_realposval <font color="#000080">:=  </font><font color="#800000">1.0 </font><font color="#000080">* </font>r_16posbinary<font color="#000080">;
            </font>r_realnegval <font color="#000080">:= -</font><font color="#800000">1.0 </font><font color="#000080">* </font>r_16posbinary<font color="#000080">;
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

      </font>r_LowRange  <font color="#000080">:= </font>r_realnegval<font color="#000080">;
      </font>r_HighRange <font color="#000080">:= </font>r_realposval<font color="#000080">;

      </font>GETREALNUM<font color="#000080">(</font>r_LowRange<font color="#000080">,</font>r_HighRange<font color="#000080">,</font>r_RealNum<font color="#000080">,</font>b_Overflow<font color="#000080">);
      </font>WRITE <font color="#000080">(</font>r_RealNum<font color="#000080">:</font><font color="#800000">5</font><font color="#000080">:</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">' will be stored in '</font><font color="#000080">,</font>i_byte<font color="#000080">, </font><font color="#800000">' byte(s) as : '</font><font color="#000080">);
      </font>WRITE<font color="#000080">(</font><font color="#800000">'&quot;'</font><font color="#000080">);
      </font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
      </font>CALREALBIN<font color="#000080">(</font>r_RealNum<font color="#000080">,</font>i_Bit<font color="#000080">,</font>b_OverFlow<font color="#000080">,</font>s_binstring<font color="#000080">);  </font><font color="#008000"><i>{ Real Integer to binary routine }
      </i></font>BIT_STRING_PRINT<font color="#000080">(</font>s_binstring<font color="#000080">,</font>i_bit<font color="#000080">);   </font><font color="#008000"><i>{ Print binary string }
      </i></font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
      </font>WRITE<font color="#000080">(</font><font color="#800000">'&quot;.'</font><font color="#000080">);
      </font>WRITELN<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{REALTOBIN}


{/////////////////////////////////////////////////////////////////////////////
 Binary to real number calculation
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>BINTOREALNUM<font color="#000080">(</font>s_binary<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;  </font>i_Bit<font color="#000080">:</font>INTEGER<font color="#000080">):</font>REAL<font color="#000080">;

</font><font color="#FF0000"><b>VAR

      </b></font>i<font color="#000080">,</font>j<font color="#000080">, </font>r_num <font color="#000080">: </font>REAL<font color="#000080">;
      </font>k<font color="#000080">,</font>l        <font color="#000080">: </font>INTEGER<font color="#000080">;
      </font>m          <font color="#000080">: </font>LONGINT<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

       </b></font>r_num <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;

       </font><font color="#FF0000"><b>IF </b></font>i_Bit <font color="#000080">= </font>i_NoOfBit <font color="#FF0000"><b>THEN  </b></font><font color="#008000"><i>{ No. of bits per bytes }

          </i></font><font color="#FF0000"><b>BEGIN

             </b></font>k <font color="#000080">:= </font>i_8BitExpInd<font color="#000080">;     </font><font color="#008000"><i>{4 for 8 bit, 16 for 16 bit}
             </i></font>l <font color="#000080">:= </font>GETEXPVAL<font color="#000080">(</font>s_binary<font color="#000080">,</font>i_8ExpStartBit<font color="#000080">,</font>i_8ExpEndBit<font color="#000080">,</font>k<font color="#000080">);
             </font>m <font color="#000080">:= </font>RAISEPOWER<font color="#000080">(</font>i_base2<font color="#000080">,</font>ABS<font color="#000080">(</font>l<font color="#000080">));

             </font><font color="#FF0000"><b>IF </b></font>l <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
                </b></font>i <font color="#000080">:= </font><font color="#800000">1.0 </font><font color="#000080">/ </font>m
             <font color="#FF0000"><b>ELSE
                </b></font>i <font color="#000080">:= </font>m<font color="#000080">;

             </font>j <font color="#000080">:= </font>GETMANVAL<font color="#000080">(</font>s_binary<font color="#000080">,</font>i_8ManStartBit<font color="#000080">,</font>i_8ManEndBit<font color="#000080">);

          </font><font color="#FF0000"><b>END

       ELSE

          BEGIN
             </b></font>k <font color="#000080">:= </font>i_16BitExpInd<font color="#000080">;    </font><font color="#008000"><i>{16}
             </i></font>l <font color="#000080">:= </font>GETEXPVAL<font color="#000080">(</font>s_binary<font color="#000080">,</font>i_16ExpStartBit<font color="#000080">,</font>i_16ExpEndBit<font color="#000080">, </font>k<font color="#000080">);
             </font>m <font color="#000080">:= </font>RAISEPOWER<font color="#000080">(</font>i_base2<font color="#000080">,</font>ABS<font color="#000080">(</font>l<font color="#000080">));

             </font><font color="#FF0000"><b>IF </b></font>l <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN  </b></font><font color="#008000"><i>{ If l is negative }
                </i></font>i <font color="#000080">:= </font><font color="#800000">1.0 </font><font color="#000080">/ </font>m
             <font color="#FF0000"><b>ELSE
                </b></font>i <font color="#000080">:= </font>m<font color="#000080">;

             </font>j <font color="#000080">:= </font>GETMANVAL<font color="#000080">(</font>s_binary<font color="#000080">,</font>i_16ManStartBit<font color="#000080">,</font>i_16ManEndBit<font color="#000080">);
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

       </font>r_num <font color="#000080">:= </font>i <font color="#000080">* </font>j<font color="#000080">;   </font><font color="#008000"><i>{ Exponent * mantissa }

       </i></font><font color="#FF0000"><b>IF </b></font>s_binary<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] = </font>s_OneString <font color="#FF0000"><b>THEN </b></font><font color="#008000"><i>{ Negative }
          </i></font>r_num <font color="#000080">:= </font>r_num <font color="#000080">* </font>i_NegativeOne<font color="#000080">;

       </font>BINTOREALNUM <font color="#000080">:= </font>r_num<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BINTOREALNUM}


{/////////////////////////////////////////////////////////////////////////////
 Binary string to real number
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>BINTOREAL<font color="#000080">;

</font><font color="#FF0000"><b>VAR

     </b></font>b_okay      <font color="#000080">: </font>boolean<font color="#000080">;
     </font>s_binary    <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
     </font>i_X<font color="#000080">,</font>i_Y<font color="#000080">, </font>i  <font color="#000080">: </font>INTEGER<font color="#000080">;
     </font>r_realnum   <font color="#000080">: </font>REAL<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

     </b></font>GETBYTENO<font color="#000080">(</font>i_1Byte<font color="#000080">,</font>i_2Byte<font color="#000080">,</font>i_Byte<font color="#000080">,</font>i_Bit<font color="#000080">);

     </font><font color="#FF0000"><b>REPEAT

         BEGIN

           </b></font>b_okay <font color="#000080">:= </font>TRUE<font color="#000080">;
           </font>s_binary <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
           </font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">12</font><font color="#000080">);
           </font>WRITE <font color="#000080">(</font><font color="#800000">'Please enter a binary string in '</font><font color="#000080">,</font>i_Bit<font color="#000080">, </font><font color="#800000">' bit format : '</font><font color="#000080">);
           </font>i_X <font color="#000080">:= </font>WHEREX<font color="#000080">;
           </font>i_Y <font color="#000080">:= </font>WHEREY<font color="#000080">;
           </font>CLREOL<font color="#000080">;
           </font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
           </font>READLN <font color="#000080">(</font>s_binary<font color="#000080">);
           </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
           </font><font color="#FF0000"><b>FOR </b></font>i <font color="#000080">:= </font>LENGTH<font color="#000080">(</font>TRIM<font color="#000080">(</font>s_binary<font color="#000080">)) </font><font color="#FF0000"><b>DOWNTO </b></font><font color="#800000">1 </font><font color="#FF0000"><b>DO
                  IF NOT </b></font><font color="#000080">(</font>s_binary<font color="#000080">[</font>i<font color="#000080">] = </font>s_ZeroString<font color="#000080">) </font><font color="#FF0000"><b>AND NOT </b></font><font color="#000080">(</font>s_binary<font color="#000080">[</font>i<font color="#000080">] = </font>s_OneString<font color="#000080">) </font><font color="#FF0000"><b>THEN
                      BEGIN
                            </b></font>b_okay <font color="#000080">:= </font>FALSE<font color="#000080">;
                            </font>GOTOXY<font color="#000080">(</font>i_X<font color="#000080">,</font>i_Y<font color="#000080">);
                            </font>CLREOL<font color="#000080">;
                      </font><font color="#FF0000"><b>END

         END

     UNTIL </b></font><font color="#000080">(</font>b_okay <font color="#000080">= </font>TRUE<font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>LENGTH<font color="#000080">(</font>TRIM<font color="#000080">(</font>s_binary<font color="#000080">)) = (</font>i_Bit<font color="#000080">));

     </font>r_realnum <font color="#000080">:= </font>BINTOREALNUM<font color="#000080">(</font>s_binary<font color="#000080">,</font>i_Bit<font color="#000080">);

     </font>WRITE <font color="#000080">(</font><font color="#800000">'&quot;'</font><font color="#000080">, </font>s_binary<font color="#000080">, </font><font color="#800000">'&quot; binary string represents real number : '</font><font color="#000080">);
     </font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
     </font>WRITE<font color="#000080">(</font>r_realnum<font color="#000080">:</font><font color="#800000">6</font><font color="#000080">:</font><font color="#800000">13</font><font color="#000080">);
     </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
     </font>WRITELN<font color="#000080">(</font><font color="#800000">'.'</font><font color="#000080">);

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{BINTOREALNUM}


{/////////////////////////////////////////////////////////////////////////////
 Make appropriate choice from the options
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>MAKECHOICE<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

      CASE </b></font>i_choice <font color="#FF0000"><b>OF

          </b></font><font color="#800000">1</font><font color="#000080">: </font>INTTOBIN<font color="#000080">;
          </font><font color="#800000">2</font><font color="#000080">: </font>BINTOINT<font color="#000080">;
          </font><font color="#800000">3</font><font color="#000080">: </font>REALTOBIN<font color="#000080">;
          </font><font color="#800000">4</font><font color="#000080">: </font>BINTOREAL<font color="#000080">;

      </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{MAKECHOICE}


{////////////////////////////////////////////////////////////////////////////
 Get what option the user wants
////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>GETCHOICE<font color="#000080">(</font>i_LoLimit<font color="#000080">,</font>i_HiLimit<font color="#000080">:</font>INTEGER<font color="#000080">;
                    </font><font color="#FF0000"><b>VAR     </b></font>i_getChoice<font color="#000080">:</font>INTEGER<font color="#000080">);

</font><font color="#FF0000"><b>VAR

       </b></font>i_X<font color="#000080">,</font>i_Y      <font color="#000080">: </font>INTEGER<font color="#000080">;  </font><font color="#008000"><i>{ Local variable for x,y coordinate value }

</i></font><font color="#FF0000"><b>BEGIN

       REPEAT

           </b></font>GOTOXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
           </font>WRITE<font color="#000080">(</font><font color="#800000">'Enter your choice ('</font><font color="#000080">,</font>i_LowLimit<font color="#000080">:</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">' - '</font><font color="#000080">,</font>i_HighLimit<font color="#000080">:</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">') : '</font><font color="#000080">);
           </font>i_X <font color="#000080">:= </font>WHEREX<font color="#000080">;
           </font>i_Y <font color="#000080">:= </font>WHEREY<font color="#000080">;
           </font><font color="#008000"><i>{$I-}
           </i></font>TEXTCOLOR<font color="#000080">(</font>YELLOW<font color="#000080">);
           </font>READLN<font color="#000080">(</font>i_getChoice<font color="#000080">);
           </font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
           </font><font color="#008000"><i>{$I+}
           </i></font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>IORESULT <font color="#000080">&lt;&gt; </font>i_OKIOResult<font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>i_choice <font color="#000080">&lt; </font>i_LoLimit<font color="#000080">) </font><font color="#FF0000"><b>OR
              </b></font><font color="#000080">(</font>i_choice <font color="#000080">&gt; </font>i_HiLimit<font color="#000080">) </font><font color="#FF0000"><b>THEN
              </b></font>GOTOXY<font color="#000080">(</font>i_X<font color="#000080">,</font>i_Y<font color="#000080">);
              </font>CLREOL<font color="#000080">;

       </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>IORESULT <font color="#000080">= </font>i_OKIOResult<font color="#000080">) </font><font color="#FF0000"><b>AND
             </b></font><font color="#000080">(</font>i_choice <font color="#000080">&gt;= </font>i_LoLimit<font color="#000080">) </font><font color="#FF0000"><b>AND
             </b></font><font color="#000080">(</font>i_choice <font color="#000080">&lt;= </font>i_HiLimit<font color="#000080">)

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{GETCHOICE}


{/////////////////////////////////////////////////////////////////////////////
 Displays the main menu for user to choose
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>DISPMENU<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN

    </b></font>CLRSCR<font color="#000080">;
    </font>WRITELN <font color="#000080">(</font><font color="#800000">'              +--------------------------------------------------+'</font><font color="#000080">);
    </font>WRITELN <font color="#000080">(</font><font color="#800000">'              |  &lt;&lt; BASE 10/BASE 2 NUMBER CONVERSION PROGRAM &gt;&gt;  |'</font><font color="#000080">);
    </font>WRITELN <font color="#000080">(</font><font color="#800000">'              |      1. Integer Number ---&gt; Binary  String       |'</font><font color="#000080">);
    </font>WRITELN <font color="#000080">(</font><font color="#800000">'              |      2. Binary  String ---&gt; Integer Number       |'</font><font color="#000080">);
    </font>WRITELN <font color="#000080">(</font><font color="#800000">'              +--------------------------------------------------+'</font><font color="#000080">);
    </font>WRITELN <font color="#000080">(</font><font color="#800000">'              |      3. Real    Number ---&gt; Binary  String       |'</font><font color="#000080">);
    </font>WRITELN <font color="#000080">(</font><font color="#800000">'              |      4. Binary  String ---&gt; Real    Number       |'</font><font color="#000080">);
    </font>WRITELN <font color="#000080">(</font><font color="#800000">'              |      5. Quit                                     |'</font><font color="#000080">);
    </font>WRITELN <font color="#000080">(</font><font color="#800000">'              +--------------------------------------------------+'</font><font color="#000080">);

</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{DISPMENU}


{/////////////////////////////////////////////////////////////////////////////
 Main Pogram
/////////////////////////////////////////////////////////////////////////////}
</i></font><font color="#FF0000"><b>BEGIN

     </b></font>TEXTCOLOR<font color="#000080">(</font>WHITE<font color="#000080">);
     </font>TEXTBACKGROUND<font color="#000080">(</font>BLUE<font color="#000080">);

     </font><font color="#FF0000"><b>REPEAT

         </b></font>CLRSCR<font color="#000080">;
         </font>DISPMENU<font color="#000080">;                                    </font><font color="#008000"><i>{ Display heading }
         </i></font>GETCHOICE<font color="#000080">(</font>i_LowLimit<font color="#000080">,</font>i_HighLimit<font color="#000080">,</font>i_Choice<font color="#000080">);  </font><font color="#008000"><i>{ Get choice option }
         </i></font><font color="#FF0000"><b>IF </b></font>i_Choice <font color="#000080">&lt; </font>i_highLimit <font color="#FF0000"><b>THEN
            BEGIN
                </b></font>MAKECHOICE<font color="#000080">;                           </font><font color="#008000"><i>{ Make a choice }
                </i></font>PRESSKEY<font color="#000080">;
                </font>s_response <font color="#000080">:= </font>READKEY<font color="#000080">;
            </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

     </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>i_choice <font color="#000080">= </font>i_highlimit<font color="#000080">)

</font><font color="#FF0000"><b>END</b></font><font color="#000080">. </font><font color="#008000"><i>{MAIN PROGRAM}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0088.PAS">Original</a><b>]</b></p></body>
</html>
