<html>
<head><title> "HEX2BIN1.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>Function </b></font>Hex2Bin <font color="#000080">(</font>B <font color="#000080">: </font>Byte<font color="#000080">) : </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>Temp <font color="#000080">: </font><font color="#FF0000"><b>String </b></font><font color="#000080">[</font><font color="#800000">8</font><font color="#000080">];
  </font>Pos<font color="#000080">, </font>Mask <font color="#000080">: </font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>Temp <font color="#000080">:= </font><font color="#800000">'00000000'</font><font color="#000080">;
  </font>Pos <font color="#000080">:= </font><font color="#800000">8</font><font color="#000080">;
  </font>Mask <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>Pos <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Do
    begin
      if </b></font><font color="#000080">(</font>B <font color="#FF0000"><b>and </b></font>Mask<font color="#000080">)
        </font><font color="#FF0000"><b>then
          </b></font>Temp <font color="#000080">[</font>Pos<font color="#000080">] := </font><font color="#800000">'1'</font><font color="#000080">;
      </font>Dec <font color="#000080">(</font>Pos<font color="#000080">);
      </font>Mask <font color="#000080">:= </font><font color="#800000">2 </font><font color="#000080">* </font>Mask<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Hex2Bin <font color="#000080">:= </font>Temp<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;







</font><font color="#FF0000"><b>Function </b></font>Hex2Bin<font color="#000080">( </font>HexByte<font color="#000080">:</font>Byte <font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>External</b></font><font color="#000080">; </font><font color="#008000"><i>{$L HEX2Bin.OBJ}
</i></font><font color="#FF0000"><b>Var </b></font>i <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  For </b></font>i <font color="#000080">:= </font><font color="#800000">$00 </font><font color="#FF0000"><b>to </b></font><font color="#800000">$0F </font><font color="#FF0000"><b>do </b></font>WriteLn<font color="#000080">( </font>Hex2Bin<font color="#000080">(</font>i<font color="#000080">) );
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font><font color="#008000"><i>(*********************************************************************)

 </i></font>The Assembly source <font color="#000080">...

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
</font>code        segment Byte <font color="#800000">'CODE'     </font><font color="#000080">; </font>HEX2Bin<font color="#000080">.</font><font color="#FF0000"><b>Asm
            </b></font><font color="#FF00FF">assume  cs:code
; Function Hex2Bin( HexByte :Byte ) :String;
String      equ     dWord ptr [bp+6]
HexByte     equ     [bp+4]
            public  Hex2Bin
Hex2Bin     proc    Near            ; link into main TP Program
            push    bp              ; preserve
            mov     bp,sp           ; stack frame
            les     di, String      ; result String Pointer
            cld                     ; Forward scan
            mov     cx,8            ; 8 bits in a Byte
            mov     al,cl           ; to set
            stosb                   ; binary String length
            mov     ah, HexByte     ; get the hex Byte
    h2b:    xor     al,al           ; cheap zero
            rol     ax,1            ; high bit to low bit
            or      al,'0'          ; make it ascii
            stosb                   ; put it in String
            loop    h2b             ; get all 8 bits
            pop     bp              ; restore
            ret     2               ; purge stack &amp; return
Hex2Bin     endp
code        ends
            </font><font color="#FF0000"><b>end
</b></font><font color="#000080">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

 </font>Here<font color="#800000">'s the assembled OBJ File ...

 </font>Put all <font color="#FF0000"><b>of </b></font>this remaining <font color="#FF0000"><b>message in </b></font>a Text <font color="#FF0000"><b>File </b></font>named HEX2Bin<font color="#000080">.</font>SCR<font color="#000080">,
 </font><font color="#FF0000"><b>then Type </b></font><font color="#000080">&quot;</font>DEBUG <font color="#000080">&lt; </font>HEX2Bin<font color="#000080">.</font>SCR<font color="#000080">&quot; (</font>no quotes<font color="#000080">) </font><font color="#FF0000"><b>to </b></font>create HEX2Bin<font color="#000080">.</font>ARC<font color="#000080">;
 </font><font color="#FF0000"><b>then </b></font>extract HEX2Bin<font color="#000080">.</font>OBJ using PKUNPAK <font color="#FF0000"><b>or </b></font>PAK <font color="#000080">...
 ---------------------------- </font>DEBUG script <font color="#000080">----------------------------
 </font>N HEX2Bin<font color="#000080">.</font>ARC
 E <font color="#800000">0100 1</font>A <font color="#800000">02 48 45 58 32 42 49 4E 2E 4</font>F <font color="#800000">42 4</font>A <font color="#800000">00 5E 65 00 00 00 4</font>A <font color="#800000">19
 </font>E <font color="#800000">0115 13 22 60 </font>F2 <font color="#800000">65 00 00 00 80 0</font>D <font color="#800000">00 0</font>B <font color="#800000">68 65 78 32 62 69 6E 2E 41
 </font>E <font color="#800000">012</font>A <font color="#800000">53 4</font>D A9 <font color="#800000">96 07 00 00 04 43 4</font>F <font color="#800000">44 45 44 98 07 00 20 1</font>D <font color="#800000">00 02 02
 </font>E <font color="#800000">013</font>F <font color="#800000">01 1</font>F <font color="#800000">90 0E 00 00 01 07 48 45 58 32 42 49 4E 00 00 00 6</font>A <font color="#800000">88 04
 </font>E <font color="#800000">0154 00 00 </font>A2 <font color="#800000">01 </font>D1 A0 <font color="#800000">21 00 01 00 00 55 8</font>B EC C4 <font color="#800000">7E 06 </font>FC B9 <font color="#800000">08 00
 </font>E <font color="#800000">0169 8</font>A C1 AA <font color="#800000">8</font>A <font color="#800000">66 04 32 </font>C0 D1 C0 <font color="#800000">0</font>C <font color="#800000">30 </font>AA E2 F7 <font color="#800000">5</font>D C2 <font color="#800000">02 00 21 8</font>A
 E <font color="#800000">017E 02 00 00 74 1</font>A <font color="#800000">00
 </font>Rcx
 <font color="#800000">0084
 </font>W
 Q
 <font color="#000080">----------------------------------------------------------</font>gbug<font color="#000080">-</font><font color="#800000">1.0</font>b<font color="#000080">--
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to NUMBERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p></body>
</html>
