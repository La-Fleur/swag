<html>
<head><title> "CURSOR Control" by LIM FUNG</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to CURSOR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0017.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{===========================================================================
Date: 08-27-93 (14:17)
From: LIM FUNG
Subj: cursor control

WD&gt;Hi All,
WD&gt;   Hey, someone put a couple of little proc. on here which control the
WD&gt;cursor (turn it on/off) and they were written in assembler.  I had a
WD&gt;brain fade and forgot to save the name of the person who created these
WD&gt;routines.  I was wondering if they might know how to get a big cursor
WD&gt;also using assembler.  Also, do they work on monochrome monitors, or was
WD&gt;that what you meant about the 8x8 scan lines?

Okay, a simple procedure to turn on and off the cursor would be as
follows: }


</i></font><font color="#FF0000"><b>Uses </b></font>DOS<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CursorOn<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        asm
                </b></font><font color="#FF00FF">mov        ax,0100h
                mov        cx,0607h
                int        10h
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CursorOff<font color="#000080">;
</font><font color="#FF0000"><b>Begin
        asm
                </b></font><font color="#FF00FF">mov        ax,0100h
                mov        cx,2020h
                int        10h
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

===========================================================================
 </font>BBS<font color="#000080">: </font>Canada Remote Systems
Date<font color="#000080">: </font><font color="#800000">10</font><font color="#000080">-</font><font color="#800000">23</font><font color="#000080">-</font><font color="#800000">93 </font><font color="#000080">(</font><font color="#800000">07</font><font color="#000080">:</font><font color="#800000">59</font><font color="#000080">)             </font>Number<font color="#000080">: </font><font color="#800000">9355
</font>From<font color="#000080">: </font>LOU DUCHEZ                   Refer<font color="#800000">#</font><font color="#000080">: </font>NONE
  <font color="#FF0000"><b>To</b></font><font color="#000080">: </font>JESSE MACGREGOR               Recvd<font color="#000080">: </font>NO  
Subj<font color="#000080">: </font>help                           Conf<font color="#000080">: (</font><font color="#800000">1617</font><font color="#000080">) </font>L<font color="#000080">-</font><font color="#FF0000"><b>Pascal
</b></font><font color="#000080">---------------------------------------------------------------------------
</font>JM<font color="#000080">&gt;</font>I need help I need a <font color="#FF0000"><b>function </b></font>that when I give it a screen coordiante
JM<font color="#000080">&gt;</font><font color="#FF0000"><b>and </b></font>it returns the charachter at that coordinate <font color="#FF0000"><b>on </b></font>a text screen
JM<font color="#000080">&gt;(</font><font color="#800000">80</font>x25<font color="#000080">) </font><font color="#FF0000"><b>and </b></font>possibly the color<font color="#000080">...

</font><font color="#FF0000"><b>Try </b></font>this<font color="#000080">:

-------------------------------------------------------------------------------

</font><font color="#FF0000"><b>type  </b></font>videolocation <font color="#000080">= </font><font color="#FF0000"><b>record                  </b></font><font color="#008000"><i>{ video memory locations }
          </i></font>videodata<font color="#000080">: </font>char<font color="#000080">;                    </font><font color="#008000"><i>{ character displayed }
          </i></font>videoattribute<font color="#000080">: </font>byte<font color="#000080">;               </font><font color="#008000"><i>{ attributes }
          </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

---------------

</font><font color="#FF0000"><b>procedure </b></font>getvideodata<font color="#000080">(</font>x<font color="#000080">, </font>y<font color="#000080">: </font>byte<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>result<font color="#000080">: </font>videolocation<font color="#000080">);

</font><font color="#008000"><i>{ Returns the attribute byte of a video character. }

</i></font><font color="#FF0000"><b>var </b></font>vidptr<font color="#000080">: ^</font>videolocation<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>memw<font color="#000080">[</font><font color="#800000">$0040</font><font color="#000080">:</font><font color="#800000">$0049</font><font color="#000080">] = </font><font color="#800000">7 </font><font color="#FF0000"><b>then </b></font>vidptr <font color="#000080">:= </font>ptr<font color="#000080">(</font><font color="#800000">$b000</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">*(</font><font color="#800000">80</font><font color="#000080">*(</font>y<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) + (</font>x<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)))
                           </font><font color="#FF0000"><b>else </b></font>vidptr <font color="#000080">:= </font>ptr<font color="#000080">(</font><font color="#800000">$b800</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">*(</font><font color="#800000">80</font><font color="#000080">*(</font>y<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) + (</font>x<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)));
  </font>result <font color="#000080">:= </font>vidptr<font color="#000080">^;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

-------------------------------------------------------------------------------


</font>JM<font color="#000080">&gt;</font>also<font color="#000080">, </font>a <font color="#FF0000"><b>procedure to </b></font>make that icky
JM<font color="#000080">&gt;</font>cursor go away would be greatly appreciated<font color="#000080">...

</font>There<font color="#800000">'s not really a procedure to make it &quot;go away&quot;, just to change it.
</font>You CAN change it so that it<font color="#800000">'s undisplayable, but you'</font>ll want <font color="#FF0000"><b>to </b></font>store
the previous config first<font color="#000080">.  </font>Like so<font color="#000080">:

-------------------------------------------------------------------------------

</font><font color="#FF0000"><b>var </b></font>crstyp<font color="#000080">: </font>word<font color="#000080">;

---------------

</font><font color="#FF0000"><b>procedure </b></font>cursoff<font color="#000080">;
</font><font color="#FF0000"><b>const </b></font>ffff<font color="#000080">: </font>word <font color="#000080">= </font><font color="#800000">$ffff</font><font color="#000080">;

</font><font color="#008000"><i>{ Turns the cursor off.  Stores its format for later redisplaying. }

</i></font><font color="#FF0000"><b>begin
  asm
    </b></font><font color="#FF00FF">mov ah, 03h
    mov bh, 00h
    int 10h
    mov crstyp, cx
    mov ah, 01h
    mov cx, ffff
    int 10h
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

---------------

</font><font color="#FF0000"><b>procedure </b></font>curson<font color="#000080">;

</font><font color="#008000"><i>{ Turns the cursor back on, using the cursor display previously stored. }

</i></font><font color="#FF0000"><b>begin
  asm
    </b></font><font color="#FF00FF">mov ah, 01h
    mov cx, crstyp
    int 10h
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

-------------------------------------------------------------------------------

</font>How<font color="#800000">'s that, o evil masters?
</font><font color="#000080">---
 &thorn; </font>KingQWK <font color="#800000">1.05 # 182 </font><font color="#000080">&thorn; &quot;</font>Bob<font color="#000080">&quot; -- </font>the Doc Savage <font color="#FF0000"><b>of </b></font>holy men
 <font color="#000080">&thorn; </font>RoseMail <font color="#800000">2.10</font><font color="#000080">&aacute;: </font>ILink<font color="#000080">: </font>PC<font color="#000080">-</font>Ohio <font color="#000080">* </font>Cleveland<font color="#000080">, </font>OH <font color="#000080">* </font><font color="#800000">216</font><font color="#000080">-</font><font color="#800000">381</font><font color="#000080">-</font><font color="#800000">3320
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to CURSOR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0017.PAS">Original</a><b>]</b></p></body>
</html>
