<html>
<head><title> "Multi-Line Scroll" by ERIC MILLER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SCROLL SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0010.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; Last month this routine for scrolling text across the screen was
&gt; posted in this echo.  It's a great routine but would the author of the
&gt; routine please describe how to place the scrolling text on any of the
&gt; 25 vertical lines, how to change the background color...the foreground
&gt; color I found. Also, can this routine place the text between two
&gt; points on the screen without writing over the extreme left and right
&gt; sides?

This should be what you're looking for.  I sort exapnded on the
old code, but instead of using Mem for direct writes I set a
screen structure over the text screen instead...makes it easier
to understand.      }

</i></font><font color="#FF0000"><b>PROGRAM </b></font>NewScroll<font color="#000080">;
</font><font color="#FF0000"><b>Uses </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>TYPE
  </b></font>TCell <font color="#000080">= </font><font color="#FF0000"><b>RECORD </b></font>C<font color="#000080">: </font>Char<font color="#000080">; </font>A<font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font>TScreen <font color="#000080">= </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">80</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>TCell<font color="#000080">;

</font><font color="#FF0000"><b>CONST
  </b></font>Row<font color="#000080">: </font>byte <font color="#000080">= </font><font color="#800000">15</font><font color="#000080">;
  </font>Col1<font color="#000080">: </font>byte <font color="#000080">= </font><font color="#800000">10</font><font color="#000080">;
  </font>Col2<font color="#000080">: </font>byte <font color="#000080">= </font><font color="#800000">70</font><font color="#000080">;
  </font>Attr<font color="#000080">: </font>byte <font color="#000080">= </font><font color="#800000">$4F</font><font color="#000080">; </font><font color="#008000"><i>{ bwhite / red }
  </i></font>Txt<font color="#000080">: </font><font color="#FF0000"><b>string </b></font><font color="#000080">= </font><font color="#800000">'Hello world....         '</font><font color="#000080">;

</font><font color="#FF0000"><b>VAR
  </b></font>Scr<font color="#000080">: </font>TScreen <font color="#FF0000"><b>ABSOLUTE </b></font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">;
  </font>I<font color="#000080">, </font>J<font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>I <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>REPEAT
    while </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8</font><font color="#000080">) &lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>do</b></font><font color="#000080">;  </font><font color="#008000"><i>{ wait retrace }
    </i></font><font color="#FF0000"><b>while </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8</font><font color="#000080">) = </font><font color="#800000">0 </font><font color="#FF0000"><b>do</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>FOR </b></font>J <font color="#000080">:= </font>Col1 <font color="#FF0000"><b>TO </b></font><font color="#000080">(</font>Col2<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>DO
      </b></font>Scr<font color="#000080">[</font>Row<font color="#000080">, </font>J<font color="#000080">] := </font>Scr<font color="#000080">[</font>Row<font color="#000080">, </font>J<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">];  </font><font color="#008000"><i>{ shift cell left }
    </i></font>Scr<font color="#000080">[</font>Row<font color="#000080">, </font>Col2<font color="#000080">].</font>C <font color="#000080">:= </font>Txt<font color="#000080">[</font>I<font color="#000080">];      </font><font color="#008000"><i>{ add new cell }
    </i></font>Scr<font color="#000080">[</font>Row<font color="#000080">, </font>Col2<font color="#000080">].</font>A <font color="#000080">:= </font>Attr<font color="#000080">;
    </font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#000080">+ (</font>I <font color="#FF0000"><b>MOD </b></font>Length<font color="#000080">(</font>Txt<font color="#000080">));
  </font><font color="#FF0000"><b>UNTIL </b></font>Keypressed<font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SCROLL SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0010.PAS">Original</a><b>]</b></p></body>
</html>
