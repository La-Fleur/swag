<html>
<head><title> "Complete Link Lists" by J.C. WISE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to POINTERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0030.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>(* Program to test link lists. Traverse, add, delete.*)
(* I wrote this program for Pascal 2 to play around with link lists *)
(* It is mostly bullet proof and rather simple, but it works!!! *)
(* I used Pascal 5. BTW, any pointers would be appreciated.     *)
(*                                                 J.C. Wise    *)

</i></font><font color="#FF0000"><b>PROGRAM </b></font>Link_List <font color="#000080">(</font>Output<font color="#000080">, </font>Data<font color="#000080">);

</font><font color="#FF0000"><b>USES
  </b></font>Crt<font color="#000080">,</font>Dos<font color="#000080">,</font>Printer<font color="#000080">;

</font><font color="#FF0000"><b>TYPE
  </b></font>Line_Str     <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">80</font><font color="#000080">];
  </font>Node_Pointer <font color="#000080">= ^</font>Node_Type<font color="#000080">;
  </font>Node_Type    <font color="#000080">= </font><font color="#FF0000"><b>RECORD
                   </b></font>Component <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
                   </font>Link      <font color="#000080">: </font>Node_Pointer
                 <font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>VAR
  </b></font>Head<font color="#000080">,                     </font><font color="#008000"><i>(* External pointer to Head *)
  </i></font>New_Node<font color="#000080">,                 </font><font color="#008000"><i>(* Pointer to the newest node *)
  </i></font>Current<font color="#000080">:                  </font><font color="#008000"><i>(* Pointer to the last node  *)
     </i></font>Node_Pointer<font color="#000080">;
  </font>Data<font color="#000080">:                     </font><font color="#008000"><i>(* File of characters, one per line *)
     </i></font>Line_Str<font color="#000080">;
  </font>Line_Num<font color="#000080">,
  </font>Counter<font color="#000080">:
     </font>Integer<font color="#000080">;
  </font>Choice<font color="#000080">,
  </font>Wait1<font color="#000080">,
  </font>Item<font color="#000080">:
     </font>Char<font color="#000080">;



</font><font color="#008000"><i>(**********************************************************************)
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>Print_List <font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>Head <font color="#000080">: </font>Node_pointer<font color="#000080">);


</font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>(* Print_List *)
  </i></font>CLRSCR<font color="#000080">;
  </font>Current <font color="#000080">:= </font>Head<font color="#000080">;
  </font>Line_Num <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>WHILE </b></font>Current <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>NIL DO
     BEGIN
        </b></font>Write<font color="#000080">(</font>Line_Num<font color="#000080">, </font><font color="#800000">'. '</font><font color="#000080">);
        </font>Line_Num <font color="#000080">:= </font>Line_Num <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
        </font>Writeln<font color="#000080">(</font>Current<font color="#000080">^.</font>Component<font color="#000080">);
        </font>Current <font color="#000080">:= </font>Current<font color="#000080">^.</font>Link<font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>(* print_list *)

(**********************************************************************)
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>Printer_List <font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>Head <font color="#000080">: </font>Node_pointer<font color="#000080">);


</font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>(* Printer_List *)
  </i></font>CLRSCR<font color="#000080">;
  </font>Current <font color="#000080">:= </font>Head<font color="#000080">;
  </font>Line_Num <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>WHILE </b></font>Current <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>NIL DO
     BEGIN
        </b></font>Write<font color="#000080">(</font>Lst<font color="#000080">,</font>Line_Num<font color="#000080">, </font><font color="#800000">'. '</font><font color="#000080">);
        </font>Line_Num <font color="#000080">:= </font>Line_Num <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
        </font>Writeln<font color="#000080">(</font>Lst<font color="#000080">,</font>Current<font color="#000080">^.</font>Component<font color="#000080">);
        </font>Current <font color="#000080">:= </font>Current<font color="#000080">^.</font>Link<font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>(* Printer_List *)



(**********************************************************************)
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>Insrt_List <font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>Head<font color="#000080">: </font>Node_pointer<font color="#000080">;
                     </font>Data    <font color="#000080">: </font>Line_Str <font color="#000080">);

</font><font color="#FF0000"><b>VAR
  </b></font>Found <font color="#000080">: </font>Boolean<font color="#000080">;             </font><font color="#008000"><i>(* True when insertion place found *)
  </i></font>Previous<font color="#000080">: </font>Node_pointer<font color="#000080">;      </font><font color="#008000"><i>(* Node before current             *)

</i></font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>(* Insert *)
  </i></font>New<font color="#000080">(</font>New_Node<font color="#000080">);
  </font>New_Node<font color="#000080">^. </font>Component <font color="#000080">:= </font>Data<font color="#000080">;
  </font>New_Node<font color="#000080">^.</font>Link <font color="#000080">:= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;
  </font>Previous <font color="#000080">:= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;
  </font>Current <font color="#000080">:= </font>Head<font color="#000080">;
  </font>Found <font color="#000080">:= </font>False<font color="#000080">;
  </font>Counter <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>Current <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">) </font><font color="#FF0000"><b>AND NOT </b></font>Found <font color="#FF0000"><b>DO
     BEGIN
        </b></font>Counter <font color="#000080">:= </font>Counter <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
        </font><font color="#FF0000"><b>IF </b></font>Line_Num <font color="#000080">&gt; </font>Counter
           <font color="#FF0000"><b>THEN
              BEGIN
                 </b></font>Previous <font color="#000080">:= </font>Current<font color="#000080">;
                 </font>Current <font color="#000080">:= </font>Current<font color="#000080">^.</font>Link
              <font color="#FF0000"><b>END
           ELSE
              </b></font>Found <font color="#000080">:= </font>True<font color="#000080">;
        </font>New_Node<font color="#000080">^.</font>Link <font color="#000080">:= </font>Current<font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>IF </b></font>Previous <font color="#000080">= </font><font color="#FF0000"><b>NIL
     THEN
        </b></font>Head <font color="#000080">:= </font>New_Node
     <font color="#FF0000"><b>ELSE
        </b></font>Previous<font color="#000080">^.</font>Link <font color="#000080">:= </font>New_Node<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>(* Insrt_List *)


(**********************************************************************)

</i></font><font color="#FF0000"><b>PROCEDURE </b></font>Delete_List <font color="#000080">(</font>Line_Num<font color="#000080">: </font>Integer<font color="#000080">);

</font><font color="#FF0000"><b>VAR
  </b></font>Current<font color="#000080">,
  </font>Temp_Pointer<font color="#000080">:
     </font>Node_pointer<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>(* Delete *)
  </i></font>Counter <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>IF </b></font>Line_Num <font color="#000080">= </font>Counter
     <font color="#FF0000"><b>THEN
        BEGIN
           </b></font>Temp_Pointer <font color="#000080">:= </font>Head<font color="#000080">;
           </font>Head  <font color="#000080">:= </font>Head<font color="#000080">^.</font>Link<font color="#000080">;
           </font>Dispose<font color="#000080">(</font>Temp_Pointer<font color="#000080">);
        </font><font color="#FF0000"><b>END
  ELSE
     BEGIN
        </b></font>Current <font color="#000080">:= </font>Head<font color="#000080">;
        </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>Counter <font color="#000080">&lt;&gt; </font>Line_Num<font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>Current <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">) </font><font color="#FF0000"><b>DO
           BEGIN
              </b></font>Temp_Pointer <font color="#000080">:= </font>Current<font color="#000080">;
              </font>Current <font color="#000080">:= </font>Current<font color="#000080">^.</font>Link<font color="#000080">;
              </font>Counter <font color="#000080">:= </font>Counter <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>(* while *)
        </i></font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>Counter <font color="#000080">= </font>Line_Num<font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>Current <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">)
           </font><font color="#FF0000"><b>THEN
              BEGIN
                 </b></font>Temp_Pointer<font color="#000080">^.</font>Link <font color="#000080">:= </font>Current<font color="#000080">^.</font>Link<font color="#000080">;
                 </font>Dispose<font color="#000080">(</font>Current<font color="#000080">);
              </font><font color="#FF0000"><b>END
        ELSE
           BEGIN
              </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Line # not found'</font><font color="#000080">);
              </font>Readln<font color="#000080">(</font>wait1<font color="#000080">);
              </font>CLRSCR<font color="#000080">;
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>(* delete_list *)

(*********************************************************************)


</i></font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>(* Link List *)
  </i></font>ClrScr<font color="#000080">;
  </font>Line_Num <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>Head <font color="#000080">:= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;
  </font>Writeln<font color="#000080">(</font><font color="#800000">'Just start typing!'</font><font color="#000080">);
  </font>Item <font color="#000080">:= </font><font color="#800000">'A'</font><font color="#000080">;
  </font>Choice <font color="#000080">:= </font><font color="#800000">' '</font><font color="#000080">;
  </font><font color="#FF0000"><b>WHILE </b></font>UPCASE<font color="#000080">(</font>Item<font color="#000080">) &lt;&gt; </font><font color="#800000">'X'  </font><font color="#FF0000"><b>DO
     BEGIN
        CASE </b></font>UPCASE<font color="#000080">(</font>Item<font color="#000080">) </font><font color="#FF0000"><b>of
        </b></font><font color="#800000">'A' </font><font color="#000080">:
           </font><font color="#FF0000"><b>BEGIN
              </b></font>Write<font color="#000080">(</font>Line_Num<font color="#000080">, </font><font color="#800000">'. '</font><font color="#000080">);
              </font>Readln<font color="#000080">(</font>data<font color="#000080">);
              </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>length<font color="#000080">(</font>data<font color="#000080">) &lt;&gt; </font><font color="#800000">0 </font><font color="#000080">) </font><font color="#FF0000"><b>DO
                 BEGIN
                    </b></font>Insrt_List<font color="#000080">(</font>Head<font color="#000080">,</font>data<font color="#000080">);
                    </font>Line_Num <font color="#000080">:= </font>Line_Num <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
                    </font>Write<font color="#000080">(</font>Line_Num<font color="#000080">, </font><font color="#800000">'. '</font><font color="#000080">);
                    </font>Readln<font color="#000080">(</font>data<font color="#000080">);
                 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
        </font><font color="#800000">'D' </font><font color="#000080">:
           </font><font color="#FF0000"><b>BEGIN
              </b></font>Write<font color="#000080">(</font><font color="#800000">'Enter the line # to delete '</font><font color="#000080">);
              </font>Readln<font color="#000080">(</font>Line_Num<font color="#000080">);
              </font>Delete_List<font color="#000080">(</font>Line_Num<font color="#000080">);
              </font>Print_List<font color="#000080">(</font>Head<font color="#000080">);
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
        </font><font color="#800000">'I' </font><font color="#000080">:
           </font><font color="#FF0000"><b>BEGIN
              </b></font>Write<font color="#000080">(</font><font color="#800000">'Enter the line # to insert before '</font><font color="#000080">);
              </font>Readln<font color="#000080">(</font>Line_Num<font color="#000080">);
              </font>Write<font color="#000080">(</font>Line_Num<font color="#000080">,</font><font color="#800000">'. '</font><font color="#000080">);
              </font>Readln<font color="#000080">(</font>Data<font color="#000080">);
              </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>length<font color="#000080">(</font>data<font color="#000080">) &lt;&gt; </font><font color="#800000">0 </font><font color="#000080">) </font><font color="#FF0000"><b>DO
                 BEGIN
                    </b></font>Insrt_List<font color="#000080">(</font>Head<font color="#000080">,</font>data<font color="#000080">);
                    </font>Line_Num <font color="#000080">:= </font>Line_Num <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
                    </font>Write<font color="#000080">(</font>Line_Num<font color="#000080">, </font><font color="#800000">'. '</font><font color="#000080">);
                    </font>Readln<font color="#000080">(</font>data<font color="#000080">);
                 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
              </font>Print_List<font color="#000080">(</font>Head<font color="#000080">);
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
        </font><font color="#800000">'P' </font><font color="#000080">:
           </font><font color="#FF0000"><b>BEGIN
              </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Send to (P)rinter or (S)creen?'</font><font color="#000080">);
              </font>Readln<font color="#000080">(</font>choice<font color="#000080">);
              </font><font color="#FF0000"><b>CASE </b></font>UPCASE<font color="#000080">(</font>choice<font color="#000080">) </font><font color="#FF0000"><b>OF
                 </b></font><font color="#800000">'P'</font><font color="#000080">:
                     </font><font color="#FF0000"><b>BEGIN
                        </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Be sure printer is on, enter to continue'</font><font color="#000080">);
                        </font>Readln<font color="#000080">(</font>wait1<font color="#000080">);
                        </font>Printer_List<font color="#000080">(</font>Head<font color="#000080">);
                     </font><font color="#FF0000"><b>END </b></font><font color="#000080">;
                 </font><font color="#800000">'S'</font><font color="#000080">:
                     </font><font color="#FF0000"><b>BEGIN
                        </b></font>Print_List<font color="#000080">(</font>Head<font color="#000080">);
                     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
              </font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>(* CASE *)
           </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>END </b></font><font color="#008000"><i>(* CASE *)</i></font><font color="#000080">;
     </font>Writeln<font color="#000080">(</font><font color="#800000">'Would you like to (A)dd, (D)elete, (I)nsert, (P)rint or e(X)it? '</font><font color="#000080">);
     </font>Readln<font color="#000080">(</font>Item<font color="#000080">);
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to POINTERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0030.PAS">Original</a><b>]</b></p></body>
</html>
