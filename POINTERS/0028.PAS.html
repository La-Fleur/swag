<html>
<head><title> "Binary Tree Example" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to POINTERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0028.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>PROGRAM </b></font>BinaryTreeSample <font color="#000080">( </font>INPUT<font color="#000080">, </font>OUTPUT <font color="#000080">);

</font><font color="#FF0000"><b>USES </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>TYPE </b></font>NodePtr     <font color="#000080">= ^</font>Node<font color="#000080">;

     </font>Node        <font color="#000080">= </font><font color="#FF0000"><b>RECORD
                    </b></font>Left<font color="#000080">,
                    </font>Parent<font color="#000080">,
                    </font>Right     <font color="#000080">: </font>WORD<font color="#000080">;
                    </font>KeyWord   <font color="#000080">: </font>POINTER<font color="#000080">;   </font><font color="#008000"><i>{ Will hold in STRING format }
                   </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;                    </font><font color="#008000"><i>{ Where 1st byte is length   }

     </i></font>Comparison  <font color="#000080">= (</font>Less<font color="#000080">, </font>Greater<font color="#000080">, </font>Equal<font color="#000080">);


</font><font color="#FF0000"><b>VAR </b></font>NewWord  <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;                     </font><font color="#008000"><i>{ Holds word typed in        }
    </i></font>StartMem <font color="#000080">: </font>LONGINT<font color="#000080">;                    </font><font color="#008000"><i>{ Holds starting memory      }
    </i></font>Counter<font color="#000080">,                               </font><font color="#008000"><i>{ Used for FOR Loop          }
    </i></font>LastNode <font color="#000080">: </font>WORD<font color="#000080">;                       </font><font color="#008000"><i>{ Holds last node stored     }
    </i></font>BTree    <font color="#000080">: </font><font color="#FF0000"><b>ARRAY</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">16000</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>NodePtr<font color="#000080">; </font><font color="#008000"><i>{ Entire Binary Tree         }



</i></font><font color="#FF0000"><b>FUNCTION </b></font>PtrStr <font color="#000080">( </font>Ptr    <font color="#000080">: </font>POINTER <font color="#000080">) : </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">; </font><font color="#008000"><i>{ Ptr --&gt; String conversion }

</i></font><font color="#FF0000"><b>VAR </b></font>Str <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
 </b></font>Move<font color="#000080">( </font>Ptr<font color="#000080">^, </font>Str<font color="#000080">, </font>Mem<font color="#000080">[</font>Seg<font color="#000080">(</font>Ptr<font color="#000080">^):</font>Ofs<font color="#000080">(</font>Ptr<font color="#000080">^)]+</font><font color="#800000">1 </font><font color="#000080">);   </font><font color="#008000"><i>{ +1 to copy count byte }
 </i></font>PtrStr <font color="#000080">:= </font>Str<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>PROCEDURE </b></font>Destroy <font color="#000080">( </font><font color="#FF0000"><b>VAR </b></font>P <font color="#000080">: </font>POINTER <font color="#000080">);
</font><font color="#FF0000"><b>BEGIN
 </b></font>FreeMem <font color="#000080">(</font>P<font color="#000080">,</font>Mem<font color="#000080">[</font>Seg<font color="#000080">(</font>P<font color="#000080">^):</font>Ofs<font color="#000080">(</font>P<font color="#000080">^)]+</font><font color="#800000">1</font><font color="#000080">);              </font><font color="#008000"><i>{ Dispose ptr to free mem }
</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>FUNCTION </b></font>Compare<font color="#000080">( </font>Ptr1<font color="#000080">,                            </font><font color="#008000"><i>{ Compares two ptrs like }
                  </i></font>Ptr2   <font color="#000080">: </font>POINTER <font color="#000080">) : </font>Comparison<font color="#000080">; </font><font color="#008000"><i>{ strings, returning: &lt;, }
                                                   { &gt;, or =                }
</i></font><font color="#FF0000"><b>VAR </b></font>Str1<font color="#000080">,
    </font>Str2   <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
    </font>Result <font color="#000080">: </font>Comparison<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
 </b></font>Move<font color="#000080">( </font>Ptr1<font color="#000080">^, </font>Str1<font color="#000080">, </font>Mem<font color="#000080">[</font>Seg<font color="#000080">(</font>Ptr1<font color="#000080">^):</font>Ofs<font color="#000080">(</font>Ptr1<font color="#000080">^)]+</font><font color="#800000">1 </font><font color="#000080">);
 </font>Move<font color="#000080">( </font>Ptr2<font color="#000080">^, </font>Str2<font color="#000080">, </font>Mem<font color="#000080">[</font>Seg<font color="#000080">(</font>Ptr2<font color="#000080">^):</font>Ofs<font color="#000080">(</font>Ptr2<font color="#000080">^)]+</font><font color="#800000">1 </font><font color="#000080">);
 </font><font color="#FF0000"><b>IF </b></font>Str1<font color="#000080">=</font>Str2 <font color="#FF0000"><b>THEN
  </b></font>Result <font color="#000080">:= </font>Equal
 <font color="#FF0000"><b>ELSE
  IF </b></font>Str1<font color="#000080">&gt;</font>Str2 <font color="#FF0000"><b>THEN
   </b></font>Result <font color="#000080">:= </font>Greater
  <font color="#FF0000"><b>ELSE
   </b></font>Result <font color="#000080">:= </font>Less<font color="#000080">;
 </font>Compare <font color="#000080">:= </font>Result<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>PROCEDURE </b></font>Str_To_Pointer <font color="#000080">(     </font>Str <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;      </font><font color="#008000"><i>{ Converts Str to Ptr }
                           </i></font><font color="#FF0000"><b>VAR </b></font>Ptr <font color="#000080">: </font>POINTER  <font color="#000080">);

</font><font color="#FF0000"><b>BEGIN
 </b></font>GetMem<font color="#000080">(</font>Ptr<font color="#000080">,</font>Ord<font color="#000080">(</font>Str<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">])+</font><font color="#800000">1</font><font color="#000080">);
 </font>Move <font color="#000080">(</font>Str<font color="#000080">,</font>Ptr<font color="#000080">^,</font>Ord<font color="#000080">(</font>Str<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">])+</font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>PROCEDURE </b></font>PlaceWord <font color="#000080">( </font>Str <font color="#000080">: </font><font color="#FF0000"><b>STRING </b></font><font color="#000080">);  </font><font color="#008000"><i>{ Sort through binary tree, and if }
                                       { the word does not exist, add the }
</i></font><font color="#FF0000"><b>VAR </b></font>NewNode        <font color="#000080">: </font>Node<font color="#000080">;             </font><font color="#008000"><i>{ node to the binary tree          }
    </i></font>Index          <font color="#000080">: </font>WORD<font color="#000080">;
    </font>Found<font color="#000080">,
    </font>SearchFinished <font color="#000080">: </font>BOOLEAN<font color="#000080">;
    </font>Comp           <font color="#000080">: </font>Comparison<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
 </b></font>SearchFinished <font color="#000080">:= (</font>LastNode<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">);
 </font>Found <font color="#000080">:= </font>FALSE<font color="#000080">;
 </font>Index <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
 </font><font color="#FF0000"><b>WITH </b></font>NewNode <font color="#FF0000"><b>DO                        </b></font><font color="#008000"><i>{ Constructs initial full node     }
  </i></font><font color="#FF0000"><b>BEGIN
   </b></font>Left <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;                           </font><font color="#008000"><i>{ Don't know yet                   }
   </i></font>Right <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;                          </font><font color="#008000"><i>{  &quot;      &quot;   &quot;                    }
   </i></font>Parent <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;                         </font><font color="#008000"><i>{  &quot;      &quot;   &quot;                    }
   </i></font>Str_To_Pointer <font color="#000080">( </font>Str<font color="#000080">, </font>KeyWord <font color="#000080">);     </font><font color="#008000"><i>{ This should store the word in ^  }
  </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>IF </b></font>SearchFinished <font color="#FF0000"><b>THEN
  BEGIN
   </b></font>Inc<font color="#000080">(</font>LastNode<font color="#000080">);                          </font><font color="#008000"><i>{ Increase LastNode +1    }
   </i></font>New<font color="#000080">(</font>BTree<font color="#000080">[</font>LastNode<font color="#000080">]);                   </font><font color="#008000"><i>{ Create next node        }
   </i></font>BTree<font color="#000080">[</font>LastNode<font color="#000080">]^ := </font>NewNode<font color="#000080">;            </font><font color="#008000"><i>{ Store new node now      }
  </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>WHILE NOT </b></font><font color="#000080">(</font>SearchFinished <font color="#FF0000"><b>OR </b></font>Found<font color="#000080">) </font><font color="#FF0000"><b>DO
  BEGIN
   </b></font>Comp <font color="#000080">:= </font>Compare<font color="#000080">(</font>NewNode<font color="#000080">.</font>Keyword<font color="#000080">,</font>BTree<font color="#000080">[</font>Index<font color="#000080">]^.</font>KeyWord<font color="#000080">);
   </font><font color="#FF0000"><b>IF </b></font>Comp<font color="#000080">=</font>EQUAL <font color="#FF0000"><b>THEN
    </b></font>Found <font color="#000080">:= </font>TRUE
   <font color="#FF0000"><b>ELSE
    IF </b></font>Comp<font color="#000080">=</font>Less <font color="#FF0000"><b>THEN
     BEGIN
      IF </b></font>BTree<font color="#000080">[</font>Index<font color="#000080">]^.</font>Left <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN            </b></font><font color="#008000"><i>{ IF Last branch then     }
       </i></font><font color="#FF0000"><b>BEGIN                                    </b></font><font color="#008000"><i>{ .. lets make a new one  }
        </i></font>Inc<font color="#000080">(</font>LastNode<font color="#000080">);                          </font><font color="#008000"><i>{ Increase LastNode +1    }
        </i></font>New<font color="#000080">(</font>BTree<font color="#000080">[</font>LastNode<font color="#000080">]);                   </font><font color="#008000"><i>{ Create next node        }
        </i></font>BTree<font color="#000080">[</font>Index<font color="#000080">]^.</font>Left <font color="#000080">:= </font>LastNode<font color="#000080">;         </font><font color="#008000"><i>{ Point left to next node }
        </i></font>NewNode<font color="#000080">.</font>Parent <font color="#000080">:= </font>Index<font color="#000080">;                </font><font color="#008000"><i>{ Set parent to index     }
        </i></font>BTree<font color="#000080">[</font>LastNode<font color="#000080">]^ := </font>NewNode<font color="#000080">;            </font><font color="#008000"><i>{ Store new node now      }
        </i></font>SearchFinished <font color="#000080">:= </font>TRUE                  <font color="#008000"><i>{ All finished!           }
       </i></font><font color="#FF0000"><b>END
      ELSE
       </b></font>Index <font color="#000080">:= </font>BTree<font color="#000080">[</font>Index<font color="#000080">]^.</font>Left
     <font color="#FF0000"><b>END
    ELSE                                        </b></font><font color="#008000"><i>{ Must be greater then }
     </i></font><font color="#FF0000"><b>BEGIN
      IF </b></font>BTree<font color="#000080">[</font>Index<font color="#000080">]^.</font>Right <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN           </b></font><font color="#008000"><i>{ IF Last branch then..   }
       </i></font><font color="#FF0000"><b>BEGIN                                    </b></font><font color="#008000"><i>{ .. lets make a new one  }
        </i></font>Inc<font color="#000080">(</font>LastNode<font color="#000080">);                          </font><font color="#008000"><i>{ Increase LastNode +1    }
        </i></font>New<font color="#000080">(</font>BTree<font color="#000080">[</font>LastNode<font color="#000080">]);                   </font><font color="#008000"><i>{ Create next node        }
        </i></font>BTree<font color="#000080">[</font>Index<font color="#000080">]^.</font>Right <font color="#000080">:= </font>LastNode<font color="#000080">;        </font><font color="#008000"><i>{ Point left to next node }
        </i></font>NewNode<font color="#000080">.</font>Parent <font color="#000080">:= </font>Index<font color="#000080">;                </font><font color="#008000"><i>{ Set parent to index     }
        </i></font>BTree<font color="#000080">[</font>LastNode<font color="#000080">]^ := </font>NewNode<font color="#000080">;            </font><font color="#008000"><i>{ Store new node now      }
        </i></font>SearchFinished <font color="#000080">:= </font>TRUE                  <font color="#008000"><i>{ All finished!           }
       </i></font><font color="#FF0000"><b>END
      ELSE
       </b></font>Index <font color="#000080">:= </font>BTree<font color="#000080">[</font>Index<font color="#000080">]^.</font>Right
     <font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Init<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
 </b></font>LastNode <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>PROCEDURE </b></font>DisposeAll<font color="#000080">;

</font><font color="#FF0000"><b>VAR </b></font>Counter <font color="#000080">: </font>WORD<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
 FOR </b></font>Counter <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>LastNode <font color="#FF0000"><b>DO
  BEGIN
   </b></font>Destroy<font color="#000080">(</font>BTree<font color="#000080">[</font>Counter<font color="#000080">]^.</font>KeyWord<font color="#000080">);
   </font>Dispose<font color="#000080">(</font>BTree<font color="#000080">[</font>Counter<font color="#000080">]);
  </font><font color="#FF0000"><b>END
END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>BEGIN
 </b></font>ClrScr<font color="#000080">;
 </font>StartMem <font color="#000080">:= </font>MemAvail<font color="#000080">;
 </font>Init<font color="#000080">;
 </font><font color="#FF0000"><b>REPEAT
  </b></font>Write <font color="#000080">(</font><font color="#800000">'Insert new word [&quot;stop&quot; to finish] : '</font><font color="#000080">);
  </font>Readln <font color="#000080">(</font>NewWord<font color="#000080">);
  </font><font color="#FF0000"><b>IF </b></font>NewWord <font color="#000080">&lt;&gt; </font><font color="#800000">'stop' </font><font color="#FF0000"><b>THEN
   </b></font>PlaceWord <font color="#000080">( </font>NewWord <font color="#000080">);
 </font><font color="#FF0000"><b>UNTIL </b></font>NewWord<font color="#000080">=</font><font color="#800000">'stop'</font><font color="#000080">;
 </font>Writeln<font color="#000080">;
 </font>Writeln <font color="#000080">(</font><font color="#800000">'  Node    Left     Parent     Right      Word'</font><font color="#000080">);
 </font>Writeln <font color="#000080">(</font><font color="#800000">'-----------------------------------------------'</font><font color="#000080">);
 </font><font color="#FF0000"><b>FOR </b></font>Counter <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>LastNode <font color="#FF0000"><b>DO
  WITH </b></font>BTree<font color="#000080">[</font>Counter<font color="#000080">]^ </font><font color="#FF0000"><b>DO
   </b></font>Writeln <font color="#000080">(</font>Counter<font color="#000080">:</font><font color="#800000">5</font><font color="#000080">,</font>Left<font color="#000080">:</font><font color="#800000">8</font><font color="#000080">,</font>Parent<font color="#000080">:</font><font color="#800000">11</font><font color="#000080">,</font>Right<font color="#000080">:</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">'       '</font><font color="#000080">,</font>PtrStr<font color="#000080">(</font>KeyWord<font color="#000080">));
 </font>Writeln<font color="#000080">;
 </font>Writeln <font color="#000080">(</font><font color="#800000">'Initial memory availible        : '</font><font color="#000080">,</font>StartMem<font color="#000080">);
 </font>Writeln <font color="#000080">(</font><font color="#800000">'Memory availible before dispose : '</font><font color="#000080">,</font>MemAvail<font color="#000080">);
 </font>DisposeAll<font color="#000080">;
 </font>Writeln <font color="#000080">(</font><font color="#800000">'Memory availible after clean-up : '</font><font color="#000080">,</font>MemAvail<font color="#000080">);
 </font>Readln<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to POINTERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0028.PAS">Original</a><b>]</b></p></body>
</html>
