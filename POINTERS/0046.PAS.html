<html>
<head><title> "Binary Tree module" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to POINTERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0046.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>Unit </b></font>Tree<font color="#000080">; </font><font color="#008000"><i>{ see test program at the end !! }

(***************************************************************************)
(*   Unit Name: Tree                                                       *)
(*                                                                         *)
(*   Description:   This unit implements a tree based data structure using *)
(*   pointers to connect the nodes.  Each node of the tree consists of     *)
(*   pointers to its parent, brother, and son.  In addition each node      *)
(*   contains a label field.  The following functions are used and         *)
(*   documented:                                                           *)
(*                   NewTree : tree                                        *)
(*                   AddTreeNode(node,label)                               *)
(*                   DeleteTreeNode(node)                                  *)
(*                   Parent(node):node                                     *)
(*                   FirstChild(node):node                                 *)
(*                   NextSibling(node):node                                *)
(*                   PrintTree(tree)                                       *)
(*                                                                         *)
(***************************************************************************)

</i></font><font color="#FF0000"><b>Interface

type </b></font>TreeNode <font color="#000080">= ^</font>TreePointer<font color="#000080">;
     </font>TreePointer <font color="#000080">= </font><font color="#FF0000"><b>record
           </b></font>Name<font color="#000080">: </font>char<font color="#000080">;
           </font>Parent<font color="#000080">,
           </font>Brother<font color="#000080">,
           </font>Son<font color="#000080">: </font>TreeNode<font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Function </b></font>NewTree<font color="#000080">( </font>Name <font color="#000080">: </font>char <font color="#000080">) : </font>TreeNode<font color="#000080">;
</font><font color="#FF0000"><b>Function </b></font>Root<font color="#000080">( </font>Tree <font color="#000080">: </font>TreeNode <font color="#000080">) : </font>TreeNode<font color="#000080">;
</font><font color="#FF0000"><b>Function </b></font>Parent<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode <font color="#000080">) : </font>TreeNode<font color="#000080">;
</font><font color="#FF0000"><b>Function </b></font>NextSibling<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode <font color="#000080">) : </font>TreeNode<font color="#000080">;
</font><font color="#FF0000"><b>Function </b></font>FirstChild<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode <font color="#000080">) : </font>TreeNode<font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>AddTreeNode<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode<font color="#000080">; </font>Name<font color="#000080">: </font>char <font color="#000080">);
</font><font color="#FF0000"><b>Procedure </b></font>DeleteTreeNode<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode <font color="#000080">);
</font><font color="#FF0000"><b>Procedure </b></font>PrintTree<font color="#000080">( </font>Tree <font color="#000080">: </font>TreeNode <font color="#000080">);


</font><font color="#FF0000"><b>Implementation

</b></font><font color="#008000"><i>(***************************************************************************)
(*    Name: NewTree                                                        *)
(*                                                                         *)
(*    Purpose:  This function creates a new empty tree                     *)
(*    Input:   None                                                        *)
(*    Ouput:   Pointer to new tree                                         *)
(***************************************************************************)

</i></font><font color="#FF0000"><b>Function </b></font>NewTree<font color="#000080">( </font>Name <font color="#000080">: </font>char <font color="#000080">) : </font>TreeNode<font color="#000080">;

</font><font color="#FF0000"><b>var </b></font>Root <font color="#000080">: </font>TreeNode<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>New<font color="#000080">(</font>root<font color="#000080">);
   </font>Root<font color="#000080">^.</font>Name <font color="#000080">:= </font>Name<font color="#000080">;
   </font>Root<font color="#000080">^.</font>Parent <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
   </font>Root<font color="#000080">^.</font>Brother <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
   </font>Root<font color="#000080">^.</font>Son <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
   </font>NewTree <font color="#000080">:= </font>Root
<font color="#FF0000"><b>end</b></font><font color="#000080">;



</font><font color="#008000"><i>(***************************************************************************)
(*   Name: Root                                                            *)
(*                                                                         *)
(*   Purpose: Returns the root of the given tree                           *)
(*   Input: Tree - pointer of the first node of tree                       *)
(*   Output: pointer to the first nodee of the tree (I.E. the root)        *)
(***************************************************************************)

</i></font><font color="#FF0000"><b>Function </b></font>Root<font color="#000080">( </font>Tree <font color="#000080">: </font>TreeNode <font color="#000080">) : </font>TreeNode<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>Root <font color="#000080">:= </font>Tree<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;



</font><font color="#008000"><i>(***************************************************************************)
(*   Name: AddTreeNode                                                     *)
(*                                                                         *)
(*   Purpose: This function creates a new tree node with the given value   *)
(*            as a son of the given node                                   *)
(*   Input: Parent of node to be inserted                                  *)
(*          Value for new node                                             *)
(*   Output: Pointer to the new node                                       *)
(***************************************************************************)

</i></font><font color="#FF0000"><b>Procedure </b></font>AddTreeNode<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode<font color="#000080">; </font>Name<font color="#000080">: </font>char <font color="#000080">);

</font><font color="#FF0000"><b>var </b></font>NewNode<font color="#000080">: </font>TreeNode<font color="#000080">;

</font><font color="#FF0000"><b>begin
   if </b></font>Node <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>nil
      then begin
              </b></font>New<font color="#000080">(</font>NewNode<font color="#000080">);
              </font>NewNode<font color="#000080">^.</font>Name <font color="#000080">:= </font>Name<font color="#000080">;
              </font>NewNode<font color="#000080">^.</font>Parent <font color="#000080">:= </font>Node<font color="#000080">;
              </font>NewNode<font color="#000080">^.</font>Brother <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
              </font>NewNode<font color="#000080">^.</font>Son <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
              </font><font color="#FF0000"><b>if </b></font>Node<font color="#000080">^.</font>Son <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>nil
                 then begin
                         </b></font>Node <font color="#000080">:= </font>Node<font color="#000080">^.</font>Son<font color="#000080">;
                         </font><font color="#FF0000"><b>while </b></font>Node<font color="#000080">^.</font>Brother <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>nil do
                            </b></font>Node <font color="#000080">:= </font>Node<font color="#000080">^.</font>Brother<font color="#000080">;
                         </font>Node<font color="#000080">^.</font>Brother <font color="#000080">:= </font>NewNode
                      <font color="#FF0000"><b>end
                 else </b></font>Node<font color="#000080">^.</font>Son <font color="#000080">:= </font>NewNode
           <font color="#FF0000"><b>end
      else </b></font>writeln<font color="#000080">(</font><font color="#800000">'AddTreeNode Error --- Given node does not exist ---'</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;



</font><font color="#008000"><i>(***************************************************************************)
(*   Name: Parent                                                          *)
(*                                                                         *)
(*   Purpose: Returns the parent of the given node if it exists otherwise  *)
(*            it returns a nil pointer.                                    *)
(*   Input: Pointer to given node                                          *)
(*   Output: Pointer to parent of given node                               *)
(***************************************************************************)

</i></font><font color="#FF0000"><b>Function </b></font>Parent<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode <font color="#000080">) : </font>TreeNode<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>Parent <font color="#000080">:= </font>Node<font color="#000080">^.</font>Parent
<font color="#FF0000"><b>end</b></font><font color="#000080">;



</font><font color="#008000"><i>(***************************************************************************)
(*   Name: FirstChild                                                      *)
(*                                                                         *)
(*   Purpose: Returns pointer to left most child of given node if it       *)
(*            exists otherwise returns nil                                 *)
(*   Input: Pointer to given node                                          *)
(*   Output: Pointer to firstchild of given node                           *)
(***************************************************************************)

</i></font><font color="#FF0000"><b>Function </b></font>FirstChild<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode <font color="#000080">) : </font>TreeNode<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>FirstChild <font color="#000080">:= </font>Node<font color="#000080">^.</font>Son
<font color="#FF0000"><b>end</b></font><font color="#000080">;



</font><font color="#008000"><i>(***************************************************************************)
(*   Name: NextSibling                                                     *)
(*                                                                         *)
(*   Purpose: Returns pointer to the first sibling of the given node if it *)
(*            otherwise it returns nil                                     *)
(*   Input: Pointer to given node                                          *)
(*   Output: Pointer to first sibling                                      *)
(***************************************************************************)

</i></font><font color="#FF0000"><b>Function </b></font>NextSibling<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode <font color="#000080">) : </font>TreeNode<font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>NextSibling <font color="#000080">:= </font>Node<font color="#000080">^.</font>Brother
<font color="#FF0000"><b>end</b></font><font color="#000080">;



</font><font color="#008000"><i>(***************************************************************************)
(*   Name: DeleteTreeNode                                                  *)
(*                                                                         *)
(*   Purpose: Removes a leaf node from the tree                            *)
(*   Input: Pointer to node to be deleted                                  *)
(*   Output: None                                                          *)
(***************************************************************************)

</i></font><font color="#FF0000"><b>Procedure </b></font>DeleteTreeNode<font color="#000080">( </font>Node<font color="#000080">: </font>TreeNode <font color="#000080">);

</font><font color="#FF0000"><b>var </b></font>N<font color="#000080">,</font>M<font color="#000080">: </font>TreeNode<font color="#000080">;

</font><font color="#FF0000"><b>begin
   if </b></font>Node <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>nil
      then if </b></font>Node<font color="#000080">^.</font>Son <font color="#000080">= </font><font color="#FF0000"><b>nil
              then begin
                      </b></font>N <font color="#000080">:= </font>Node<font color="#000080">^.</font>Parent<font color="#000080">;
                      </font><font color="#FF0000"><b>if </b></font>N<font color="#000080">^.</font>Son <font color="#000080">= </font>Node
                         <font color="#FF0000"><b>then if </b></font>Node<font color="#000080">^.</font>Brother <font color="#000080">= </font><font color="#FF0000"><b>nil
                                then </b></font>N<font color="#000080">^.</font>Son <font color="#000080">:= </font><font color="#FF0000"><b>nil
                                else </b></font>N<font color="#000080">^.</font>Son <font color="#000080">:= </font>Node<font color="#000080">^.</font>Brother
                         <font color="#FF0000"><b>else begin
                                 </b></font>N <font color="#000080">:= </font>N<font color="#000080">^.</font>Son<font color="#000080">;
                                 </font><font color="#FF0000"><b>while </b></font>N<font color="#000080">^.</font>Brother <font color="#000080">&lt;&gt; </font>Node <font color="#FF0000"><b>do
                                    </b></font>N <font color="#000080">:= </font>N<font color="#000080">^.</font>Brother<font color="#000080">;
                                 </font>M <font color="#000080">:= </font>N<font color="#000080">^.</font>Brother<font color="#000080">;
                                 </font>N<font color="#000080">^.</font>Brother <font color="#000080">:= </font>M<font color="#000080">^.</font>Brother
                              <font color="#FF0000"><b>end
                   end
end</b></font><font color="#000080">;




</font><font color="#008000"><i>(***************************************************************************)
(*   Name: PrintTree                                                       *)
(*                                                                         *)
(*   Purpose:  To print a preorder traversal of the given tree             *)
(*   Uses: Level - depth in tree                                               *)
(*   Input: Pointer to root of tree                                        *)
(*   Output: Printout of tree in preorder                                  *)
(***************************************************************************)

</i></font><font color="#FF0000"><b>Procedure </b></font>PrintTree<font color="#000080">( </font>Tree <font color="#000080">: </font>TreeNode <font color="#000080">);

</font><font color="#FF0000"><b>var </b></font>Level<font color="#000080">: </font>integer<font color="#000080">;



   </font><font color="#008000"><i>(************************************************************************)
   (*   Name: Traverse                                                     *)
   (*                                                                      *)
   (*   Purpose: a recursive procedure that prints the tree in preorder    *)
   (*   Input: Level - how far to indent data output                       *)
   (*          Node - Node to traverse                                     *)
   (*   Output: Node data                                                  *)
   (************************************************************************)

   </i></font><font color="#FF0000"><b>Procedure </b></font>Traverse<font color="#000080">( </font>Node <font color="#000080">: </font>TreeNode<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>Level <font color="#000080">: </font>integer <font color="#000080">);

   </font><font color="#FF0000"><b>var </b></font>Loop <font color="#000080">: </font>integer<font color="#000080">;

   </font><font color="#FF0000"><b>begin
      if </b></font>Node <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>nil
         then with </b></font>Node<font color="#000080">^ </font><font color="#FF0000"><b>do
                 begin
                    for </b></font>Loop <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Level <font color="#FF0000"><b>do
                        </b></font>write<font color="#000080">(</font><font color="#800000">'  '</font><font color="#000080">);
                    </font>writeln<font color="#000080">( </font>Name <font color="#000080">);
                    </font>inc<font color="#000080">( </font>Level <font color="#000080">);
                    </font>Traverse<font color="#000080">( </font>Son<font color="#000080">,</font>Level <font color="#000080">);
                    </font>dec<font color="#000080">( </font>Level <font color="#000080">);
                    </font>Traverse<font color="#000080">( </font>Brother<font color="#000080">,</font>Level <font color="#000080">);
                 </font><font color="#FF0000"><b>end
   end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
   </b></font>Level <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
   </font>writeln<font color="#000080">(</font><font color="#800000">'      Level'</font><font color="#000080">);
   </font>writeln<font color="#000080">(</font><font color="#800000">'0 1 2 3 4 5 6 7 8'</font><font color="#000080">);
   </font>writeln<font color="#000080">(</font><font color="#800000">'&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;'</font><font color="#000080">);
   </font>Traverse<font color="#000080">( </font>Tree<font color="#000080">,</font>Level <font color="#000080">)
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#FF0000"><b>Program </b></font>testtree<font color="#000080">;

</font><font color="#FF0000"><b>uses </b></font>tree<font color="#000080">,</font>crt<font color="#000080">;

</font><font color="#FF0000"><b>var </b></font>root <font color="#000080">: </font>t<font color="#000080">;
    </font>n<font color="#000080">,</font>m<font color="#000080">: </font>TreePointer<font color="#000080">;
    </font>x<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>Begin
   </b></font>x<font color="#000080">:=</font><font color="#800000">999</font><font color="#000080">;
   </font>root<font color="#000080">:=</font>NewTree<font color="#000080">(</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">123</font><font color="#000080">;
   </font>AddTreeNode<font color="#000080">(</font>root<font color="#000080">^,</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">456</font><font color="#000080">;
   </font>AddtreeNode<font color="#000080">(</font>root<font color="#000080">^,</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">567</font><font color="#000080">;
   </font>AddtreeNode<font color="#000080">(</font>root<font color="#000080">^,</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">765</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>Firstchild<font color="#000080">(</font>root<font color="#000080">^),</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">678</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>Firstchild<font color="#000080">(</font>root<font color="#000080">^),</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">159</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>Firstchild<font color="#000080">(</font>Firstchild<font color="#000080">(</font>root<font color="#000080">^)),</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">259</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>Firstchild<font color="#000080">(</font>Firstchild<font color="#000080">(</font>root<font color="#000080">^)),</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">359</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>Firstchild<font color="#000080">(</font>Firstchild<font color="#000080">(</font>root<font color="#000080">^)),</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">169</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>Firstchild<font color="#000080">(</font>Firstchild<font color="#000080">(</font>root<font color="#000080">^))^.</font>brother<font color="#000080">,</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">269</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>Firstchild<font color="#000080">(</font>Firstchild<font color="#000080">(</font>root<font color="#000080">^))^.</font>brother<font color="#000080">,</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">369</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>Firstchild<font color="#000080">(</font>Firstchild<font color="#000080">(</font>root<font color="#000080">^))^.</font>brother<font color="#000080">,</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">789</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>Firstchild<font color="#000080">(</font>root<font color="#000080">^),</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">888</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>firstchild<font color="#000080">(</font>root<font color="#000080">^)^.</font>brother<font color="#000080">,</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">777</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>firstchild<font color="#000080">(</font>root<font color="#000080">^)^.</font>brother<font color="#000080">,</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">555</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>firstchild<font color="#000080">(</font>root<font color="#000080">^)^.</font>brother<font color="#000080">^.</font>brother<font color="#000080">,</font>x<font color="#000080">);
   </font>x<font color="#000080">:=</font><font color="#800000">444</font><font color="#000080">;
   </font>addtreenode<font color="#000080">(</font>firstchild<font color="#000080">(</font>root<font color="#000080">^)^.</font>brother<font color="#000080">^.</font>brother<font color="#000080">,</font>x<font color="#000080">);
   </font>clrscr<font color="#000080">;
   </font>writeln<font color="#000080">(</font><font color="#800000">'Tree:'</font><font color="#000080">);
   </font>printtree<font color="#000080">(</font>root<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to POINTERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0046.PAS">Original</a><b>]</b></p></body>
</html>
