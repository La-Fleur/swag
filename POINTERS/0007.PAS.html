<html>
<head><title> "PTRARRAY.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to POINTERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">DS<font color="#000080">&gt; </font>Hi<font color="#000080">, </font>I<font color="#800000">'ve recently encountered a problem With not having enough memory
</font>DS<font color="#000080">&gt; </font><font color="#FF0000"><b>to </b></font>open a large sized <font color="#FF0000"><b>Array </b></font><font color="#000080">[</font>ie<font color="#000080">: </font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">900</font><font color="#000080">].  </font><font color="#FF0000"><b>Is </b></font>there any way <font color="#FF0000"><b>to
</b></font>DS<font color="#000080">&gt; </font>allocate more memory <font color="#FF0000"><b>to </b></font>the <font color="#FF0000"><b>Array as to </b></font>make larger Arrays

<font color="#FF0000"><b>Array of </b></font>what<font color="#000080">?  </font><font color="#FF0000"><b>if </b></font>the total size <font color="#FF0000"><b>of </b></font>the <font color="#FF0000"><b>Array </b></font><font color="#000080">(</font>i<font color="#000080">.</font>e<font color="#000080">. </font><font color="#800000">901 </font><font color="#000080">*
</font>sizeof<font color="#000080">(</font>whatever_it_is_you<font color="#800000">'re_talking_about)) is less than 64K, it'</font>s a snap<font color="#000080">.
</font>Read your dox <font color="#FF0000"><b>on </b></font>Pointers <font color="#FF0000"><b>and </b></font>the heap<font color="#000080">.  </font>You<font color="#800000">'ll end up doing something like
</font>this<font color="#000080">:

</font><font color="#FF0000"><b>Type
  </b></font>tWhatever <font color="#000080">: </font>whatever_it_is_you<font color="#800000">'re_talking_about;
  </font>tMyArray <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">900</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>tWhatever<font color="#000080">;
  </font>tPMyArray <font color="#000080">: ^</font>MyArray<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>PMyArray <font color="#000080">: </font>tPMyArray<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>getmem<font color="#000080">(</font>PMyArray<font color="#000080">,</font>sizeof<font color="#000080">(</font>tMyArray<font color="#000080">));

  </font><font color="#008000"><i>{ now access your Array like this:
    PMyArray^[IndexNo] }

</i></font><font color="#FF0000"><b>if </b></font>your <font color="#FF0000"><b>Array is </b></font><font color="#000080">&gt;</font><font color="#800000">64</font>K<font color="#000080">, </font>you can <font color="#FF0000"><b>do </b></font>something like this<font color="#000080">:

</font><font color="#FF0000"><b>Type
  </b></font>tWhatever <font color="#000080">: </font>whatever_it_is_you<font color="#800000">'re_talking_about;
  </font>tPWhatever <font color="#000080">: ^</font>tWhatever<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>MyArray <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">900</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>tPWhatever<font color="#000080">;
  </font>i <font color="#000080">: </font>Word<font color="#000080">;

</font><font color="#FF0000"><b>begin
  For </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">900 </font><font color="#FF0000"><b>do
    </b></font>getmem<font color="#000080">(</font>MyArray<font color="#000080">[</font>i<font color="#000080">],</font>sizeof<font color="#000080">(</font>tWhatever<font color="#000080">));

  </font><font color="#008000"><i>{ now access your Array like this:
    MyArray[IndexNo]^ }

</i></font><font color="#FF0000"><b>if </b></font>you don<font color="#800000">'t have enough room left in your data segment to use this latter
</font>approach <font color="#000080">(</font><font color="#FF0000"><b>and </b></font>I<font color="#800000">'ll bet you do), you'</font>ll just need one more level <font color="#FF0000"><b>of </b></font>indirection<font color="#000080">.
</font>Declare one Pointer <font color="#FF0000"><b>in </b></font>the data segment that points <font color="#FF0000"><b>to </b></font>the <font color="#FF0000"><b>Array of </b></font>Pointers <font color="#FF0000"><b>on
</b></font>the heap<font color="#000080">, </font>which <font color="#FF0000"><b>in </b></font>turn point <font color="#FF0000"><b>to </b></font>your data<font color="#000080">.

</font><font color="#FF0000"><b>if </b></font>you<font color="#800000">'re a beginner, this may seem impossibly Complex (it did to me), but keep
</font>at it <font color="#FF0000"><b>and </b></font>it will soon be second nature<font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to POINTERS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p></body>
</html>
