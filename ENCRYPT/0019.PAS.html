<html>
<head><title> "Encryption Routine" by ERIC MILLER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to ENCRYPT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
 JM&gt; FUNCTION ConvertTxt (S : String) : String;
 JM&gt; Var X : Byte;
 JM&gt; Begin
 JM&gt;   ConvertTxt[0] := S[0];
 JM&gt;   For X := 1 to Length(S) do
 JM&gt;     ConvertTxt[X] := Chr(Ord(S[X]) XOR (Random(128) or 128));
 JM&gt; End;
 JM&gt; To encrypt a string, you just call ConvertTxt(string). Call
 JM&gt; the function again, with the same parameters to decrypt.
 JM&gt; Anyone have anything better, or have any suggestions?

  Here is basically the same function again.  However note the
  RandSeed assignment - RandSeed is set to the length of the
  string before a string is processed.  Since the length of
  the string never changes, you can randomly pick any string
  and be able to decrypt it.  RandSeed is used to make Random
  return a specific sequence of psuedo-random numbers, and
  this encryption method relies on the same sequence in order
  for it to decrypt.
 }

  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>EnDecrypt<font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
  </font><font color="#FF0000"><b>VAR
    </b></font>X<font color="#000080">: </font>Byte<font color="#000080">;
  </font><font color="#FF0000"><b>BEGIN
    </b></font>RandSeed <font color="#000080">:= </font>Length<font color="#000080">(</font>S<font color="#000080">);
    </font><font color="#FF0000"><b>FOR </b></font>X <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>Length<font color="#000080">(</font>S<font color="#000080">) </font><font color="#FF0000"><b>DO
      </b></font>S<font color="#000080">[</font>X<font color="#000080">] := </font>Chr<font color="#000080">(</font>Ord<font color="#000080">(</font>S<font color="#000080">[</font>X<font color="#000080">]) </font><font color="#FF0000"><b>XOR </b></font><font color="#000080">(</font>Random<font color="#000080">(</font><font color="#800000">128</font><font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#800000">128</font><font color="#000080">));
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>VAR
    </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>BEGIN
    </b></font>Write<font color="#000080">(</font><font color="#800000">'Enter a string: '</font><font color="#000080">);
    </font>Readln<font color="#000080">(</font>S<font color="#000080">);
    </font>EnDecrypt<font color="#000080">(</font>S<font color="#000080">);
    </font>WriteLn<font color="#000080">;
    </font>WriteLn<font color="#000080">;
    </font>Writeln<font color="#000080">(</font><font color="#800000">'The encrypted string is '</font><font color="#000080">, </font>S<font color="#000080">);
    </font>EnDecrypt<font color="#000080">(</font>S<font color="#000080">);
    </font>WriteLn<font color="#000080">;
    </font>WriteLn<font color="#000080">;
    </font>Writeln<font color="#000080">(</font><font color="#800000">'The decrypted string is '</font><font color="#000080">, </font>S<font color="#000080">);
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to ENCRYPT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p></body>
</html>
