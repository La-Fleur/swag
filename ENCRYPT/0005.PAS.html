<html>
<head><title> "ENCRYPT2.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to ENCRYPT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0005.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{The following very simple routine will encrypt and decrypt a Text File a line
at a time.  The CR/LF is left unencrypted and the algorithm ensures that no
encrypted Character can be &lt; asciiz 127 *provided that* the Text For encrypting
has no hi-bit Characters.

Obviously this is just a skeleten example (untested) With no error checking but
it should demonstrate what you need to do. After encrypting Text just reverse
the parameters and run the Program again to decrypt the encrypted Text.
}
</i></font><font color="#FF0000"><b>Program </b></font>encrypt_Text<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>inText<font color="#000080">,
  </font>outText  <font color="#000080">: </font>Text<font color="#000080">;
  </font>st       <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>ConvertTxt<font color="#000080">(</font>s<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Var </b></font>x <font color="#000080">: </font>Byte<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>ConvertTxt<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font>s<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">];
    </font><font color="#FF0000"><b>For </b></font>x <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>length<font color="#000080">(</font>s<font color="#000080">) </font><font color="#FF0000"><b>do
      </b></font>ConvertTxt<font color="#000080">[</font>x<font color="#000080">] := </font>chr<font color="#000080">(</font>ord<font color="#000080">(</font>s<font color="#000080">[</font>x<font color="#000080">]) </font><font color="#FF0000"><b>xor </b></font><font color="#000080">(</font>Random<font color="#000080">(</font><font color="#800000">128</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#800000">128</font><font color="#000080">));
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;  </font><font color="#008000"><i>{ ConvertTxt }

</i></font><font color="#FF0000"><b>begin
  </b></font>RandSeed  <font color="#000080">:= </font><font color="#800000">1234567</font><font color="#000080">;</font><font color="#008000"><i>{ set to whatever value you wish - this is your &quot;key&quot; }
  </i></font>assign<font color="#000080">(</font>inText<font color="#000080">,</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">));
  </font>reset<font color="#000080">(</font>inText<font color="#000080">);
  </font>assign<font color="#000080">(</font>outText<font color="#000080">,</font>ParamStr<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">));
  </font>reWrite<font color="#000080">(</font>outText<font color="#000080">);
  </font><font color="#FF0000"><b>While not </b></font>eof<font color="#000080">(</font>inText<font color="#000080">) </font><font color="#FF0000"><b>do begin
    </b></font>readln<font color="#000080">(</font>inText<font color="#000080">,</font>st<font color="#000080">);
    </font>Writeln<font color="#000080">(</font>outText<font color="#000080">,</font>ConvertTxt<font color="#000080">(</font>st<font color="#000080">));
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>close<font color="#000080">(</font>inText<font color="#000080">);
  </font>close<font color="#000080">(</font>outText<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to ENCRYPT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0005.PAS">Original</a><b>]</b></p></body>
</html>
