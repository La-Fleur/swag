<html>
<head><title> "Normalize CRC Calculation" by DAVID DUNSON</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to CRC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0016.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{
From what I gather from these two routines, in order to &quot;Normalize&quot; a crc
value, you must reverse the order of the four bytes in the value.

Example: crc value =  $01020304
         normalized = $04030201

Am I correct in assuming this?

If so, the two procedures above fail to perform that task, so here is a BASM
routine that I have tested and works perfectly.
}

</i></font><font color="#FF0000"><b>Procedure </b></font>Normalize<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>crc<font color="#000080">: </font>LongInt<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
     </b></font><font color="#FF00FF">LES   DI, crc
     MOV   AX, WORD PTR ES:[DI]
     MOV   BX, WORD PTR ES:[DI + 2]
     XCHG  AH, AL
     XCHG  BH, BL
     MOV   WORD PTR ES:[DI + 2], AX
     MOV   WORD PTR ES:[DI], BX
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font>Please <font color="#FF0000"><b>forward </b></font>a copy <font color="#FF0000"><b>of </b></font>your response <font color="#FF0000"><b>to </b></font>Serge Paquin who wrote the original
request <font color="#FF0000"><b>for </b></font>CRC routines<font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to CRC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0016.PAS">Original</a><b>]</b></p></body>
</html>
