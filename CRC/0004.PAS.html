<html>
<head><title> "Another 16Bit CRC" by J.R. LOUVAU</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to CRC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0004.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>Unit </b></font>Crc16<font color="#000080">;
</font><font color="#FF0000"><b>Interface
</b></font><font color="#008000"><i>{ Note: Your crc Variable must be initialized to 0, before       }
{       using tis routine.                                       }
{ Translated to Turbo Pascal (tm) V4.0 March, 1988 by J.R.Louvau }
{                                                                }
</i></font><font color="#FF0000"><b>Function </b></font>UpdCrc<font color="#000080">(</font>cp<font color="#000080">: </font>Byte<font color="#000080">; </font>crc<font color="#000080">: </font>Word<font color="#000080">): </font>Word<font color="#000080">;

</font><font color="#FF0000"><b>Implementation

</b></font><font color="#008000"><i>(* crctab calculated by Mark G. Mendel, Network Systems Corporation *)
</i></font><font color="#FF0000"><b>Const </b></font>crctab <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Word <font color="#000080">= (
    </font><font color="#800000">$0000</font><font color="#000080">,  </font><font color="#800000">$1021</font><font color="#000080">,  </font><font color="#800000">$2042</font><font color="#000080">,  </font><font color="#800000">$3063</font><font color="#000080">,  </font><font color="#800000">$4084</font><font color="#000080">,  </font><font color="#800000">$50a5</font><font color="#000080">,  </font><font color="#800000">$60c6</font><font color="#000080">,  </font><font color="#800000">$70e7</font><font color="#000080">,
    </font><font color="#800000">$8108</font><font color="#000080">,  </font><font color="#800000">$9129</font><font color="#000080">,  </font><font color="#800000">$a14a</font><font color="#000080">,  </font><font color="#800000">$b16b</font><font color="#000080">,  </font><font color="#800000">$c18c</font><font color="#000080">,  </font><font color="#800000">$d1ad</font><font color="#000080">,  </font><font color="#800000">$e1ce</font><font color="#000080">,  </font><font color="#800000">$f1ef</font><font color="#000080">,
    </font><font color="#800000">$1231</font><font color="#000080">,  </font><font color="#800000">$0210</font><font color="#000080">,  </font><font color="#800000">$3273</font><font color="#000080">,  </font><font color="#800000">$2252</font><font color="#000080">,  </font><font color="#800000">$52b5</font><font color="#000080">,  </font><font color="#800000">$4294</font><font color="#000080">,  </font><font color="#800000">$72f7</font><font color="#000080">,  </font><font color="#800000">$62d6</font><font color="#000080">,
    </font><font color="#800000">$9339</font><font color="#000080">,  </font><font color="#800000">$8318</font><font color="#000080">,  </font><font color="#800000">$b37b</font><font color="#000080">,  </font><font color="#800000">$a35a</font><font color="#000080">,  </font><font color="#800000">$d3bd</font><font color="#000080">,  </font><font color="#800000">$c39c</font><font color="#000080">,  </font><font color="#800000">$f3ff</font><font color="#000080">,  </font><font color="#800000">$e3de</font><font color="#000080">,
    </font><font color="#800000">$2462</font><font color="#000080">,  </font><font color="#800000">$3443</font><font color="#000080">,  </font><font color="#800000">$0420</font><font color="#000080">,  </font><font color="#800000">$1401</font><font color="#000080">,  </font><font color="#800000">$64e6</font><font color="#000080">,  </font><font color="#800000">$74c7</font><font color="#000080">,  </font><font color="#800000">$44a4</font><font color="#000080">,  </font><font color="#800000">$5485</font><font color="#000080">,
    </font><font color="#800000">$a56a</font><font color="#000080">,  </font><font color="#800000">$b54b</font><font color="#000080">,  </font><font color="#800000">$8528</font><font color="#000080">,  </font><font color="#800000">$9509</font><font color="#000080">,  </font><font color="#800000">$e5ee</font><font color="#000080">,  </font><font color="#800000">$f5cf</font><font color="#000080">,  </font><font color="#800000">$c5ac</font><font color="#000080">,  </font><font color="#800000">$d58d</font><font color="#000080">,
    </font><font color="#800000">$3653</font><font color="#000080">,  </font><font color="#800000">$2672</font><font color="#000080">,  </font><font color="#800000">$1611</font><font color="#000080">,  </font><font color="#800000">$0630</font><font color="#000080">,  </font><font color="#800000">$76d7</font><font color="#000080">,  </font><font color="#800000">$66f6</font><font color="#000080">,  </font><font color="#800000">$5695</font><font color="#000080">,  </font><font color="#800000">$46b4</font><font color="#000080">,
    </font><font color="#800000">$b75b</font><font color="#000080">,  </font><font color="#800000">$a77a</font><font color="#000080">,  </font><font color="#800000">$9719</font><font color="#000080">,  </font><font color="#800000">$8738</font><font color="#000080">,  </font><font color="#800000">$f7df</font><font color="#000080">,  </font><font color="#800000">$e7fe</font><font color="#000080">,  </font><font color="#800000">$d79d</font><font color="#000080">,  </font><font color="#800000">$c7bc</font><font color="#000080">,
    </font><font color="#800000">$48c4</font><font color="#000080">,  </font><font color="#800000">$58e5</font><font color="#000080">,  </font><font color="#800000">$6886</font><font color="#000080">,  </font><font color="#800000">$78a7</font><font color="#000080">,  </font><font color="#800000">$0840</font><font color="#000080">,  </font><font color="#800000">$1861</font><font color="#000080">,  </font><font color="#800000">$2802</font><font color="#000080">,  </font><font color="#800000">$3823</font><font color="#000080">,
    </font><font color="#800000">$c9cc</font><font color="#000080">,  </font><font color="#800000">$d9ed</font><font color="#000080">,  </font><font color="#800000">$e98e</font><font color="#000080">,  </font><font color="#800000">$f9af</font><font color="#000080">,  </font><font color="#800000">$8948</font><font color="#000080">,  </font><font color="#800000">$9969</font><font color="#000080">,  </font><font color="#800000">$a90a</font><font color="#000080">,  </font><font color="#800000">$b92b</font><font color="#000080">,
    </font><font color="#800000">$5af5</font><font color="#000080">,  </font><font color="#800000">$4ad4</font><font color="#000080">,  </font><font color="#800000">$7ab7</font><font color="#000080">,  </font><font color="#800000">$6a96</font><font color="#000080">,  </font><font color="#800000">$1a71</font><font color="#000080">,  </font><font color="#800000">$0a50</font><font color="#000080">,  </font><font color="#800000">$3a33</font><font color="#000080">,  </font><font color="#800000">$2a12</font><font color="#000080">,
    </font><font color="#800000">$dbfd</font><font color="#000080">,  </font><font color="#800000">$cbdc</font><font color="#000080">,  </font><font color="#800000">$fbbf</font><font color="#000080">,  </font><font color="#800000">$eb9e</font><font color="#000080">,  </font><font color="#800000">$9b79</font><font color="#000080">,  </font><font color="#800000">$8b58</font><font color="#000080">,  </font><font color="#800000">$bb3b</font><font color="#000080">,  </font><font color="#800000">$ab1a</font><font color="#000080">,
    </font><font color="#800000">$6ca6</font><font color="#000080">,  </font><font color="#800000">$7c87</font><font color="#000080">,  </font><font color="#800000">$4ce4</font><font color="#000080">,  </font><font color="#800000">$5cc5</font><font color="#000080">,  </font><font color="#800000">$2c22</font><font color="#000080">,  </font><font color="#800000">$3c03</font><font color="#000080">,  </font><font color="#800000">$0c60</font><font color="#000080">,  </font><font color="#800000">$1c41</font><font color="#000080">,
    </font><font color="#800000">$edae</font><font color="#000080">,  </font><font color="#800000">$fd8f</font><font color="#000080">,  </font><font color="#800000">$cdec</font><font color="#000080">,  </font><font color="#800000">$ddcd</font><font color="#000080">,  </font><font color="#800000">$ad2a</font><font color="#000080">,  </font><font color="#800000">$bd0b</font><font color="#000080">,  </font><font color="#800000">$8d68</font><font color="#000080">,  </font><font color="#800000">$9d49</font><font color="#000080">,
    </font><font color="#800000">$7e97</font><font color="#000080">,  </font><font color="#800000">$6eb6</font><font color="#000080">,  </font><font color="#800000">$5ed5</font><font color="#000080">,  </font><font color="#800000">$4ef4</font><font color="#000080">,  </font><font color="#800000">$3e13</font><font color="#000080">,  </font><font color="#800000">$2e32</font><font color="#000080">,  </font><font color="#800000">$1e51</font><font color="#000080">,  </font><font color="#800000">$0e70</font><font color="#000080">,
    </font><font color="#800000">$ff9f</font><font color="#000080">,  </font><font color="#800000">$efbe</font><font color="#000080">,  </font><font color="#800000">$dfdd</font><font color="#000080">,  </font><font color="#800000">$cffc</font><font color="#000080">,  </font><font color="#800000">$bf1b</font><font color="#000080">,  </font><font color="#800000">$af3a</font><font color="#000080">,  </font><font color="#800000">$9f59</font><font color="#000080">,  </font><font color="#800000">$8f78</font><font color="#000080">,
    </font><font color="#800000">$9188</font><font color="#000080">,  </font><font color="#800000">$81a9</font><font color="#000080">,  </font><font color="#800000">$b1ca</font><font color="#000080">,  </font><font color="#800000">$a1eb</font><font color="#000080">,  </font><font color="#800000">$d10c</font><font color="#000080">,  </font><font color="#800000">$c12d</font><font color="#000080">,  </font><font color="#800000">$f14e</font><font color="#000080">,  </font><font color="#800000">$e16f</font><font color="#000080">,
    </font><font color="#800000">$1080</font><font color="#000080">,  </font><font color="#800000">$00a1</font><font color="#000080">,  </font><font color="#800000">$30c2</font><font color="#000080">,  </font><font color="#800000">$20e3</font><font color="#000080">,  </font><font color="#800000">$5004</font><font color="#000080">,  </font><font color="#800000">$4025</font><font color="#000080">,  </font><font color="#800000">$7046</font><font color="#000080">,  </font><font color="#800000">$6067</font><font color="#000080">,
    </font><font color="#800000">$83b9</font><font color="#000080">,  </font><font color="#800000">$9398</font><font color="#000080">,  </font><font color="#800000">$a3fb</font><font color="#000080">,  </font><font color="#800000">$b3da</font><font color="#000080">,  </font><font color="#800000">$c33d</font><font color="#000080">,  </font><font color="#800000">$d31c</font><font color="#000080">,  </font><font color="#800000">$e37f</font><font color="#000080">,  </font><font color="#800000">$f35e</font><font color="#000080">,
    </font><font color="#800000">$02b1</font><font color="#000080">,  </font><font color="#800000">$1290</font><font color="#000080">,  </font><font color="#800000">$22f3</font><font color="#000080">,  </font><font color="#800000">$32d2</font><font color="#000080">,  </font><font color="#800000">$4235</font><font color="#000080">,  </font><font color="#800000">$5214</font><font color="#000080">,  </font><font color="#800000">$6277</font><font color="#000080">,  </font><font color="#800000">$7256</font><font color="#000080">,
    </font><font color="#800000">$b5ea</font><font color="#000080">,  </font><font color="#800000">$a5cb</font><font color="#000080">,  </font><font color="#800000">$95a8</font><font color="#000080">,  </font><font color="#800000">$8589</font><font color="#000080">,  </font><font color="#800000">$f56e</font><font color="#000080">,  </font><font color="#800000">$e54f</font><font color="#000080">,  </font><font color="#800000">$d52c</font><font color="#000080">,  </font><font color="#800000">$c50d</font><font color="#000080">,
    </font><font color="#800000">$34e2</font><font color="#000080">,  </font><font color="#800000">$24c3</font><font color="#000080">,  </font><font color="#800000">$14a0</font><font color="#000080">,  </font><font color="#800000">$0481</font><font color="#000080">,  </font><font color="#800000">$7466</font><font color="#000080">,  </font><font color="#800000">$6447</font><font color="#000080">,  </font><font color="#800000">$5424</font><font color="#000080">,  </font><font color="#800000">$4405</font><font color="#000080">,
    </font><font color="#800000">$a7db</font><font color="#000080">,  </font><font color="#800000">$b7fa</font><font color="#000080">,  </font><font color="#800000">$8799</font><font color="#000080">,  </font><font color="#800000">$97b8</font><font color="#000080">,  </font><font color="#800000">$e75f</font><font color="#000080">,  </font><font color="#800000">$f77e</font><font color="#000080">,  </font><font color="#800000">$c71d</font><font color="#000080">,  </font><font color="#800000">$d73c</font><font color="#000080">,
    </font><font color="#800000">$26d3</font><font color="#000080">,  </font><font color="#800000">$36f2</font><font color="#000080">,  </font><font color="#800000">$0691</font><font color="#000080">,  </font><font color="#800000">$16b0</font><font color="#000080">,  </font><font color="#800000">$6657</font><font color="#000080">,  </font><font color="#800000">$7676</font><font color="#000080">,  </font><font color="#800000">$4615</font><font color="#000080">,  </font><font color="#800000">$5634</font><font color="#000080">,
    </font><font color="#800000">$d94c</font><font color="#000080">,  </font><font color="#800000">$c96d</font><font color="#000080">,  </font><font color="#800000">$f90e</font><font color="#000080">,  </font><font color="#800000">$e92f</font><font color="#000080">,  </font><font color="#800000">$99c8</font><font color="#000080">,  </font><font color="#800000">$89e9</font><font color="#000080">,  </font><font color="#800000">$b98a</font><font color="#000080">,  </font><font color="#800000">$a9ab</font><font color="#000080">,
    </font><font color="#800000">$5844</font><font color="#000080">,  </font><font color="#800000">$4865</font><font color="#000080">,  </font><font color="#800000">$7806</font><font color="#000080">,  </font><font color="#800000">$6827</font><font color="#000080">,  </font><font color="#800000">$18c0</font><font color="#000080">,  </font><font color="#800000">$08e1</font><font color="#000080">,  </font><font color="#800000">$3882</font><font color="#000080">,  </font><font color="#800000">$28a3</font><font color="#000080">,
    </font><font color="#800000">$cb7d</font><font color="#000080">,  </font><font color="#800000">$db5c</font><font color="#000080">,  </font><font color="#800000">$eb3f</font><font color="#000080">,  </font><font color="#800000">$fb1e</font><font color="#000080">,  </font><font color="#800000">$8bf9</font><font color="#000080">,  </font><font color="#800000">$9bd8</font><font color="#000080">,  </font><font color="#800000">$abbb</font><font color="#000080">,  </font><font color="#800000">$bb9a</font><font color="#000080">,
    </font><font color="#800000">$4a75</font><font color="#000080">,  </font><font color="#800000">$5a54</font><font color="#000080">,  </font><font color="#800000">$6a37</font><font color="#000080">,  </font><font color="#800000">$7a16</font><font color="#000080">,  </font><font color="#800000">$0af1</font><font color="#000080">,  </font><font color="#800000">$1ad0</font><font color="#000080">,  </font><font color="#800000">$2ab3</font><font color="#000080">,  </font><font color="#800000">$3a92</font><font color="#000080">,
    </font><font color="#800000">$fd2e</font><font color="#000080">,  </font><font color="#800000">$ed0f</font><font color="#000080">,  </font><font color="#800000">$dd6c</font><font color="#000080">,  </font><font color="#800000">$cd4d</font><font color="#000080">,  </font><font color="#800000">$bdaa</font><font color="#000080">,  </font><font color="#800000">$ad8b</font><font color="#000080">,  </font><font color="#800000">$9de8</font><font color="#000080">,  </font><font color="#800000">$8dc9</font><font color="#000080">,
    </font><font color="#800000">$7c26</font><font color="#000080">,  </font><font color="#800000">$6c07</font><font color="#000080">,  </font><font color="#800000">$5c64</font><font color="#000080">,  </font><font color="#800000">$4c45</font><font color="#000080">,  </font><font color="#800000">$3ca2</font><font color="#000080">,  </font><font color="#800000">$2c83</font><font color="#000080">,  </font><font color="#800000">$1ce0</font><font color="#000080">,  </font><font color="#800000">$0cc1</font><font color="#000080">,
    </font><font color="#800000">$ef1f</font><font color="#000080">,  </font><font color="#800000">$ff3e</font><font color="#000080">,  </font><font color="#800000">$cf5d</font><font color="#000080">,  </font><font color="#800000">$df7c</font><font color="#000080">,  </font><font color="#800000">$af9b</font><font color="#000080">,  </font><font color="#800000">$bfba</font><font color="#000080">,  </font><font color="#800000">$8fd9</font><font color="#000080">,  </font><font color="#800000">$9ff8</font><font color="#000080">,
    </font><font color="#800000">$6e17</font><font color="#000080">,  </font><font color="#800000">$7e36</font><font color="#000080">,  </font><font color="#800000">$4e55</font><font color="#000080">,  </font><font color="#800000">$5e74</font><font color="#000080">,  </font><font color="#800000">$2e93</font><font color="#000080">,  </font><font color="#800000">$3eb2</font><font color="#000080">,  </font><font color="#800000">$0ed1</font><font color="#000080">,  </font><font color="#800000">$1ef0
</font><font color="#000080">);

</font><font color="#008000"><i>(*
 * updcrc derived from article Copyright (C) 1986 Stephen Satchell.
 *  NOTE: First argument must be in range 0 to 255.
 *        Second argument is referenced twice.
 *
 * Programmers may incorporate any or all code into their Programs,
 * giving proper credit within the source. Publication of the
 * source routines is permitted so long as proper credit is given
 * to Stephen Satchell, Satchell Evaluations and Chuck Forsberg,
 * Omen Technology.
 *)
</i></font><font color="#FF0000"><b>Function </b></font>UpdCrc<font color="#000080">(</font>cp<font color="#000080">: </font>Byte<font color="#000080">; </font>crc<font color="#000080">: </font>Word<font color="#000080">): </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ UpdCrc }
  </i></font>UpdCrc <font color="#000080">:= </font>crctab<font color="#000080">[((</font>crc <font color="#FF0000"><b>SHR </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#800000">255</font><font color="#000080">)] </font><font color="#FF0000"><b>xor </b></font><font color="#000080">(</font>crc <font color="#FF0000"><b>SHL </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>xor </b></font>cp
<font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">. </font><font color="#008000"><i>{Unit}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to CRC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0004.PAS">Original</a><b>]</b></p></body>
</html>
