<html>
<head><title> "File CRC Routines" by FLOOR A.C. NAAIJKENS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to CRC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Author: FLOOR A.C. NAAIJKENS

Part of The ECO Library II:
}

</i></font><font color="#FF0000"><b>Unit </b></font>Eco_CRC<font color="#000080">;

</font><font color="#FF0000"><b>Interface

Function </b></font>__CRC32<font color="#000080">(</font>Value<font color="#000080">: </font>Byte<font color="#000080">; </font>CRC <font color="#000080">: </font>LongInt<font color="#000080">) : </font>LongInt<font color="#000080">;
</font><font color="#FF0000"><b>Function </b></font>__CRC16<font color="#000080">(</font>Value<font color="#000080">: </font>Byte<font color="#000080">; </font>CRC <font color="#000080">: </font>Word<font color="#000080">)    : </font>Word<font color="#000080">;

</font><font color="#FF0000"><b>Implementation

Function  </b></font>__crc32<font color="#000080">(</font>value<font color="#000080">: </font>Byte<font color="#000080">; </font>crc<font color="#000080">: </font>LongInt<font color="#000080">): </font>LongInt<font color="#000080">;
</font><font color="#FF0000"><b>Const
  </b></font>crc32_table <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>LongInt <font color="#000080">= (
    </font><font color="#800000">$00000000</font><font color="#000080">, </font><font color="#800000">$77073096</font><font color="#000080">, </font><font color="#800000">$ee0e612c</font><font color="#000080">, </font><font color="#800000">$990951ba</font><font color="#000080">, </font><font color="#800000">$076dc419</font><font color="#000080">, </font><font color="#800000">$706af48f</font><font color="#000080">,
    </font><font color="#800000">$e963a535</font><font color="#000080">, </font><font color="#800000">$9e6495a3</font><font color="#000080">, </font><font color="#800000">$0edb8832</font><font color="#000080">, </font><font color="#800000">$79dcb8a4</font><font color="#000080">, </font><font color="#800000">$e0d5e91e</font><font color="#000080">, </font><font color="#800000">$97d2d988</font><font color="#000080">,
    </font><font color="#800000">$09b64c2b</font><font color="#000080">, </font><font color="#800000">$7eb17cbd</font><font color="#000080">, </font><font color="#800000">$e7b82d07</font><font color="#000080">, </font><font color="#800000">$90bf1d91</font><font color="#000080">, </font><font color="#800000">$1db71064</font><font color="#000080">, </font><font color="#800000">$6ab020f2</font><font color="#000080">,
    </font><font color="#800000">$f3b97148</font><font color="#000080">, </font><font color="#800000">$84be41de</font><font color="#000080">, </font><font color="#800000">$1adad47d</font><font color="#000080">, </font><font color="#800000">$6ddde4eb</font><font color="#000080">, </font><font color="#800000">$f4d4b551</font><font color="#000080">, </font><font color="#800000">$83d385c7</font><font color="#000080">,
    </font><font color="#800000">$136c9856</font><font color="#000080">, </font><font color="#800000">$646ba8c0</font><font color="#000080">, </font><font color="#800000">$fd62f97a</font><font color="#000080">, </font><font color="#800000">$8a65c9ec</font><font color="#000080">, </font><font color="#800000">$14015c4f</font><font color="#000080">, </font><font color="#800000">$63066cd9</font><font color="#000080">,
    </font><font color="#800000">$fa0f3d63</font><font color="#000080">, </font><font color="#800000">$8d080df5</font><font color="#000080">, </font><font color="#800000">$3b6e20c8</font><font color="#000080">, </font><font color="#800000">$4c69105e</font><font color="#000080">, </font><font color="#800000">$d56041e4</font><font color="#000080">, </font><font color="#800000">$a2677172</font><font color="#000080">,
    </font><font color="#800000">$3c03e4d1</font><font color="#000080">, </font><font color="#800000">$4b04d447</font><font color="#000080">, </font><font color="#800000">$d20d85fd</font><font color="#000080">, </font><font color="#800000">$a50ab56b</font><font color="#000080">, </font><font color="#800000">$35b5a8fa</font><font color="#000080">, </font><font color="#800000">$42b2986c</font><font color="#000080">,
    </font><font color="#800000">$dbbbc9d6</font><font color="#000080">, </font><font color="#800000">$acbcf940</font><font color="#000080">, </font><font color="#800000">$32d86ce3</font><font color="#000080">, </font><font color="#800000">$45df5c75</font><font color="#000080">, </font><font color="#800000">$dcd60dcf</font><font color="#000080">, </font><font color="#800000">$abd13d59</font><font color="#000080">,
    </font><font color="#800000">$26d930ac</font><font color="#000080">, </font><font color="#800000">$51de003a</font><font color="#000080">, </font><font color="#800000">$c8d75180</font><font color="#000080">, </font><font color="#800000">$bfd06116</font><font color="#000080">, </font><font color="#800000">$21b4f4b5</font><font color="#000080">, </font><font color="#800000">$56b3c423</font><font color="#000080">,
    </font><font color="#800000">$cfba9599</font><font color="#000080">, </font><font color="#800000">$b8bda50f</font><font color="#000080">, </font><font color="#800000">$2802b89e</font><font color="#000080">, </font><font color="#800000">$5f058808</font><font color="#000080">, </font><font color="#800000">$c60cd9b2</font><font color="#000080">, </font><font color="#800000">$b10be924</font><font color="#000080">,
    </font><font color="#800000">$2f6f7c87</font><font color="#000080">, </font><font color="#800000">$58684c11</font><font color="#000080">, </font><font color="#800000">$c1611dab</font><font color="#000080">, </font><font color="#800000">$b6662d3d</font><font color="#000080">, </font><font color="#800000">$76dc4190</font><font color="#000080">, </font><font color="#800000">$01db7106</font><font color="#000080">,
    </font><font color="#800000">$98d220bc</font><font color="#000080">, </font><font color="#800000">$efd5102a</font><font color="#000080">, </font><font color="#800000">$71b18589</font><font color="#000080">, </font><font color="#800000">$06b6b51f</font><font color="#000080">, </font><font color="#800000">$9fbfe4a5</font><font color="#000080">, </font><font color="#800000">$e8b8d433</font><font color="#000080">,
    </font><font color="#800000">$7807c9a2</font><font color="#000080">, </font><font color="#800000">$0f00f934</font><font color="#000080">, </font><font color="#800000">$9609a88e</font><font color="#000080">, </font><font color="#800000">$e10e9818</font><font color="#000080">, </font><font color="#800000">$7f6a0dbb</font><font color="#000080">, </font><font color="#800000">$086d3d2d</font><font color="#000080">,
    </font><font color="#800000">$91646c97</font><font color="#000080">, </font><font color="#800000">$e6635c01</font><font color="#000080">, </font><font color="#800000">$6b6b51f4</font><font color="#000080">, </font><font color="#800000">$1c6c6162</font><font color="#000080">, </font><font color="#800000">$856530d8</font><font color="#000080">, </font><font color="#800000">$f262004e</font><font color="#000080">,
    </font><font color="#800000">$6c0695ed</font><font color="#000080">, </font><font color="#800000">$1b01a57b</font><font color="#000080">, </font><font color="#800000">$8208f4c1</font><font color="#000080">, </font><font color="#800000">$f50fc457</font><font color="#000080">, </font><font color="#800000">$65b0d9c6</font><font color="#000080">, </font><font color="#800000">$12b7e950</font><font color="#000080">,
    </font><font color="#800000">$8bbeb8ea</font><font color="#000080">, </font><font color="#800000">$fcb9887c</font><font color="#000080">, </font><font color="#800000">$62dd1ddf</font><font color="#000080">, </font><font color="#800000">$15da2d49</font><font color="#000080">, </font><font color="#800000">$8cd37cf3</font><font color="#000080">, </font><font color="#800000">$fbd44c65</font><font color="#000080">,
    </font><font color="#800000">$4db26158</font><font color="#000080">, </font><font color="#800000">$3ab551ce</font><font color="#000080">, </font><font color="#800000">$a3bc0074</font><font color="#000080">, </font><font color="#800000">$d4bb30e2</font><font color="#000080">, </font><font color="#800000">$4adfa541</font><font color="#000080">, </font><font color="#800000">$3dd895d7</font><font color="#000080">,
    </font><font color="#800000">$a4d1c46d</font><font color="#000080">, </font><font color="#800000">$d3d6f4fb</font><font color="#000080">, </font><font color="#800000">$4369e96a</font><font color="#000080">, </font><font color="#800000">$346ed9fc</font><font color="#000080">, </font><font color="#800000">$ad678846</font><font color="#000080">, </font><font color="#800000">$da60b8d0</font><font color="#000080">,
    </font><font color="#800000">$44042d73</font><font color="#000080">, </font><font color="#800000">$33031de5</font><font color="#000080">, </font><font color="#800000">$aa0a4c5f</font><font color="#000080">, </font><font color="#800000">$dd0d7cc9</font><font color="#000080">, </font><font color="#800000">$5005713c</font><font color="#000080">, </font><font color="#800000">$270241aa</font><font color="#000080">,
    </font><font color="#800000">$be0b1010</font><font color="#000080">, </font><font color="#800000">$c90c2086</font><font color="#000080">, </font><font color="#800000">$5768b525</font><font color="#000080">, </font><font color="#800000">$206f85b3</font><font color="#000080">, </font><font color="#800000">$b966d409</font><font color="#000080">, </font><font color="#800000">$ce61e49f</font><font color="#000080">,
    </font><font color="#800000">$5edef90e</font><font color="#000080">, </font><font color="#800000">$29d9c998</font><font color="#000080">, </font><font color="#800000">$b0d09822</font><font color="#000080">, </font><font color="#800000">$c7d7a8b4</font><font color="#000080">, </font><font color="#800000">$59b33d17</font><font color="#000080">, </font><font color="#800000">$2eb40d81</font><font color="#000080">,
    </font><font color="#800000">$b7bd5c3b</font><font color="#000080">, </font><font color="#800000">$c0ba6cad</font><font color="#000080">, </font><font color="#800000">$edb88320</font><font color="#000080">, </font><font color="#800000">$9abfb3b6</font><font color="#000080">, </font><font color="#800000">$03b6e20c</font><font color="#000080">, </font><font color="#800000">$74b1d29a</font><font color="#000080">,
    </font><font color="#800000">$ead54739</font><font color="#000080">, </font><font color="#800000">$9dd277af</font><font color="#000080">, </font><font color="#800000">$04db2615</font><font color="#000080">, </font><font color="#800000">$73dc1683</font><font color="#000080">, </font><font color="#800000">$e3630b12</font><font color="#000080">, </font><font color="#800000">$94643b84</font><font color="#000080">,
    </font><font color="#800000">$0d6d6a3e</font><font color="#000080">, </font><font color="#800000">$7a6a5aa8</font><font color="#000080">, </font><font color="#800000">$e40ecf0b</font><font color="#000080">, </font><font color="#800000">$9309ff9d</font><font color="#000080">, </font><font color="#800000">$0a00ae27</font><font color="#000080">, </font><font color="#800000">$7d079eb1</font><font color="#000080">,
    </font><font color="#800000">$f00f9344</font><font color="#000080">, </font><font color="#800000">$8708a3d2</font><font color="#000080">, </font><font color="#800000">$1e01f268</font><font color="#000080">, </font><font color="#800000">$6906c2fe</font><font color="#000080">, </font><font color="#800000">$f762575d</font><font color="#000080">, </font><font color="#800000">$806567cb</font><font color="#000080">,
    </font><font color="#800000">$196c3671</font><font color="#000080">, </font><font color="#800000">$6e6b06e7</font><font color="#000080">, </font><font color="#800000">$fed41b76</font><font color="#000080">, </font><font color="#800000">$89d32be0</font><font color="#000080">, </font><font color="#800000">$10da7a5a</font><font color="#000080">, </font><font color="#800000">$67dd4acc</font><font color="#000080">,
    </font><font color="#800000">$f9b9df6f</font><font color="#000080">, </font><font color="#800000">$8ebeeff9</font><font color="#000080">, </font><font color="#800000">$17b7be43</font><font color="#000080">, </font><font color="#800000">$60b08ed5</font><font color="#000080">, </font><font color="#800000">$d6d6a3e8</font><font color="#000080">, </font><font color="#800000">$a1d1937e</font><font color="#000080">,
    </font><font color="#800000">$38d8c2c4</font><font color="#000080">, </font><font color="#800000">$4fdff252</font><font color="#000080">, </font><font color="#800000">$d1bb67f1</font><font color="#000080">, </font><font color="#800000">$a6bc5767</font><font color="#000080">, </font><font color="#800000">$3fb506dd</font><font color="#000080">, </font><font color="#800000">$48b2364b</font><font color="#000080">,
    </font><font color="#800000">$d80d2bda</font><font color="#000080">, </font><font color="#800000">$af0a1b4c</font><font color="#000080">, </font><font color="#800000">$36034af6</font><font color="#000080">, </font><font color="#800000">$41047a60</font><font color="#000080">, </font><font color="#800000">$df60efc3</font><font color="#000080">, </font><font color="#800000">$a867df55</font><font color="#000080">,
    </font><font color="#800000">$316e8eef</font><font color="#000080">, </font><font color="#800000">$4669be79</font><font color="#000080">, </font><font color="#800000">$cb61b38c</font><font color="#000080">, </font><font color="#800000">$bc66831a</font><font color="#000080">, </font><font color="#800000">$256fd2a0</font><font color="#000080">, </font><font color="#800000">$5268e236</font><font color="#000080">,
    </font><font color="#800000">$cc0c7795</font><font color="#000080">, </font><font color="#800000">$bb0b4703</font><font color="#000080">, </font><font color="#800000">$220216b9</font><font color="#000080">, </font><font color="#800000">$5505262f</font><font color="#000080">, </font><font color="#800000">$c5ba3bbe</font><font color="#000080">, </font><font color="#800000">$b2bd0b28</font><font color="#000080">,
    </font><font color="#800000">$2bb45a92</font><font color="#000080">, </font><font color="#800000">$5cb36a04</font><font color="#000080">, </font><font color="#800000">$c2d7ffa7</font><font color="#000080">, </font><font color="#800000">$b5d0cf31</font><font color="#000080">, </font><font color="#800000">$2cd99e8b</font><font color="#000080">, </font><font color="#800000">$5bdeae1d</font><font color="#000080">,
    </font><font color="#800000">$9b64c2b0</font><font color="#000080">, </font><font color="#800000">$ec63f226</font><font color="#000080">, </font><font color="#800000">$756aa39c</font><font color="#000080">, </font><font color="#800000">$026d930a</font><font color="#000080">, </font><font color="#800000">$9c0906a9</font><font color="#000080">, </font><font color="#800000">$eb0e363f</font><font color="#000080">,
    </font><font color="#800000">$72076785</font><font color="#000080">, </font><font color="#800000">$05005713</font><font color="#000080">, </font><font color="#800000">$95bf4a82</font><font color="#000080">, </font><font color="#800000">$e2b87a14</font><font color="#000080">, </font><font color="#800000">$7bb12bae</font><font color="#000080">, </font><font color="#800000">$0cb61b38</font><font color="#000080">,
    </font><font color="#800000">$92d28e9b</font><font color="#000080">, </font><font color="#800000">$e5d5be0d</font><font color="#000080">, </font><font color="#800000">$7cdcefb7</font><font color="#000080">, </font><font color="#800000">$0bdbdf21</font><font color="#000080">, </font><font color="#800000">$86d3d2d4</font><font color="#000080">, </font><font color="#800000">$f1d4e242</font><font color="#000080">,
    </font><font color="#800000">$68ddb3f8</font><font color="#000080">, </font><font color="#800000">$1fda836e</font><font color="#000080">, </font><font color="#800000">$81be16cd</font><font color="#000080">, </font><font color="#800000">$f6b9265b</font><font color="#000080">, </font><font color="#800000">$6fb077e1</font><font color="#000080">, </font><font color="#800000">$18b74777</font><font color="#000080">,
    </font><font color="#800000">$88085ae6</font><font color="#000080">, </font><font color="#800000">$ff0f6a70</font><font color="#000080">, </font><font color="#800000">$66063bca</font><font color="#000080">, </font><font color="#800000">$11010b5c</font><font color="#000080">, </font><font color="#800000">$8f659eff</font><font color="#000080">, </font><font color="#800000">$f862ae69</font><font color="#000080">,
    </font><font color="#800000">$616bffd3</font><font color="#000080">, </font><font color="#800000">$166ccf45</font><font color="#000080">, </font><font color="#800000">$a00ae278</font><font color="#000080">, </font><font color="#800000">$d70dd2ee</font><font color="#000080">, </font><font color="#800000">$4e048354</font><font color="#000080">, </font><font color="#800000">$3903b3c2</font><font color="#000080">,
    </font><font color="#800000">$a7672661</font><font color="#000080">, </font><font color="#800000">$d06016f7</font><font color="#000080">, </font><font color="#800000">$4969474d</font><font color="#000080">, </font><font color="#800000">$3e6e77db</font><font color="#000080">, </font><font color="#800000">$aed16a4a</font><font color="#000080">, </font><font color="#800000">$d9d65adc</font><font color="#000080">,
    </font><font color="#800000">$40df0b66</font><font color="#000080">, </font><font color="#800000">$37d83bf0</font><font color="#000080">, </font><font color="#800000">$a9bcae53</font><font color="#000080">, </font><font color="#800000">$debb9ec5</font><font color="#000080">, </font><font color="#800000">$47b2cf7f</font><font color="#000080">, </font><font color="#800000">$30b5ffe9</font><font color="#000080">,
    </font><font color="#800000">$bdbdf21c</font><font color="#000080">, </font><font color="#800000">$cabac28a</font><font color="#000080">, </font><font color="#800000">$53b39330</font><font color="#000080">, </font><font color="#800000">$24b4a3a6</font><font color="#000080">, </font><font color="#800000">$bad03605</font><font color="#000080">, </font><font color="#800000">$cdd70693</font><font color="#000080">,
    </font><font color="#800000">$54de5729</font><font color="#000080">, </font><font color="#800000">$23d967bf</font><font color="#000080">, </font><font color="#800000">$b3667a2e</font><font color="#000080">, </font><font color="#800000">$c4614ab8</font><font color="#000080">, </font><font color="#800000">$5d681b02</font><font color="#000080">, </font><font color="#800000">$2a6f2b94</font><font color="#000080">,
    </font><font color="#800000">$b40bbe37</font><font color="#000080">, </font><font color="#800000">$c30c8ea1</font><font color="#000080">, </font><font color="#800000">$5a05df1b</font><font color="#000080">, </font><font color="#800000">$2d02ef8d
  </font><font color="#000080">);

</font><font color="#FF0000"><b>begin
  if </b></font>crc <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
    </b></font>crc <font color="#000080">:= </font><font color="#800000">$ffffffff</font><font color="#000080">; </font><font color="#008000"><i>{ must be set high to start With }
  </i></font>__crc32 <font color="#000080">:= </font>crc32_table<font color="#000080">[</font>Byte<font color="#000080">(</font>crc <font color="#FF0000"><b>xor </b></font>LongInt<font color="#000080">(</font>value<font color="#000080">))] </font><font color="#FF0000"><b>xor
             </b></font><font color="#000080">((</font>crc <font color="#FF0000"><b>shr </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#800000">$00ffffff</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;



</font><font color="#FF0000"><b>Function  </b></font>__crc16<font color="#000080">(</font>value<font color="#000080">: </font>Byte<font color="#000080">; </font>crc<font color="#000080">: </font>Word<font color="#000080">): </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Const
  </b></font>crc16_table <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Word <font color="#000080">= (
     </font><font color="#800000">$0000</font><font color="#000080">,  </font><font color="#800000">$1021</font><font color="#000080">,  </font><font color="#800000">$2042</font><font color="#000080">,  </font><font color="#800000">$3063</font><font color="#000080">,  </font><font color="#800000">$4084</font><font color="#000080">,  </font><font color="#800000">$50a5</font><font color="#000080">,  </font><font color="#800000">$60c6</font><font color="#000080">,  </font><font color="#800000">$70e7</font><font color="#000080">,
     </font><font color="#800000">$8108</font><font color="#000080">,  </font><font color="#800000">$9129</font><font color="#000080">,  </font><font color="#800000">$a14a</font><font color="#000080">,  </font><font color="#800000">$b16b</font><font color="#000080">,  </font><font color="#800000">$c18c</font><font color="#000080">,  </font><font color="#800000">$d1ad</font><font color="#000080">,  </font><font color="#800000">$e1ce</font><font color="#000080">,  </font><font color="#800000">$f1ef</font><font color="#000080">,
     </font><font color="#800000">$1231</font><font color="#000080">,  </font><font color="#800000">$0210</font><font color="#000080">,  </font><font color="#800000">$3273</font><font color="#000080">,  </font><font color="#800000">$2252</font><font color="#000080">,  </font><font color="#800000">$52b5</font><font color="#000080">,  </font><font color="#800000">$4294</font><font color="#000080">,  </font><font color="#800000">$72f7</font><font color="#000080">,  </font><font color="#800000">$62d6</font><font color="#000080">,
     </font><font color="#800000">$9339</font><font color="#000080">,  </font><font color="#800000">$8318</font><font color="#000080">,  </font><font color="#800000">$b37b</font><font color="#000080">,  </font><font color="#800000">$a35a</font><font color="#000080">,  </font><font color="#800000">$d3bd</font><font color="#000080">,  </font><font color="#800000">$c39c</font><font color="#000080">,  </font><font color="#800000">$f3ff</font><font color="#000080">,  </font><font color="#800000">$e3de</font><font color="#000080">,
     </font><font color="#800000">$2462</font><font color="#000080">,  </font><font color="#800000">$3443</font><font color="#000080">,  </font><font color="#800000">$0420</font><font color="#000080">,  </font><font color="#800000">$1401</font><font color="#000080">,  </font><font color="#800000">$64e6</font><font color="#000080">,  </font><font color="#800000">$74c7</font><font color="#000080">,  </font><font color="#800000">$44a4</font><font color="#000080">,  </font><font color="#800000">$5485</font><font color="#000080">,
     </font><font color="#800000">$a56a</font><font color="#000080">,  </font><font color="#800000">$b54b</font><font color="#000080">,  </font><font color="#800000">$8528</font><font color="#000080">,  </font><font color="#800000">$9509</font><font color="#000080">,  </font><font color="#800000">$e5ee</font><font color="#000080">,  </font><font color="#800000">$f5cf</font><font color="#000080">,  </font><font color="#800000">$c5ac</font><font color="#000080">,  </font><font color="#800000">$d58d</font><font color="#000080">,
     </font><font color="#800000">$3653</font><font color="#000080">,  </font><font color="#800000">$2672</font><font color="#000080">,  </font><font color="#800000">$1611</font><font color="#000080">,  </font><font color="#800000">$0630</font><font color="#000080">,  </font><font color="#800000">$76d7</font><font color="#000080">,  </font><font color="#800000">$66f6</font><font color="#000080">,  </font><font color="#800000">$5695</font><font color="#000080">,  </font><font color="#800000">$46b4</font><font color="#000080">,
     </font><font color="#800000">$b75b</font><font color="#000080">,  </font><font color="#800000">$a77a</font><font color="#000080">,  </font><font color="#800000">$9719</font><font color="#000080">,  </font><font color="#800000">$8738</font><font color="#000080">,  </font><font color="#800000">$f7df</font><font color="#000080">,  </font><font color="#800000">$e7fe</font><font color="#000080">,  </font><font color="#800000">$d79d</font><font color="#000080">,  </font><font color="#800000">$c7bc</font><font color="#000080">,
     </font><font color="#800000">$48c4</font><font color="#000080">,  </font><font color="#800000">$58e5</font><font color="#000080">,  </font><font color="#800000">$6886</font><font color="#000080">,  </font><font color="#800000">$78a7</font><font color="#000080">,  </font><font color="#800000">$0840</font><font color="#000080">,  </font><font color="#800000">$1861</font><font color="#000080">,  </font><font color="#800000">$2802</font><font color="#000080">,  </font><font color="#800000">$3823</font><font color="#000080">,
     </font><font color="#800000">$c9cc</font><font color="#000080">,  </font><font color="#800000">$d9ed</font><font color="#000080">,  </font><font color="#800000">$e98e</font><font color="#000080">,  </font><font color="#800000">$f9af</font><font color="#000080">,  </font><font color="#800000">$8948</font><font color="#000080">,  </font><font color="#800000">$9969</font><font color="#000080">,  </font><font color="#800000">$a90a</font><font color="#000080">,  </font><font color="#800000">$b92b</font><font color="#000080">,
     </font><font color="#800000">$5af5</font><font color="#000080">,  </font><font color="#800000">$4ad4</font><font color="#000080">,  </font><font color="#800000">$7ab7</font><font color="#000080">,  </font><font color="#800000">$6a96</font><font color="#000080">,  </font><font color="#800000">$1a71</font><font color="#000080">,  </font><font color="#800000">$0a50</font><font color="#000080">,  </font><font color="#800000">$3a33</font><font color="#000080">,  </font><font color="#800000">$2a12</font><font color="#000080">,
     </font><font color="#800000">$dbfd</font><font color="#000080">,  </font><font color="#800000">$cbdc</font><font color="#000080">,  </font><font color="#800000">$fbbf</font><font color="#000080">,  </font><font color="#800000">$eb9e</font><font color="#000080">,  </font><font color="#800000">$9b79</font><font color="#000080">,  </font><font color="#800000">$8b58</font><font color="#000080">,  </font><font color="#800000">$bb3b</font><font color="#000080">,  </font><font color="#800000">$ab1a</font><font color="#000080">,
     </font><font color="#800000">$6ca6</font><font color="#000080">,  </font><font color="#800000">$7c87</font><font color="#000080">,  </font><font color="#800000">$4ce4</font><font color="#000080">,  </font><font color="#800000">$5cc5</font><font color="#000080">,  </font><font color="#800000">$2c22</font><font color="#000080">,  </font><font color="#800000">$3c03</font><font color="#000080">,  </font><font color="#800000">$0c60</font><font color="#000080">,  </font><font color="#800000">$1c41</font><font color="#000080">,
     </font><font color="#800000">$edae</font><font color="#000080">,  </font><font color="#800000">$fd8f</font><font color="#000080">,  </font><font color="#800000">$cdec</font><font color="#000080">,  </font><font color="#800000">$ddcd</font><font color="#000080">,  </font><font color="#800000">$ad2a</font><font color="#000080">,  </font><font color="#800000">$bd0b</font><font color="#000080">,  </font><font color="#800000">$8d68</font><font color="#000080">,  </font><font color="#800000">$9d49</font><font color="#000080">,
     </font><font color="#800000">$7e97</font><font color="#000080">,  </font><font color="#800000">$6eb6</font><font color="#000080">,  </font><font color="#800000">$5ed5</font><font color="#000080">,  </font><font color="#800000">$4ef4</font><font color="#000080">,  </font><font color="#800000">$3e13</font><font color="#000080">,  </font><font color="#800000">$2e32</font><font color="#000080">,  </font><font color="#800000">$1e51</font><font color="#000080">,  </font><font color="#800000">$0e70</font><font color="#000080">,
     </font><font color="#800000">$ff9f</font><font color="#000080">,  </font><font color="#800000">$efbe</font><font color="#000080">,  </font><font color="#800000">$dfdd</font><font color="#000080">,  </font><font color="#800000">$cffc</font><font color="#000080">,  </font><font color="#800000">$bf1b</font><font color="#000080">,  </font><font color="#800000">$af3a</font><font color="#000080">,  </font><font color="#800000">$9f59</font><font color="#000080">,  </font><font color="#800000">$8f78</font><font color="#000080">,
     </font><font color="#800000">$9188</font><font color="#000080">,  </font><font color="#800000">$81a9</font><font color="#000080">,  </font><font color="#800000">$b1ca</font><font color="#000080">,  </font><font color="#800000">$a1eb</font><font color="#000080">,  </font><font color="#800000">$d10c</font><font color="#000080">,  </font><font color="#800000">$c12d</font><font color="#000080">,  </font><font color="#800000">$f14e</font><font color="#000080">,  </font><font color="#800000">$e16f</font><font color="#000080">,
     </font><font color="#800000">$1080</font><font color="#000080">,  </font><font color="#800000">$00a1</font><font color="#000080">,  </font><font color="#800000">$30c2</font><font color="#000080">,  </font><font color="#800000">$20e3</font><font color="#000080">,  </font><font color="#800000">$5004</font><font color="#000080">,  </font><font color="#800000">$4025</font><font color="#000080">,  </font><font color="#800000">$7046</font><font color="#000080">,  </font><font color="#800000">$6067</font><font color="#000080">,
     </font><font color="#800000">$83b9</font><font color="#000080">,  </font><font color="#800000">$9398</font><font color="#000080">,  </font><font color="#800000">$a3fb</font><font color="#000080">,  </font><font color="#800000">$b3da</font><font color="#000080">,  </font><font color="#800000">$c33d</font><font color="#000080">,  </font><font color="#800000">$d31c</font><font color="#000080">,  </font><font color="#800000">$e37f</font><font color="#000080">,  </font><font color="#800000">$f35e</font><font color="#000080">,
     </font><font color="#800000">$02b1</font><font color="#000080">,  </font><font color="#800000">$1290</font><font color="#000080">,  </font><font color="#800000">$22f3</font><font color="#000080">,  </font><font color="#800000">$32d2</font><font color="#000080">,  </font><font color="#800000">$4235</font><font color="#000080">,  </font><font color="#800000">$5214</font><font color="#000080">,  </font><font color="#800000">$6277</font><font color="#000080">,  </font><font color="#800000">$7256</font><font color="#000080">,
     </font><font color="#800000">$b5ea</font><font color="#000080">,  </font><font color="#800000">$a5cb</font><font color="#000080">,  </font><font color="#800000">$95a8</font><font color="#000080">,  </font><font color="#800000">$8589</font><font color="#000080">,  </font><font color="#800000">$f56e</font><font color="#000080">,  </font><font color="#800000">$e54f</font><font color="#000080">,  </font><font color="#800000">$d52c</font><font color="#000080">,  </font><font color="#800000">$c50d</font><font color="#000080">,
     </font><font color="#800000">$34e2</font><font color="#000080">,  </font><font color="#800000">$24c3</font><font color="#000080">,  </font><font color="#800000">$14a0</font><font color="#000080">,  </font><font color="#800000">$0481</font><font color="#000080">,  </font><font color="#800000">$7466</font><font color="#000080">,  </font><font color="#800000">$6447</font><font color="#000080">,  </font><font color="#800000">$5424</font><font color="#000080">,  </font><font color="#800000">$4405</font><font color="#000080">,
     </font><font color="#800000">$a7db</font><font color="#000080">,  </font><font color="#800000">$b7fa</font><font color="#000080">,  </font><font color="#800000">$8799</font><font color="#000080">,  </font><font color="#800000">$97b8</font><font color="#000080">,  </font><font color="#800000">$e75f</font><font color="#000080">,  </font><font color="#800000">$f77e</font><font color="#000080">,  </font><font color="#800000">$c71d</font><font color="#000080">,  </font><font color="#800000">$d73c</font><font color="#000080">,
     </font><font color="#800000">$26d3</font><font color="#000080">,  </font><font color="#800000">$36f2</font><font color="#000080">,  </font><font color="#800000">$0691</font><font color="#000080">,  </font><font color="#800000">$16b0</font><font color="#000080">,  </font><font color="#800000">$6657</font><font color="#000080">,  </font><font color="#800000">$7676</font><font color="#000080">,  </font><font color="#800000">$4615</font><font color="#000080">,  </font><font color="#800000">$5634</font><font color="#000080">,
     </font><font color="#800000">$d94c</font><font color="#000080">,  </font><font color="#800000">$c96d</font><font color="#000080">,  </font><font color="#800000">$f90e</font><font color="#000080">,  </font><font color="#800000">$e92f</font><font color="#000080">,  </font><font color="#800000">$99c8</font><font color="#000080">,  </font><font color="#800000">$89e9</font><font color="#000080">,  </font><font color="#800000">$b98a</font><font color="#000080">,  </font><font color="#800000">$a9ab</font><font color="#000080">,
     </font><font color="#800000">$5844</font><font color="#000080">,  </font><font color="#800000">$4865</font><font color="#000080">,  </font><font color="#800000">$7806</font><font color="#000080">,  </font><font color="#800000">$6827</font><font color="#000080">,  </font><font color="#800000">$18c0</font><font color="#000080">,  </font><font color="#800000">$08e1</font><font color="#000080">,  </font><font color="#800000">$3882</font><font color="#000080">,  </font><font color="#800000">$28a3</font><font color="#000080">,
     </font><font color="#800000">$cb7d</font><font color="#000080">,  </font><font color="#800000">$db5c</font><font color="#000080">,  </font><font color="#800000">$eb3f</font><font color="#000080">,  </font><font color="#800000">$fb1e</font><font color="#000080">,  </font><font color="#800000">$8bf9</font><font color="#000080">,  </font><font color="#800000">$9bd8</font><font color="#000080">,  </font><font color="#800000">$abbb</font><font color="#000080">,  </font><font color="#800000">$bb9a</font><font color="#000080">,
     </font><font color="#800000">$4a75</font><font color="#000080">,  </font><font color="#800000">$5a54</font><font color="#000080">,  </font><font color="#800000">$6a37</font><font color="#000080">,  </font><font color="#800000">$7a16</font><font color="#000080">,  </font><font color="#800000">$0af1</font><font color="#000080">,  </font><font color="#800000">$1ad0</font><font color="#000080">,  </font><font color="#800000">$2ab3</font><font color="#000080">,  </font><font color="#800000">$3a92</font><font color="#000080">,
     </font><font color="#800000">$fd2e</font><font color="#000080">,  </font><font color="#800000">$ed0f</font><font color="#000080">,  </font><font color="#800000">$dd6c</font><font color="#000080">,  </font><font color="#800000">$cd4d</font><font color="#000080">,  </font><font color="#800000">$bdaa</font><font color="#000080">,  </font><font color="#800000">$ad8b</font><font color="#000080">,  </font><font color="#800000">$9de8</font><font color="#000080">,  </font><font color="#800000">$8dc9</font><font color="#000080">,
     </font><font color="#800000">$7c26</font><font color="#000080">,  </font><font color="#800000">$6c07</font><font color="#000080">,  </font><font color="#800000">$5c64</font><font color="#000080">,  </font><font color="#800000">$4c45</font><font color="#000080">,  </font><font color="#800000">$3ca2</font><font color="#000080">,  </font><font color="#800000">$2c83</font><font color="#000080">,  </font><font color="#800000">$1ce0</font><font color="#000080">,  </font><font color="#800000">$0cc1</font><font color="#000080">,
     </font><font color="#800000">$ef1f</font><font color="#000080">,  </font><font color="#800000">$ff3e</font><font color="#000080">,  </font><font color="#800000">$cf5d</font><font color="#000080">,  </font><font color="#800000">$df7c</font><font color="#000080">,  </font><font color="#800000">$af9b</font><font color="#000080">,  </font><font color="#800000">$bfba</font><font color="#000080">,  </font><font color="#800000">$8fd9</font><font color="#000080">,  </font><font color="#800000">$9ff8</font><font color="#000080">,
     </font><font color="#800000">$6e17</font><font color="#000080">,  </font><font color="#800000">$7e36</font><font color="#000080">,  </font><font color="#800000">$4e55</font><font color="#000080">,  </font><font color="#800000">$5e74</font><font color="#000080">,  </font><font color="#800000">$2e93</font><font color="#000080">,  </font><font color="#800000">$3eb2</font><font color="#000080">,  </font><font color="#800000">$0ed1</font><font color="#000080">,  </font><font color="#800000">$1ef0
   </font><font color="#000080">);

</font><font color="#FF0000"><b>begin
  </b></font>__crc16 <font color="#000080">:= </font>crc16_table<font color="#000080">[((</font>crc <font color="#FF0000"><b>shr </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#800000">255</font><font color="#000080">)] </font><font color="#FF0000"><b>xor
             </b></font><font color="#000080">(</font>crc <font color="#FF0000"><b>shl </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>xor </b></font>value<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;



</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#008000"><i>{==========================================================================}
{==========================================================================}
{==========================================================================}

</i></font>CRC<font color="#000080">.</font>PAS
<font color="#008000"><i>{$M 65520, 0, 655360}
</i></font><font color="#FF0000"><b>Uses
  </b></font>Crt<font color="#000080">, </font>Dos<font color="#000080">,
  </font>eco_lib<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>take32<font color="#000080">,
  </font>take16      <font color="#000080">: </font>Boolean<font color="#000080">;
  </font>sourcepath<font color="#000080">,
  </font>source      <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>numFiles<font color="#000080">, </font>i <font color="#000080">: </font>Word<font color="#000080">;
  </font>srec        <font color="#000080">: </font>SearchRec<font color="#000080">;
  </font>filar       <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">1024</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font><font color="#000080">^</font>SearchRec<font color="#000080">;



</font><font color="#FF0000"><b>Function </b></font>convert32<font color="#000080">(</font>fname<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>fsize<font color="#000080">: </font>LongInt<font color="#000080">; </font>x1<font color="#000080">, </font>x2<font color="#000080">, </font>y<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Const
  </b></font>bufsize <font color="#000080">= </font><font color="#800000">32768</font><font color="#000080">;
</font><font color="#FF0000"><b>Type
  </b></font>fbuf <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>bufsize<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>i       <font color="#000080">:    </font>Word<font color="#000080">;
  </font>source  <font color="#000080">:    </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
  </font>bread   <font color="#000080">:    </font>Word<font color="#000080">;
  </font>Filebuf <font color="#000080">:   ^</font>fbuf<font color="#000080">;
  </font>crc<font color="#000080">, </font>tr <font color="#000080">: </font>LongInt<font color="#000080">;
  </font>nr      <font color="#000080">:    </font>Real<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>crc <font color="#000080">:= </font><font color="#800000">$ffffffff</font><font color="#000080">;
  </font>tr <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>new<font color="#000080">(</font>Filebuf<font color="#000080">);
  </font>assign<font color="#000080">(</font>source<font color="#000080">, </font>fname<font color="#000080">);
  </font>reset<font color="#000080">(</font>source<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font>GotoXY<font color="#000080">(</font>x1<font color="#000080">, </font>y<font color="#000080">);
  </font>Write<font color="#000080">(</font>__rep<font color="#000080">(</font>x2<font color="#000080">-</font>x1<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">'&deg;'</font><font color="#000080">));
  </font>Write<font color="#000080">(</font><font color="#800000">'  '</font><font color="#000080">, </font>fname<font color="#000080">);
  </font><font color="#FF0000"><b>Repeat
    </b></font>blockread<font color="#000080">(</font>source<font color="#000080">, </font>Filebuf<font color="#000080">^, </font>bufsize<font color="#000080">, </font>bread<font color="#000080">);
    </font>tr <font color="#000080">:= </font>tr <font color="#000080">+ </font>bread<font color="#000080">;
    </font>nr <font color="#000080">:= </font>tr<font color="#000080">/</font>fsize<font color="#000080">;
    </font>nr <font color="#000080">:= </font>nr <font color="#000080">* (</font>x2<font color="#000080">-</font>x1<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">);
    </font>GotoXY<font color="#000080">(</font>x1<font color="#000080">, </font>y<font color="#000080">);
    </font>Write<font color="#000080">(</font>__rep<font color="#000080">(</font>trunc<font color="#000080">(</font>nr<font color="#000080">), </font><font color="#800000">'&Ucirc;'</font><font color="#000080">));
    </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>bread <font color="#FF0000"><b>do
      </b></font>crc <font color="#000080">:= </font>__crc32<font color="#000080">(</font>Filebuf<font color="#000080">^[</font>i<font color="#000080">], </font>crc<font color="#000080">);
  </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>bread <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">);
  </font>close<font color="#000080">(</font>source<font color="#000080">);
  </font>GotoXY<font color="#000080">(</font>x1<font color="#000080">, </font>y<font color="#000080">);
  </font>dispose<font color="#000080">(</font>Filebuf<font color="#000080">);
  </font>Write<font color="#000080">(</font>fname<font color="#000080">:</font><font color="#800000">12</font><font color="#000080">, </font><font color="#800000">'  '</font><font color="#000080">, </font>fsize<font color="#000080">:</font><font color="#800000">7</font><font color="#000080">, </font><font color="#800000">' Bytes.  HEX-CRC/32: '</font><font color="#000080">,</font>__tohexstr<font color="#000080">(</font>crc<font color="#000080">, </font><font color="#800000">4</font><font color="#000080">));
  </font>clreol<font color="#000080">; </font>convert32 <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>convert16<font color="#000080">(</font>fname<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>fsize<font color="#000080">: </font>LongInt<font color="#000080">; </font>x1<font color="#000080">, </font>x2<font color="#000080">, </font>y<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Const
  </b></font>bufsize <font color="#000080">= </font><font color="#800000">32768</font><font color="#000080">;
</font><font color="#FF0000"><b>Type
  </b></font>fbuf <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>bufsize<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>i       <font color="#000080">:    </font>Word<font color="#000080">;
  </font>source  <font color="#000080">:    </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
  </font>bread   <font color="#000080">:    </font>Word<font color="#000080">;
  </font>Filebuf <font color="#000080">:   ^</font>fbuf<font color="#000080">;
  </font>crc<font color="#000080">, </font>tr <font color="#000080">: </font>LongInt<font color="#000080">;
  </font>nr      <font color="#000080">:    </font>Real<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>crc <font color="#000080">:= </font><font color="#800000">$0000</font><font color="#000080">;
  </font>tr <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>new<font color="#000080">(</font>Filebuf<font color="#000080">);
  </font>assign<font color="#000080">(</font>source<font color="#000080">, </font>fname<font color="#000080">);
  </font>reset<font color="#000080">(</font>source<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font>GotoXY<font color="#000080">(</font>x1<font color="#000080">, </font>y<font color="#000080">);
  </font>Write<font color="#000080">(</font>__rep<font color="#000080">(</font>x2<font color="#000080">-</font>x1<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">'&deg;'</font><font color="#000080">));
  </font>Write<font color="#000080">(</font><font color="#800000">'  '</font><font color="#000080">, </font>fname<font color="#000080">);
  </font><font color="#FF0000"><b>Repeat
    </b></font>blockread<font color="#000080">(</font>source<font color="#000080">, </font>Filebuf<font color="#000080">^, </font>bufsize<font color="#000080">, </font>bread<font color="#000080">);
    </font>tr <font color="#000080">:= </font>tr <font color="#000080">+ </font>bread<font color="#000080">;
    </font>nr <font color="#000080">:= </font>tr<font color="#000080">/</font>fsize<font color="#000080">;
    </font>nr <font color="#000080">:= </font>nr <font color="#000080">* (</font>x2<font color="#000080">-</font>x1<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">);
    </font>GotoXY<font color="#000080">(</font>x1<font color="#000080">, </font>y<font color="#000080">);
    </font>Write<font color="#000080">(</font>__rep<font color="#000080">(</font>trunc<font color="#000080">(</font>nr<font color="#000080">), </font><font color="#800000">'&Ucirc;'</font><font color="#000080">));
    </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>bread <font color="#FF0000"><b>do
      </b></font>crc <font color="#000080">:= </font>__crc16<font color="#000080">(</font>Filebuf<font color="#000080">^[</font>i<font color="#000080">], </font>crc<font color="#000080">);
  </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>bread <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">);
  </font>close<font color="#000080">(</font>source<font color="#000080">);
  </font>GotoXY<font color="#000080">(</font>x1<font color="#000080">, </font>y<font color="#000080">);
  </font>dispose<font color="#000080">(</font>Filebuf<font color="#000080">);
  </font>Write<font color="#000080">(</font>fname<font color="#000080">:</font><font color="#800000">12</font><font color="#000080">, </font><font color="#800000">'  '</font><font color="#000080">, </font>fsize<font color="#000080">:</font><font color="#800000">7</font><font color="#000080">, </font><font color="#800000">' Bytes.  HEX-CRC/16: '</font><font color="#000080">, </font>__tohexstr<font color="#000080">(</font>crc<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">));
  </font>clreol<font color="#000080">;
  </font>convert16 <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;



</font><font color="#FF0000"><b>Function </b></font>convert16_32<font color="#000080">(</font>fname<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>fsize<font color="#000080">: </font>LongInt<font color="#000080">; </font>x1<font color="#000080">, </font>x2<font color="#000080">, </font>y<font color="#000080">: </font>Byte<font color="#000080">):</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Const
  </b></font>bufsize <font color="#000080">= </font><font color="#800000">32768</font><font color="#000080">;
</font><font color="#FF0000"><b>Type
  </b></font>fbuf <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>bufsize<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>i       <font color="#000080">:    </font>Word<font color="#000080">;
  </font>source  <font color="#000080">:    </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
  </font>bread   <font color="#000080">:    </font>Word<font color="#000080">;
  </font>Filebuf <font color="#000080">:   ^</font>fbuf<font color="#000080">;
  </font>crc<font color="#000080">,
  </font>crc32<font color="#000080">,
  </font>tr      <font color="#000080">: </font>LongInt<font color="#000080">;
  </font>nr      <font color="#000080">:    </font>Real<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>crc <font color="#000080">:= </font><font color="#800000">$0000</font><font color="#000080">;
  </font>tr <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>crc32 <font color="#000080">:= </font><font color="#800000">$ffffffff</font><font color="#000080">;
  </font>new<font color="#000080">(</font>Filebuf<font color="#000080">);
  </font>assign<font color="#000080">(</font>source<font color="#000080">, </font>fname<font color="#000080">);
  </font>reset<font color="#000080">(</font>source<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font>GotoXY<font color="#000080">(</font>x1<font color="#000080">, </font>y<font color="#000080">);
  </font>Write<font color="#000080">(</font>__rep<font color="#000080">(</font>x2<font color="#000080">-</font>x1<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">'&deg;'</font><font color="#000080">));
  </font>Write<font color="#000080">(</font><font color="#800000">'  '</font><font color="#000080">, </font>fname<font color="#000080">);
  </font><font color="#FF0000"><b>Repeat
    </b></font>blockread<font color="#000080">(</font>source<font color="#000080">, </font>Filebuf<font color="#000080">^, </font>bufsize<font color="#000080">, </font>bread<font color="#000080">);
    </font>tr <font color="#000080">:= </font>tr <font color="#000080">+ </font>bread<font color="#000080">;
    </font>nr <font color="#000080">:= </font>tr<font color="#000080">/</font>fsize<font color="#000080">;
    </font>nr <font color="#000080">:= </font>nr <font color="#000080">* (</font>x2<font color="#000080">-</font>x1<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">);
    </font>GotoXY<font color="#000080">(</font>x1<font color="#000080">, </font>y<font color="#000080">);
    </font>Write<font color="#000080">(</font>__rep<font color="#000080">(</font>trunc<font color="#000080">(</font>nr<font color="#000080">), </font><font color="#800000">'&Ucirc;'</font><font color="#000080">));
    </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>bread <font color="#FF0000"><b>do begin
      </b></font>crc <font color="#000080">:= </font>__crc16<font color="#000080">(</font>Filebuf<font color="#000080">^[</font>i<font color="#000080">], </font>crc<font color="#000080">);
      </font>crc32 <font color="#000080">:= </font>__crc32<font color="#000080">(</font>Filebuf<font color="#000080">^[</font>i<font color="#000080">], </font>crc32<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>bread <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">);
  </font>close<font color="#000080">(</font>source<font color="#000080">);
  </font>GotoXY<font color="#000080">(</font>x1<font color="#000080">, </font>y<font color="#000080">);
  </font>dispose<font color="#000080">(</font>Filebuf<font color="#000080">);
  </font>Write<font color="#000080">(</font>fname<font color="#000080">:</font><font color="#800000">12</font><font color="#000080">, </font><font color="#800000">'  '</font><font color="#000080">, </font>fsize<font color="#000080">:</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">' Bytes.  HEX-CRC/16: '</font><font color="#000080">, </font>__tohexstr<font color="#000080">(</font>crc<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">),
        </font><font color="#800000">' 32: '</font><font color="#000080">, </font>__tohexstr<font color="#000080">(</font>crc32<font color="#000080">, </font><font color="#800000">4</font><font color="#000080">));
  </font>clreol<font color="#000080">;
  </font>convert16_32 <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;




</font><font color="#008000"><i>{main}
</i></font><font color="#FF0000"><b>begin
  </b></font>source <font color="#000080">:= </font>fexpand<font color="#000080">(</font>paramstr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">));
  </font>take32 <font color="#000080">:= </font>False<font color="#000080">;
  </font>take16 <font color="#000080">:= </font>False<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>paramstr<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">) = </font><font color="#800000">'/32' </font><font color="#FF0000"><b>then
    </b></font>take32 <font color="#000080">:= </font>True<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>paramstr<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">) = </font><font color="#800000">'/16' </font><font color="#FF0000"><b>then
    </b></font>take16 <font color="#000080">:= </font>True<font color="#000080">;
  </font>numFiles <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>findfirst<font color="#000080">(</font>source<font color="#000080">, </font>anyFile<font color="#000080">, </font>srec<font color="#000080">);
  </font><font color="#FF0000"><b>While </b></font>Doserror<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>do
  begin
    if not </b></font><font color="#000080">(((</font>srec<font color="#000080">.</font>attr <font color="#FF0000"><b>and </b></font>directory<font color="#000080">) &gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">((</font>srec<font color="#000080">.</font>attr <font color="#FF0000"><b>and </b></font>volumeid<font color="#000080">) &gt; </font><font color="#800000">0</font><font color="#000080">)
             </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>srec<font color="#000080">.</font>size <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">)) </font><font color="#FF0000"><b>then
    begin
      </b></font>inc<font color="#000080">(</font>numFiles<font color="#000080">);
      </font>new<font color="#000080">(</font>filar<font color="#000080">[</font>numFiles<font color="#000080">]);
      </font>filar<font color="#000080">[</font>numFiles<font color="#000080">]^ := </font>srec<font color="#000080">;
      </font>filar<font color="#000080">[</font>numFiles<font color="#000080">]^.</font>name <font color="#000080">:= </font>__up<font color="#000080">(</font>filar<font color="#000080">[</font>numFiles<font color="#000080">]^.</font>name<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font>findnext<font color="#000080">(</font>srec<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Writeln<font color="#000080">(</font>numFiles<font color="#000080">, </font><font color="#800000">' File(s) found.'</font><font color="#000080">);

  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>numFiles <font color="#FF0000"><b>do
    if </b></font>take32 <font color="#FF0000"><b>then
      </b></font>Writeln<font color="#000080">(</font>convert32<font color="#000080">(</font>sourcepath <font color="#000080">+ </font>filar<font color="#000080">[</font>i<font color="#000080">]^.</font>name<font color="#000080">, </font>filar<font color="#000080">[</font>i<font color="#000080">]^.</font>size<font color="#000080">,
              </font><font color="#800000">5</font><font color="#000080">, </font><font color="#800000">35</font><font color="#000080">, </font>WhereY<font color="#000080">))
      </font><font color="#FF0000"><b>else
      if </b></font>take16 <font color="#FF0000"><b>then
        </b></font>Writeln<font color="#000080">(</font>convert16<font color="#000080">(</font>sourcepath <font color="#000080">+ </font>filar<font color="#000080">[</font>i<font color="#000080">]^.</font>name<font color="#000080">, </font>filar<font color="#000080">[</font>i<font color="#000080">]^.</font>size<font color="#000080">,
                </font><font color="#800000">5</font><font color="#000080">, </font><font color="#800000">35</font><font color="#000080">, </font>WhereY<font color="#000080">))
      </font><font color="#FF0000"><b>else
        </b></font>Writeln<font color="#000080">(</font>convert16_32<font color="#000080">(</font>sourcepath <font color="#000080">+ </font>filar<font color="#000080">[</font>i<font color="#000080">]^.</font>name<font color="#000080">, </font>filar<font color="#000080">[</font>i<font color="#000080">]^.</font>size<font color="#000080">,
                </font><font color="#800000">5</font><font color="#000080">, </font><font color="#800000">35</font><font color="#000080">, </font>WhereY<font color="#000080">));
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.



</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to CRC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p></body>
</html>
