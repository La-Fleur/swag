<html>
<head><title> "Disable Ctrl-Break" by BO KALTOFT</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0052.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
BO KALTOFT

&gt; How can i disable the Pascal interrupt key Ctrl-Break?
}

</i></font><font color="#FF0000"><b>Const
  </b></font>BreakKey <font color="#000080">: </font>Boolean <font color="#000080">= </font>False<font color="#000080">;
  </font>BreakOff <font color="#000080">: </font>Boolean <font color="#000080">= </font>False<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>BreakSave <font color="#000080">: </font>Pointer<font color="#000080">;

</font><font color="#008000"><i>{$F+}
</i></font><font color="#FF0000"><b>Procedure </b></font>BreakHandler<font color="#000080">; </font>Interrupt<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>BreakKey <font color="#000080">:= </font>True<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{$F-}


</i></font><font color="#FF0000"><b>Procedure </b></font>CBOff<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>GetIntVec<font color="#000080">(</font><font color="#800000">$1B</font><font color="#000080">, </font>BreakSave<font color="#000080">);
  </font>SetIntVec<font color="#000080">(</font><font color="#800000">$1B</font><font color="#000080">, </font>Addr<font color="#000080">(</font>BreakHandler<font color="#000080">));
  </font>BreakOff <font color="#000080">:= </font>True<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CBOn<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>SetIntVec<font color="#000080">(</font><font color="#800000">$1B</font><font color="#000080">, </font>BreakSave<font color="#000080">);
  </font>BreakOff <font color="#000080">:= </font>False<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>BreakSave <font color="#000080">:= </font><font color="#FF0000"><b>Nil</b></font><font color="#000080">;
  </font>CBOff<font color="#000080">; </font><font color="#008000"><i>{disable}
  </i></font><font color="#000080">.
  .
  .
  </font>CBOn<font color="#000080">;  </font><font color="#008000"><i>{enable}
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0052.PAS">Original</a><b>]</b></p></body>
</html>
