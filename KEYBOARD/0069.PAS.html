<html>
<head><title> "Ctrl-Break Disabler" by TOBIN FRICKE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0069.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
-&gt; I'm having alot of trouble trying to stop people breaking out of my
-&gt; programs.  I've been trying to figure out how to stop the
-&gt; &lt;ctrl&gt;-&lt;break&gt;, &lt;ctrl&gt;-&lt;c&gt; , but with no luck...  Can't seem to find
-&gt; anything in the help menu's....
-&gt; ---

If you are using CRT, use CHECKBREAK:=FALSE.  Also, you can disble it
permenantly like this:
}
</i></font><font color="#FF0000"><b>Program </b></font>TTXBREAK_Which_Means_TobinTech_ControlBreak_Disabler_Program<font color="#000080">;


</font><font color="#FF0000"><b>Uses </b></font>DOS<font color="#000080">,</font>CRT<font color="#000080">;

</font><font color="#008000"><i>{$M 2000,0,0}
{$R-,S-,I-,F+,V-,B-}

</i></font><font color="#FF0000"><b>Const </b></font>ControlCInt<font color="#000080">=</font><font color="#800000">$23</font><font color="#000080">;
      </font>ControlBreakInt<font color="#000080">=</font><font color="#800000">$1B</font><font color="#000080">;


</font><font color="#FF0000"><b>Var
 </b></font>OldControlCVec<font color="#000080">:</font>Pointer<font color="#000080">;
 </font>OldControlBreakVec<font color="#000080">:</font>Pointer<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>STI<font color="#000080">;
</font><font color="#FF0000"><b>Inline</b></font><font color="#000080">(</font><font color="#800000">$FB</font><font color="#000080">);

</font><font color="#FF0000"><b>Procedure </b></font>CLI<font color="#000080">;
</font><font color="#FF0000"><b>Inline</b></font><font color="#000080">(</font><font color="#800000">$FA</font><font color="#000080">);

</font><font color="#FF0000"><b>Procedure </b></font>CallOldInt<font color="#000080">(</font>Sub<font color="#000080">:</font>Pointer<font color="#000080">);
</font><font color="#FF0000"><b>begin
 Inline</b></font><font color="#000080">(</font><font color="#800000">$9C</font><font color="#000080">/                    </font><font color="#008000"><i>{ PUSHF }
        </i></font><font color="#800000">$FF</font><font color="#000080">/</font><font color="#800000">$5E</font><font color="#000080">/</font><font color="#800000">$06</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>BlockInterrupt<font color="#000080">; </font>Interrupt<font color="#000080">;
 </font><font color="#008000"><i>{BlockInterrupt is a generic procedure for blocking an interrupt}
</i></font><font color="#FF0000"><b>begin
 </b></font>STI<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>begin
 </b></font>Writeln<font color="#000080">(</font><font color="#800000">'TobinTech Control-C disable program            '</font><font color="#000080">);
 </font>GetIntVec<font color="#000080">(</font>ControlCInt<font color="#000080">, </font>OldControlCVec<font color="#000080">);
 </font>SetIntVec<font color="#000080">(</font>ControlCInt<font color="#000080">, @</font>BlockInterrupt<font color="#000080">);
 </font>Writeln<font color="#000080">(</font><font color="#800000">' &gt; CONTROL-C disabled.                         '</font><font color="#000080">);
 </font>GetIntVec<font color="#000080">(</font>ControlBreakInt<font color="#000080">, </font>OldControlBreakVec<font color="#000080">);
 </font>SetIntVec<font color="#000080">(</font>ControlBreakInt<font color="#000080">, @</font>BlockInterrupt<font color="#000080">);
 </font>Writeln<font color="#000080">(</font><font color="#800000">' &gt; CONTROL-BREAK disabled.                     '</font><font color="#000080">);
 </font>Writeln<font color="#000080">(</font><font color="#800000">' Terminating, but Staying Resident in memory...'</font><font color="#000080">);
 </font>Keep<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0069.PAS">Original</a><b>]</b></p></body>
</html>
