<html>
<head><title> "Reading Extended Keys" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0102.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{

  This program example can replace the ReadKey Function and can
  be used in the same way.  However it does require an AT extended
  keyboard and might be unpredictable if used with a non extended
  keyboard.  This code also requires that you define a global variable
  called ScanCode of type char.  This is important in determining
  whether the key is a standard or extended type.

  Borland Technical Support releases example code to help demonstrate
  common programming usage.  Since this is not a commercial product,
  Borland does not provide technical support for these demonstration
  programs or offer any warranty.

}

</i></font><font color="#FF0000"><b>program </b></font>ReadExtendedKey<font color="#000080">;

</font><font color="#FF0000"><b>var
</b></font>ScanCode<font color="#000080">:</font>char<font color="#000080">;   </font><font color="#008000"><i>{ Make this a global variable }

</i></font><font color="#FF0000"><b>function </b></font>ReadExtKey<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>C<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
asm
</b></font>	<font color="#FF00FF">MOV</font>	<font color="#FF00FF">AL,ScanCode
</font>	<font color="#FF00FF">MOV</font>	<font color="#FF00FF">ScanCode,0
</font>	<font color="#FF00FF">OR</font>	<font color="#FF00FF">AL,AL
</font>	<font color="#FF00FF">JNE</font>	<font color="#FF00FF">@@1
</font>	<font color="#FF00FF">MOV</font>	<font color="#FF00FF">AH,$10
</font>	<font color="#FF00FF">INT</font>	<font color="#FF00FF">16H
</font>	<font color="#FF00FF">OR</font>	<font color="#FF00FF">AL,AL
</font>	<font color="#FF00FF">JNE</font>	<font color="#FF00FF">@@1
</font>	<font color="#FF00FF">MOV</font>	<font color="#FF00FF">ScanCode,AH
</font>	<font color="#FF00FF">OR</font>	<font color="#FF00FF">AH,AH
</font>	<font color="#FF00FF">JNE</font>	<font color="#FF00FF">@@1
</font>	<font color="#FF00FF">MOV</font>	<font color="#FF00FF">AL,'C'-64
@@1:    MOV     C, AL

</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>ReadExtKey <font color="#000080">:= </font>C<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>ch1<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>write<font color="#000080">(</font><font color="#800000">'Please enter a key -&gt; '</font><font color="#000080">);
  </font>ch1<font color="#000080">:= </font>ReadExtKey<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>ch1<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then  </b></font><font color="#008000"><i>{ Received an extended key }
  </i></font><font color="#FF0000"><b>begin
    </b></font>writeln<font color="#000080">(</font>ch1<font color="#000080">);
    </font>write<font color="#000080">(</font><font color="#800000">'Extended Key -&gt; '</font><font color="#000080">);
    </font>ch1<font color="#000080">:= </font>ReadExtKey<font color="#000080">; </font><font color="#008000"><i>{ Get the extended key }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>writeln<font color="#000080">(</font>ch1<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0102.PAS">Original</a><b>]</b></p></body>
</html>
