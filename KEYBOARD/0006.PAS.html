<html>
<head><title> "Turn Keyboard OFF" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0006.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{IDIOT PASCAL 101
----------------

Welcome to IP 101. In today's lesson we will be answering a few
often asked questions about Turbo Pascal. if you signed up For
IDIOT C/C++ 101, please get up and run beFore you get shot.

Q:  HOW do I TURN ofF/ON THE KEYBOARD FROM MY Program?
A:  Easy. Though you may search through many books, you will find
    the answer in a Excellent reference called _THE MS-Dos
    ENCYCLOPEDIA_. It tells of a mystical I/O port where you can
    turn off/on the keyboard by just flipping a bit. This port is
    the 8259 Programmible Interrupt Controller. Now, part of the
    8259 is the Interrupt Mask Register, or IMR For short. The
    port location is $21. to turn off the Keyboard...(RECKLESSLY)

}    </i></font><font color="#FF0000"><b>Procedure </b></font>KEYBOARD_ofF<font color="#000080">;

      </font><font color="#FF0000"><b>begin
        </b></font>PorT<font color="#000080">[</font><font color="#800000">$21</font><font color="#000080">]:=</font><font color="#800000">$02
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{
    to turn the keyboard back on (RECKLESSLY), just set the port
    back to $0.

      (THE MSDos ENCYCLOPEDIA (C) 1988 Microsoft Press p417)

Q: HOW do I FLIP BITS ON/ofF in A Byte or Integer?
A: Simple, Really.  The following Procedures work on both
   Byte,Char,Boolean,Integer, and Word values(I hope).
}
</i></font><font color="#FF0000"><b>Procedure </b></font>SBIT<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>TARGET<font color="#000080">;</font>BITNUM<font color="#000080">:</font>Integer<font color="#000080">);   </font><font color="#008000"><i>{set bit}

</i></font><font color="#FF0000"><b>Var
  </b></font>SUBJECT <font color="#000080">: </font>Integer <font color="#FF0000"><b>Absolute </b></font>TARGET<font color="#000080">;
  </font>MASK    <font color="#000080">: </font>Integer<font color="#000080">;

 </font><font color="#FF0000"><b>begin
   </b></font>MASK <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font>BITNUM<font color="#000080">;
   </font>SUBJECT <font color="#000080">:= </font>SUBJECT <font color="#FF0000"><b>or </b></font>MASK
 <font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CBIT<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>TARGET<font color="#000080">;</font>BITNUM<font color="#000080">:</font>Integer<font color="#000080">);  </font><font color="#008000"><i>{clear bit}

 </i></font><font color="#FF0000"><b>Var
   </b></font>SUBJECT <font color="#000080">: </font>Integer <font color="#FF0000"><b>Absolute </b></font>TARGET<font color="#000080">;
   </font>MASK    <font color="#000080">: </font>Integer<font color="#000080">;

  </font><font color="#FF0000"><b>begin
    </b></font>MASK <font color="#000080">:= </font><font color="#FF0000"><b>not</b></font><font color="#000080">(</font><font color="#800000">1 </font><font color="#FF0000"><b>SHL </b></font>BITNUM<font color="#000080">);
    </font>SUBJECT <font color="#000080">:= </font>SUBJECT <font color="#FF0000"><b>and </b></font>MASK
  <font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SETBIT<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>TARGET<font color="#000080">;</font>BITNUM<font color="#000080">:</font>Integer<font color="#000080">;</font>VALUE<font color="#000080">:</font>Byte<font color="#000080">);</font><font color="#008000"><i>{control}
                                                       {Proc.  }
 </i></font><font color="#FF0000"><b>begin
   if </b></font>VALUE <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>then
     </b></font>SBIT<font color="#000080">(</font>TARGET<font color="#000080">,</font>BITNUM<font color="#000080">)
   </font><font color="#FF0000"><b>else
     </b></font>CBIT<font color="#000080">(</font>TARGET<font color="#000080">,</font>BITNUM<font color="#000080">)
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0006.PAS">Original</a><b>]</b></p></body>
</html>
