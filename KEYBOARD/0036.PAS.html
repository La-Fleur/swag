<html>
<head><title> "Read Key - NO REMOVE" by JOSE ALMEIDA</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0036.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ Reads a key from the keyboard buffer, WITHOUT removing it.
  Part of the Heartware Toolkit v2.00 (HTkey1.PAS) for Turbo Pascal.
  Author: Jose Almeida. P.O.Box 4185. 1504 Lisboa Codex. Portugal.
          I can also be reached at RIME network, site -&gt;TIB or #5314.
  Feel completely free to use this source code in any way you want, and, if
  you do, please don't forget to mention my name, and, give me and Swag the
  proper credits. }

</i></font><font color="#FF0000"><b>FUNCTION </b></font>Read_Key <font color="#000080">: </font>word<font color="#000080">;
</font><font color="#008000"><i>{ DESCRIPTION:
    Reads a key from the keyboard buffer, WITHOUT removing it.
  SAMPLE CALL:
    NW := Read_Key;
  RETURNS:
    The scan code of the key that is ready to be readen from the buffer, or,
      if there is no key in the buffer, returns $FFFF value.
  NOTES:
    This is a special function. It's only to be called in very special
      situations. It checks if a key is ready in the keyboard
      buffer. If there is a key, then the key is readed but NOT removed
      from the buffer. The key will remain in the buffer. }

</i></font><font color="#FF0000"><b>var
  </b></font>HTregs <font color="#000080">: </font>registers<font color="#000080">;

</font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>{ Read_Key }
  </i></font>HTregs<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$01</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$16</font><font color="#000080">,</font>HTregs<font color="#000080">);
  </font><font color="#FF0000"><b>if not </b></font><font color="#000080">(</font>HTregs<font color="#000080">.</font>Flags <font color="#FF0000"><b>and </b></font>FZero <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
    </b></font>Read_Key <font color="#000080">:= </font>HTregs<font color="#000080">.</font>AX
  <font color="#FF0000"><b>else
    </b></font>Read_Key <font color="#000080">:= </font><font color="#800000">$FFFF</font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">; </font><font color="#008000"><i>{ Read_Key }
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to KEYBOARD SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0036.PAS">Original</a><b>]</b></p></body>
</html>
