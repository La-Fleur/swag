<html>
<head><title> "PhotoRAM" by ROB ROSENBERGER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MEMORY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0048.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{$A+,B-,D+,E+,F-,I-,L+,N-,O-,R+,S+,V+}
{$M 2048,0,0}
</i></font><font color="#FF0000"><b>PROGRAM </b></font>PhotoRAM<font color="#000080">(</font>INPUT<font color="#000080">,</font>OUTPUT<font color="#000080">);

   </font><font color="#008000"><i>{Rob Rosenberger             VOX: (618) 632-7345
    Barn Owl Software           BBS: (618) 398-5703
    P.O. Box #74                HST: (618) 398-2305
    O'Fallon, IL 62269          CIS: 74017,1344

   This program simply snapshots memory to disk.  It was developed so a user
from across the country could take a snapshot of his memory configuration and
present it for inspection.

   You'll need to change the &quot;TotalRAM&quot; constant if you have a system with
less than 640k of memory.

Version 1.00: released to the public domain on 27 August 1989.
   See above for the reason why this program was created.}


</i></font><font color="#FF0000"><b>CONST
   </b></font>TotalRAM <font color="#000080">= </font><font color="#800000">640</font><font color="#000080">; </font><font color="#008000"><i>{total memory, in kilobytes}

</i></font><font color="#FF0000"><b>VAR
   </b></font>Index     <font color="#000080">: </font>WORD<font color="#000080">;
   </font>PhotoFile <font color="#000080">: </font><font color="#FF0000"><b>FILE</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN </b></font><font color="#008000"><i>{PhotoRAM}
{Initialize.}
</i></font>Index <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;


</font><font color="#008000"><i>{Check for question mark, it means they want the help screen.}
</i></font><font color="#FF0000"><b>IF </b></font><font color="#000080">((</font>PARAMSTR<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">) = </font><font color="#800000">''</font><font color="#000080">)
 </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>PARAMSTR<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">) = </font><font color="#800000">'?'</font><font color="#000080">))
 </font><font color="#FF0000"><b>THEN </b></font><font color="#008000"><i>{display a help screen}
    </i></font><font color="#FF0000"><b>BEGIN
    </b></font>WRITELN<font color="#000080">(</font>OUTPUT<font color="#000080">,^</font>M<font color="#000080">^</font>J<font color="#800000">'Syntax:   PHOTORAM filename'</font><font color="#000080">^</font>M<font color="#000080">^</font>J<font color="#000080">);
    </font>WRITELN<font color="#000080">(</font>OUTPUT<font color="#000080">,</font><font color="#800000">'A public domain program by Rob Rosenberger (who?)'</font><font color="#000080">^</font>M<font color="#000080">^</font>J<font color="#000080">);
    </font>WRITELN<font color="#000080">(</font>OUTPUT<font color="#000080">,</font><font color="#800000">'Takes a &quot;snapshot&quot; of RAM and sends it to the filename'</font><font color="#000080">);
    </font>WRITELN<font color="#000080">(</font>OUTPUT<font color="#000080">,</font><font color="#800000">'you specify.  You must have at least 640k of free disk'</font><font color="#000080">);
    </font>WRITELN<font color="#000080">(</font>OUTPUT<font color="#000080">,</font><font color="#800000">'space for the snapshot file.'</font><font color="#000080">^</font>M<font color="#000080">^</font>J<font color="#000080">);
    </font>HALT<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">)
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#008000"><i>{If we get this far, PARAMSTR(1) contains a filename.}
{Open the file.}
</i></font>ASSIGN<font color="#000080">(</font>PhotoFile<font color="#000080">,</font>PARAMSTR<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">));
</font>REWRITE<font color="#000080">(</font>PhotoFile<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);

</font><font color="#FF0000"><b>FOR </b></font>Index <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>TO </b></font><font color="#000080">((</font>TotalRAM <font color="#FF0000"><b>DIV </b></font><font color="#800000">$40</font><font color="#000080">) - </font><font color="#800000">$1</font><font color="#000080">)
 </font><font color="#FF0000"><b>DO BEGIN
    </b></font>BLOCKWRITE<font color="#000080">(</font>PhotoFile<font color="#000080">,</font>PTR<font color="#000080">(</font>Index<font color="#000080">,</font><font color="#800000">$0000</font><font color="#000080">)^,</font><font color="#800000">$8000</font><font color="#000080">);
    </font>BLOCKWRITE<font color="#000080">(</font>PhotoFile<font color="#000080">,</font>PTR<font color="#000080">(</font>Index<font color="#000080">,</font><font color="#800000">$8000</font><font color="#000080">)^,</font><font color="#800000">$8000</font><font color="#000080">)
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font>CLOSE<font color="#000080">(</font>PhotoFile<font color="#000080">)
</font><font color="#008000"><i>{And that's all he wrote!}
</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">. </font><font color="#008000"><i>{PhotoRAM}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MEMORY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0048.PAS">Original</a><b>]</b></p></body>
</html>
