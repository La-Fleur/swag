<html>
<head><title> "Total Memory" by KENT BRIGGS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MEMORY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0043.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; How would you go about displaying themount of total memory ram
&gt; installed in a computer.
&gt; i have tried Intr($15,regs);
&gt; with regs do
&gt; AH := $88;
&gt; Writeln(regs.(AX);
&gt; I read the above in Peter Nortons Programmers Bible  but i get some
&gt; number that I'm sure what to do which;
&gt; i was wondering if some one could help thanks

     Russ, you have to load AH with $88 before the Int 15 call, not
     after.  However, HIMEM hooks this interrupt anyway and only shows
     available extended memory, not installed memory.  Try the following
     program instead:
}
</i></font><font color="#FF0000"><b>program </b></font>show_ram<font color="#000080">;
</font><font color="#FF0000"><b>const
  </b></font>int15<font color="#000080">: </font>longint <font color="#000080">= </font><font color="#800000">$f000f859</font><font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>baseram<font color="#000080">,</font>extram<font color="#000080">: </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  asm
    </b></font><font color="#FF00FF">int   12h
    mov   baseram,ax
    mov   ah,88h
    pushf
    call  int15
    mov   extram,ax
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>writeln<font color="#000080">(</font><font color="#800000">'Base RAM = '</font><font color="#000080">,</font>baseram<font color="#000080">,</font><font color="#800000">' Kbytes'</font><font color="#000080">);
  </font>writeln<font color="#000080">(</font><font color="#800000">'Extended RAM = '</font><font color="#000080">,</font>extram<font color="#000080">,</font><font color="#800000">' KBytes'</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#008000"><i>{
This works on 286 cpu's and above since 8088/8086's don't have
extended memory.
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MEMORY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0043.PAS">Original</a><b>]</b></p></body>
</html>
