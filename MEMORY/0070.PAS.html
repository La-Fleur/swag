<html>
<head><title> "Decreasing Heap Limits" by JOHN STEPHENSON</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MEMORY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0070.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; You can NOT decrease heap-limit. It does not deallocate the heap even
&gt; if you do. What you need is swapping.

Can too. Look at the Memory unit, and use &quot;Setmemtop&quot; eg:
}

</i></font><font color="#FF0000"><b>uses </b></font>memory<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>oldheapend<font color="#000080">: </font>pointer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>oldheapend <font color="#000080">:= </font>heapend<font color="#000080">;
  </font>heapend <font color="#000080">:= </font>heapptr<font color="#000080">;
  </font>setmemtop<font color="#000080">(</font>heapend<font color="#000080">);
  </font><font color="#008000"><i>{ Do whatever since your heap is now at the minimum }

  </i></font>heapend <font color="#000080">:= </font>oldheapend<font color="#000080">;
  </font>setmemtop<font color="#000080">(</font>heapend<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MEMORY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0070.PAS">Original</a><b>]</b></p></body>
</html>
