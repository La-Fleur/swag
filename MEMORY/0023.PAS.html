<html>
<head><title> "Compare Memory Blocks" by JOACHIM BARTZ</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MEMORY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0023.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ JOACHIM BARTZ }

</i></font><font color="#FF0000"><b>Function </b></font>CompBlocks<font color="#000080">(</font>Buf1<font color="#000080">, </font>Buf2 <font color="#000080">: </font>Pointer<font color="#000080">;
                          </font>BufSize <font color="#000080">: </font>Word<font color="#000080">) : </font>Boolean<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm                 </b></font><font color="#008000"><i>{ Compares two buffers and returns True if contents are equal }
  </i></font><font color="#FF00FF">PUSH        DS
  MOV          AX,1                </font><font color="#008000"><i>{ Init error return: True }
  </i></font><font color="#FF00FF">LDS          SI,Buf1
  LES          DI,Buf2
  MOV          CX,BufSize
  JCXZ        @@Done
  CLD                            </font><font color="#008000"><i>{ Loop Until different or end of buffer }
  </i></font><font color="#FF00FF">REP          CMPSB       </font><font color="#008000"><i>{ Flag to bump SI,DI }
  </i></font><font color="#FF00FF">JE          @@Done
                          </font><font color="#008000"><i>{ Compare error }
  </i></font><font color="#FF00FF">XOR          AX, AX            </font><font color="#008000"><i>{ Return False }
 </i></font><font color="#FF00FF">@@Done:
  POP          DS                </font><font color="#008000"><i>{ Restore }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MEMORY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0023.PAS">Original</a><b>]</b></p></body>
</html>
