<html>
<head><title> "BLOCKRW1.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to RECORDS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Does anyone have any examples of how to Write Text to a File using
blockWrite?
}
</i></font><font color="#FF0000"><b>Program </b></font>DemoBlockWrite<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font><font color="#008000"><i>{ Carriage-return + Line-feed Constant. }
  </i></font>co_CrLf <font color="#000080">= </font><font color="#800000">#13#10</font><font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>st_Temp <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>fi_Temp <font color="#000080">: </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
  </font>wo_BytesWritten <font color="#000080">: </font>Word<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font><font color="#008000"><i>{ Assign 5 lines of Text to temp String. }
  </i></font>st_Temp <font color="#000080">:= </font><font color="#800000">'Line 1 of Text File' </font><font color="#000080">+ </font>co_CrLf <font color="#000080">+ </font><font color="#800000">'Line 2 of Text File'
             </font><font color="#000080">+ </font>co_CrLf <font color="#000080">+ </font>co_CrLf <font color="#000080">+ </font><font color="#800000">'Line 4 of Text File' </font><font color="#000080">+ </font>co_CrLf <font color="#000080">+
             </font><font color="#800000">' My name is MUD ' </font><font color="#000080">+ </font>co_CrLf<font color="#000080">;

  </font>assign<font color="#000080">(</font>fi_Temp<font color="#000080">, </font><font color="#800000">'TEST.TXT'</font><font color="#000080">);
  </font><font color="#008000"><i>{$I-}
  </i></font>reWrite<font color="#000080">(</font>fi_Temp<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font><font color="#008000"><i>{$I+}
  </i></font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>ioresult <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
  begin
    </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Error creating TEST.TXT File'</font><font color="#000080">);
    </font>Halt
  <font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#008000"><i>{ Write 5 lines of Text to File. }
  </i></font>BlockWrite<font color="#000080">(</font>fi_Temp<font color="#000080">, </font>st_Temp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">], </font>length<font color="#000080">(</font>st_Temp<font color="#000080">), </font>wo_BytesWritten<font color="#000080">);
  </font><font color="#008000"><i>{ Check For errors writing Text to File. }
  </i></font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>wo_BytesWritten <font color="#000080">&lt;&gt; </font>length<font color="#000080">(</font>st_Temp<font color="#000080">)) </font><font color="#FF0000"><b>then
  begin
    </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Error writing Text to File!'</font><font color="#000080">);
    </font>Halt
  <font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#008000"><i>{ Close File. }
  </i></font>Close<font color="#000080">(</font>fi_Temp<font color="#000080">);
  </font><font color="#008000"><i>{ Attempt to open Text File again. }
  </i></font>Assign<font color="#000080">(</font>fi_Temp<font color="#000080">, </font><font color="#800000">'TEST.TXT'</font><font color="#000080">);
  </font><font color="#008000"><i>{$I-}
  </i></font>Reset<font color="#000080">(</font>fi_Temp<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font><font color="#008000"><i>{$I+}
  </i></font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>IOResult <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
  begin
    </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Error opening TEST.TXT File'</font><font color="#000080">);
    </font>Halt
  <font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>st_Temp <font color="#000080">:= </font><font color="#800000">'Guy'</font><font color="#000080">;
  </font><font color="#008000"><i>{ Position File-Pointer just before the 'MUD' in Text. }
  </i></font>seek<font color="#000080">(</font>fi_Temp<font color="#000080">, </font><font color="#800000">77</font><font color="#000080">);
  </font><font color="#008000"><i>{ Correct my name by overwriting old Text With new. }
  </i></font>blockWrite<font color="#000080">(</font>fi_Temp<font color="#000080">, </font>st_Temp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">], </font>length<font color="#000080">(</font>st_Temp<font color="#000080">), </font>wo_BytesWritten<font color="#000080">);
  </font><font color="#008000"><i>{ Check For errors writing Text to File. }
  </i></font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>wo_BytesWritten <font color="#000080">&lt;&gt; </font>length<font color="#000080">(</font>st_Temp<font color="#000080">)) </font><font color="#FF0000"><b>then
  begin
    </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Error writing Text to File!'</font><font color="#000080">);
    </font>Halt
  <font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Close<font color="#000080">(</font>fi_Temp<font color="#000080">)
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to RECORDS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p></body>
</html>
