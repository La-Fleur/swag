<html>
<head><title> "Fast Delete Typed Records" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to RECORDS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0008.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">BG<font color="#000080">&gt;</font>JB<font color="#000080">&gt;</font>A method that I have successfully used <font color="#FF0000"><b>to </b></font>delete records <font color="#FF0000"><b>in </b></font>place <font color="#FF0000"><b>is
</b></font>BG<font color="#000080">&gt;</font>JB<font color="#000080">&gt;</font><font color="#FF0000"><b>to</b></font><font color="#000080">...

  </font><font color="#800000">'Scuse me for butting in, but I have another approach which will
  </font>preserve your <font color="#FF0000"><b>record </b></font>order<font color="#000080">. </font>I will present it <font color="#FF0000"><b>for </b></font>a <font color="#FF0000"><b>file of </b></font>records
  the total size <font color="#FF0000"><b>of </b></font>which <font color="#FF0000"><b>is </b></font>less than <font color="#800000">64</font>K<font color="#000080">. </font>The routine may easily be
  adapted <font color="#FF0000"><b>for </b></font>large files<font color="#000080">:

</font><font color="#FF0000"><b>procedure </b></font>del_rec<font color="#000080">(</font>fname <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>target <font color="#000080">: </font>longint<font color="#000080">;</font>rec_size <font color="#000080">: </font>longint<font color="#000080">);
</font><font color="#FF0000"><b>type
  </b></font>t_buf<font color="#000080">=</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">65520</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>f <font color="#000080">: </font><font color="#FF0000"><b>file</b></font><font color="#000080">;
  </font>buf <font color="#000080">:</font> t_buf<font color="#000080">;
  </font>n <font color="#000080">: </font>word<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>new<font color="#000080">(</font>buf<font color="#000080">);
  </font>assign<font color="#000080">(</font>f<font color="#000080">,</font>fname<font color="#000080">);  </font><font color="#008000"><i>{ open your file }
  </i></font>reset<font color="#000080">(</font>f<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
  </font>blockread<font color="#000080">(</font>f<font color="#000080">,</font>buf<font color="#000080">,</font>sizeof<font color="#000080">(</font>buf<font color="#000080">),</font>n<font color="#000080">);
  </font>close<font color="#000080">(</font>f<font color="#000080">);

  </font>move<font color="#000080">(</font>buf<font color="#000080">[</font>succ<font color="#000080">(</font>target<font color="#000080">)*</font>rec_size<font color="#000080">],</font>buf<font color="#000080">[</font>target<font color="#000080">*</font>rec_size<font color="#000080">],</font>n<font color="#000080">-(</font>target<font color="#000080">*</font>rec_size<font color="#000080">));
  </font>dec<font color="#000080">(</font>n<font color="#000080">,</font>rec_size<font color="#000080">);
  </font>rewrite<font color="#000080">(</font>f<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
  </font>blockwrite<font color="#000080">(</font>f<font color="#000080">,</font>buf<font color="#000080">,</font>n<font color="#000080">);
  </font>close<font color="#000080">(</font>f<font color="#000080">);
  </font>dispose<font color="#000080">(</font>buf<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
---
 * </font>The Right Place <font color="#000080">(</font>tm<font color="#000080">) </font>BBS<font color="#000080">/</font>Atlanta <font color="#000080">- </font><font color="#800000">404</font><font color="#000080">/</font><font color="#800000">476</font><font color="#000080">-</font><font color="#800000">2607 </font>SuperRegional Hub
 <font color="#000080">* </font>PostLink<font color="#000080">(</font>tm<font color="#000080">) </font>v1<font color="#000080">.</font><font color="#800000">05  </font>TRP <font color="#000080">(</font><font color="#800000">#564</font><font color="#000080">) : </font>RelayNet<font color="#000080">(</font>tm<font color="#000080">)
---
 &thorn; </font>OLX <font color="#800000">2.1 </font>TD <font color="#000080">&thorn; </font>I just steal <font color="#800000">'em, I don'</font>t explain <font color="#800000">'em.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to RECORDS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0008.PAS">Original</a><b>]</b></p></body>
</html>
