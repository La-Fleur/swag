<html>
<head><title> "Latitude/Longitude" by KENT BRIGGS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0063.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
   Any navigators out there?  I need formulas or source code to calculate
   the distance between two points given the latitude and longitude
   of each point.  I'm trying to write some support software for my
   Sony Pyxis GPS (global positioning system). }


 </i></font><font color="#FF0000"><b>Procedure </b></font>Dist<font color="#000080">( </font><font color="#FF0000"><b>Var </b></font>xlat1<font color="#000080">,</font>xlon1<font color="#000080">,</font>xlat2<font color="#000080">,</font>xlon2<font color="#000080">,</font>xdist<font color="#000080">,</font>ydist<font color="#000080">,</font>distance <font color="#000080">: </font>Real<font color="#000080">);
 </font><font color="#008000"><i>{
 Returns the distance ( in km ) between two points on a tangent plane
 on the earth.
 }
  </i></font><font color="#FF0000"><b>Const
   </b></font>Km <font color="#000080">= </font><font color="#800000">111.19</font><font color="#000080">;
   </font>C1 <font color="#000080">= </font><font color="#800000">0.017453292</font><font color="#000080">;
  </font><font color="#FF0000"><b>Var
   </b></font>Xmlat<font color="#000080">,
   </font>cosm<font color="#000080">,
   </font>Adist   <font color="#000080">: </font>Real<font color="#000080">;

  </font><font color="#FF0000"><b>Begin </b></font><font color="#008000"><i>{ Dist }
 { Calculate cos of mean latitude }
   </i></font>Xmlat <font color="#000080">:= (</font>xlat1<font color="#000080">+</font>xlat2<font color="#000080">)/</font><font color="#800000">2</font><font color="#000080">;
   </font>cosm  <font color="#000080">:= </font>cos<font color="#000080">(</font>xmlat<font color="#000080">*</font>C1<font color="#000080">);
 </font><font color="#008000"><i>{ Calculate Y (N-S) distance }
   </i></font>ydist <font color="#000080">:= (</font>xlat2<font color="#000080">-</font>xlat1<font color="#000080">)*</font>km<font color="#000080">;
 </font><font color="#008000"><i>{ Calculate X (E-W) distance }
   </i></font>xdist <font color="#000080">:= (</font>xlon2<font color="#000080">-</font>xlon1<font color="#000080">)*</font>km<font color="#000080">*</font>cosm<font color="#000080">;
 </font><font color="#008000"><i>{ Calculate total distance }
   </i></font>adist <font color="#000080">:= </font>xdist<font color="#000080">*</font>xdist <font color="#000080">+ </font>ydist<font color="#000080">*</font>ydist<font color="#000080">;
   </font><font color="#FF0000"><b>If </b></font>adist <font color="#000080">&gt;= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
      </b></font>distance <font color="#000080">:= </font>sqrt<font color="#000080">(</font>adist<font color="#000080">)
   </font><font color="#FF0000"><b>Else
      </b></font>distance <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#008000"><i>{ Dist }

</i></font>This <font color="#FF0000"><b>is </b></font>one I use <font color="#FF0000"><b>in </b></font>some wind calculations <font color="#FF0000"><b>for </b></font>an aircraft fitted <font color="#FF0000"><b>with
</b></font>GPS <font color="#FF0000"><b>and </b></font>LORAN<font color="#000080">-</font>C<font color="#000080">.

</font>Note that all Latitude <font color="#FF0000"><b>And </b></font>Longitudes are <font color="#FF0000"><b>in </b></font>Degrees <font color="#FF0000"><b>with </b></font>minutes <font color="#FF0000"><b>and
</b></font>seconds converted <font color="#FF0000"><b>to </b></font>decimal degrees<font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0063.PAS">Original</a><b>]</b></p></body>
</html>
