<html>
<head><title> "Expression Evaluator" by RAINER HUEBENTHAL</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0053.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt;Does anyone have any source for evaluating math expressions? I would like to
&gt;find some source that can evaluate an expression like
&gt;
&gt; 5 * (3 + 4)  or B * 3 + C
}

</i></font><font color="#FF0000"><b>Program </b></font>Test<font color="#000080">;

</font><font color="#FF0000"><b>Uses
  </b></font>Strings<font color="#000080">; </font><font color="#008000"><i>{You have to use your own unit}

</i></font><font color="#FF0000"><b>Var
  </b></font>x <font color="#000080">: </font>Real<font color="#000080">;
  </font>maxvar <font color="#000080">: </font>Integer<font color="#000080">;
  </font>s <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>maxfun <font color="#000080">= </font><font color="#800000">21</font><font color="#000080">;
  </font>func <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>maxfun<font color="#000080">] </font><font color="#FF0000"><b>Of String</b></font><font color="#000080">[</font><font color="#800000">9</font><font color="#000080">] =
           (</font><font color="#800000">'LN'</font><font color="#000080">, </font><font color="#800000">'SINH'</font><font color="#000080">, </font><font color="#800000">'SIN'</font><font color="#000080">, </font><font color="#800000">'COSH'</font><font color="#000080">, </font><font color="#800000">'COS'</font><font color="#000080">, </font><font color="#800000">'TANH'</font><font color="#000080">, </font><font color="#800000">'TAN'</font><font color="#000080">, </font><font color="#800000">'COTH'</font><font color="#000080">, </font><font color="#800000">'COT'</font><font color="#000080">,
            </font><font color="#800000">'SQRT'</font><font color="#000080">, </font><font color="#800000">'SQR'</font><font color="#000080">, </font><font color="#800000">'EXP'</font><font color="#000080">, </font><font color="#800000">'ARCSIN'</font><font color="#000080">, </font><font color="#800000">'ARSINH'</font><font color="#000080">, </font><font color="#800000">'ARCCOS'</font><font color="#000080">, </font><font color="#800000">'ARCOSH'</font><font color="#000080">,
            </font><font color="#800000">'ARCTAN'</font><font color="#000080">, </font><font color="#800000">'ARTANH'</font><font color="#000080">, </font><font color="#800000">'ARCCOT'</font><font color="#000080">, </font><font color="#800000">'ARCOTH'</font><font color="#000080">, </font><font color="#800000">'NEG'</font><font color="#000080">);

</font><font color="#FF0000"><b>Var
  </b></font>errnum <font color="#000080">: </font>Integer<font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>Calculate<font color="#000080">(</font>f <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">) : </font>Real<font color="#000080">;

</font><font color="#FF0000"><b>Var
</b></font><font color="#008000"><i>{  errnum : Integer;}
  </i></font>eps <font color="#000080">: </font>Real<font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>Eval<font color="#000080">(</font>l<font color="#000080">, </font>r <font color="#000080">: </font>Integer<font color="#000080">) : </font>Real<font color="#000080">;

  </font><font color="#FF0000"><b>Var
    </b></font>i<font color="#000080">, </font>j<font color="#000080">, </font>k<font color="#000080">, </font>wo<font color="#000080">, </font>op <font color="#000080">: </font>Integer<font color="#000080">;
    </font>result<font color="#000080">, </font>t1<font color="#000080">, </font>t2 <font color="#000080">: </font>real<font color="#000080">;

  </font><font color="#FF0000"><b>Begin
    If </b></font>errnum <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Exit<font color="#000080">;
    </font>wo <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>op <font color="#000080">:= </font><font color="#800000">6</font><font color="#000080">; </font>k <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;

    </font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>f<font color="#000080">[</font>l<font color="#000080">] = </font><font color="#800000">'('</font><font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>f<font color="#000080">[</font>r<font color="#000080">] = </font><font color="#800000">')'</font><font color="#000080">) </font><font color="#FF0000"><b>Do Begin
      </b></font>Inc<font color="#000080">(</font>l<font color="#000080">); </font>Dec<font color="#000080">(</font>r<font color="#000080">);
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>If </b></font>l <font color="#000080">&gt; </font>r <font color="#FF0000"><b>Then Begin
      </b></font>errnum <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">; </font>eval <font color="#000080">:= </font><font color="#800000">0.0</font><font color="#000080">; </font>Exit<font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font>l <font color="#FF0000"><b>To </b></font>r <font color="#FF0000"><b>Do Begin

       Case </b></font>f<font color="#000080">[</font>i<font color="#000080">] </font><font color="#FF0000"><b>of
          </b></font><font color="#800000">'('</font><font color="#000080">:  </font>Inc<font color="#000080">(</font>k<font color="#000080">);
          </font><font color="#800000">')'</font><font color="#000080">:  </font>Dec<font color="#000080">(</font>k<font color="#000080">);
          </font><font color="#FF0000"><b>Else If </b></font>k <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
            Case </b></font>f<font color="#000080">[</font>i<font color="#000080">] </font><font color="#FF0000"><b>of

              </b></font><font color="#800000">'+' </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
                </b></font>wo <font color="#000080">:= </font>i<font color="#000080">; </font>op <font color="#000080">:= </font><font color="#800000">1
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

              </font><font color="#800000">'-' </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
                </b></font>wo <font color="#000080">:= </font>i<font color="#000080">; </font>op <font color="#000080">:= </font><font color="#800000">2
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

              </font><font color="#800000">'*' </font><font color="#000080">: </font><font color="#FF0000"><b>If </b></font>op <font color="#000080">&gt; </font><font color="#800000">2 </font><font color="#FF0000"><b>Then Begin
                </b></font>wo <font color="#000080">:= </font>i<font color="#000080">; </font>op <font color="#000080">:= </font><font color="#800000">3
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

              </font><font color="#800000">'/' </font><font color="#000080">: </font><font color="#FF0000"><b>If </b></font>op <font color="#000080">&gt; </font><font color="#800000">2 </font><font color="#FF0000"><b>Then Begin
                </b></font>wo <font color="#000080">:= </font>i<font color="#000080">; </font>op <font color="#000080">:= </font><font color="#800000">4
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

              </font><font color="#800000">'^' </font><font color="#000080">: </font><font color="#FF0000"><b>If </b></font>op <font color="#000080">&gt; </font><font color="#800000">4 </font><font color="#FF0000"><b>Then Begin
                </b></font>wo <font color="#000080">:= </font>i<font color="#000080">; </font>op <font color="#000080">:= </font><font color="#800000">5
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>If </b></font>k <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then Begin
      </b></font>errnum <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">; </font>eval <font color="#000080">:= </font><font color="#800000">0.0</font><font color="#000080">; </font>Exit<font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>If </b></font>op <font color="#000080">&lt; </font><font color="#800000">6 </font><font color="#FF0000"><b>Then Begin
       </b></font>t1 <font color="#000080">:= </font>eval<font color="#000080">(</font>l<font color="#000080">, </font>wo<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">); </font><font color="#FF0000"><b>If </b></font>errnum <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Exit<font color="#000080">;
       </font>t2 <font color="#000080">:= </font>eval<font color="#000080">(</font>wo<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>r<font color="#000080">); </font><font color="#FF0000"><b>If </b></font>errnum <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Exit<font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>Case </b></font>op <font color="#FF0000"><b>of
       </b></font><font color="#800000">1 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
         </b></font>eval <font color="#000080">:= </font>t1 <font color="#000080">+ </font>t2<font color="#000080">;
       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

       </font><font color="#800000">2 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
         </b></font>eval <font color="#000080">:= </font>t1 <font color="#000080">- </font>t2<font color="#000080">;
       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

       </font><font color="#800000">3 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
         </b></font>eval <font color="#000080">:= </font>t1 <font color="#000080">* </font>t2<font color="#000080">;
       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

       </font><font color="#800000">4 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
         If </b></font>Abs<font color="#000080">(</font>t2<font color="#000080">) &lt; </font>eps <font color="#FF0000"><b>Then Begin </b></font>errnum <font color="#000080">:= </font><font color="#800000">4</font><font color="#000080">; </font>eval <font color="#000080">:= </font><font color="#800000">0.0</font><font color="#000080">; </font>Exit<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font>eval <font color="#000080">:= </font>t1 <font color="#000080">/ </font>t2<font color="#000080">;
       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

       </font><font color="#800000">5 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
         If </b></font>t1 <font color="#000080">&lt; </font>eps <font color="#FF0000"><b>Then Begin </b></font>errnum <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">; </font>eval <font color="#000080">:= </font><font color="#800000">0.0</font><font color="#000080">; </font>Exit<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
         </font>eval <font color="#000080">:= </font>exp<font color="#000080">(</font>t2<font color="#000080">*</font>ln<font color="#000080">(</font>t1<font color="#000080">));
       </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

       </font><font color="#800000">6 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin

         </b></font>i<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
         </font><font color="#FF0000"><b>Repeat
           </b></font>Inc<font color="#000080">(</font>i<font color="#000080">);
         </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>i <font color="#000080">&gt; </font>maxfun<font color="#000080">) </font><font color="#FF0000"><b>Or </b></font><font color="#000080">(</font>Pos<font color="#000080">(</font>func<font color="#000080">[</font>i<font color="#000080">], </font>f<font color="#000080">) = </font>l<font color="#000080">);

         </font><font color="#FF0000"><b>If </b></font>i <font color="#000080">&lt;= </font>maxfun <font color="#FF0000"><b>Then </b></font>t1 <font color="#000080">:= </font>eval<font color="#000080">(</font>l<font color="#000080">+</font>length<font color="#000080">(</font>func<font color="#000080">[</font>i<font color="#000080">]), </font>r<font color="#000080">);
         </font><font color="#FF0000"><b>If </b></font>errnum <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Exit<font color="#000080">;

         </font><font color="#FF0000"><b>Case </b></font>i <font color="#FF0000"><b>Of
           </b></font><font color="#800000">1 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
             </b></font>eval <font color="#000080">:= </font>ln<font color="#000080">(</font>t1<font color="#000080">);
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font><font color="#800000">2 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
             </b></font>eval <font color="#000080">:= (</font>exp<font color="#000080">(</font>t1<font color="#000080">)-</font>exp<font color="#000080">(-</font>t1<font color="#000080">))/</font><font color="#800000">2</font><font color="#000080">;
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font><font color="#800000">3 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
             </b></font>eval <font color="#000080">:= </font>sin<font color="#000080">(</font>t1<font color="#000080">);
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font><font color="#800000">4 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
             </b></font>eval <font color="#000080">:= (</font>exp<font color="#000080">(</font>t1<font color="#000080">)+</font>exp<font color="#000080">(-</font>t1<font color="#000080">))/</font><font color="#800000">2</font><font color="#000080">;
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font><font color="#800000">5 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
             </b></font>eval <font color="#000080">:= </font>cos<font color="#000080">(</font>t1<font color="#000080">);
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font><font color="#800000">6 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
             </b></font>eval <font color="#000080">:= </font>exp<font color="#000080">(-</font>t1<font color="#000080">)/(</font>exp<font color="#000080">(</font>t1<font color="#000080">)+</font>exp<font color="#000080">(-</font>t1<font color="#000080">))*</font><font color="#800000">2</font><font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font><font color="#800000">7 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
             </b></font>eval <font color="#000080">:= </font>sin<font color="#000080">(</font>t1<font color="#000080">)/</font>cos<font color="#000080">(</font>t1<font color="#000080">);
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font><font color="#800000">8 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
             </b></font>eval <font color="#000080">:= </font>exp<font color="#000080">(-</font>t1<font color="#000080">)/(</font>exp<font color="#000080">(</font>t1<font color="#000080">)-</font>exp<font color="#000080">(-</font>t1<font color="#000080">))*</font><font color="#800000">2</font><font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

           </font><font color="#800000">9 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
             </b></font>eval <font color="#000080">:= </font>cos<font color="#000080">(</font>t1<font color="#000080">)/</font>sin<font color="#000080">(</font>t1<font color="#000080">);
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">10 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>sqrt<font color="#000080">(</font>t1<font color="#000080">);
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">11 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>sqr<font color="#000080">(</font>t1<font color="#000080">);
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">12 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>exp<font color="#000080">(</font>t1<font color="#000080">);
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">13 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>arctan<font color="#000080">(</font>t1<font color="#000080">/</font>sqrt<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">-</font>sqr<font color="#000080">(</font>t1<font color="#000080">)));
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">14 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>ln<font color="#000080">(</font>t1<font color="#000080">+</font>sqrt<font color="#000080">(</font>sqr<font color="#000080">(</font>t1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)));
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">15 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= -</font>arctan<font color="#000080">(</font>t1<font color="#000080">/</font>sqrt<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">-</font>sqr<font color="#000080">(</font>t1<font color="#000080">)))+</font>pi<font color="#000080">/</font><font color="#800000">2</font><font color="#000080">;
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">16 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>ln<font color="#000080">(</font>t1<font color="#000080">+</font>sqrt<font color="#000080">(</font>sqr<font color="#000080">(</font>t1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)));
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">17 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>arctan<font color="#000080">(</font>t1<font color="#000080">);
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">18 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>ln<font color="#000080">((</font><font color="#800000">1</font><font color="#000080">+</font>t1<font color="#000080">)/(</font><font color="#800000">1</font><font color="#000080">-</font>t1<font color="#000080">))/</font><font color="#800000">2</font><font color="#000080">;
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">19 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>arctan<font color="#000080">(</font>t1<font color="#000080">)+</font>pi<font color="#000080">/</font><font color="#800000">2</font><font color="#000080">;
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">20 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= </font>ln<font color="#000080">((</font>t1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)/(</font>t1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">))/</font><font color="#800000">2</font><font color="#000080">;
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#800000">21 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
            </b></font>eval <font color="#000080">:= -</font>t1<font color="#000080">;
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

          </font><font color="#FF0000"><b>Else
            If </b></font>copy<font color="#000080">(</font>f<font color="#000080">, </font>l<font color="#000080">, </font>r<font color="#000080">-</font>l<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">) = </font><font color="#800000">'PI' </font><font color="#FF0000"><b>Then
              </b></font>eval <font color="#000080">:= </font>Pi
            <font color="#FF0000"><b>Else If </b></font>copy<font color="#000080">(</font>f<font color="#000080">, </font>l<font color="#000080">, </font>r<font color="#000080">-</font>l<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">) = </font><font color="#800000">'E' </font><font color="#FF0000"><b>Then
              </b></font>eval <font color="#000080">:= </font><font color="#800000">2.718281828
            </font><font color="#FF0000"><b>Else Begin
              </b></font>Val<font color="#000080">(</font>copy<font color="#000080">(</font>f<font color="#000080">, </font>l<font color="#000080">, </font>r<font color="#000080">-</font>l<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">), </font>result<font color="#000080">, </font>j<font color="#000080">);
              </font><font color="#FF0000"><b>If </b></font>j <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then Begin
                </b></font>eval <font color="#000080">:= </font>result<font color="#000080">;
              </font><font color="#FF0000"><b>End Else Begin
                </b></font><font color="#008000"><i>{here you can handle other variables}
                </i></font>errnum <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">; </font>eval <font color="#000080">:= </font><font color="#800000">0.0</font><font color="#000080">; </font>Exit<font color="#000080">;
              </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

         </font><font color="#FF0000"><b>End
       End
    End
  End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
</b></font><font color="#008000"><i>{  errnum := 0;} </i></font>eps <font color="#000080">:= </font><font color="#800000">1.0E</font><font color="#000080">-</font><font color="#800000">9</font><font color="#000080">;

  </font>f <font color="#000080">:= </font>StripBlanks<font color="#000080">(</font>UpStr<font color="#000080">(</font>f<font color="#000080">));
  </font>Calculate <font color="#000080">:= </font>Eval<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">, </font>length<font color="#000080">(</font>f<font color="#000080">));
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
</b></font>READLN<font color="#000080">(</font>s<font color="#000080">);
</font><font color="#FF0000"><b>While </b></font>length<font color="#000080">(</font>s<font color="#000080">) &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>do Begin
  </b></font>errnum <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>x <font color="#000080">:= </font>calculate<font color="#000080">(</font>s<font color="#000080">);
  </font>writeln<font color="#000080">(</font><font color="#800000">'Ergebnis : '</font><font color="#000080">,</font>x<font color="#000080">:</font><font color="#800000">14</font><font color="#000080">:</font><font color="#800000">6</font><font color="#000080">, </font><font color="#800000">' Fehlercode : '</font><font color="#000080">, </font>errnum<font color="#000080">);
  </font>readln<font color="#000080">(</font>s<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font><font color="#008000"><i>{
You have to write your own function STRIPBLANKS, which eliminates ALL
blanks in a string. And the only variables supported are e and pi. But
it is not difficult to handle other variables.

}</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0053.PAS">Original</a><b>]</b></p></body>
</html>
