<html>
<head><title> "Simpson's Approximation" by DAVID PINCH</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0105.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ This simple Pascal program computes a definite integral using Simpson's
  approximation.  Efficiency has been sacrificed for clarity, so it should
  be easy to follow the logic of the program.                        - DJP }

</i></font><font color="#FF0000"><b>Var                     </b></font><font color="#008000"><i>{ Declare variables   }
  </i></font>a <font color="#000080">: </font>Integer<font color="#000080">;          </font><font color="#008000"><i>{   Left point        }
  </i></font>b <font color="#000080">: </font>Integer<font color="#000080">;          </font><font color="#008000"><i>{   Right point       }
  </i></font>d <font color="#000080">: </font>Real<font color="#000080">;             </font><font color="#008000"><i>{   Delta x           }
  </i></font>i <font color="#000080">: </font>Integer<font color="#000080">;          </font><font color="#008000"><i>{   Iteration         }
  </i></font>n <font color="#000080">: </font>Integer<font color="#000080">;          </font><font color="#008000"><i>{   No. of intervals  }

  </i></font>SubTotal <font color="#000080">: </font>Real<font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>y<font color="#000080">(</font>x<font color="#000080">:</font>real<font color="#000080">):</font>Real<font color="#000080">;   </font><font color="#008000"><i>{ Define your function here }
  </i></font><font color="#FF0000"><b>Begin
  </b></font>y<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">/</font>x
  <font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>Coefficient<font color="#000080">(</font>i<font color="#000080">:</font>Integer<font color="#000080">):</font>Integer<font color="#000080">;
  </font><font color="#FF0000"><b>Begin
  If </b></font><font color="#000080">(</font>i<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>i<font color="#000080">=</font>n<font color="#000080">) </font><font color="#FF0000"><b>Then
    </b></font>Coefficient<font color="#000080">:=</font><font color="#800000">1
  </font><font color="#FF0000"><b>Else
    </b></font>Coefficient<font color="#000080">:=(</font>i <font color="#FF0000"><b>Mod </b></font><font color="#800000">2</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">+</font><font color="#800000">2

  </font><font color="#008000"><i>{ Notes:

    The MOD operater returns the remainder of a division.  This allows
    us to determine if the partition is odd or even.

      &lt;even&gt; MOD 2 = 0
      &lt;odd&gt;  MOD 2 = 1

    An examination of the coefficients of a typical approximation sum shows
    an interesting pattern: Odd partitions have 4 as a coefficient and even
    partitions have 2 as a coefficient.  The first and last partitions are
    exceptions to this rule.  This pattern is used as a basis for
    calculating the coefficient of a given partition.  }

  </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>xi<font color="#000080">(</font>i<font color="#000080">:</font>Integer<font color="#000080">):</font>Real<font color="#000080">;
  </font><font color="#FF0000"><b>Begin
  </b></font>xi<font color="#000080">:=</font>a<font color="#000080">+</font>i<font color="#000080">*</font>d
  <font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin

</b></font>a<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
</font>b<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;

</font><font color="#FF0000"><b>Repeat
  </b></font>Write<font color="#000080">(</font><font color="#800000">'Subintervals? '</font><font color="#000080">);
  </font>ReadLn<font color="#000080">(</font>n<font color="#000080">);
</font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>n <font color="#FF0000"><b>Mod </b></font><font color="#800000">2</font><font color="#000080">)=</font><font color="#800000">0</font><font color="#000080">; </font><font color="#008000"><i>{ Even number required }

</i></font>d<font color="#000080">:=(</font>b<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)/</font>n<font color="#000080">;

</font>WriteLn<font color="#000080">;
</font>WriteLn<font color="#000080">(</font><font color="#800000">'  n      xi   f(xi)   c  cf(xi)'</font><font color="#000080">);
</font>WriteLn<font color="#000080">(</font><font color="#800000">'-------------------------------'</font><font color="#000080">);

</font><font color="#FF0000"><b>For </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>n <font color="#FF0000"><b>Do
  Begin
  </b></font>WriteLn<font color="#000080">(</font>i<font color="#000080">:</font><font color="#800000">3</font><font color="#000080">, </font>xi<font color="#000080">(</font>i<font color="#000080">):</font><font color="#800000">8</font><font color="#000080">:</font><font color="#800000">3</font><font color="#000080">, </font>y<font color="#000080">(</font>xi<font color="#000080">(</font>i<font color="#000080">)):</font><font color="#800000">8</font><font color="#000080">:</font><font color="#800000">3</font><font color="#000080">, </font>Coefficient<font color="#000080">(</font>i<font color="#000080">):</font><font color="#800000">4</font><font color="#000080">,
          </font>Coefficient<font color="#000080">(</font>i<font color="#000080">)*</font>y<font color="#000080">(</font>xi<font color="#000080">(</font>i<font color="#000080">)):</font><font color="#800000">8</font><font color="#000080">:</font><font color="#800000">3</font><font color="#000080">);
  </font>SubTotal<font color="#000080">:=</font>SubTotal<font color="#000080">+</font>Coefficient<font color="#000080">(</font>i<font color="#000080">)*</font>y<font color="#000080">(</font>xi<font color="#000080">(</font>i<font color="#000080">))
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font>WriteLn<font color="#000080">;
</font>WriteLn<font color="#000080">(</font><font color="#800000">'SubTotal'</font><font color="#000080">,</font>SubTotal<font color="#000080">:</font><font color="#800000">23</font><font color="#000080">:</font><font color="#800000">3</font><font color="#000080">);
</font>WriteLn<font color="#000080">(</font><font color="#800000">'Result = '</font><font color="#000080">, (</font>d<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">)*</font>SubTotal<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">:</font><font color="#800000">50</font><font color="#000080">)

</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font><font color="#008000"><i>{ Quick Optimizations:

  a. Remove the WriteLn statement in the For loop.
  b. Turn on 80x87 support.
  c. Consolidate some of the procedures.

  peace/dp }

</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0105.PAS">Original</a><b>]</b></p></body>
</html>
