<html>
<head><title> "Derive PI in Pascal" by BEN CURTIS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0046.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
BEN CURTIS

Here is a Program that I have written to derive Pi.  The formula is
4 - 4/3 + 4/5 - 4/7 + 4/9... ad infinitum.  Unfortunately, I can only get
14 decimal places using TP 6.  if there is a way For me to be able to get
more than 14 decimal places, please let me know.

NB: Program Modified by Kerry Sokalsky to increase speed by over 40% -
    I'm sure tons more can be done to speed this up even more.
}

{$N+}

</i></font><font color="#FF0000"><b>Uses
  </b></font>Dos<font color="#000080">, </font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>sum   <font color="#000080">: </font>Real<font color="#000080">;
  </font>x<font color="#000080">, </font>d<font color="#000080">,
  </font>Count <font color="#000080">: </font>LongInt<font color="#000080">;
  </font>Odd   <font color="#000080">: </font>Boolean<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>x   <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">;
  </font>d   <font color="#000080">:= </font><font color="#800000">4</font><font color="#000080">;
  </font>Sum <font color="#000080">:= </font><font color="#800000">4</font><font color="#000080">;
  </font>Odd <font color="#000080">:= </font>True<font color="#000080">;
  </font>Count <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;

  </font>Writeln<font color="#000080">(</font><font color="#800000">#13#10</font><font color="#000080">, </font><font color="#800000">'Iteration Value'</font><font color="#000080">, </font><font color="#800000">#13#10</font><font color="#000080">);

  </font>ClrScr<font color="#000080">;

  </font><font color="#FF0000"><b>Repeat
    </b></font>Inc<font color="#000080">(</font>Count<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>Odd <font color="#FF0000"><b>then
      </b></font>Sum <font color="#000080">:= </font>Sum <font color="#000080">- </font>d<font color="#000080">/</font>x
    <font color="#FF0000"><b>else
      </b></font>Sum <font color="#000080">:= </font>Sum <font color="#000080">+ </font>d<font color="#000080">/</font>x<font color="#000080">;
    </font>Inc<font color="#000080">(</font>x<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">);

    </font>Odd <font color="#000080">:= (</font><font color="#FF0000"><b>Not </b></font>Odd<font color="#000080">);

    </font>GotoXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">);
    </font>Write<font color="#000080">(</font>Count<font color="#000080">);
    </font>GotoXY<font color="#000080">(</font><font color="#800000">12</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">);
    </font>Write<font color="#000080">(</font>Sum <font color="#000080">: </font><font color="#800000">0 </font><font color="#000080">: </font><font color="#800000">7</font><font color="#000080">);
  </font><font color="#FF0000"><b>Until </b></font>KeyPressed<font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#008000"><i>{
        I have to warn you, it took me two hours to get a definite answer
for 6 decimal places on my 486sx25.  I guess it would be faster on a dx.
I'll run it on a 486dx2/66 on Tuesday and see if I can get it out to 14
decimal places.  It takes about 135000 iterations to get 4 decimal places.
Again, please let me know if you know of a way to get more than 14 decimal
places -- I would love to get this sucker out to more. :)
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0046.PAS">Original</a><b>]</b></p></body>
</html>
