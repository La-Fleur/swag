<html>
<head><title> "Percentages" by MICHAEL HOENIE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0097.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Hi Gayle. Got a couple of routines here for you. These are calculation
routines to find an accurate percentage between two given numbers. While
they are quite simple, perhaps they will help anyone who is just starting
out.

  { the following procedure will calculate the percentage between two
    given numbers, and report the percentage in a string. }

  </i></font><font color="#FF0000"><b>type </b></font>string10<font color="#000080">=</font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">10</font><font color="#000080">];

  </font><font color="#FF0000"><b>function </b></font>calc_p1<font color="#000080">(</font>num1<font color="#000080">,</font>num2<font color="#000080">:</font>integer<font color="#000080">):</font>string10<font color="#000080">;
  </font><font color="#FF0000"><b>var
    </b></font>z<font color="#000080">:</font>real<font color="#000080">;
    </font>out1<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">10</font><font color="#000080">];
  </font><font color="#FF0000"><b>begin
    </b></font>out1<font color="#000080">:=</font><font color="#800000">'  0'</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>num1<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>num2<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
    </font>z<font color="#000080">:=</font>num1<font color="#000080">/</font>num2<font color="#000080">;
    </font>str<font color="#000080">(</font>z<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">:</font><font color="#800000">2</font><font color="#000080">,</font>out1<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>out1<font color="#000080">=</font><font color="#800000">'1.00' </font><font color="#FF0000"><b>then
      begin
        </b></font>out1<font color="#000080">:=</font><font color="#800000">'100'</font><font color="#000080">;
        </font>calc_p1<font color="#000080">:=</font>out1<font color="#000080">;
        </font>exit<font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>delete<font color="#000080">(</font>out1<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>out1<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]=</font><font color="#800000">'0' </font><font color="#FF0000"><b>then </b></font>delete<font color="#000080">(</font>out1<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font><font color="#FF0000"><b>while </b></font>length<font color="#000080">(</font>out1<font color="#000080">)&lt;</font><font color="#800000">2 </font><font color="#FF0000"><b>do </b></font>insert<font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">,</font>out1<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>out1<font color="#000080">=</font><font color="#800000">'0' </font><font color="#FF0000"><b>then </b></font>out1<font color="#000080">:=</font><font color="#800000">'100'</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>out1<font color="#000080">=</font><font color="#800000">'' </font><font color="#FF0000"><b>then </b></font>out1<font color="#000080">:=</font><font color="#800000">'0'</font><font color="#000080">;
    </font>calc_p1<font color="#000080">:=</font>out1<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#008000"><i>{ this procedure does the same thing, but breaks the percentage down
    to a tenth of a percentage (ie. 10.5% 99.98%, etc.) }

  </i></font><font color="#FF0000"><b>function </b></font>calc_p2<font color="#000080">(</font>num1<font color="#000080">,</font>num2<font color="#000080">:</font>integer<font color="#000080">):</font>string10<font color="#000080">;
  </font><font color="#FF0000"><b>var
    </b></font>z<font color="#000080">:</font>real<font color="#000080">;
    </font>out1<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">10</font><font color="#000080">];
  </font><font color="#FF0000"><b>begin
    </b></font>out1<font color="#000080">:=</font><font color="#800000">'  -0- '</font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>num1<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>num2<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
    </font>z<font color="#000080">:=</font>num1 <font color="#000080">/ </font>num2<font color="#000080">;
    </font>str<font color="#000080">(</font>z<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">:</font><font color="#800000">3</font><font color="#000080">,</font>out1<font color="#000080">);
    </font>delete<font color="#000080">(</font>out1<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>copy<font color="#000080">(</font>out1<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">)=</font><font color="#800000">'00' </font><font color="#FF0000"><b>then
      begin
        </b></font>delete<font color="#000080">(</font>out1<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
        </font>insert<font color="#000080">(</font><font color="#800000">'.'</font><font color="#000080">,</font>out1<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
      </font><font color="#FF0000"><b>end else
    if </b></font>copy<font color="#000080">(</font>out1<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">'0' </font><font color="#FF0000"><b>then
      begin
        </b></font>delete<font color="#000080">(</font>out1<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
        </font>insert<font color="#000080">(</font><font color="#800000">'.'</font><font color="#000080">,</font>out1<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">);
      </font><font color="#FF0000"><b>end else </b></font>insert<font color="#000080">(</font><font color="#800000">'.'</font><font color="#000080">,</font>out1<font color="#000080">,</font><font color="#800000">3</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>out1<font color="#000080">=</font><font color="#800000">'.0' </font><font color="#FF0000"><b>then </b></font>out1<font color="#000080">:=</font><font color="#800000">'100.00'</font><font color="#000080">;
    </font>calc_p2<font color="#000080">:=</font>out1<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>writeln<font color="#000080">(</font><font color="#800000">'calc_p1: 50 into 100 is '</font><font color="#000080">,</font>calc_p1<font color="#000080">(</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">100</font><font color="#000080">),</font><font color="#800000">'%'</font><font color="#000080">);
  </font>writeln<font color="#000080">(</font><font color="#800000">'calc_p2: 67 into 161 is '</font><font color="#000080">,</font>calc_p2<font color="#000080">(</font><font color="#800000">67</font><font color="#000080">,</font><font color="#800000">161</font><font color="#000080">),</font><font color="#800000">'%'</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0097.PAS">Original</a><b>]</b></p></body>
</html>
