<html>
<head><title> "MATHSPD.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0008.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; I was just wondering how to speed up some math-intensive
&gt; routines I've got here. For example, I've got a Function
&gt; that returns the distance between two Objects:

&gt; Function Dist(X1,Y1,X2,Y2 : Integer) : Real;
&gt; begin
&gt;   Dist := Round(Sqrt(Sqr(X1-X2)+Sqr(Y1-Y2)));
&gt; end;

&gt; This is way to slow. I know assembly can speed it up, but
&gt; I know nothing about as. so theres the problem. Please
&gt; help me out, any and all source/suggestions welcome!

X1, Y1, X2, Y2 are all Integers.  Integer math is faster than Real (just
about anything is).  Sqr and Sqrt are not Integer Functions.  Try for
fun...
}

</i></font><font color="#FF0000"><b>Function </b></font>Dist<font color="#000080">( </font>X1<font color="#000080">, </font>Y1<font color="#000080">, </font>X2<font color="#000080">, </font>Y2 <font color="#000080">: </font>Integer<font color="#000080">) : </font>Real<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>XTemp<font color="#000080">,
  </font>YTemp <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#008000"><i>{ the allocation of these takes time.  if you don't want that time taken,
  make them global With care}
</i></font><font color="#FF0000"><b>begin
  </b></font>XTemp <font color="#000080">:= </font>X1 <font color="#000080">- </font>X2<font color="#000080">;
  </font>YTemp <font color="#000080">:= </font>Y1 <font color="#000080">- </font>Y2<font color="#000080">;
  </font>Dist  <font color="#000080">:= </font>Sqrt<font color="#000080">(</font>XTemp <font color="#000080">* </font>XTemp <font color="#000080">+ </font>YTemp <font color="#000080">* </font>YTemp<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
if you have a math coprocessor or a 486dx, try using DOUBLE instead of
Real, and make sure your compiler is set to compile For 287 (or 387).
}

</i></font><font color="#FF0000"><b>begin
  </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Distance Between (3,9) and (-2,-3) is: '</font><font color="#000080">, </font>Dist<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">,-</font><font color="#800000">2</font><font color="#000080">,-</font><font color="#800000">3</font><font color="#000080">) : </font><font color="#800000">6 </font><font color="#000080">: </font><font color="#800000">2</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0008.PAS">Original</a><b>]</b></p></body>
</html>
