<html>
<head><title> "PARSMATH.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0009.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000080">&sup3;</font>I<font color="#800000">'m writing a Program that draws equations.  It'</font>s fairly easy <font color="#FF0000"><b>if </b></font>you put
<font color="#000080">&sup3;</font>the equation <font color="#FF0000"><b>in </b></font>a <font color="#FF0000"><b>pascal </b></font>Variable like Y <font color="#000080">:= (</font>X<font color="#000080">+</font><font color="#800000">10</font><font color="#000080">) * </font><font color="#800000">2</font><font color="#000080">, </font>but I would like
<font color="#000080">&sup3;</font>the user <font color="#FF0000"><b>to </b></font>enter the equation<font color="#000080">, </font>but I don<font color="#800000">'t see any possible way to do
</font><font color="#000080">&sup3;</font>it<font color="#000080">.


      ...</font>One way <font color="#FF0000"><b>of </b></font>doing it <font color="#FF0000"><b>is </b></font>by using an <font color="#000080">&quot;</font>expression trees<font color="#000080">&quot;. </font>Suppose
you have the equation Y <font color="#000080">:= </font><font color="#800000">20 </font><font color="#000080">&ouml; </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">3. </font><font color="#FF0000"><b>In </b></font>this equation<font color="#000080">, </font>you can represent
the expression <font color="#800000">20 </font><font color="#000080">&ouml; </font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">3 </font>by using <font color="#000080">&quot;</font>full<font color="#000080">&quot; </font>binary trees <font color="#FF0000"><b>as </b></font>such<font color="#000080">:


</font>figure <font color="#800000">1                 </font>a  <font color="#000080">&Uacute;&Auml;&iquest;
                            &sup3;+&sup3;    &lt;----- </font>root <font color="#FF0000"><b>of </b></font>your expression
                            <font color="#000080">&Agrave;&Auml;&Ugrave;
                    </font>b     <font color="#000080">/     \
                      &Uacute;&Auml;&iquest;        &Uacute;&Auml;&iquest; </font>e
                      <font color="#000080">&sup3;&ouml;&sup3;        &sup3;</font><font color="#800000">3</font><font color="#000080">&sup3;
                      &Agrave;&Auml;&Ugrave;        &Agrave;&Auml;&Ugrave;
                      /  \
                </font>c <font color="#000080">&Uacute;&Auml;&Auml;&iquest;    &Uacute;&Auml;&iquest; </font>d
                  <font color="#000080">&sup3;</font><font color="#800000">20</font><font color="#000080">&sup3;    &sup3;</font><font color="#800000">2</font><font color="#000080">&sup3;
                  &Agrave;&Auml;&Auml;&Ugrave;    &Agrave;&Auml;&Ugrave;


(</font>Note<font color="#000080">: </font>a  <font color="#000080">&quot;</font>leaf<font color="#000080">&quot; </font><font color="#FF0000"><b>is </b></font>a node <font color="#FF0000"><b>With </b></font>no left <font color="#FF0000"><b>or </b></font>right children <font color="#000080">- </font>ie<font color="#000080">: </font>a value <font color="#000080">)

...</font>The above expression are called infix arithmetic expressions<font color="#000080">; </font>the
operators are written <font color="#FF0000"><b>in </b></font>between the things <font color="#FF0000"><b>on </b></font>which they operate<font color="#000080">.

</font><font color="#FF0000"><b>In </b></font>our example<font color="#000080">, </font>the nodes are visited <font color="#FF0000"><b>in </b></font>the order c<font color="#000080">, </font>d<font color="#000080">, </font>b<font color="#000080">, </font>e<font color="#000080">, </font>a<font color="#000080">,  </font><font color="#FF0000"><b>and
</b></font>their Labels <font color="#FF0000"><b>in </b></font>this order are <font color="#800000">20</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">, &ouml;, </font><font color="#800000">3</font><font color="#000080">, +.


</font><font color="#FF0000"><b>Function </b></font>Evaluate<font color="#000080">(</font>p<font color="#000080">: </font>node<font color="#000080">): </font>Integer<font color="#000080">;
</font><font color="#008000"><i>{ return value of the expression represented by the tree With root p }
{ p - points to the root of the expression tree                      }
</i></font><font color="#FF0000"><b>Var
  </b></font>T1<font color="#000080">, </font>T2<font color="#000080">: </font>Integer<font color="#000080">;
  </font>op<font color="#000080">: </font>Char<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font><font color="#000080">(</font>p<font color="#000080">^.</font>left <font color="#000080">= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>p<font color="#000080">^.</font>right <font color="#000080">= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">) </font><font color="#FF0000"><b>then    </b></font><font color="#008000"><i>{ node is a &quot;leaf&quot; }
    </i></font>Evaluate <font color="#000080">:= (</font>p<font color="#000080">^.</font>Value<font color="#000080">)                        </font><font color="#008000"><i>{ simple Case      }
  </i></font><font color="#FF0000"><b>else
    begin
      </b></font>T1 <font color="#000080">:= </font>Evaluate<font color="#000080">(</font>p<font color="#000080">^.</font>Left<font color="#000080">);
      </font>T2 <font color="#000080">:= </font>Evaluate<font color="#000080">(</font>p<font color="#000080">^.</font>Right<font color="#000080">);
      </font>op <font color="#000080">:= </font>p<font color="#000080">^.</font><font color="#FF0000"><b>Label</b></font><font color="#000080">;
      </font><font color="#008000"><i>{ apply operation }
      </i></font><font color="#FF0000"><b>Case </b></font>op <font color="#FF0000"><b>of
        </b></font><font color="#800000">'+'</font><font color="#000080">: </font>Evaluate <font color="#000080">:= (</font>T1 <font color="#000080">+ </font>T2<font color="#000080">);
        </font><font color="#800000">'-'</font><font color="#000080">: </font>Evaluate <font color="#000080">:= (</font>T1 <font color="#000080">- </font>T2<font color="#000080">);
        </font><font color="#800000">'&ouml;'</font><font color="#000080">: </font>Evaluate <font color="#000080">:= (</font>T1 <font color="#FF0000"><b>div </b></font>T2<font color="#000080">);
        </font><font color="#800000">'*'</font><font color="#000080">: </font>Evaluate <font color="#000080">:= (</font>T1 <font color="#000080">* </font>T2<font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end
end</b></font><font color="#000080">;


...</font>Thus<font color="#000080">, </font>using figure <font color="#800000">1</font><font color="#000080">, </font>we have<font color="#000080">:

              &Uacute;&Auml;&Auml;           &Uacute;&Auml;&Auml;
              &sup3;             &sup3; </font>Evaluate<font color="#000080">(</font>c<font color="#000080">) = </font><font color="#800000">20
              </font><font color="#000080">&sup3; </font>Evaluate<font color="#000080">(</font>b<font color="#000080">) &sup3; </font>Evaluate<font color="#000080">(</font>d<font color="#000080">) = </font><font color="#800000">2
              </font><font color="#000080">&sup3;             &sup3; </font>ApplyOp<font color="#000080">(</font><font color="#800000">'&ouml;'</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">) = </font><font color="#800000">10
   </font>Evaluate<font color="#000080">(</font>a<font color="#000080">)&sup3;             &Agrave;&Auml;&Auml;
              &sup3; </font>Evaluate<font color="#000080">(</font>e<font color="#000080">) = </font><font color="#800000">3
              </font><font color="#000080">&sup3;
              &sup3; </font>ApplyOp<font color="#000080">(</font><font color="#800000">'+'</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">) = </font><font color="#800000">13
              </font><font color="#000080">&Agrave;&Auml;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0009.PAS">Original</a><b>]</b></p></body>
</html>
