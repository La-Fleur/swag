<html>
<head><title> "Sierpinski's Gasket..." by RUSS COX</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0078.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
  Sierpinski's Gasket using Pascal's Triangle.
  Written by Russ Cox.  June 10, 1994.

  Sierpinski's Gasket starts with an equilateral triangle.  /\
                                                          / X  \
                                                        /-------\

  This triangle then copies itself and puts a copy to the right and
  at the tip.

                               /\
                             / X  \
                           /\------/\
                         / X  \   /X  \
                       /-------\/-------\

  It keeps repeating this forever and you get this cool shape, just a lot
  bigger.  This was one of the first fractals.

  Blaise Pascal invented what is known as Pascal's Triangle.

                                 1
                                1 1
                               1 2 1
                              1 3 3 1
                             1 4 6 4 1
  etc.
  You start with sides of 1.  As you go down the triangle, to obtain a
  value, you add the numbers above to the left and above to the right.

  It just so happens that if you color the pixel for Pascal's Triangle
  as to whether or not the number is odd or even, you get Sierpinski's
  Gasket on your screen.  Have fun!!!

  (Feel free to include this in SWAG if you feel like it. I would put it
  in MATH. )

     &thorn; Done! - Kerry &thorn;


  P.S. If you mess with the right value and leave mid alone... (i.e. make
  right 480 or something, the part that would have been cut off is
  instead folded over on top of the triangle.

}

</i></font><font color="#FF0000"><b>program </b></font>gasket<font color="#000080">;
</font><font color="#FF0000"><b>uses </b></font>graph<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>grDriver <font color="#000080">: </font>Integer<font color="#000080">;
  </font>grMode   <font color="#000080">: </font>Integer<font color="#000080">;
  </font>ErrCode  <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>const
   </b></font>right <font color="#000080">= </font><font color="#800000">640</font><font color="#000080">;
   </font>mid <font color="#000080">= </font><font color="#800000">320</font><font color="#000080">;
   </font>bottom <font color="#000080">= </font><font color="#800000">256</font><font color="#000080">;

</font><font color="#FF0000"><b>var
   </b></font>oddeven <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>right<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Boolean<font color="#000080">;
   </font>c<font color="#000080">, </font>d<font color="#000080">, </font>e <font color="#000080">: </font>integer<font color="#000080">;
   </font>prevoe  <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>right<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Boolean<font color="#000080">;

</font><font color="#FF0000"><b>begin
</b></font>grDriver <font color="#000080">:= </font>Detect<font color="#000080">;
  </font>InitGraph<font color="#000080">(</font>grDriver<font color="#000080">,</font>grMode<font color="#000080">,</font><font color="#800000">'e:\bp\bgi'</font><font color="#000080">);
  </font>ErrCode <font color="#000080">:= </font>GraphResult<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>ErrCode <font color="#000080">&lt;&gt; </font>grOk <font color="#FF0000"><b>then
  begin
    </b></font>WriteLn<font color="#000080">(</font><font color="#800000">'Graphics error:'</font><font color="#000080">,
            </font>GraphErrorMsg<font color="#000080">(</font>ErrCode<font color="#000080">));
    </font>halt<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>for </b></font>c <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>right <font color="#FF0000"><b>do
      </b></font>prevoe<font color="#000080">[ </font>c <font color="#000080">] := </font>FALSE<font color="#000080">;

  </font>prevoe<font color="#000080">[ </font>mid <font color="#000080">] := </font>TRUE<font color="#000080">;

  </font>putpixel<font color="#000080">( </font>mid<font color="#000080">, </font><font color="#800000">1 </font><font color="#000080">, </font>WHITE <font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>c <font color="#000080">:= </font><font color="#800000">2 </font><font color="#FF0000"><b>to </b></font>bottom <font color="#FF0000"><b>do
  begin
       for </b></font>d <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>right <font color="#FF0000"><b>do
       begin
           if </b></font>d <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>then
                 </b></font>oddeven<font color="#000080">[ </font>d <font color="#000080">] := </font>prevoe<font color="#000080">[ </font>d <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">]
           </font><font color="#FF0000"><b>else if </b></font>d <font color="#000080">= </font>right <font color="#FF0000"><b>then
</b></font>oddeven<font color="#000080">[ </font>d <font color="#000080">] := </font>prevoe<font color="#000080">[ </font>d <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">]
           </font><font color="#FF0000"><b>else
                 </b></font>oddeven<font color="#000080">[ </font>d <font color="#000080">] := </font>prevoe<font color="#000080">[ </font>d <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">] </font><font color="#FF0000"><b>xor </b></font>prevoe<font color="#000080">[ </font>d <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">];

       </font><font color="#FF0000"><b>if </b></font><font color="#000080">( </font>d <font color="#000080">&lt; </font><font color="#800000">640 </font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">( </font>c <font color="#000080">&lt; </font><font color="#800000">480 </font><font color="#000080">) </font><font color="#FF0000"><b>then
          if </b></font>oddeven<font color="#000080">[ </font>d <font color="#000080">] = </font>TRUE <font color="#FF0000"><b>then
              </b></font>putpixel<font color="#000080">( </font>d<font color="#000080">, </font>c<font color="#000080">, </font>WHITE <font color="#000080">)
          </font><font color="#FF0000"><b>else
              </b></font>putpixel<font color="#000080">( </font>d<font color="#000080">, </font>c<font color="#000080">, </font>BLACK <font color="#000080">);

       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
       </font>move<font color="#000080">( </font>oddeven<font color="#000080">, </font>prevoe<font color="#000080">, </font>right <font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#008000"><i>{
If you use as a value any power of 2 in the previous program, you get a
full triangle, without bits and pieces falling off.
}</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0078.PAS">Original</a><b>]</b></p></body>
</html>
