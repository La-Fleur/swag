<html>
<head><title> "BASE36 Conversion" by CORY ALBRECHT</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0034.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ Updated NUMBERS.SWG on November 2, 1993 }

{
CORY ALBRECHT

&gt; Can someone please show me how I would convert a base 10 number to
&gt; base 36? (The one used by RIP)

I presume you mean turning a Variable of Type Byte, Word, Integer, or
LongInt to a String representation of that number in base 36? Just checking,
since once I had someone who had two Word Variables who asked me how they
could change Word1 to hexadecimal For putting it in Word2. The following
code will turn any number from 0 to 65535 to a String representation of
that number in any base from 2 to 36.
}

</i></font><font color="#FF0000"><b>Unit </b></font>Conversion<font color="#000080">;

</font><font color="#FF0000"><b>Interface

Const
  </b></font>BaseChars <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">35</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Char <font color="#000080">= (</font><font color="#800000">'0'</font><font color="#000080">, </font><font color="#800000">'1'</font><font color="#000080">, </font><font color="#800000">'2'</font><font color="#000080">, </font><font color="#800000">'3'</font><font color="#000080">, </font><font color="#800000">'4'</font><font color="#000080">, </font><font color="#800000">'5'</font><font color="#000080">,
                                       </font><font color="#800000">'6'</font><font color="#000080">, </font><font color="#800000">'7'</font><font color="#000080">, </font><font color="#800000">'8'</font><font color="#000080">, </font><font color="#800000">'9'</font><font color="#000080">, </font><font color="#800000">'A'</font><font color="#000080">, </font><font color="#800000">'B'</font><font color="#000080">,
                                       </font><font color="#800000">'C'</font><font color="#000080">, </font><font color="#800000">'D'</font><font color="#000080">, </font><font color="#800000">'E'</font><font color="#000080">, </font><font color="#800000">'F'</font><font color="#000080">, </font><font color="#800000">'G'</font><font color="#000080">, </font><font color="#800000">'H'</font><font color="#000080">,
                                       </font><font color="#800000">'I'</font><font color="#000080">, </font><font color="#800000">'J'</font><font color="#000080">, </font><font color="#800000">'K'</font><font color="#000080">, </font><font color="#800000">'L'</font><font color="#000080">, </font><font color="#800000">'M'</font><font color="#000080">, </font><font color="#800000">'N'</font><font color="#000080">,
                                       </font><font color="#800000">'O'</font><font color="#000080">, </font><font color="#800000">'P'</font><font color="#000080">, </font><font color="#800000">'Q'</font><font color="#000080">, </font><font color="#800000">'R'</font><font color="#000080">, </font><font color="#800000">'S'</font><font color="#000080">, </font><font color="#800000">'T'</font><font color="#000080">,
                                       </font><font color="#800000">'U'</font><font color="#000080">, </font><font color="#800000">'V'</font><font color="#000080">, </font><font color="#800000">'W'</font><font color="#000080">, </font><font color="#800000">'X'</font><font color="#000080">, </font><font color="#800000">'Y'</font><font color="#000080">, </font><font color="#800000">'Z'</font><font color="#000080">);

</font><font color="#008000"><i>{ n - number to convert
  b - base to convert to
  s - String to store result in }

</i></font><font color="#FF0000"><b>Procedure </b></font>NumToStr<font color="#000080">(</font>n <font color="#000080">: </font>Word<font color="#000080">; </font>b <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>s<font color="#000080">);

</font><font color="#FF0000"><b>Implementation

Procedure </b></font>NumToStr<font color="#000080">(</font>n <font color="#000080">: </font>Word<font color="#000080">; </font>b <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>s<font color="#000080">);
</font><font color="#FF0000"><b>Var
  </b></font>i<font color="#000080">,
  </font>res<font color="#000080">,
  </font>rem <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>s <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font><font color="#000080">((</font>b <font color="#000080">&lt; </font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>b <font color="#000080">&gt; </font><font color="#800000">36</font><font color="#000080">)) </font><font color="#FF0000"><b>Then
    </b></font>Exit<font color="#000080">;
  </font>res <font color="#000080">:= </font>n<font color="#000080">;
  </font>i   <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#008000"><i>{ Get the digits of number n in base b }
  </i></font><font color="#FF0000"><b>Repeat
    </b></font>rem  <font color="#000080">= </font>res <font color="#FF0000"><b>MOD </b></font>b<font color="#000080">;
    </font>res  <font color="#000080">:= </font>res <font color="#FF0000"><b>div </b></font>b<font color="#000080">;
    </font>s<font color="#000080">[</font>i<font color="#000080">] := </font>BaseChars<font color="#000080">[</font>rem <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">];
    </font>Inc<font color="#000080">(</font>s<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]);
  </font><font color="#FF0000"><b>Until </b></font>rem <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#008000"><i>{ Reverse s since the digits were stored backwards }
  </i></font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>Repeat
    </b></font>s<font color="#000080">[</font>i<font color="#000080">] := </font>Chr<font color="#000080">(</font>Ord<font color="#000080">(</font>s<font color="#000080">[</font>i<font color="#000080">]) </font><font color="#FF0000"><b>xor </b></font>Ord<font color="#000080">(</font>s<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">) - (</font>i <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">)]));
    </font>s<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">) - (</font>i <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">)] := </font>Chr<font color="#000080">(</font>Ord<font color="#000080">(</font>s<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">) - (</font>i <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">)]) </font><font color="#FF0000"><b>xor </b></font>Ord<font color="#000080">(</font>s<font color="#000080">[</font>i<font color="#000080">]));
    </font>s<font color="#000080">[</font>i<font color="#000080">] := </font>Chr<font color="#000080">(</font>Ord<font color="#000080">(</font>s<font color="#000080">[</font>i<font color="#000080">]) </font><font color="#FF0000"><b>xor </b></font>Ord<font color="#000080">(</font>s<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">) - (</font>i <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">)]));
    </font>Inc<font color="#000080">(</font>i<font color="#000080">);
  </font><font color="#FF0000"><b>Until </b></font>i <font color="#000080">&gt;= (</font>Length<font color="#000080">(</font>s<font color="#000080">) - (</font>i <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">));
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0034.PAS">Original</a><b>]</b></p></body>
</html>
