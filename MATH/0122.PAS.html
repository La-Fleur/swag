<html>
<head><title> "Prime Number funciton" by ALLEN CHENG</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0122.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{           Prime v1.1 (C) 1997 Allen Cheng. All Rights Reserved.

   Please feel free to use this unit on your program,
   give me Credit if you like.... Enjoy!

 This is quite fast, and is about 50-80% faster than the fastest one in SWAG.
 As this Function is optimized for large numbers, you may not see any
 differents is small numbers, but it only takes about 6 seconds to find all
 the primes from 1000000 to 1020000. A newer version will be out soon
 which should be about 10-20% faster.

Homepage:  http://www.geocities.com/SiliconValley/Park/8979/
Email:     ac@4u.net

You can always download the newest version from my Homepage.

P.S. If you've found some ways to optimized this unit, please feel free to
change anything, it's nice if you can send me a copy.
}
</i></font><font color="#FF0000"><b>Unit </b></font>Prime<font color="#000080">;

</font><font color="#FF0000"><b>Interface
Function </b></font>PrimeChk<font color="#000080">(</font>Num<font color="#000080">: </font>LongInt<font color="#000080">): </font>Boolean<font color="#000080">;

</font><font color="#FF0000"><b>Implementation

Function </b></font>PrimeChk<font color="#000080">(</font>Num<font color="#000080">: </font>LongInt<font color="#000080">): </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>x <font color="#000080">: </font>Longint<font color="#000080">;
    </font>y <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin
 </b></font>x <font color="#000080">:= -</font><font color="#800000">1</font><font color="#000080">; </font>y <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
 </font><font color="#FF0000"><b>Case </b></font>Num <font color="#FF0000"><b>Of
  </b></font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">3 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>PrimeChk <font color="#000080">:= </font>True<font color="#000080">; </font>Exit<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font><font color="#800000">1 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin </b></font>PrimeChk <font color="#000080">:= </font>False<font color="#000080">; </font>Exit<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>Num <font color="#FF0000"><b>mod </b></font><font color="#800000">2</font><font color="#000080">)=</font><font color="#800000">0 </font><font color="#FF0000"><b>Then Begin </b></font>PrimeChk <font color="#000080">:= </font>False<font color="#000080">; </font>Exit<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#008000"><i>{Check if Even #}

</i></font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>Sqr<font color="#000080">(</font>x<font color="#000080">) &lt; </font>Num<font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>y <font color="#000080">&lt; </font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>Do
Begin
   </b></font>x <font color="#000080">:= </font>x <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">; </font><font color="#008000"><i>{ Only check with Odd numbers }
   </i></font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>Num <font color="#FF0000"><b>mod </b></font>x<font color="#000080">)=</font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>y<font color="#000080">:=</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>If </b></font>y <font color="#000080">&lt;&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>Then </b></font>PrimeChk <font color="#000080">:= </font>False <font color="#FF0000"><b>Else </b></font>PrimeChk <font color="#000080">:= </font>True<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font><font color="#008000"><i>{ ------------ DEMO --------------- }

</i></font><font color="#FF0000"><b>Program </b></font>Example<font color="#000080">;
</font><font color="#FF0000"><b>Uses </b></font>Prime<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Number <font color="#000080">: </font>LongInt<font color="#000080">;
</font><font color="#FF0000"><b>Begin
</b></font><font color="#008000"><i>{List all Primes from 1000000 to 1020000}
</i></font><font color="#FF0000"><b>For </b></font>Number <font color="#000080">:= </font><font color="#800000">1000000 </font><font color="#FF0000"><b>to </b></font><font color="#800000">1020000 </font><font color="#FF0000"><b>Do
If </b></font>PrimeChk<font color="#000080">(</font>Number<font color="#000080">) = </font>True <font color="#FF0000"><b>Then </b></font>Write<font color="#000080">(</font>Number<font color="#000080">,</font><font color="#800000">' '</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0122.PAS">Original</a><b>]</b></p></body>
</html>
