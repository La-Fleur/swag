<html>
<head><title> "Compute Angles" by LOU DUCHEZ</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0042.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
LOU DUCHEZ

&gt;I'm looking for the way turbo pascal computes the angle.
&gt;Now how can I compute for the Angles C &amp; B.

&gt;  b, c, a, B_angle, C_angle: real;

&gt;            &Uacute;&Auml;&iquest;B angle
&gt;            &sup3; &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;      a
&gt;           b&sup3;       &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
&gt;            &sup3;             &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
&gt;            &sup3;A = 90             &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
&gt;            &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave; C angle
&gt;                       c

Okay, you've got b and c.  There is an ArcTan function that returns
an angle in radians.  Try this:
}

  </i></font>b <font color="#000080">:= </font>abs<font color="#000080">(</font>b<font color="#000080">);        </font><font color="#008000"><i>{ these lines keep the operator from getting &quot;cute&quot; }
  </i></font>c <font color="#000080">:= </font>abs<font color="#000080">(</font>c<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>c <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
  begin        </b></font><font color="#008000"><i>{ prevents &quot;division by zero&quot; thing }
    </i></font>C_angle <font color="#000080">:= </font>arctan<font color="#000080">(</font>b<font color="#000080">/</font>c<font color="#000080">);
    </font>B_angle <font color="#000080">:= (</font>pi<font color="#000080">/</font><font color="#800000">2</font><font color="#000080">) - </font>C_angle<font color="#000080">;  </font><font color="#008000"><i>{ 90 degrees minus the one angle }
  </i></font><font color="#FF0000"><b>end
  else
  if </b></font>b <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
  begin  </b></font><font color="#008000"><i>{ ditto }
    </i></font>B_angle <font color="#000080">:= </font>arctan<font color="#000080">(</font>c<font color="#000080">/</font>b<font color="#000080">);
    </font>C_angle <font color="#000080">:= (</font>pi<font color="#000080">/</font><font color="#800000">2</font><font color="#000080">) - </font>B_angle<font color="#000080">;
  </font><font color="#FF0000"><b>end
  else
  begin                 </b></font><font color="#008000"><i>{ you'll get here only if b = c = 0 }
    </i></font>B_angle <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>C_angle <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>writeln<font color="#000080">(</font><font color="#800000">'That''s a dot, not a triangle!'</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{
Might I recommend that you have the user do data entry in a &quot;repeat&quot; loop,
so that he can get out only when he's put in actual positive values?  I
think you'll discover that a little caution at data-entry time is worth it
in spared headaches later.  (Note all the error-checking I had to do ...)

Oh, you wanted degrees, minutes, seconds.  I don't know of any built-in
routines for this (I admit I may have missed something), but here's some
totally untested code to convert radians to degrees, minutes, seconds:
}
</i></font><font color="#FF0000"><b>procedure </b></font>r2dms<font color="#000080">(</font>rad <font color="#000080">: </font>real<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>deg<font color="#000080">, </font>min<font color="#000080">, </font>sec <font color="#000080">: </font>real<font color="#000080">);
</font><font color="#FF0000"><b>begin
  </b></font>deg <font color="#000080">:= </font>rad <font color="#000080">* </font><font color="#800000">180 </font><font color="#000080">/ </font>pi<font color="#000080">;    </font><font color="#008000"><i>{ conversion to degrees }
  </i></font>min <font color="#000080">:= </font>frac<font color="#000080">(</font>deg<font color="#000080">) * </font><font color="#800000">60</font><font color="#000080">;    </font><font color="#008000"><i>{ convert remainder to minutes }
  </i></font>deg <font color="#000080">:= </font>trunc<font color="#000080">(</font>deg<font color="#000080">);        </font><font color="#008000"><i>{ lose the remainder on degrees }
  </i></font>sec <font color="#000080">:= </font>frac<font color="#000080">(</font>min<font color="#000080">) * </font><font color="#800000">60</font><font color="#000080">;    </font><font color="#008000"><i>{ convert &quot;minutes&quot; remainder to seconds }
  </i></font>min <font color="#000080">:= </font>trunc<font color="#000080">(</font>min<font color="#000080">);        </font><font color="#008000"><i>{ lose the remainder on minutes }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Here's the reverse journey: }

</i></font><font color="#FF0000"><b>procedure </b></font>dms2r<font color="#000080">(</font>deg<font color="#000080">, </font>min<font color="#000080">, </font>sec <font color="#000080">: </font>real<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>rad <font color="#000080">: </font>real<font color="#000080">);
</font><font color="#FF0000"><b>begin
  </b></font>rad <font color="#000080">:= </font>pi <font color="#000080">* (</font>deg <font color="#000080">+ </font><font color="#800000">60 </font><font color="#000080">* </font>min <font color="#000080">+ </font><font color="#800000">3600 </font><font color="#000080">* </font>sec<font color="#000080">) / </font><font color="#800000">180</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0042.PAS">Original</a><b>]</b></p></body>
</html>
