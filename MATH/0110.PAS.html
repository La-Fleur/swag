<html>
<head><title> "Pythagorean triples" by MITCH PEABODY</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0110.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
DP&gt; Howdy everyone, my computer science class at my high school is trying
DP&gt; to work on the most efficient way to find all the pythagorean triples
DP&gt; from 1 to a certain number, then dump them into a text file.  Currently,
DP&gt; the fastest anyone has managed to get is 57 seconds for 1 to 1000.  The
DP&gt; program would be considerably faster, but we are removing all duplicates
DP&gt; and dilations.  In case you're wondering, a dilation would be: 6 8 10,
DP&gt; which is just a dilation of 3 4 5.  IF anyone has any ideas (actual code
DP&gt; would be nice) to help improve the speed of our programs, please drop me
DP&gt; a message!!!  Thanks a lot.

  This kinda piqued my curiosity so I tried just what you were describing.
  I'm not much of a math wiz, but I came up with the following... it
  doesn't check for dilations... too lazy for that now but I looked
  at the pattern of dilations and there is a pretty definite pattern, so
  it shouldn't be too hard to put in.

  The output is not neat or anything, and it uses DOS redirection to
  output the numbers but I clocked it at 4 seconds on a DX2/66 in a full
  screen DOS session under windows 3.1 so it's pretty fast even for not
  checking dilations...

  The next message contains the rest of the code...


{ DEFINE DEBUG}                     { turn this on for debugging work   }
{$A-}                               { turn off alignment                }
{$B+}                               { complete boolean evaluations      }

{$IFNDEF DEBUG}                     { if not debugging program turn off }
{$D-}                               { no debug info                     }
{$R-}                               { turn off range checking           }
{$ELSE}                             { else                              }
{$D+}                               { turn on debug info                }
{$R+}                               { turn on range checking            }
{$ENDIF}                            { end conditional if                }

{$F+}                               { force far calls                   }
{$G+}                               { enable 286 instructions           }
{$N+}                               { enable coprocessor                }
{$P-}                               { no open string                    }
{$V+}                               { strict string checking            }

{-----------------------------------------------------------------------}
{ Program      : Triples                                                }
{ Last Modified: 03-23-96                                               }
{ Purpose      : To find all the pythagorean triples from 1 to 1000     }
{-----------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Program </b></font>PythagoreanTriples<font color="#000080">;
</font><font color="#FF0000"><b>Uses </b></font>Crt<font color="#000080">,</font>Timer<font color="#000080">;  </font><font color="#008000"><i>{ timer code at the END of this program !! }


{-----------------------------------------------------------------------}
{ global constants                                                      }
{-----------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Const
      </b></font>MaxNum <font color="#000080">= </font><font color="#800000">1000</font><font color="#000080">;                </font><font color="#008000"><i>{ maximum number to find triple for }

{-----------------------------------------------------------------------}
{ global variables                                                      }
{-----------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Var
    </b></font>ICtr<font color="#000080">, </font>ICtr2<font color="#000080">: </font>Word<font color="#000080">;              </font><font color="#008000"><i>{ iteration counters                }
    </i></font>Result<font color="#000080">: </font>extended<font color="#000080">;
</font><font color="#008000"><i>{-----------------------------------------------------------------------}
{ main code here                                                        }
{-----------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>Begin                               </b></font><font color="#008000"><i>{ begin main block                  }
  </i></font>assign<font color="#000080">(</font>output<font color="#000080">, </font><font color="#800000">''</font><font color="#000080">);
  </font>rewrite<font color="#000080">(</font>output<font color="#000080">);
  </font>ClrScr<font color="#000080">;                           </font><font color="#008000"><i>{ clear the screen                  }
  </i></font>Clockon<font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>ICtr <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>MaxNum <font color="#FF0000"><b>Do        </b></font><font color="#008000"><i>{ go thorugh numbers                }
    </i></font><font color="#FF0000"><b>For </b></font>ICtr2 <font color="#000080">:= </font>ICtr <font color="#FF0000"><b>to </b></font>MaxNum <font color="#FF0000"><b>Do  </b></font><font color="#008000"><i>{ go through numbers                }
      </i></font><font color="#FF0000"><b>Begin                         </b></font><font color="#008000"><i>{ begin ICtr2 for loop              }
        </i></font>Result <font color="#000080">:= </font>Sqrt<font color="#000080">(</font>ICtr<font color="#000080">*</font>ICtr <font color="#000080">+ </font>ICtr2 <font color="#000080">* </font>ICtr2<font color="#000080">);
        </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>Result <font color="#000080">- </font>INT<font color="#000080">(</font>Result<font color="#000080">) = </font><font color="#800000">0</font><font color="#000080">)</font><font color="#FF0000"><b>then
          </b></font>Writeln<font color="#000080">(</font>output<font color="#000080">,</font>ICtr<font color="#000080">,</font><font color="#800000">'   '</font><font color="#000080">, </font>ICtr2<font color="#000080">:</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">'   '</font><font color="#000080">, </font>Result<font color="#000080">);
      </font><font color="#FF0000"><b>End</b></font><font color="#000080">;                          </font><font color="#008000"><i>{ end ICtr2 for loop                }
  </i></font>clockoff<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.                                </font><font color="#008000"><i>{ end main block                    }
</i></font><font color="#000080">-------------------------------------------------------------------------
</font>here <font color="#FF0000"><b>is </b></font>the timer <font color="#FF0000"><b>unit </b></font>you need<font color="#000080">.

</font><font color="#008000"><i>{ Timing unit for optomizing code }
</i></font><font color="#FF0000"><b>unit </b></font>TIMER<font color="#000080">;

</font><font color="#FF0000"><b>interface

         procedure </b></font>clockon<font color="#000080">;
         </font><font color="#FF0000"><b>procedure </b></font>clockoff<font color="#000080">;

</font><font color="#FF0000"><b>implementation
uses </b></font>dos<font color="#000080">;

</font><font color="#FF0000"><b>var </b></font>H<font color="#000080">,</font>M<font color="#000080">,</font>S<font color="#000080">,</font>s100<font color="#000080">:</font>word<font color="#000080">;
    </font>startclock<font color="#000080">,</font>stopclock<font color="#000080">:</font>real<font color="#000080">;

    </font><font color="#FF0000"><b>procedure </b></font>clockon<font color="#000080">;
    </font><font color="#FF0000"><b>begin
         </b></font>gettime<font color="#000080">(</font>h<font color="#000080">,</font>m<font color="#000080">,</font>s<font color="#000080">,</font>s100<font color="#000080">);
         </font>startclock <font color="#000080">:= (</font>H<font color="#000080">*</font><font color="#800000">3600</font><font color="#000080">)+(</font>M<font color="#000080">*</font><font color="#800000">60</font><font color="#000080">)+</font>S<font color="#000080">+(</font>S100 <font color="#000080">/ </font><font color="#800000">100</font><font color="#000080">);
         </font>Writeln<font color="#000080">(</font><font color="#800000">'Start time = '</font><font color="#000080">,</font>Startclock<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">:</font><font color="#800000">2</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>procedure </b></font>clockoff<font color="#000080">;
    </font><font color="#FF0000"><b>begin
         </b></font>gettime<font color="#000080">(</font>h<font color="#000080">,</font>m<font color="#000080">,</font>s<font color="#000080">,</font>s100<font color="#000080">);
         </font>stopclock <font color="#000080">:= (</font>H<font color="#000080">*</font><font color="#800000">3600</font><font color="#000080">)+(</font>M<font color="#000080">*</font><font color="#800000">60</font><font color="#000080">)+</font>S<font color="#000080">+(</font>S100 <font color="#000080">/ </font><font color="#800000">100</font><font color="#000080">);
         </font>writeln<font color="#000080">;
         </font>writeln<font color="#000080">(</font><font color="#800000">'Stop time = '</font><font color="#000080">,</font>stopclock<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">:</font><font color="#800000">2</font><font color="#000080">);
         </font>writeln<font color="#000080">(</font><font color="#800000">'Elapsed time = '</font><font color="#000080">,(</font>stopclock<font color="#000080">-</font>startclock<font color="#000080">):</font><font color="#800000">0</font><font color="#000080">:</font><font color="#800000">2</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0110.PAS">Original</a><b>]</b></p></body>
</html>
