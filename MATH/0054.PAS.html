<html>
<head><title> "Gravity" by LOU DUCHEZ</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0054.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>(*
&gt;Does anyone have any equations for gravity??

It's not as tough as you probably think it is.  The way I work motion in
my programs is, I keep track of the acceleration, velocity, and position
of an object in both the x and y directions.  In other words, I have these
variables:

  var ax, ay, vx, vy, px, py: integer;

When you have a force -- like gravity, or wind resistance, or whatever --
you need to recalculate the accelerations every game round.  Then you
alter the velocities accordingly, and after that you change the positions.
For example, each round you execute code like this:

  ax := {formula for force in the &quot;x&quot; direction};
  ay := {formula for force in the &quot;y&quot; direction};

  vx := vx + ax;
  vy := vy + ay;

  px := px + vx;
  py := py + vy;

Notice how simple it is to keep track of motion: all you need to do is
supply a formula for acceleration, and the program runs &quot;blind&quot; after
that point.

So gravity is just a matter of supplying the right &quot;acceleration&quot; formulas.
If you are talking gravity near the surface of the earth, gravity provides
very nearly a constant acceleration.  In which case:

  ax := 0;  {no &quot;horizontal&quot; gravity}
  ay := g;  {a constant -- assign whatever value you like}

For objects to fall &quot;down&quot; the screen, &quot;g&quot; should be positive.  Motion
towards the top of the screen would mean a negative velocity.  That's
because &quot;y&quot; coordinates increase from top to bottom, and frankly that
confuses me and it confuses the numbers.  You might do well to do this:
have your calculations assume that &quot;y&quot; coordinates increase from bottom
to top, and then draw at position (px, GetMaxY + 1 - py).  With coordinates
increasing from bottom to top, &quot;g&quot; should be negative and upward motion
means positive &quot;vy&quot;.

If you want gravity as applies to celestial objects in orbit, the formulas
for acceleration would be:

  x := px - sx;  { new variables: sx and sy are the locations of the sun or }
  y := py - sy;  { whatever, and x and y are thus the distances from it }

  ax := g*x / exp(3*ln(x*x + y*y)/2);
  ay := g*y / exp(3*ln(x*x + y*y)/2);

Again, I recommend plotting at (px, GetMaxY + 1 - py); and again, &quot;g&quot;
should be negative.

Be advised that there is a singularity at the location of the sun or
whatever: the &quot;ln&quot; calculations will fail.  Another gravity formula I've
seen used is &quot;bowl&quot; gravity, like a marble rolling around in a bowl.  It's
unrealistic, but it &quot;feels&quot; good and doesn't have a singularity.  In which
case:

  ax := g*x;  { negative &quot;g&quot; again }
  ay := g*y;

*)</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0054.PAS">Original</a><b>]</b></p></body>
</html>
