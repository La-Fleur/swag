<html>
<head><title> "PI2.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0016.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
        Here's a good (but a little slow) Program to calculate the
  decimals of Pi :


THIS Program CompUTES THE DIGITS of PI USinG THE ARCTANGENT ForMULA
(1)            PI/4 = 4 ARCTAN 1/5 - ARCTAN 1/239
in CONJUNCTION With THE GREGorY SERIES

(2)   ARCTAN X = SUM  (-1)^N*(2N + 1)^-1*X^(2N+1)  N=0 to  inFinITY.

SUBSTITUTinG into (2) A FEW VALUES of N  and NESTinG  WE HAVE,

PI/4 =  1/5[4/1 + 1/25[-4/3 + 1/25[4/5 + 1/25[-4/7 + ...].].]

    - 1/239[1/1 + 1/239^2[-1/3 + 1/239^2[1/5 + 1/239^2[-1/7 +...].].]

USinG THE LONG divISION ALGorITHM, THIS ( NESTED ) inFinITE SERIES CAN BE
USED to CALCULATE PI to A LARGE NUMBER of DECIMAL PLACES in A REASONABLE
AMOUNT of TIME. A TIME Function IS inCLUDED to SHOW HOW SLOW THinGS
GET WHEN N IS LARGE. IMPROVEMENTS CAN BE MADE BY CHANGinG THE SIZE of
THE Array ELEMENTS HOWEVER IT GETS A BIT TRICKY.

}

</i></font><font color="#FF0000"><b>Uses
  </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>B<font color="#000080">,</font>C<font color="#000080">,</font>V<font color="#000080">,</font>P1<font color="#000080">,</font>S<font color="#000080">,</font>K<font color="#000080">,</font>N<font color="#000080">,</font>I<font color="#000080">,</font>J<font color="#000080">,</font>Q<font color="#000080">,</font>M<font color="#000080">,</font>M1<font color="#000080">,</font>X<font color="#000080">,</font>R<font color="#000080">,</font>D <font color="#000080">: </font>Integer<font color="#000080">;
  </font>P<font color="#000080">,</font>A<font color="#000080">,</font>T <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">5000</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Integer<font color="#000080">;

</font><font color="#FF0000"><b>Const </b></font>F1<font color="#000080">=</font><font color="#800000">5</font><font color="#000080">;
</font><font color="#FF0000"><b>Const </b></font>F2<font color="#000080">=</font><font color="#800000">239</font><font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>divIDE<font color="#000080">(</font>D <font color="#000080">: </font>Integer<font color="#000080">);
 </font><font color="#FF0000"><b>begin
    </b></font>R<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>M <font color="#FF0000"><b>do
     begin
     </b></font>V<font color="#000080">:= </font>R<font color="#000080">*</font><font color="#800000">10</font><font color="#000080">+</font>P<font color="#000080">[</font>J<font color="#000080">];
     </font>Q<font color="#000080">:=</font>V <font color="#FF0000"><b>div </b></font>D<font color="#000080">;
     </font>R<font color="#000080">:=</font>V <font color="#FF0000"><b>Mod </b></font>D<font color="#000080">;
     </font>P<font color="#000080">[</font>J<font color="#000080">]:=</font>Q<font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>divIDEA<font color="#000080">(</font>D <font color="#000080">: </font>Integer<font color="#000080">);
 </font><font color="#FF0000"><b>begin
    </b></font>R<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>M <font color="#FF0000"><b>do
     begin
     </b></font>V<font color="#000080">:= </font>R<font color="#000080">*</font><font color="#800000">10</font><font color="#000080">+</font>A<font color="#000080">[</font>J<font color="#000080">];
     </font>Q<font color="#000080">:=</font>V <font color="#FF0000"><b>div </b></font>D<font color="#000080">;
     </font>R<font color="#000080">:=</font>V <font color="#FF0000"><b>Mod </b></font>D<font color="#000080">;
     </font>A<font color="#000080">[</font>J<font color="#000080">]:=</font>Q<font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>SUBT<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>B<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
</font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font>M <font color="#FF0000"><b>Downto </b></font><font color="#800000">0 </font><font color="#FF0000"><b>do
    if </b></font>T<font color="#000080">[</font>J<font color="#000080">]&gt;=</font>A<font color="#000080">[</font>J<font color="#000080">]  </font><font color="#FF0000"><b>then </b></font>T<font color="#000080">[</font>J<font color="#000080">]:=</font>T<font color="#000080">[</font>J<font color="#000080">]-</font>A<font color="#000080">[</font>J<font color="#000080">] </font><font color="#FF0000"><b>else
    begin
     </b></font>T<font color="#000080">[</font>J<font color="#000080">]:=</font><font color="#800000">10</font><font color="#000080">+</font>T<font color="#000080">[</font>J<font color="#000080">]-</font>A<font color="#000080">[</font>J<font color="#000080">];
     </font>T<font color="#000080">[</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">]:=</font>T<font color="#000080">[</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">]-</font><font color="#800000">1</font><font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>M <font color="#FF0000"><b>do
</b></font>A<font color="#000080">[</font>J<font color="#000080">]:=</font>T<font color="#000080">[</font>J<font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>SUBA<font color="#000080">;
</font><font color="#FF0000"><b>begin
For </b></font>J<font color="#000080">:=</font>M <font color="#FF0000"><b>Downto </b></font><font color="#800000">0 </font><font color="#FF0000"><b>do
    if </b></font>P<font color="#000080">[</font>J<font color="#000080">]&gt;=</font>A<font color="#000080">[</font>J<font color="#000080">]  </font><font color="#FF0000"><b>then </b></font>P<font color="#000080">[</font>J<font color="#000080">]:=</font>P<font color="#000080">[</font>J<font color="#000080">]-</font>A<font color="#000080">[</font>J<font color="#000080">] </font><font color="#FF0000"><b>else
    begin
     </b></font>P<font color="#000080">[</font>J<font color="#000080">]:=</font><font color="#800000">10</font><font color="#000080">+</font>P<font color="#000080">[</font>J<font color="#000080">]-</font>A<font color="#000080">[</font>J<font color="#000080">];
     </font>P<font color="#000080">[</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">]:=</font>P<font color="#000080">[</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">]-</font><font color="#800000">1</font><font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:= </font>M <font color="#FF0000"><b>Downto </b></font><font color="#800000">0 </font><font color="#FF0000"><b>do
</b></font>A<font color="#000080">[</font>J<font color="#000080">]:=</font>P<font color="#000080">[</font>J<font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>CLEARP<font color="#000080">;
 </font><font color="#FF0000"><b>begin
  For </b></font>J<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>M <font color="#FF0000"><b>do
   </b></font>P<font color="#000080">[</font>J<font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>ADJUST<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>P<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font><font color="#800000">3</font><font color="#000080">;
</font>P<font color="#000080">[</font>M<font color="#000080">]:=</font><font color="#800000">10</font><font color="#000080">;
</font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>M<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
</b></font>P<font color="#000080">[</font>J<font color="#000080">]:=</font><font color="#800000">9</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ADJUST2<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>P<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
</font>P<font color="#000080">[</font>M<font color="#000080">]:=</font><font color="#800000">10</font><font color="#000080">;
</font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>M<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
</b></font>P<font color="#000080">[</font>J<font color="#000080">]:=</font><font color="#800000">9</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>MULT4<font color="#000080">;
 </font><font color="#FF0000"><b>begin
  </b></font>C<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font>M <font color="#FF0000"><b>Downto </b></font><font color="#800000">0 </font><font color="#FF0000"><b>do
   begin
    </b></font>P1<font color="#000080">:=</font><font color="#800000">4</font><font color="#000080">*</font>A<font color="#000080">[</font>J<font color="#000080">]+</font>C<font color="#000080">;
    </font>A<font color="#000080">[</font>J<font color="#000080">]:=</font>P1 <font color="#FF0000"><b>Mod </b></font><font color="#800000">10</font><font color="#000080">;
    </font>C<font color="#000080">:=</font>P1 <font color="#FF0000"><b>div </b></font><font color="#800000">10</font><font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SAVEA<font color="#000080">;
</font><font color="#FF0000"><b>begin
For </b></font>J<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>M <font color="#FF0000"><b>do
</b></font>T<font color="#000080">[</font>J<font color="#000080">]:=</font>A<font color="#000080">[</font>J<font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>TERM1<font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>I<font color="#000080">:=</font>M<font color="#000080">+</font>M<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
 </font>A<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font><font color="#800000">4</font><font color="#000080">;
</font>divIDEA<font color="#000080">(</font>I<font color="#000080">*</font><font color="#800000">25</font><font color="#000080">);
</font><font color="#FF0000"><b>While </b></font>I<font color="#000080">&gt;</font><font color="#800000">3 </font><font color="#FF0000"><b>do
begin
</b></font>I<font color="#000080">:=</font>I<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">;
</font>CLEARP<font color="#000080">;
</font>P<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font><font color="#800000">4</font><font color="#000080">;
</font>divIDE<font color="#000080">(</font>I<font color="#000080">);
</font>SUBA<font color="#000080">;
</font>divIDEA<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>CLEARP<font color="#000080">;
</font>ADJUST<font color="#000080">;
</font>SUBA<font color="#000080">;
</font>divIDEA<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">);
</font>SAVEA<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>TERM2<font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>I<font color="#000080">:=</font>M<font color="#000080">+</font>M<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
 </font>A<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font><font color="#800000">1</font><font color="#000080">;
</font>divIDEA<font color="#000080">(</font>I<font color="#000080">);
</font>divIDEA<font color="#000080">(</font><font color="#800000">239</font><font color="#000080">);
</font>divIDEA<font color="#000080">(</font><font color="#800000">239</font><font color="#000080">);
</font><font color="#FF0000"><b>While </b></font>I<font color="#000080">&gt;</font><font color="#800000">3 </font><font color="#FF0000"><b>do
begin
</b></font>I<font color="#000080">:=</font>I<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">;
</font>CLEARP<font color="#000080">;
</font>P<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font><font color="#800000">1</font><font color="#000080">;
</font>divIDE<font color="#000080">(</font>I<font color="#000080">);
</font>SUBA<font color="#000080">;
</font>divIDEA<font color="#000080">(</font><font color="#800000">239</font><font color="#000080">);
</font>divIDEA<font color="#000080">(</font><font color="#800000">239</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>CLEARP<font color="#000080">;
</font>ADJUST2<font color="#000080">;
</font>SUBA<font color="#000080">;
</font>divIDEA<font color="#000080">(</font><font color="#800000">239</font><font color="#000080">);
</font>SUBT<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{MAin Program}

   </i></font><font color="#FF0000"><b>begin
   </b></font>ClrScr<font color="#000080">;
   </font>WriteLn<font color="#000080">(</font><font color="#800000">'                        THE CompUTATION of PI'</font><font color="#000080">);
   </font>WriteLn<font color="#000080">(</font><font color="#800000">'                     -----------------------------'</font><font color="#000080">);
   </font>WriteLn<font color="#000080">(</font><font color="#800000">'inPUT NO. DECIMAL PLACES'</font><font color="#000080">);
   </font>READLN<font color="#000080">(</font>M1<font color="#000080">);
   </font>M<font color="#000080">:=</font>M1<font color="#000080">+</font><font color="#800000">4</font><font color="#000080">;
    </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>M  <font color="#FF0000"><b>do
       begin
         </b></font>A<font color="#000080">[</font>J<font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
         </font>T<font color="#000080">[</font>J<font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font>TERM1<font color="#000080">;
   </font>TERM2<font color="#000080">;
   </font>MULT4<font color="#000080">;
   </font>WriteLn<font color="#000080">;</font>WriteLn<font color="#000080">;
   </font>Write<font color="#000080">(</font><font color="#800000">'PI = 3.'</font><font color="#000080">);
   </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>M1   <font color="#FF0000"><b>do
   begin
    </b></font>Write<font color="#000080">(</font>A<font color="#000080">[</font>J<font color="#000080">]);
   </font><font color="#FF0000"><b>if </b></font>J <font color="#FF0000"><b>Mod </b></font><font color="#800000">5 </font><font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>Write<font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">);
   </font><font color="#FF0000"><b>if </b></font>J <font color="#FF0000"><b>Mod </b></font><font color="#800000">50</font><font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>Write<font color="#000080">(</font><font color="#800000">'                    '</font><font color="#000080">);
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font>WriteLn<font color="#000080">;</font>WriteLn<font color="#000080">;
   </font>WriteLn<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MATH SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0016.PAS">Original</a><b>]</b></p></body>
</html>
