<html>
<head><title> "Where is DOS" by FRANK DIACHEYSN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DOS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0074.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
  Coded By Frank Diacheysn Of Gemini Software

  FUNCTION WHEREISDOS

  Input......: None
             :
             :
             :
             :


  Output.....: 2-Character String, Explained Further Below.
             :
             :
             :
             :

  Example....: IF Chars[1] = 'O' THEN
             :   WriteLn('DOS Is Resident In ROM')
             : ELSE
             :   WriteLn('DOS Is Resident In RAM');
             : IF Chars[2] = 'H' THEN
             :   WriteLn('DOS Is Loaded Into High Memory (HMA)')
             : ELSE
             :   WriteLn('DOS Is Loaded Into Conventional Memory');

  Description: Returns The Status Of Where DOS Is Loaded Using The Following:
             : Chars[1] = 'O' (Resident In ROM)
             : Chars[1] = 'A' (Resident In RAM)
             : Chars[2] = 'H' (Loaded In High Memory)
             : Chars[2] = 'C' (Loaded in Conventional Memory)

}
</i></font><font color="#FF0000"><b>FUNCTION </b></font>WHEREISDOS<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
</font><font color="#FF0000"><b>VAR </b></font>Chars <font color="#000080">: </font><font color="#FF0000"><b>ARRAY </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>OF </b></font>CHAR<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>Regs<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$33</font><font color="#000080">;
  </font>Regs<font color="#000080">.</font>AL <font color="#000080">:= </font><font color="#800000">$06</font><font color="#000080">;
  </font>Intr<font color="#000080">( </font><font color="#800000">$33</font><font color="#000080">,</font>Regs <font color="#000080">);
  </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>Regs<font color="#000080">.</font>DH <font color="#FF0000"><b>AND </b></font><font color="#800000">$04</font><font color="#000080">)=</font><font color="#800000">$04 </font><font color="#FF0000"><b>THEN </b></font>Chars<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">'O' </font><font color="#FF0000"><b>ELSE </b></font>Chars<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">'A'</font><font color="#000080">;
  </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>Regs<font color="#000080">.</font>DH <font color="#FF0000"><b>AND </b></font><font color="#800000">$08</font><font color="#000080">)=</font><font color="#800000">$08 </font><font color="#FF0000"><b>THEN </b></font>Chars<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] := </font><font color="#800000">'H' </font><font color="#FF0000"><b>ELSE </b></font>Chars<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] := </font><font color="#800000">'C'</font><font color="#000080">;
  </font>WHEREISDOS <font color="#000080">:= </font>Chars<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]+</font>Chars<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">];
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DOS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0074.PAS">Original</a><b>]</b></p></body>
</html>
