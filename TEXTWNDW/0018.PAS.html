<html>
<head><title> "Windowing Routine" by LUIS EVARISTO FONSECA</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TEXTWNDW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0018.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ very simple windowing routine. This allow you to define a text window with
borders, and upper and lower label. The ascii code for corners and lines is
the portuguese version. I'm not sure if it'll work well in the International
code. If it doesn't just replace the symbols by the correct ones (also to
change from double to single line border). This is freeware. No guarantees.
Made by Luis Evaristo Fonseca, Thunderball Software Inc., 1994 Portugal }

{ Parameters for makewindow:
       (x1,y1) upper left corner coordinates;
       (x2,y2) lower right corner coordinates;
       ctxt    text color;
       cfnd    background color (numbers bigger than 7 are blinking colors);
       title   upper title (lefty);
       bottom  bottom note (centered);

  Hidecursor:
       Simply hides the cursor;

  Showcursor:
       Makes the cursor visible again;

  Setcolor:
       Changes text/back color, by changing values in textattr;
}


</i></font><font color="#FF0000"><b>unit </b></font>windows<font color="#000080">;
</font><font color="#FF0000"><b>interface
uses </b></font>crt<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>makewindow<font color="#000080">(</font>x1<font color="#000080">,</font>y1<font color="#000080">,</font>x2<font color="#000080">,</font>y2<font color="#000080">,</font>ctxt<font color="#000080">,</font>cfnd<font color="#000080">:</font>integer<font color="#000080">;</font>title<font color="#000080">,</font>bottom<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>hidecursor<font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>showcursor<font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>setcolor<font color="#000080">(</font>f<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">);

</font><font color="#FF0000"><b>implementation

</b></font><font color="#008000"><i>{****************************************************************************}
</i></font><font color="#FF0000"><b>procedure </b></font>setcolor<font color="#000080">(</font>f<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">);
</font><font color="#FF0000"><b>begin
    </b></font>textattr <font color="#000080">:= </font>f <font color="#000080">+ </font>b <font color="#000080">* </font><font color="#800000">16</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{****************************************************************************}
</i></font><font color="#FF0000"><b>procedure </b></font>hidecursor<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
    </b></font><font color="#FF00FF">mov   ax,$0100
    mov   cx,$2607
    int   $10
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{****************************************************************************}
</i></font><font color="#FF0000"><b>procedure </b></font>showcursor<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
    </b></font><font color="#FF00FF">mov   ax,$0100
    mov   cx,$0506
    int   $10
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{****************************************************************************}
</i></font><font color="#FF0000"><b>procedure </b></font>makewindow<font color="#000080">(</font>x1<font color="#000080">,</font>y1<font color="#000080">,</font>x2<font color="#000080">,</font>y2<font color="#000080">,</font>ctxt<font color="#000080">,</font>cfnd<font color="#000080">:</font>integer<font color="#000080">;</font>title<font color="#000080">,</font>bottom<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>c1<font color="#000080">,</font>c2<font color="#000080">:</font>integer<font color="#000080">;
    </font>sattr<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
    if </b></font><font color="#000080">(</font>x1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">&gt;</font>x2<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>y1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">&gt;</font>y2<font color="#000080">) </font><font color="#FF0000"><b>then
        </b></font>exit<font color="#000080">;
    </font>sattr<font color="#000080">:=</font>textattr<font color="#000080">;
    </font>hidecursor<font color="#000080">;
    </font>setcolor<font color="#000080">(</font>cfnd<font color="#000080">,</font>ctxt<font color="#000080">);
    </font>c2<font color="#000080">:=</font>x1<font color="#000080">;
    </font><font color="#FF0000"><b>for </b></font>c1<font color="#000080">:=</font>y1 <font color="#FF0000"><b>to </b></font>y2 <font color="#FF0000"><b>do
    begin
        for </b></font>c2<font color="#000080">:=</font>x1 <font color="#FF0000"><b>to </b></font>x2 <font color="#FF0000"><b>do
        begin
            </b></font>gotoxy<font color="#000080">(</font>c2<font color="#000080">,</font>c1<font color="#000080">);
            </font>write<font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>gotoxy<font color="#000080">(</font>x1<font color="#000080">,</font>y1<font color="#000080">);
    </font>write<font color="#000080">(</font><font color="#800000">'&Eacute;'</font><font color="#000080">);
    </font><font color="#FF0000"><b>for </b></font>c1<font color="#000080">:=</font>x1<font color="#000080">+</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>x2<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
        </b></font>write<font color="#000080">(</font><font color="#800000">'&Iacute;'</font><font color="#000080">);
    </font>write<font color="#000080">(</font><font color="#800000">'&raquo;'</font><font color="#000080">);
    </font><font color="#FF0000"><b>for </b></font>c1<font color="#000080">:=</font>y1<font color="#000080">+</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>y2<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
    begin
        </b></font>gotoxy<font color="#000080">(</font>x1<font color="#000080">,</font>c1<font color="#000080">);
        </font>write<font color="#000080">(</font><font color="#800000">'&ordm;'</font><font color="#000080">);
        </font>gotoxy<font color="#000080">(</font>x2<font color="#000080">,</font>c1<font color="#000080">);
        </font>write<font color="#000080">(</font><font color="#800000">'&ordm;'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>gotoxy<font color="#000080">(</font>x1<font color="#000080">,</font>y2<font color="#000080">);
    </font>write<font color="#000080">(</font><font color="#800000">'&Egrave;'</font><font color="#000080">);
    </font><font color="#FF0000"><b>for </b></font>c1<font color="#000080">:=</font>x1<font color="#000080">+</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>x2<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do
        </b></font>write<font color="#000080">(</font><font color="#800000">'&Iacute;'</font><font color="#000080">);
    </font>write<font color="#000080">(</font><font color="#800000">'&frac14;'</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>title<font color="#000080">&lt;&gt;</font><font color="#800000">''</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>length<font color="#000080">(</font>title<font color="#000080">)&lt;</font>x2<font color="#000080">-</font>x1<font color="#000080">-</font><font color="#800000">4</font><font color="#000080">) </font><font color="#FF0000"><b>then
    begin
        </b></font>gotoxy<font color="#000080">(</font>x1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">);
        </font>write<font color="#000080">(</font><font color="#800000">'&sup1; '</font><font color="#000080">+</font>title<font color="#000080">+</font><font color="#800000">' &Igrave;'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>bottom<font color="#000080">&lt;&gt;</font><font color="#800000">''</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>length<font color="#000080">(</font>bottom<font color="#000080">)&lt;</font>x2<font color="#000080">-</font>x1<font color="#000080">-</font><font color="#800000">9</font><font color="#000080">) </font><font color="#FF0000"><b>then
    begin
        </b></font>gotoxy<font color="#000080">(</font>x1<font color="#000080">+((</font>x2<font color="#000080">-</font>x1<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2 </font><font color="#000080">- </font>length<font color="#000080">(</font>bottom<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2 </font><font color="#000080">- </font><font color="#800000">2</font><font color="#000080">),</font>y2<font color="#000080">);
        </font>write<font color="#000080">(</font><font color="#800000">'&sup1; '</font><font color="#000080">+</font>bottom<font color="#000080">+</font><font color="#800000">' &Igrave;'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>gotoxy<font color="#000080">(</font>x1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>y1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
    </font>showcursor<font color="#000080">;
    </font>textattr<font color="#000080">:=</font>sattr<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TEXTWNDW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0018.PAS">Original</a><b>]</b></p></body>
</html>
