<html>
<head><title> "Execute DOS in a Window" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TEXTWNDW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{$A+,B-,D+,E-,F-,G-,I-,L-,N-,O-,P-,Q-,R-,S-,T-,V-,X+,Y-}
{$M   16384,0,655360}
</i></font><font color="#FF0000"><b>Unit  </b></font>ExecWin<font color="#000080">;
</font><font color="#FF0000"><b>Interface
Var   </b></font>SaveInt10 <font color="#000080">: </font>Pointer<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ExecWindow<font color="#000080">(</font>X1<font color="#000080">,</font>Y1<font color="#000080">,</font>X2<font color="#000080">,</font>Y2<font color="#000080">,
                     </font>Attr         <font color="#000080">: </font>Byte<font color="#000080">;
                     </font>Path<font color="#000080">,</font>CmdLine <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);

</font><font color="#FF0000"><b>Implementation
Uses
  </b></font>Crt<font color="#000080">,</font>Dos<font color="#000080">;
</font><font color="#FF0000"><b>Type
  </b></font>PageType  <font color="#000080">= </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">80</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>Window    <font color="#000080">: </font><font color="#FF0000"><b>Record
    </b></font>X1<font color="#000080">,</font>Y1<font color="#000080">,</font>X2<font color="#000080">,</font>Y2<font color="#000080">,
    </font>Attr         <font color="#000080">: </font>Byte<font color="#000080">;
    </font>CurX<font color="#000080">,</font>CurY    <font color="#000080">: </font>Byte<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Regs      <font color="#000080">: </font>Registers<font color="#000080">;
  </font>Cleared   <font color="#000080">: </font>Boolean<font color="#000080">;
  </font>Screen    <font color="#000080">: ^</font>PageType<font color="#000080">;
  </font>ActPage<font color="#000080">,
  </font>VideoMode <font color="#000080">: ^</font>Byte<font color="#000080">;
  </font><font color="#008000"><i>{$ifOPT D+}
  </i></font>Fnc<font color="#000080">,
  </font>OldFnc    <font color="#000080">: </font>Byte<font color="#000080">;
  </font><font color="#008000"><i>{$endif}

{$ifOPT D+}
</i></font><font color="#FF0000"><b>Function </b></font>FStr<font color="#000080">(</font>Num <font color="#000080">: </font>LongInt<font color="#000080">) : </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>Dummy <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Str<font color="#000080">(</font>Num<font color="#000080">,</font>Dummy<font color="#000080">);
  </font>FStr <font color="#000080">:= </font>Dummy<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>WriteXY<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>Attr <font color="#000080">: </font>Byte<font color="#000080">;</font>TextStr <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
</font><font color="#FF0000"><b>Var
  </b></font>Loop <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>Length<font color="#000080">(</font>TextStr<font color="#000080">)&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then
  begin
    </b></font>Loop <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>Repeat
      </b></font>Inc<font color="#000080">(</font>Loop<font color="#000080">);
      </font>Screen<font color="#000080">^[</font>Y<font color="#000080">,</font>X<font color="#000080">+(</font>Loop<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)] := </font>ord<font color="#000080">(</font>TextStr<font color="#000080">[</font>Loop<font color="#000080">])+</font>Word<font color="#000080">(</font>Attr <font color="#FF0000"><b>SHL </b></font><font color="#800000">8</font><font color="#000080">);
    </font><font color="#FF0000"><b>Until </b></font>Loop<font color="#000080">=</font>Length<font color="#000080">(</font>TextStr<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{$endif}

</i></font><font color="#FF0000"><b>Procedure </b></font>ScrollUp<font color="#000080">(</font>X1<font color="#000080">,</font>Y1<font color="#000080">,</font>X2<font color="#000080">,</font>Y2<font color="#000080">,</font>Attr <font color="#000080">: </font>Byte<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">mov   ah,$06
  mov   al,$01
  mov   bh,Attr
  mov   ch,Y1
  mov   cl,X1
  mov   dh,Y2
  mov   dl,X2
  dec   ch
  dec   cl
  dec   dh
  dec   dl
  int   $10
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ClearXY<font color="#000080">(</font>X1<font color="#000080">,</font>Y1<font color="#000080">,</font>X2<font color="#000080">,</font>Y2<font color="#000080">,</font>Attr <font color="#000080">: </font>Byte<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">mov   ah,$06
  mov   al,$00
  mov   bh,Attr
  mov   ch,Y1
  mov   cl,X1
  mov   dh,Y2
  mov   dl,X2
  dec   ch
  dec   cl
  dec   dh
  dec   dl
  int   $10
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{$ifOPT D+}
</i></font><font color="#FF0000"><b>Procedure </b></font>Beep<font color="#000080">(</font>Freq<font color="#000080">,</font>Delay1<font color="#000080">,</font>Delay2 <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#FF0000"><b>begin
  </b></font>Sound<font color="#000080">(</font>Freq<font color="#000080">);
  </font>Delay<font color="#000080">(</font>Delay1<font color="#000080">);
  </font>NoSound<font color="#000080">;
  </font>Delay<font color="#000080">(</font>Delay2<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{$endif}

{$F+}
</i></font><font color="#FF0000"><b>Procedure </b></font>NewInt10<font color="#000080">(</font>Flags<font color="#000080">,</font>CS<font color="#000080">,</font>IP<font color="#000080">,</font>AX<font color="#000080">,</font>BX<font color="#000080">,</font>CX<font color="#000080">,
                   </font>DX<font color="#000080">,</font>SI<font color="#000080">,</font>DI<font color="#000080">,</font>DS<font color="#000080">,</font>ES<font color="#000080">,</font>BP <font color="#000080">: </font>Word<font color="#000080">); </font>Interrupt<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>X<font color="#000080">, </font>Y<font color="#000080">, </font>X1<font color="#000080">,
  </font>Y1<font color="#000080">, </font>X2<font color="#000080">, </font>Y2   <font color="#000080">: </font>Byte<font color="#000080">;
  </font>Loop<font color="#000080">, </font>DummyW <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>SetIntVec<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>SaveInt10<font color="#000080">);
  </font><font color="#008000"><i>{$ifOPT D+}
  </i></font>Fnc <font color="#000080">:= </font>Hi<font color="#000080">(</font>AX<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>Fnc<font color="#000080">&lt;&gt;</font>OldFnc <font color="#FF0000"><b>then
  begin
    </b></font>WriteXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Coordinates:'</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Register:'</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'AH: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Hi<font color="#000080">(</font>AX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'AL: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Lo<font color="#000080">(</font>AX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'BH: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Hi<font color="#000080">(</font>BX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'BL: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Lo<font color="#000080">(</font>BX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'CH: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Hi<font color="#000080">(</font>CX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'CL: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Lo<font color="#000080">(</font>CX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'DH: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Hi<font color="#000080">(</font>DX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'DL: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Lo<font color="#000080">(</font>DX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font><font color="#FF0000"><b>Case </b></font>Fnc <font color="#FF0000"><b>of
      </b></font><font color="#800000">$0 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Set video mode.                        '</font><font color="#000080">);
      </font><font color="#800000">$1 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Set cursor shape.                      '</font><font color="#000080">);
      </font><font color="#800000">$2 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Set cursor position.                   '</font><font color="#000080">);
      </font><font color="#800000">$3 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Get cursor position.                   '</font><font color="#000080">);
      </font><font color="#800000">$4 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Get lightpen position.                 '</font><font color="#000080">);
      </font><font color="#800000">$5 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Set active page.                       '</font><font color="#000080">);
      </font><font color="#800000">$6 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Scroll up lines.                       '</font><font color="#000080">);
      </font><font color="#800000">$7 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Scroll down lines.                     '</font><font color="#000080">);
      </font><font color="#800000">$8 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Get Character/attribute.               '</font><font color="#000080">);
      </font><font color="#800000">$9 </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Write Character/attribute.             '</font><font color="#000080">);
      </font><font color="#800000">$A </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Write Character.                       '</font><font color="#000080">);
      </font><font color="#800000">$D </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Get pixel in Graphic mode.             '</font><font color="#000080">);
      </font><font color="#800000">$E </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Write Character.                       '</font><font color="#000080">);
      </font><font color="#800000">$F </font><font color="#000080">: </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'Get video mode.                        '</font><font color="#000080">);
      </font><font color="#FF0000"><b>else </b></font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'(unknown/ignored Function)             '</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>Case </b></font>Hi<font color="#000080">(</font>AX<font color="#000080">) </font><font color="#FF0000"><b>of
      </b></font><font color="#800000">$0</font><font color="#000080">..</font><font color="#800000">$E </font><font color="#000080">: </font>Beep<font color="#000080">(</font>Hi<font color="#000080">(</font>AX<font color="#000080">)*</font><font color="#800000">100</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);
          </font><font color="#FF0000"><b>else begin
                 </b></font>Beep<font color="#000080">(</font><font color="#800000">1000</font><font color="#000080">,</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
                 </font><font color="#FF0000"><b>Repeat Until </b></font>ReadKey<font color="#000080">&lt;&gt;</font><font color="#800000">#0</font><font color="#000080">;
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#008000"><i>{$endif}
  </i></font><font color="#FF0000"><b>Case </b></font>Hi<font color="#000080">(</font>AX<font color="#000080">) </font><font color="#FF0000"><b>of
    </b></font><font color="#800000">$00 </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>ClearXY<font color="#000080">(</font>Window<font color="#000080">.</font>X1<font color="#000080">,</font>Window<font color="#000080">.</font>Y1<font color="#000080">,</font>Window<font color="#000080">.</font>X2<font color="#000080">,</font>Window<font color="#000080">.</font>Y2<font color="#000080">,</font>Window<font color="#000080">.</font>Attr<font color="#000080">);
            </font>GotoXY<font color="#000080">(</font>Window<font color="#000080">.</font>X1<font color="#000080">,</font>Window<font color="#000080">.</font>Y1<font color="#000080">);
            </font>Window<font color="#000080">.</font>CurX <font color="#000080">:= </font>Window<font color="#000080">.</font>X1<font color="#000080">;
            </font>Window<font color="#000080">.</font>CurY <font color="#000080">:= </font>Window<font color="#000080">.</font>Y1<font color="#000080">;
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">$01 </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>Regs<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$01</font><font color="#000080">;
            </font>Regs<font color="#000080">.</font>CX <font color="#000080">:= </font>CX<font color="#000080">;
            </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">$02 </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>X           <font color="#000080">:= </font>Lo<font color="#000080">(</font>DX<font color="#000080">);
            </font>Y           <font color="#000080">:= </font>Hi<font color="#000080">(</font>DX<font color="#000080">);
            </font>Window<font color="#000080">.</font>CurX <font color="#000080">:= </font>X<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
            </font><font color="#FF0000"><b>if </b></font>Cleared <font color="#FF0000"><b>then
            begin
              </b></font>Window<font color="#000080">.</font>CurY <font color="#000080">:= </font>Window<font color="#000080">.</font>Y1<font color="#000080">;
              </font>Cleared     <font color="#000080">:= </font>False<font color="#000080">;
            </font><font color="#FF0000"><b>end
            else </b></font>Window<font color="#000080">.</font>CurY <font color="#000080">:= </font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
            </font><font color="#FF0000"><b>if </b></font>Window<font color="#000080">.</font>CurX<font color="#000080">&lt;=</font>Window<font color="#000080">.</font>X2 <font color="#FF0000"><b>then
            begin
              </b></font>Regs<font color="#000080">.</font>AH     <font color="#000080">:= </font><font color="#800000">$02</font><font color="#000080">;
              </font>Regs<font color="#000080">.</font>BH     <font color="#000080">:= </font>ActPage<font color="#000080">^;
              </font>Regs<font color="#000080">.</font>DL     <font color="#000080">:= </font>X<font color="#000080">;
              </font>Regs<font color="#000080">.</font>DH     <font color="#000080">:= </font>Y<font color="#000080">;
              </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
            </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">$03 </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>Regs<font color="#000080">.</font>AH     <font color="#000080">:= </font><font color="#800000">$03</font><font color="#000080">;
            </font>Regs<font color="#000080">.</font>BH     <font color="#000080">:= </font>ActPage<font color="#000080">^;
            </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
            </font>DX          <font color="#000080">:= (</font>Window<font color="#000080">.</font>X1<font color="#000080">-</font>Regs<font color="#000080">.</font>DL<font color="#000080">)+((</font>Window<font color="#000080">.</font>Y1<font color="#000080">-</font>Regs<font color="#000080">.</font>DH<font color="#000080">) </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">8</font><font color="#000080">);
            </font>CX          <font color="#000080">:= </font>Regs<font color="#000080">.</font>CX<font color="#000080">;
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">$04 </font><font color="#000080">: </font>AX <font color="#000080">:= </font>Lo<font color="#000080">(</font>AX<font color="#000080">);
    </font><font color="#800000">$06 </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>X1      <font color="#000080">:= </font>Window<font color="#000080">.</font>X1<font color="#000080">+</font>Lo<font color="#000080">(</font>CX<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
            </font>Y1      <font color="#000080">:= </font>Window<font color="#000080">.</font>Y1<font color="#000080">+</font>Hi<font color="#000080">(</font>CX<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
            </font>X2      <font color="#000080">:= </font>Window<font color="#000080">.</font>X2<font color="#000080">+</font>Lo<font color="#000080">(</font>DX<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
            </font>Y2      <font color="#000080">:= </font>Window<font color="#000080">.</font>Y2<font color="#000080">+</font>Hi<font color="#000080">(</font>DX<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
            </font><font color="#FF0000"><b>if </b></font>Lo<font color="#000080">(</font>AX<font color="#000080">)=</font><font color="#800000">0 </font><font color="#FF0000"><b>then
            begin
              </b></font>ClearXY<font color="#000080">(</font>Window<font color="#000080">.</font>X1<font color="#000080">,</font>Window<font color="#000080">.</font>Y1<font color="#000080">,
                      </font>Window<font color="#000080">.</font>X2<font color="#000080">,</font>Window<font color="#000080">.</font>Y2<font color="#000080">,</font>Window<font color="#000080">.</font>Attr<font color="#000080">);
              </font>GotoXY<font color="#000080">(</font>Window<font color="#000080">.</font>X1<font color="#000080">,</font>Window<font color="#000080">.</font>Y1<font color="#000080">);
              </font>Window<font color="#000080">.</font>CurX <font color="#000080">:= </font>Window<font color="#000080">.</font>X1<font color="#000080">;
              </font>Window<font color="#000080">.</font>CurY <font color="#000080">:= </font>Window<font color="#000080">.</font>Y1<font color="#000080">;
              </font>Cleared     <font color="#000080">:= </font>True<font color="#000080">;
            </font><font color="#FF0000"><b>end
            else
            begin
              if </b></font>X2<font color="#000080">&gt;</font>Window<font color="#000080">.</font>X2 <font color="#FF0000"><b>then </b></font>X2 <font color="#000080">:= </font>Window<font color="#000080">.</font>X2<font color="#000080">;
              </font><font color="#FF0000"><b>if </b></font>Y2<font color="#000080">&gt;</font>Window<font color="#000080">.</font>Y2 <font color="#FF0000"><b>then </b></font>Y2 <font color="#000080">:= </font>Window<font color="#000080">.</font>Y2<font color="#000080">;
              </font>Regs<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$06</font><font color="#000080">;
              </font>Regs<font color="#000080">.</font>AL <font color="#000080">:= </font>Lo<font color="#000080">(</font>AX<font color="#000080">);
              </font>Regs<font color="#000080">.</font>CL <font color="#000080">:= </font>X1<font color="#000080">;
              </font>Regs<font color="#000080">.</font>CH <font color="#000080">:= </font>Y1<font color="#000080">;
              </font>Regs<font color="#000080">.</font>DL <font color="#000080">:= </font>X2<font color="#000080">;
              </font>Regs<font color="#000080">.</font>DH <font color="#000080">:= </font>Y2<font color="#000080">;
              </font>Regs<font color="#000080">.</font>BH <font color="#000080">:= </font>Window<font color="#000080">.</font>Attr<font color="#000080">;
              </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
            </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">$07 </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>X1      <font color="#000080">:= </font>Window<font color="#000080">.</font>X1<font color="#000080">+</font>Lo<font color="#000080">(</font>CX<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
            </font>Y1      <font color="#000080">:= </font>Window<font color="#000080">.</font>Y1<font color="#000080">+</font>Hi<font color="#000080">(</font>CX<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
            </font>X2      <font color="#000080">:= </font>Window<font color="#000080">.</font>X2<font color="#000080">+</font>Lo<font color="#000080">(</font>DX<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
            </font>Y2      <font color="#000080">:= </font>Window<font color="#000080">.</font>Y2<font color="#000080">+</font>Hi<font color="#000080">(</font>DX<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">;
            </font><font color="#FF0000"><b>if </b></font>X2<font color="#000080">&gt;</font>Window<font color="#000080">.</font>X2 <font color="#FF0000"><b>then
              </b></font>X2 <font color="#000080">:= </font>Window<font color="#000080">.</font>X2<font color="#000080">;
            </font><font color="#FF0000"><b>if </b></font>Y2<font color="#000080">&gt;</font>Window<font color="#000080">.</font>Y2 <font color="#FF0000"><b>then
              </b></font>Y2 <font color="#000080">:= </font>Window<font color="#000080">.</font>Y2<font color="#000080">;
            </font>Regs<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$07</font><font color="#000080">;
            </font>Regs<font color="#000080">.</font>AL <font color="#000080">:= </font>Lo<font color="#000080">(</font>AX<font color="#000080">);
            </font>Regs<font color="#000080">.</font>CL <font color="#000080">:= </font>X1<font color="#000080">;
            </font>Regs<font color="#000080">.</font>CH <font color="#000080">:= </font>Y1<font color="#000080">;
            </font>Regs<font color="#000080">.</font>DL <font color="#000080">:= </font>X2<font color="#000080">;
            </font>Regs<font color="#000080">.</font>DH <font color="#000080">:= </font>Y2<font color="#000080">;
            </font>Regs<font color="#000080">.</font>BH <font color="#000080">:= </font>Window<font color="#000080">.</font>Attr<font color="#000080">;
            </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">$08 </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>Regs<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$08</font><font color="#000080">;
            </font>Regs<font color="#000080">.</font>BH <font color="#000080">:= </font>ActPage<font color="#000080">^;
            </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
            </font>AX      <font color="#000080">:= </font>Regs<font color="#000080">.</font>AX<font color="#000080">;
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">$09</font><font color="#000080">,
    </font><font color="#800000">$0A </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>Regs<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$09</font><font color="#000080">;
            </font>Regs<font color="#000080">.</font>BH <font color="#000080">:= </font>ActPage<font color="#000080">^;
            </font>Regs<font color="#000080">.</font>CX <font color="#000080">:= </font>CX<font color="#000080">;
            </font>Regs<font color="#000080">.</font>AL <font color="#000080">:= </font>Lo<font color="#000080">(</font>AX<font color="#000080">);
            </font>Regs<font color="#000080">.</font>BL <font color="#000080">:= </font>Window<font color="#000080">.</font>Attr<font color="#000080">;
            </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">$0D </font><font color="#000080">: </font>AX <font color="#000080">:= </font>Hi<font color="#000080">(</font>AX<font color="#000080">) </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">8</font><font color="#000080">;
    </font><font color="#800000">$0D </font><font color="#000080">: </font>AX <font color="#000080">:= </font>Hi<font color="#000080">(</font>AX<font color="#000080">) </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">8</font><font color="#000080">;
    </font><font color="#800000">$0E </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            Case </b></font>Lo<font color="#000080">(</font>AX<font color="#000080">) </font><font color="#FF0000"><b>of
               </b></font><font color="#800000">7 </font><font color="#000080">: </font>Write<font color="#000080">(</font><font color="#800000">#7</font><font color="#000080">);
              </font><font color="#800000">13 </font><font color="#000080">: </font><font color="#FF0000"><b>begin
                     </b></font>Window<font color="#000080">.</font>CurX <font color="#000080">:= </font>Window<font color="#000080">.</font>X1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
                     </font><font color="#FF0000"><b>if </b></font>Window<font color="#000080">.</font>CurY<font color="#000080">&gt;=</font>Window<font color="#000080">.</font>Y2 <font color="#FF0000"><b>then
                     begin
                       </b></font>Window<font color="#000080">.</font>CurY <font color="#000080">:= </font>Window<font color="#000080">.</font>Y2<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
                       </font>ScrollUp<font color="#000080">(</font>Window<font color="#000080">.</font>X1<font color="#000080">,</font>Window<font color="#000080">.</font>Y1<font color="#000080">,
                                </font>Window<font color="#000080">.</font>X2<font color="#000080">,</font>Window<font color="#000080">.</font>Y2<font color="#000080">,</font>Window<font color="#000080">.</font>Attr<font color="#000080">);
                     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
                   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
              </font><font color="#FF0000"><b>else
                begin
                  </b></font>Regs<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$0E</font><font color="#000080">;
                  </font>Regs<font color="#000080">.</font>AL <font color="#000080">:= </font>Lo<font color="#000080">(</font>AX<font color="#000080">);
                  </font>Regs<font color="#000080">.</font>BL <font color="#000080">:= </font>Window<font color="#000080">.</font>Attr<font color="#000080">;
                  </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
                </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
            </font>Inc<font color="#000080">(</font>Window<font color="#000080">.</font>CurX<font color="#000080">);
            </font>GotoXY<font color="#000080">(</font>Window<font color="#000080">.</font>CurX<font color="#000080">,</font>Window<font color="#000080">.</font>CurY<font color="#000080">);
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">$0F </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>AX <font color="#000080">:= </font><font color="#800000">$03</font><font color="#000080">+(</font><font color="#800000">80 </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">8</font><font color="#000080">);
            </font>BX <font color="#000080">:= </font>Lo<font color="#000080">(</font>BX<font color="#000080">);
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>else
       begin
         </b></font>Regs<font color="#000080">.</font>AX    <font color="#000080">:= </font>AX<font color="#000080">;
         </font>Regs<font color="#000080">.</font>BX    <font color="#000080">:= </font>BX<font color="#000080">;
         </font>Regs<font color="#000080">.</font>CX    <font color="#000080">:= </font>CX<font color="#000080">;
         </font>Regs<font color="#000080">.</font>DX    <font color="#000080">:= </font>DX<font color="#000080">;
         </font>Regs<font color="#000080">.</font>SI    <font color="#000080">:= </font>SI<font color="#000080">;
         </font>Regs<font color="#000080">.</font>DI    <font color="#000080">:= </font>DI<font color="#000080">;
         </font>Regs<font color="#000080">.</font>DS    <font color="#000080">:= </font>DS<font color="#000080">;
         </font>Regs<font color="#000080">.</font>ES    <font color="#000080">:= </font>ES<font color="#000080">;
         </font>Regs<font color="#000080">.</font>BP    <font color="#000080">:= </font>BP<font color="#000080">;
         </font>Regs<font color="#000080">.</font>Flags <font color="#000080">:= </font>Flags<font color="#000080">;
         </font>Intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>Regs<font color="#000080">);
         </font>AX         <font color="#000080">:= </font>Regs<font color="#000080">.</font>AX<font color="#000080">;
         </font>BX         <font color="#000080">:= </font>Regs<font color="#000080">.</font>BX<font color="#000080">;
         </font>CX         <font color="#000080">:= </font>Regs<font color="#000080">.</font>CX<font color="#000080">;
         </font>DX         <font color="#000080">:= </font>Regs<font color="#000080">.</font>DX<font color="#000080">;
         </font>SI         <font color="#000080">:= </font>Regs<font color="#000080">.</font>SI<font color="#000080">;
         </font>DI         <font color="#000080">:= </font>Regs<font color="#000080">.</font>DI<font color="#000080">;
         </font>DS         <font color="#000080">:= </font>Regs<font color="#000080">.</font>DS<font color="#000080">;
         </font>ES         <font color="#000080">:= </font>Regs<font color="#000080">.</font>ES<font color="#000080">;
         </font>BP         <font color="#000080">:= </font>Regs<font color="#000080">.</font>BP<font color="#000080">;
         </font>Flags      <font color="#000080">:= </font>Regs<font color="#000080">.</font>Flags<font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#008000"><i>{$ifOPT D+}
  </i></font><font color="#FF0000"><b>if </b></font>Fnc<font color="#000080">&lt;&gt;</font>OldFnc <font color="#FF0000"><b>then
  begin
    </b></font>WriteXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font>FStr<font color="#000080">(</font>Window<font color="#000080">.</font>CurX<font color="#000080">)+</font><font color="#800000">':'</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Window<font color="#000080">.</font>CurY<font color="#000080">)+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font>FStr<font color="#000080">(</font>Window<font color="#000080">.</font>CurX<font color="#000080">-</font>Window<font color="#000080">.</font>X1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)+</font><font color="#800000">':'</font><font color="#000080">+
                   </font>FStr<font color="#000080">(</font>Window<font color="#000080">.</font>CurY<font color="#000080">-</font>Window<font color="#000080">.</font>Y1<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'AH: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Hi<font color="#000080">(</font>AX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'AL: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Lo<font color="#000080">(</font>AX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'BH: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Hi<font color="#000080">(</font>BX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'BL: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Lo<font color="#000080">(</font>BX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'CH: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Hi<font color="#000080">(</font>CX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'CL: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Lo<font color="#000080">(</font>CX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'DH: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Hi<font color="#000080">(</font>DX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>WriteXY<font color="#000080">(</font><font color="#800000">50</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">'DL: '</font><font color="#000080">+</font>FStr<font color="#000080">(</font>Lo<font color="#000080">(</font>DX<font color="#000080">))+</font><font color="#800000">'  '</font><font color="#000080">);
    </font>OldFnc <font color="#000080">:= </font>Fnc<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#008000"><i>{$endif}
  </i></font>SetIntVec<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,@</font>NewInt10<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{$F-}

</i></font><font color="#FF0000"><b>Procedure </b></font>ExecWindow<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Window<font color="#000080">.</font>X1   <font color="#000080">:= </font>X1<font color="#000080">;
  </font>Window<font color="#000080">.</font>Y1   <font color="#000080">:= </font>Y1<font color="#000080">;
  </font>Window<font color="#000080">.</font>X2   <font color="#000080">:= </font>X2<font color="#000080">;
  </font>Window<font color="#000080">.</font>Y2   <font color="#000080">:= </font>Y2<font color="#000080">;
  </font>Window<font color="#000080">.</font>Attr <font color="#000080">:= </font>Attr<font color="#000080">;
  </font><font color="#008000"><i>{$ifOPT D+}
  </i></font>Fnc         <font color="#000080">:= </font><font color="#800000">255</font><font color="#000080">;
  </font>OldFnc      <font color="#000080">:= </font><font color="#800000">255</font><font color="#000080">;
  </font><font color="#008000"><i>{$endif}
  </i></font>ClearXY<font color="#000080">(</font>Window<font color="#000080">.</font>X1<font color="#000080">,</font>Window<font color="#000080">.</font>Y1<font color="#000080">,
          </font>Window<font color="#000080">.</font>X2<font color="#000080">,</font>Window<font color="#000080">.</font>Y2<font color="#000080">,</font>Window<font color="#000080">.</font>Attr<font color="#000080">);
  </font>GotoXY<font color="#000080">(</font>Window<font color="#000080">.</font>X1<font color="#000080">,</font>Window<font color="#000080">.</font>Y1<font color="#000080">);
  </font>Window<font color="#000080">.</font>CurX <font color="#000080">:= </font>Window<font color="#000080">.</font>X1<font color="#000080">;
  </font>Window<font color="#000080">.</font>CurY <font color="#000080">:= </font>Window<font color="#000080">.</font>Y1<font color="#000080">;
  </font>SwapVectors<font color="#000080">;
  </font>GetIntVec<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>SaveInt10<font color="#000080">);
  </font>SetIntVec<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,@</font>NewInt10<font color="#000080">);
  </font>Exec<font color="#000080">(</font>Path<font color="#000080">,</font>CmdLine<font color="#000080">);
  </font>SetIntVec<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>SaveInt10<font color="#000080">);
  </font>SwapVectors<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>Window<font color="#000080">.</font>X1   <font color="#000080">:= </font>Lo<font color="#000080">(</font>WindMin<font color="#000080">);
  </font>Window<font color="#000080">.</font>Y1   <font color="#000080">:= </font>Hi<font color="#000080">(</font>WindMin<font color="#000080">);
  </font>Window<font color="#000080">.</font>X2   <font color="#000080">:= </font>Lo<font color="#000080">(</font>WindMax<font color="#000080">);
  </font>Window<font color="#000080">.</font>Y2   <font color="#000080">:= </font>Hi<font color="#000080">(</font>WindMax<font color="#000080">);
  </font>Window<font color="#000080">.</font>Attr <font color="#000080">:= </font>TextAttr<font color="#000080">;
  </font>Window<font color="#000080">.</font>CurX <font color="#000080">:= </font>WhereX<font color="#000080">;
  </font>Window<font color="#000080">.</font>CurY <font color="#000080">:= </font>WhereY<font color="#000080">;
  </font>Cleared     <font color="#000080">:= </font>False<font color="#000080">;
  </font>ActPage     <font color="#000080">:= </font>Ptr<font color="#000080">(</font>Seg0040<font color="#000080">,</font><font color="#800000">$0062</font><font color="#000080">);
  </font>VideoMode   <font color="#000080">:= </font>Ptr<font color="#000080">(</font>Seg0040<font color="#000080">,</font><font color="#800000">$0049</font><font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>VideoMode<font color="#000080">^=</font><font color="#800000">7 </font><font color="#FF0000"><b>then
    </b></font>Screen <font color="#000080">:= </font>Ptr<font color="#000080">(</font>SegB000<font color="#000080">,</font><font color="#800000">$0000</font><font color="#000080">)
  </font><font color="#FF0000"><b>else
    </b></font>Screen <font color="#000080">:= </font>Ptr<font color="#000080">(</font>SegB800<font color="#000080">,</font><font color="#800000">$0000</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TEXTWNDW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p></body>
</html>
