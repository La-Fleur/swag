<html>
<head><title> "Another Text Scroller" by CHRISTIAN LAND</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TEXTWNDW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0028.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Here's a little TEXTMODE Scroller I wrote some time ago. Feel free to release
it in the SWAG Files ;)

---------------------------------= CUT HERE =---------------------------------

{ This is a VERY simple Textmode Scroller. Feel free to use it in your
  programs .                                                                 }


</i></font><font color="#FF0000"><b>Uses </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Const </b></font>Bits    <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte <font color="#000080">= (</font><font color="#800000">128</font><font color="#000080">,</font><font color="#800000">64</font><font color="#000080">,</font><font color="#800000">32</font><font color="#000080">,</font><font color="#800000">16</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
      </font>Text    <font color="#000080">: </font><font color="#FF0000"><b>String </b></font><font color="#000080">= </font><font color="#800000">' THiS LiTTLE SCROLLER WAS DONE BY ROGUE/'</font><font color="#000080">+
                </font><font color="#800000">'DiGiTAL PROJECTS             '</font><font color="#000080">;
      </font>YPos    <font color="#000080">= </font><font color="#800000">7</font><font color="#000080">;

</font><font color="#FF0000"><b>Var
   </b></font>FSeg<font color="#000080">,</font>FOfs<font color="#000080">,</font>i  <font color="#000080">: </font>Word<font color="#000080">;
   </font>BitMap       <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">80</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Scroll<font color="#000080">;
</font><font color="#FF0000"><b>Var
   </b></font>i<font color="#000080">,</font>j                                  <font color="#000080">: </font>Word<font color="#000080">;
   </font>CharPos<font color="#000080">,</font>CharNo<font color="#000080">,</font>Color<font color="#000080">,</font>Character<font color="#000080">,</font>nc    <font color="#000080">: </font>Byte<font color="#000080">;
   </font>c                                    <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>CharNo<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>Repeat
           </b></font>Character<font color="#000080">:=</font>Ord<font color="#000080">(</font>Text<font color="#000080">[</font>CharNo<font color="#000080">]);

           </font><font color="#FF0000"><b>For </b></font>CharPos<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7 </font><font color="#FF0000"><b>do
           Begin
                For </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7 </font><font color="#FF0000"><b>do
                    If </b></font>Mem<font color="#000080">[</font>FSeg<font color="#000080">:</font>FOfs<font color="#000080">+(</font>Character <font color="#FF0000"><b>shl </b></font><font color="#800000">3</font><font color="#000080">)+</font>i<font color="#000080">] </font><font color="#FF0000"><b>and
                       </b></font>Bits<font color="#000080">[</font>CharPos<font color="#000080">]&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then
                       </b></font>BitMap<font color="#000080">[</font><font color="#800000">80</font><font color="#000080">,</font>i<font color="#000080">]:=</font><font color="#800000">15  </font><font color="#008000"><i>{ Char-Color }
                    </i></font><font color="#FF0000"><b>Else
                        </b></font>BitMap<font color="#000080">[</font><font color="#800000">80</font><font color="#000080">,</font>i<font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">; </font><font color="#008000"><i>{ Background Color }

                </i></font><font color="#FF0000"><b>Asm
                   </b></font><font color="#FF00FF">mov   dx, $3da
                   @L1:
                   in    al, dx
                   test  al, $08
                   jnz   @L1
                   @L2:
                   in    al, dx
                   test  al, $08
                   jz    @L2
                </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

                </font><font color="#FF0000"><b>For </b></font>j<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7 </font><font color="#FF0000"><b>do
                    For </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">79 </font><font color="#FF0000"><b>do
                    Begin
                         </b></font><font color="#008000"><i>{ Draw }
                         </i></font>Mem<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:(</font>i <font color="#FF0000"><b>shl </b></font><font color="#800000">1</font><font color="#000080">)+((</font>j<font color="#000080">+</font>YPos<font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">)]:=</font><font color="#800000">219</font><font color="#000080">;
                         </font>Mem<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:(</font>i <font color="#FF0000"><b>shl </b></font><font color="#800000">1</font><font color="#000080">)+((</font>j<font color="#000080">+</font>YPos<font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">]:=</font>BitMap<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">];
                         </font><font color="#008000"><i>{ Scroll left }
                         </i></font>BitMap<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">]:=</font>BitMap<font color="#000080">[</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>j<font color="#000080">];
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
           </font>Inc<font color="#000080">(</font>CharNo<font color="#000080">);
           </font><font color="#FF0000"><b>If </b></font>CharNo<font color="#000080">&gt;</font>Length<font color="#000080">(</font>Text<font color="#000080">) </font><font color="#FF0000"><b>then
              </b></font>CharNo<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
     </font><font color="#FF0000"><b>Until </b></font>Keypressed<font color="#000080">;
     </font>readkey<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>GetFont<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
   </b></font><font color="#FF00FF">mov  ax, $1130
   mov  bh, $01
   int  $10
   mov  fseg, es
   mov  fofs, bp
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Begin
     </b></font>ClrScr<font color="#000080">;
     </font>GetFont<font color="#000080">;
     </font>Scroll<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TEXTWNDW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0028.PAS">Original</a><b>]</b></p></body>
</html>
