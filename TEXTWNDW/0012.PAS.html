<html>
<head><title> "Graphics Win in Text Mode" by DAVID DAHL</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TEXTWNDW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
 STG&gt;Does anyone know off hand if I can be in text mode and window in a
 STG&gt;window and put the wondow only in graphics mode?
 STG&gt;I have a program that I need to have a graph in.  Does anyone have some
 STG&gt;code for using the PLOT procedure to plot variables.  The values for
 STG&gt;the Y axis are from 1 - 2000, and for the X axis from 1 - 24.

        Yes, it's possible... sort of.   If you have a VGA (or
EGA) you can have 2 separate character sets on screen at once.
Use one character set for text, and redefine the other for your
graphics window.  The only problem is that your graphics window
can only be composed of 256 characters total.  So, a 16 X 16
character square would only give you a vertical resolution of 256
pixels and a horizontal resolution of 128 pixels.  The following
code is an example of how one would do this.

                                                Dave

}

</i></font><font color="#FF0000"><b>Program </b></font>GraphicsInTextModeExample<font color="#000080">;

</font><font color="#008000"><i>{================================================

         Graphics In Text Mode Example
            Programmed by David Dahl
                    12/24/93
    This program and source are PUBLIC DOMAIN

 ------------------------------------------------

   This example uses a second font as a pseudo-
   graphics window.  This program requires VGA.

 ================================================}

</i></font><font color="#FF0000"><b>Uses  </b></font>CRT<font color="#000080">;

</font><font color="#FF0000"><b>Const </b></font><font color="#008000"><i>{ Dimentions of The Graphics Window in Characters }
      </i></font>ChrSizeX <font color="#000080">= </font><font color="#800000">32</font><font color="#000080">;
      </font>ChrSizeY <font color="#000080">= </font><font color="#800000">256 </font><font color="#FF0000"><b>DIV </b></font>ChrSizeX<font color="#000080">;
      </font><font color="#008000"><i>{ Dimentions of The Graphics Window in Pixels }
      </i></font>MaxX     <font color="#000080">= </font>ChrSizeX <font color="#000080">* </font><font color="#800000">8</font><font color="#000080">;
      </font>MaxY     <font color="#000080">= </font>ChrSizeY <font color="#000080">* </font><font color="#800000">16</font><font color="#000080">;

</font><font color="#008000"><i>{-[ Set Character Width to 8 Pixels ]-------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>SetCharWidthTo8<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
   </b></font><font color="#008000"><i>{ Change To 640 Horz Res }
   </i></font><font color="#FF00FF">MOV DX, $3CC
   IN  AL, DX
   AND AL, Not(4 OR 8)
   MOV DX, $3C2
   OUT DX, AL
   </font><font color="#008000"><i>{ Turn Off Sequence Controller }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 0
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 0
   OUT DX, AL
   </font><font color="#008000"><i>{ Reset Sequence Controller }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 0
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 3
   OUT DX, AL
   </font><font color="#008000"><i>{ Switch To 8 Pixel Wide Fonts }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 1
   OUT DX, AL
   MOV DX, $3C5
   IN  AL, DX
   OR  AL, 1
   OUT DX, AL
   </font><font color="#008000"><i>{ Turn Off Sequence Controller }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 0
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 0
   OUT DX, AL
   </font><font color="#008000"><i>{ Reset Sequence Controller }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 0
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 3
   OUT DX, AL
   </font><font color="#008000"><i>{ Center Screen }
   </i></font><font color="#FF00FF">MOV DX, $3DA
   IN  AL, DX
   MOV DX, $3C0
   MOV AL, $13 OR 32
   OUT DX, AL
   MOV AL, 0
   OUT DX, AL
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Turn On Dual Fonts ]--------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>SetDualFonts<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
   </b></font><font color="#008000"><i>{ Set Fonts 0 &amp; 1 }
   </i></font><font color="#FF00FF">MOV BL, 4
   MOV AX, $1103
   INT $10
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Turn On Access To Font Memory ]---------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>SetAccessToFontMemory<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
   </b></font><font color="#008000"><i>{ Turn Off Sequence Controller }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 0
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 1
   OUT DX, AL
   </font><font color="#008000"><i>{ Reset Sequence Controller }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 0
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 3
   OUT DX, AL
   </font><font color="#008000"><i>{ Change From Odd/Even Addressing to Linear }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 4
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 7
   OUT DX, AL
   </font><font color="#008000"><i>{ Switch Write Access To Plane 2 }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 2
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 4
   OUT DX, AL
   </font><font color="#008000"><i>{ Set Read Map Reg To Plane 2 }
   </i></font><font color="#FF00FF">MOV DX, $3CE
   MOV AL, 4
   OUT DX, AL
   MOV DX, $3CF
   MOV AL, 2
   OUT DX, AL
   </font><font color="#008000"><i>{ Set Graphics Mode Reg }
   </i></font><font color="#FF00FF">MOV DX, $3CE
   MOV AL, 5
   OUT DX, AL
   MOV DX, $3CF
   MOV AL, 0
   OUT DX, AL
   </font><font color="#008000"><i>{ Set Misc. Reg }
   </i></font><font color="#FF00FF">MOV DX, $3CE
   MOV AL, 6
   OUT DX, AL
   MOV DX, $3CF
   MOV AL, 12
   OUT DX, AL
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Turn On Access to Text Memory ]---------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>SetAccessToTextMemory<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
   </b></font><font color="#008000"><i>{ Turn Off Sequence Controller }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 0
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 1
   OUT DX, AL
   </font><font color="#008000"><i>{ Reset Sequence Controller }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 0
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 3
   OUT DX, AL
   </font><font color="#008000"><i>{ Change To Odd/Even Addressing }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 4
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 3
   OUT DX, AL
   </font><font color="#008000"><i>{ Switch Write Access }
   </i></font><font color="#FF00FF">MOV DX, $3C4
   MOV AL, 2
   OUT DX, AL
   MOV DX, $3C5
   MOV AL, 3  </font><font color="#008000"><i>{?}
   </i></font><font color="#FF00FF">OUT DX, AL
   </font><font color="#008000"><i>{ Set Read Map Reg }
   </i></font><font color="#FF00FF">MOV DX, $3CE
   MOV AL, 4
   OUT DX, AL
   MOV DX, $3CF
   MOV AL, 0
   OUT DX, AL
   </font><font color="#008000"><i>{ Set Graphics Mode Reg }
   </i></font><font color="#FF00FF">MOV DX, $3CE
   MOV AL, 5
   OUT DX, AL
   MOV DX, $3CF
   MOV AL, $10
   OUT DX, AL
   </font><font color="#008000"><i>{ Set Misc. Reg }
   </i></font><font color="#FF00FF">MOV DX, $3CE
   MOV AL, 6
   OUT DX, AL
   MOV DX, $3CF
   MOV AL, 14
   OUT DX, AL
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Clear The Pseudo-Graphics Window by Clearing Font Definition ]--------}
</i></font><font color="#FF0000"><b>Procedure </b></font>ClearGraphicsWindow<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>SetAccessToFontMemory<font color="#000080">;
     </font>FillChar <font color="#000080">(</font>MEM<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">$4000</font><font color="#000080">], </font><font color="#800000">32 </font><font color="#000080">* </font><font color="#800000">256</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
     </font>SetAccessToTextMemory<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Turn The Cursor Off ]-------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>TurnCursorOff<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
   </b></font><font color="#FF00FF">MOV DX, $3D4
   MOV AL, $0A
   OUT DX, AL
   MOV DX, $3D5
   IN  AL, DX
   OR  AL, 32
   OUT DX, AL
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Turn The Cursor On ]--------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>TurnCursorOn<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
   </b></font><font color="#FF00FF">MOV DX, $3D4
   MOV AL, $0A
   OUT DX, AL
   MOV DX, $3D5
   IN  AL, DX
   AND AL, Not(32)
   OUT DX, AL
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Set Up The Pseudo-Graphics Window ]-----------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>SetGraphicsWindow <font color="#000080">(</font>XCoord<font color="#000080">, </font>YCoord    <font color="#000080">: </font>Byte<font color="#000080">;
                             </font>Color<font color="#000080">, </font>BackGround <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>CounterX<font color="#000080">,
    </font>CounterY  <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     For </b></font>CounterY <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#000080">(</font>ChrSizeY<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>do
         For </b></font>CounterX <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#000080">(</font>ChrSizeX<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>do
             </b></font>MEMW<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:</font>CounterX<font color="#000080">*</font><font color="#800000">2 </font><font color="#000080">+ </font>XCoord<font color="#000080">*</font><font color="#800000">2 </font><font color="#000080">+ (</font>YCoord <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2</font><font color="#000080">) +
                 (</font>CounterY <font color="#000080">* </font><font color="#800000">80 </font><font color="#000080">* </font><font color="#800000">2</font><font color="#000080">)] :=
                   (</font>CounterX <font color="#000080">+ </font>CounterY <font color="#000080">* </font>ChrSizeX<font color="#000080">) </font><font color="#FF0000"><b>OR
                   </b></font><font color="#000080">(((</font>Color <font color="#FF0000"><b>OR </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">((</font>BackGround <font color="#FF0000"><b>AND </b></font><font color="#800000">15</font><font color="#000080">) </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">4</font><font color="#000080">)) </font><font color="#FF0000"><b>SHL </b></font><font color="#800000">8</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Plot a Pixel in The Pseudo-Graphics Window ]--------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>PutPixel <font color="#000080">(</font>Xin<font color="#000080">, </font>Yin <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>RealY<font color="#000080">,
    </font>RealX      <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     If </b></font><font color="#000080">(</font>Xin <font color="#000080">&lt; </font>MaxX<font color="#000080">) </font><font color="#FF0000"><b>AND
        </b></font><font color="#000080">(</font>Yin <font color="#000080">&lt; </font>MaxY<font color="#000080">)
     </font><font color="#FF0000"><b>Then
     Begin
          </b></font>RealX <font color="#000080">:= (</font>Xin <font color="#FF0000"><b>DIV </b></font><font color="#800000">8</font><font color="#000080">) * </font><font color="#800000">32</font><font color="#000080">;
          </font>RealY <font color="#000080">:= (</font>Yin <font color="#FF0000"><b>MOD </b></font><font color="#800000">16</font><font color="#000080">) + ((</font>Yin <font color="#FF0000"><b>DIV </b></font><font color="#800000">16</font><font color="#000080">) * (</font><font color="#800000">32 </font><font color="#000080">* </font>ChrSizeX<font color="#000080">));
          </font>SetAccessToFontMemory<font color="#000080">;
          </font>MEM<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">$4000 </font><font color="#000080">+ </font>RealX <font color="#000080">+ </font>RealY<font color="#000080">] :=
              </font>MEM<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">$4000 </font><font color="#000080">+ </font>RealX <font color="#000080">+ </font>RealY<font color="#000080">] </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font><font color="#800000">128 </font><font color="#FF0000"><b>SHR </b></font><font color="#000080">(</font>Xin <font color="#FF0000"><b>MOD </b></font><font color="#800000">8</font><font color="#000080">));
          </font>SetAccessToTextMemory<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Draw A Line ]---------------------------------------------------------}
{ OCTANT DDA Subroutine converted from the BASIC listing on pages 26 - 27 }
{ from the book _Microcomputer_Displays,_Graphics,_ And_Animation_ by     }
{ Bruce A. Artwick                                                        }
</i></font><font color="#FF0000"><b>Procedure </b></font>Line <font color="#000080">(</font>XStart<font color="#000080">, </font>YStart<font color="#000080">, </font>XEnd<font color="#000080">, </font>YEnd <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>StartX<font color="#000080">,
    </font>StartY<font color="#000080">,
    </font>EndX<font color="#000080">,
    </font>EndY    <font color="#000080">: </font>Word<font color="#000080">;
    </font>DX<font color="#000080">,
    </font>DY      <font color="#000080">: </font>Integer<font color="#000080">;
    </font>CNTDWN  <font color="#000080">: </font>Integer<font color="#000080">;
    </font>Errr    <font color="#000080">: </font>Integer<font color="#000080">;
    </font>Temp    <font color="#000080">: </font>Integer<font color="#000080">;
    </font>NotDone <font color="#000080">: </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>NotDone <font color="#000080">:= </font>True<font color="#000080">;
     </font>StartX <font color="#000080">:= </font>XStart<font color="#000080">;
     </font>StartY <font color="#000080">:= </font>YStart<font color="#000080">;
     </font>EndX   <font color="#000080">:= </font>XEnd<font color="#000080">;
     </font>EndY   <font color="#000080">:= </font>YEnd<font color="#000080">;
     </font><font color="#FF0000"><b>If </b></font>EndX <font color="#000080">&lt; </font>StartX <font color="#FF0000"><b>Then
     Begin
          </b></font><font color="#008000"><i>{ Mirror Quadrants 2,3 to 1,4 }
          </i></font>Temp   <font color="#000080">:= </font>StartX<font color="#000080">;
          </font>StartX <font color="#000080">:= </font>EndX<font color="#000080">;
          </font>EndX   <font color="#000080">:= </font>Temp<font color="#000080">;
          </font>Temp   <font color="#000080">:= </font>StartY<font color="#000080">;
          </font>StartY <font color="#000080">:= </font>EndY<font color="#000080">;
          </font>EndY   <font color="#000080">:= </font>Temp<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font>DX <font color="#000080">:= </font>EndX <font color="#000080">- </font>StartX<font color="#000080">;
     </font>DY <font color="#000080">:= </font>EndY <font color="#000080">- </font>StartY<font color="#000080">;
     </font><font color="#FF0000"><b>If </b></font>DY <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
     Begin
          If </b></font><font color="#000080">-</font>DY <font color="#000080">&gt; </font>DX <font color="#FF0000"><b>Then
          Begin
               </b></font><font color="#008000"><i>{ Octant 7 Line Generation }
               </i></font>CntDwn <font color="#000080">:= -</font>DY <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
               </font>ERRR   <font color="#000080">:= -(-</font>DY <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">);   </font><font color="#008000"><i>{Fast Divide By 2}
               </i></font><font color="#FF0000"><b>While </b></font>NotDone <font color="#FF0000"><b>do
               Begin
                    </b></font>PutPixel <font color="#000080">(</font>StartX<font color="#000080">, </font>StartY<font color="#000080">);
                    </font>Dec <font color="#000080">(</font>CntDwn<font color="#000080">);
                    </font><font color="#FF0000"><b>If </b></font>CntDwn <font color="#000080">&lt;= </font><font color="#800000">0
                    </font><font color="#FF0000"><b>Then </b></font>NotDone <font color="#000080">:= </font>False
                    <font color="#FF0000"><b>Else
                    Begin
                         </b></font>Dec<font color="#000080">(</font>StartY<font color="#000080">);
                         </font>Inc<font color="#000080">(</font>Errr<font color="#000080">, </font>DX<font color="#000080">);
                         </font><font color="#FF0000"><b>If </b></font>Errr <font color="#000080">&gt;= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
                         Begin
                              </b></font>Inc<font color="#000080">(</font>StartX<font color="#000080">);
                              </font>Inc<font color="#000080">(</font>Errr<font color="#000080">, </font>DY<font color="#000080">);
                         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>End
          Else
          Begin
               </b></font><font color="#008000"><i>{ Octant 8 Line Generation }
               </i></font>CntDwn <font color="#000080">:= </font>DX <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
               </font>ERRR   <font color="#000080">:= -(</font>DX <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">);   </font><font color="#008000"><i>{Fast Divide By 2}
               </i></font><font color="#FF0000"><b>While </b></font>NotDone <font color="#FF0000"><b>do
               Begin
                    </b></font>PutPixel <font color="#000080">(</font>StartX<font color="#000080">, </font>StartY<font color="#000080">);
                    </font>Dec <font color="#000080">(</font>CntDwn<font color="#000080">);
                    </font><font color="#FF0000"><b>If </b></font>CntDwn <font color="#000080">&lt;= </font><font color="#800000">0
                    </font><font color="#FF0000"><b>Then </b></font>NotDone <font color="#000080">:= </font>False
                    <font color="#FF0000"><b>Else
                    Begin
                         </b></font>Inc<font color="#000080">(</font>StartX<font color="#000080">);
                         </font>Dec<font color="#000080">(</font>Errr<font color="#000080">, </font>DY<font color="#000080">);
                         </font><font color="#FF0000"><b>If </b></font>Errr <font color="#000080">&gt;= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
                         Begin
                              </b></font>Dec<font color="#000080">(</font>StartY<font color="#000080">);
                              </font>Dec<font color="#000080">(</font>Errr<font color="#000080">, </font>DX<font color="#000080">);
                         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>End
     Else If </b></font>DY <font color="#000080">&gt; </font>DX <font color="#FF0000"><b>Then
          Begin
               </b></font><font color="#008000"><i>{ Octant 2 Line Generation }
               </i></font>CntDwn <font color="#000080">:= </font>DY <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
               </font>ERRR   <font color="#000080">:= -(</font>DY <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">);   </font><font color="#008000"><i>{Fast Divide By 2}
               </i></font><font color="#FF0000"><b>While </b></font>NotDone <font color="#FF0000"><b>do
               Begin
                    </b></font>PutPixel <font color="#000080">(</font>StartX<font color="#000080">, </font>StartY<font color="#000080">);
                    </font>Dec <font color="#000080">(</font>CntDwn<font color="#000080">);
                    </font><font color="#FF0000"><b>If </b></font>CntDwn <font color="#000080">&lt;= </font><font color="#800000">0
                    </font><font color="#FF0000"><b>Then </b></font>NotDone <font color="#000080">:= </font>False
                    <font color="#FF0000"><b>Else
                    Begin
                         </b></font>Inc<font color="#000080">(</font>StartY<font color="#000080">);
                         </font>Inc<font color="#000080">(</font>Errr<font color="#000080">, </font>DX<font color="#000080">);
                         </font><font color="#FF0000"><b>If </b></font>Errr <font color="#000080">&gt;= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
                         Begin
                              </b></font>Inc<font color="#000080">(</font>StartX<font color="#000080">);
                              </font>Dec<font color="#000080">(</font>Errr<font color="#000080">, </font>DY<font color="#000080">);
                         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>End
          Else
          </b></font><font color="#008000"><i>{ Octant 1 Line Generation }
          </i></font><font color="#FF0000"><b>Begin
               </b></font>CntDwn <font color="#000080">:= </font>DX <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
               </font>ERRR   <font color="#000080">:= -(</font>DX <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">);   </font><font color="#008000"><i>{Fast Divide By 2}
               </i></font><font color="#FF0000"><b>While </b></font>NotDone <font color="#FF0000"><b>do
               Begin
                    </b></font>PutPixel <font color="#000080">(</font>StartX<font color="#000080">, </font>StartY<font color="#000080">);
                    </font>Dec <font color="#000080">(</font>CntDwn<font color="#000080">);
                    </font><font color="#FF0000"><b>If </b></font>CntDwn <font color="#000080">&lt;= </font><font color="#800000">0
                    </font><font color="#FF0000"><b>Then </b></font>NotDone <font color="#000080">:= </font>False
                    <font color="#FF0000"><b>Else
                    Begin
                         </b></font>Inc<font color="#000080">(</font>StartX<font color="#000080">);
                         </font>Inc<font color="#000080">(</font>Errr<font color="#000080">, </font>DY<font color="#000080">);
                         </font><font color="#FF0000"><b>If </b></font>Errr <font color="#000080">&gt;= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
                         Begin
                              </b></font>Inc<font color="#000080">(</font>StartY<font color="#000080">);
                              </font>Dec<font color="#000080">(</font>Errr<font color="#000080">, </font>DX<font color="#000080">);
                         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Draw A Circle ]-----------------------------------------------------}
{ Algorithm based on the Pseudocode from page 83 of the book _Advanced  }
{ Graphics_In_C_ by Nelson Johnson                                      }
</i></font><font color="#FF0000"><b>Procedure </b></font>Circle <font color="#000080">(</font>XCoord<font color="#000080">, </font>YCoord<font color="#000080">, </font>Radius <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>Var   </b></font>d     <font color="#000080">: </font>Integer<font color="#000080">;
      </font>X<font color="#000080">, </font>Y  <font color="#000080">: </font>Integer<font color="#000080">;
    </font><font color="#FF0000"><b>Procedure </b></font>Symmetry <font color="#000080">(</font>xc<font color="#000080">, </font>yc<font color="#000080">, </font>x<font color="#000080">, </font>y <font color="#000080">: </font>integer<font color="#000080">);
    </font><font color="#FF0000"><b>Begin
         </b></font>PutPixel <font color="#000080">( </font>X<font color="#000080">+</font>xc<font color="#000080">,  </font>Y<font color="#000080">+</font>yc<font color="#000080">);
         </font>PutPixel <font color="#000080">( </font>X<font color="#000080">+</font>xc<font color="#000080">, -</font>Y<font color="#000080">+</font>yc<font color="#000080">);
         </font>PutPixel <font color="#000080">(-</font>X<font color="#000080">+</font>xc<font color="#000080">, -</font>Y<font color="#000080">+</font>yc<font color="#000080">);
         </font>PutPixel <font color="#000080">(-</font>X<font color="#000080">+</font>xc<font color="#000080">,  </font>Y<font color="#000080">+</font>yc<font color="#000080">);
         </font>PutPixel <font color="#000080">( </font>Y<font color="#000080">+</font>xc<font color="#000080">,  </font>X<font color="#000080">+</font>yc<font color="#000080">);
         </font>PutPixel <font color="#000080">( </font>Y<font color="#000080">+</font>xc<font color="#000080">, -</font>X<font color="#000080">+</font>yc<font color="#000080">);
         </font>PutPixel <font color="#000080">(-</font>Y<font color="#000080">+</font>xc<font color="#000080">, -</font>X<font color="#000080">+</font>yc<font color="#000080">);
         </font>PutPixel <font color="#000080">(-</font>Y<font color="#000080">+</font>xc<font color="#000080">,  </font>X<font color="#000080">+</font>yc<font color="#000080">);
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Begin
     </b></font>x <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
     </font>y <font color="#000080">:= </font>abs<font color="#000080">(</font>Radius<font color="#000080">);
     </font>d <font color="#000080">:= </font><font color="#800000">3 </font><font color="#000080">- </font><font color="#800000">2 </font><font color="#000080">* </font>y<font color="#000080">;
     </font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>x <font color="#000080">&lt; </font>y<font color="#000080">) </font><font color="#FF0000"><b>do
     Begin
          </b></font>Symmetry <font color="#000080">(</font>XCoord<font color="#000080">, </font>YCoord<font color="#000080">, </font>x<font color="#000080">, </font>y<font color="#000080">);
          </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>d <font color="#000080">&lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>Then
             </b></font>inc<font color="#000080">(</font>d<font color="#000080">, (</font><font color="#800000">4 </font><font color="#000080">* </font>x<font color="#000080">) + </font><font color="#800000">6</font><font color="#000080">)
          </font><font color="#FF0000"><b>else
          Begin
               </b></font>inc <font color="#000080">(</font>d<font color="#000080">, </font><font color="#800000">4 </font><font color="#000080">* (</font>x <font color="#000080">- </font>y<font color="#000080">) + </font><font color="#800000">10</font><font color="#000080">);
               </font>dec <font color="#000080">(</font>y<font color="#000080">);
          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
          </font>inc<font color="#000080">(</font>x<font color="#000080">);
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>If </b></font>x <font color="#000080">= </font>y <font color="#FF0000"><b>then
        </b></font>Symmetry <font color="#000080">(</font>XCoord<font color="#000080">, </font>YCoord<font color="#000080">, </font>x<font color="#000080">, </font>y<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{-[ Draw A Rectangle ]----------------------------------------------------}
</i></font><font color="#FF0000"><b>Procedure </b></font>Rectangle <font color="#000080">(</font>X1<font color="#000080">, </font>Y1<font color="#000080">, </font>X2<font color="#000080">, </font>Y2 <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#FF0000"><b>Begin
     </b></font><font color="#008000"><i>{ Draw Top Of Box }
     </i></font>Line <font color="#000080">(</font>X1<font color="#000080">, </font>Y1<font color="#000080">, </font>X2<font color="#000080">, </font>Y1<font color="#000080">);
     </font><font color="#008000"><i>{ Draw Right Side Of Box }
     </i></font>Line <font color="#000080">(</font>X2<font color="#000080">, </font>Y1<font color="#000080">, </font>X2<font color="#000080">, </font>Y2<font color="#000080">);
     </font><font color="#008000"><i>{ Draw Left Side Of Box }
     </i></font>Line <font color="#000080">(</font>X1<font color="#000080">, </font>Y1<font color="#000080">, </font>X1<font color="#000080">, </font>Y2<font color="#000080">);
     </font><font color="#008000"><i>{ Draw Botton Of Box }
     </i></font>Line <font color="#000080">(</font>X1<font color="#000080">, </font>Y2<font color="#000080">, </font>X2<font color="#000080">, </font>Y2<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{=[ Main Program ]========================================================}

</i></font><font color="#FF0000"><b>Var </b></font>C <font color="#000080">: </font>Word<font color="#000080">;
    </font>Key <font color="#000080">: </font>Char<font color="#000080">;
</font><font color="#FF0000"><b>Begin

     </b></font>TextMode <font color="#000080">(</font>C80<font color="#000080">);
     </font>TurnCursorOff<font color="#000080">;
     </font>SetCharWidthTo8<font color="#000080">;
     </font>SetDualFonts<font color="#000080">;
     </font>ClearGraphicsWindow<font color="#000080">;
     </font>TextColor<font color="#000080">(</font>LightGray<font color="#000080">);
     </font>ClrScr<font color="#000080">;

     </font>SetGraphicsWindow <font color="#000080">(</font><font color="#800000">40</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font>White<font color="#000080">, </font>Blue<font color="#000080">);   </font><font color="#008000"><i>{X, Y, Color, BGColor}

     </i></font>Writeln <font color="#000080">(</font><font color="#800000">'Graphics In Text Mode Example'</font><font color="#000080">);
     </font>Writeln <font color="#000080">(</font><font color="#800000">'Programmed by David Dahl'</font><font color="#000080">);
     </font>Writeln <font color="#000080">(</font><font color="#800000">'This is PUBLIC DOMAIN'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font>Writeln <font color="#000080">(</font><font color="#800000">'The graphics window to the right is'</font><font color="#000080">);
     </font>Writeln <font color="#000080">(</font><font color="#800000">'made up of custom characters of the'</font><font color="#000080">);
     </font>Writeln <font color="#000080">(</font><font color="#800000">'second font.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font>Writeln <font color="#000080">(</font><font color="#800000">'There are four graphics primitives'</font><font color="#000080">);
     </font>Writeln <font color="#000080">(</font><font color="#800000">'available in this example program.'</font><font color="#000080">);
     </font>Writeln <font color="#000080">(</font><font color="#800000">'Circle, Line, PutPixel, and '</font><font color="#000080">);
     </font>Writeln <font color="#000080">(</font><font color="#800000">'Rectangle are avaiable for your own'</font><font color="#000080">);
     </font>Writeln <font color="#000080">(</font><font color="#800000">'use.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;

     </font>Randomize<font color="#000080">;
     </font><font color="#FF0000"><b>For </b></font>C <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">10 </font><font color="#FF0000"><b>do
     Begin
          </b></font>Line <font color="#000080">(</font>Random<font color="#000080">(</font>MaxX<font color="#000080">), </font>Random<font color="#000080">(</font>MaxY<font color="#000080">),
                </font>Random<font color="#000080">(</font>MaxX<font color="#000080">), </font>Random<font color="#000080">(</font>MaxY<font color="#000080">));

          </font>Circle <font color="#000080">(</font>Random<font color="#000080">(</font>MaxX<font color="#000080">), </font>Random<font color="#000080">(</font>MaxY<font color="#000080">), </font>Random<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">));

          </font>Rectangle <font color="#000080">(</font>Random<font color="#000080">(</font>MaxX<font color="#000080">), </font>Random<font color="#000080">(</font>MaxY<font color="#000080">),
                     </font>Random<font color="#000080">(</font>MaxX<font color="#000080">), </font>Random<font color="#000080">(</font>MaxY<font color="#000080">));
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

     </font>Writeln <font color="#000080">(</font><font color="#800000">'Press [RETURN] to exit.'</font><font color="#000080">);
     </font>Readln<font color="#000080">;
     </font>TurnCursorOn<font color="#000080">;
     </font>TextMode <font color="#000080">(</font>C80<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TEXTWNDW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p></body>
</html>
