<html>
<head><title> "Sort an Array of Record" by LUIS MEZQUITA</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0049.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
 TB&gt;&gt; I am having a bit of difficulty figuring out how to
 TB&gt;&gt; sort an array of records by numerical or alphabetical order.
 TB&gt;&gt; Here's an example of my record set up:

        This a 'small' example of record quicksort.
}

</i></font><font color="#FF0000"><b>Program </b></font>SortArrayOfRec<font color="#000080">;

</font><font color="#FF0000"><b>uses  </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>type

 </b></font>Str34<font color="#000080">=</font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font><font color="#800000">34</font><font color="#000080">];

 </font>Rec<font color="#000080">=</font><font color="#FF0000"><b>Record
      </b></font>Name<font color="#000080">:</font>Str34<font color="#000080">;
      </font>Number1<font color="#000080">,
      </font>Number2 <font color="#000080">: </font>LongInt<font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>type </b></font>CmpMinFunc<font color="#000080">=</font><font color="#FF0000"><b>Function</b></font><font color="#000080">(</font><font color="#FF0000"><b>var </b></font>r1<font color="#000080">,</font>r2<font color="#000080">:</font>Rec<font color="#000080">):</font>boolean<font color="#000080">;

</font><font color="#FF0000"><b>var

 </b></font>RecArray<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">1400</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Rec<font color="#000080">;

</font><font color="#008000"><i>{ Compare functions }

</i></font><font color="#FF0000"><b>Function </b></font>Name<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>r1<font color="#000080">,</font>r2<font color="#000080">:</font>Rec<font color="#000080">):</font>boolean<font color="#000080">; </font><font color="#FF0000"><b>far</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>Name<font color="#000080">:=</font>r1<font color="#000080">.</font>Name<font color="#000080">&lt;</font>r2<font color="#000080">.</font>Name<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>Number1<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>r1<font color="#000080">,</font>r2<font color="#000080">:</font>Rec<font color="#000080">):</font>boolean<font color="#000080">; </font><font color="#FF0000"><b>far</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>Number1<font color="#000080">:=</font>r1<font color="#000080">.</font>Number1<font color="#000080">&lt;</font>r2<font color="#000080">.</font>Number1<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>Number2<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>r1<font color="#000080">,</font>r2<font color="#000080">:</font>Rec<font color="#000080">):</font>boolean<font color="#000080">; </font><font color="#FF0000"><b>far</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>Number2<font color="#000080">:=</font>r1<font color="#000080">.</font>Number2<font color="#000080">&lt;</font>r2<font color="#000080">.</font>Number2<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ QuickSort method }

</i></font><font color="#FF0000"><b>Procedure </b></font>Sort<font color="#000080">(</font>t<font color="#000080">,</font>b<font color="#000080">:</font>integer<font color="#000080">; </font>Cmp<font color="#000080">:</font>CmpMinFunc<font color="#000080">);

</font><font color="#FF0000"><b>Procedure </b></font>QuickSort<font color="#000080">(</font>l<font color="#000080">,</font>r<font color="#000080">:</font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>i<font color="#000080">,</font>j<font color="#000080">:</font>integer<font color="#000080">; </font>x<font color="#000080">,</font>y<font color="#000080">:</font>Rec<font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>i<font color="#000080">:=</font>l<font color="#000080">;
 </font>j<font color="#000080">:=</font>r<font color="#000080">;
 </font>x<font color="#000080">:=</font>RecArray<font color="#000080">[(</font>l<font color="#000080">+</font>r<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">];
 </font><font color="#FF0000"><b>repeat
  while </b></font>Cmp<font color="#000080">(</font>RecArray<font color="#000080">[</font>i<font color="#000080">],</font>x<font color="#000080">) </font><font color="#FF0000"><b>do </b></font>inc<font color="#000080">(</font>i<font color="#000080">);
  </font><font color="#FF0000"><b>while </b></font>Cmp<font color="#000080">(</font>x<font color="#000080">,</font>RecArray<font color="#000080">[</font>j<font color="#000080">]) </font><font color="#FF0000"><b>do </b></font>dec<font color="#000080">(</font>j<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>i<font color="#000080">&lt;=</font>j
  <font color="#FF0000"><b>then begin
        </b></font>y<font color="#000080">:=</font>RecArray<font color="#000080">[</font>i<font color="#000080">];
        </font>RecArray<font color="#000080">[</font>i<font color="#000080">]:=</font>RecArray<font color="#000080">[</font>j<font color="#000080">];
        </font>RecArray<font color="#000080">[</font>j<font color="#000080">]:=</font>y<font color="#000080">;
        </font>inc<font color="#000080">(</font>i<font color="#000080">);
        </font>dec<font color="#000080">(</font>j<font color="#000080">);
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>until </b></font>i<font color="#000080">&gt;</font>j<font color="#000080">;
 </font><font color="#FF0000"><b>if </b></font>l<font color="#000080">&lt;</font>j <font color="#FF0000"><b>then </b></font>QuickSort<font color="#000080">(</font>l<font color="#000080">,</font>j<font color="#000080">);
 </font><font color="#FF0000"><b>if </b></font>i<font color="#000080">&lt;</font>r <font color="#FF0000"><b>then </b></font>QuickSort<font color="#000080">(</font>i<font color="#000080">,</font>r<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin                                   </b></font><font color="#008000"><i>{ Procedure Sort }
 </i></font>QuickSort<font color="#000080">(</font>t<font color="#000080">,</font>b<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Demo procedures }

</i></font><font color="#FF0000"><b>Procedure </b></font>List<font color="#000080">(</font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>n<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>WriteLn<font color="#000080">(</font>s<font color="#000080">);
 </font><font color="#FF0000"><b>for </b></font>n<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">9 </font><font color="#FF0000"><b>do
  with </b></font>RecArray<font color="#000080">[</font>n<font color="#000080">] </font><font color="#FF0000"><b>do
   </b></font>WriteLn<font color="#000080">(</font>n<font color="#000080">,</font><font color="#800000">'     '</font><font color="#000080">,</font>Name<font color="#000080">,</font>Number1<font color="#000080">:</font><font color="#800000">6</font><font color="#000080">,</font>Number2<font color="#000080">:</font><font color="#800000">6</font><font color="#000080">);
 </font>WriteLn<font color="#000080">;
 </font>n<font color="#000080">:=</font>Ord<font color="#000080">(</font>ReadKey<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var   </b></font>n<font color="#000080">:</font>byte<font color="#000080">;

</font><font color="#FF0000"><b>begin
 </b></font>ClrScr<font color="#000080">;
 </font>Randomize<font color="#000080">;
 </font><font color="#FF0000"><b>for </b></font>n<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">9 </font><font color="#FF0000"><b>do                       </b></font><font color="#008000"><i>{ Fill RecArray with ... }
  </i></font><font color="#FF0000"><b>with </b></font>RecArray<font color="#000080">[</font>n<font color="#000080">] </font><font color="#FF0000"><b>do                   </b></font><font color="#008000"><i>{ random datas }
   </i></font><font color="#FF0000"><b>begin
    </b></font>Name<font color="#000080">:=</font>Chr<font color="#000080">(</font><font color="#800000">65</font><font color="#000080">+</font>Random<font color="#000080">(</font><font color="#800000">25</font><font color="#000080">));
    </font>Number1<font color="#000080">:=</font>Random<font color="#000080">(</font><font color="#800000">65535</font><font color="#000080">);
    </font>Number2<font color="#000080">:=</font>Random<font color="#000080">(</font><font color="#800000">65535</font><font color="#000080">);
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font>List<font color="#000080">(</font><font color="#800000">'Datas'</font><font color="#000080">);

 </font>Sort<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">,</font>Name<font color="#000080">);                        </font><font color="#008000"><i>{ Sort on Name }
 </i></font>List<font color="#000080">(</font><font color="#800000">'Sort on Name'</font><font color="#000080">);
 </font>Sort<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">,</font>Number1<font color="#000080">);                     </font><font color="#008000"><i>{ Sort on Number1 }
 </i></font>List<font color="#000080">(</font><font color="#800000">'Sort on Number1'</font><font color="#000080">);
 </font>Sort<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">,</font>Number2<font color="#000080">);                     </font><font color="#008000"><i>{ Sort on Number2 }
 </i></font>List<font color="#000080">(</font><font color="#800000">'Sort on Number2'</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0049.PAS">Original</a><b>]</b></p></body>
</html>
