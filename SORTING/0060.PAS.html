<html>
<head><title> "Demo QUICKSORT" by ROBERT BEICHT</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0060.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{************************************************}
{                                                }
{ QuickSort Demo                                 }
{ Copyright (c) 1985,90 by Borland International } { und: Robert Beicht ;-) }
{                                                }
{************************************************}

</i></font><font color="#FF0000"><b>program </b></font>QSort<font color="#000080">;
</font><font color="#008000"><i>{$R-,S-}
</i></font><font color="#FF0000"><b>uses </b></font>Crt<font color="#000080">;

</font><font color="#008000"><i>{ This program demonstrates the quicksort algorithm, which      }
{ provides an extremely efficient method of sorting arrays in   }
{ memory. The program generates a list of 1000 random numbers   }
{ between 0 and 29999, and then sorts them using the QUICKSORT  }
{ procedure. Finally, the sorted list is output on the screen.  }
{ Note that stack and range checks are turned off (through the  }
{ compiler directive above) to optimize execution speed.        }

</i></font><font color="#FF0000"><b>const
  </b></font>Max <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;

</font><font color="#FF0000"><b>type                                                                  </b></font><font color="#008000"><i>{ ***** }
  </i></font>PData <font color="#000080">= ^</font>TData<font color="#000080">;                                                     </font><font color="#008000"><i>{ ***** }
  </i></font>TData <font color="#000080">= </font><font color="#FF0000"><b>record                                                      </b></font><font color="#008000"><i>{ ***** }
    </i></font>NachName<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">25</font><font color="#000080">];                                             </font><font color="#008000"><i>{ ***** }
    </i></font>VorName<font color="#000080">:  </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">25</font><font color="#000080">];                                             </font><font color="#008000"><i>{ ***** }
    {..}                                                              { ***** }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;                                                                </font><font color="#008000"><i>{ ***** }
  
  </i></font>List <font color="#000080">= </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>Max<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>TData<font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>Data<font color="#000080">: </font>List<font color="#000080">;
  </font>I<font color="#000080">: </font>Integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Less<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>d1<font color="#000080">,</font>d2<font color="#000080">:</font>TData<font color="#000080">): </font>Boolean<font color="#000080">;                              </font><font color="#008000"><i>{ ***** }
</i></font><font color="#FF0000"><b>begin                                                                 </b></font><font color="#008000"><i>{ ***** }
  </i></font><font color="#FF0000"><b>if </b></font>d1<font color="#000080">.</font>NachName <font color="#000080">&lt; </font>d2<font color="#000080">.</font>NachName <font color="#FF0000"><b>then </b></font>Less <font color="#000080">:= </font>True  <font color="#FF0000"><b>else                </b></font><font color="#008000"><i>{ ***** }
  </i></font><font color="#FF0000"><b>if </b></font>d1<font color="#000080">.</font>NachName <font color="#000080">&gt; </font>d2<font color="#000080">.</font>NachName <font color="#FF0000"><b>then </b></font>Less <font color="#000080">:= </font>False <font color="#FF0000"><b>else                </b></font><font color="#008000"><i>{ ***** }
    </i></font><font color="#FF0000"><b>if </b></font>d1<font color="#000080">.</font>VorName <font color="#000080">&lt; </font>d2<font color="#000080">.</font>VorName <font color="#FF0000"><b>then </b></font>Less <font color="#000080">:= </font>True  <font color="#FF0000"><b>else                </b></font><font color="#008000"><i>{ ***** }
    </i></font><font color="#FF0000"><b>if </b></font>d1<font color="#000080">.</font>VorName <font color="#000080">&gt; </font>d2<font color="#000080">.</font>VorName <font color="#FF0000"><b>then </b></font>Less <font color="#000080">:= </font>False <font color="#FF0000"><b>else </b></font>Less <font color="#000080">:= </font>False<font color="#000080">; </font><font color="#008000"><i>{ ***** }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;                                                                  </font><font color="#008000"><i>{ ***** }

{ QUICKSORT sorts elements in the array A with indices between  }
{ LO and HI (both inclusive). Note that the QUICKSORT proce-    }
{ dure provides only an &quot;interface&quot; to the program. The actual  }
{ processing takes place in the SORT procedure, which executes  }
{ itself recursively.                                           }

</i></font><font color="#FF0000"><b>procedure </b></font>QuickSort<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>A<font color="#000080">: </font>List<font color="#000080">; </font>Lo<font color="#000080">, </font>Hi<font color="#000080">: </font>Integer<font color="#000080">);

</font><font color="#FF0000"><b>procedure </b></font>Sort<font color="#000080">(</font>l<font color="#000080">, </font>r<font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>i<font color="#000080">, </font>j<font color="#000080">, </font>x<font color="#000080">: </font>integer<font color="#000080">;                                                   </font><font color="#008000"><i>{ ***** }
  </i></font>y<font color="#000080">: </font>TData<font color="#000080">;                                                           </font><font color="#008000"><i>{ ***** }
</i></font><font color="#FF0000"><b>begin
  </b></font>i <font color="#000080">:= </font>l<font color="#000080">; </font>j <font color="#000080">:= </font>r<font color="#000080">; </font>x <font color="#000080">:= (</font>l<font color="#000080">+</font>r<font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">2</font><font color="#000080">;
  </font><font color="#FF0000"><b>repeat
    while </b></font>Less<font color="#000080">(</font>a<font color="#000080">[</font>i<font color="#000080">], </font>a<font color="#000080">[</font>x<font color="#000080">]) </font><font color="#FF0000"><b>do </b></font>i <font color="#000080">:= </font>i <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;                             </font><font color="#008000"><i>{ ***** }
    </i></font><font color="#FF0000"><b>while </b></font>Less<font color="#000080">(</font>a<font color="#000080">[</font>x<font color="#000080">], </font>a<font color="#000080">[</font>j<font color="#000080">]) </font><font color="#FF0000"><b>do </b></font>j <font color="#000080">:= </font>j <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;                             </font><font color="#008000"><i>{ ***** }
    </i></font><font color="#FF0000"><b>if </b></font>i <font color="#000080">&lt;= </font>j <font color="#FF0000"><b>then
    begin
      </b></font>y <font color="#000080">:= </font>a<font color="#000080">[</font>i<font color="#000080">]; </font>a<font color="#000080">[</font>i<font color="#000080">] := </font>a<font color="#000080">[</font>j<font color="#000080">]; </font>a<font color="#000080">[</font>j<font color="#000080">] := </font>y<font color="#000080">;
      </font>i <font color="#000080">:= </font>i <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">; </font>j <font color="#000080">:= </font>j <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>until </b></font>i <font color="#000080">&gt; </font>j<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>l <font color="#000080">&lt; </font>j <font color="#FF0000"><b>then </b></font>Sort<font color="#000080">(</font>l<font color="#000080">, </font>j<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>i <font color="#000080">&lt; </font>r <font color="#FF0000"><b>then </b></font>Sort<font color="#000080">(</font>i<font color="#000080">, </font>r<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{QuickSort}</i></font><font color="#000080">;
  </font>Sort<font color="#000080">(</font>Lo<font color="#000080">,</font>Hi<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{QSort}

  (*Initialisiere List*)
  </i></font>Sort<font color="#000080">(</font>List<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>Count<font color="#000080">);

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0060.PAS">Original</a><b>]</b></p></body>
</html>
