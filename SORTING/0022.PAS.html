<html>
<head><title> "RADIXQUE.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0022.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">Turbo <font color="#FF0000"><b>Pascal </b></font>Optimization Contest <font color="#800000"># 51.

</font>No tangible prizes<font color="#000080">, </font>just some bragging rights<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>a brain workout<font color="#000080">.

</font>Assignment<font color="#000080">:  </font>Write conversion routines similar <font color="#FF0000"><b>to </b></font>VAL <font color="#FF0000"><b>and </b></font>STR that can
             handle a radix <font color="#000080">(</font>base<font color="#000080">) </font><font color="#FF0000"><b>of </b></font>any number<font color="#000080">.  </font><font color="#FF0000"><b>For </b></font>example<font color="#000080">, </font>below <font color="#FF0000"><b>is
             </b></font>a straight <font color="#FF0000"><b>Pascal Procedure to </b></font>convert a <font color="#FF0000"><b>String of </b></font>any base
             <font color="#FF0000"><b>to </b></font>a LongInt<font color="#000080">.  </font>Can you improve the speed <font color="#FF0000"><b>of </b></font>this routine<font color="#000080">,
             </font><font color="#FF0000"><b>and </b></font>Write a correspondingly fast routine <font color="#FF0000"><b>to </b></font>convert from a
             LongInt <font color="#FF0000"><b>to </b></font>a <font color="#FF0000"><b>String of </b></font>any base<font color="#000080">?

</font>Rules<font color="#000080">:       </font>No rules<font color="#000080">.  </font>BAsm <font color="#FF0000"><b>is </b></font>allowed<font color="#000080">, </font><font color="#FF0000"><b>as </b></font>long <font color="#FF0000"><b>as </b></font>the Functions are
             readily Compilable without the use <font color="#FF0000"><b>of </b></font>TAsm<font color="#000080">.

</font>Judging<font color="#000080">:     </font>Code will be tested <font color="#FF0000"><b>on </b></font>a <font color="#800000">386</font><font color="#000080">-</font><font color="#800000">40 </font><font color="#FF0000"><b>on </b></font>March <font color="#800000">10</font>th<font color="#000080">, </font>by being
             placed into a loop <font color="#FF0000"><b>With </b></font>no output<font color="#000080">, </font>like this<font color="#000080">:

               </font>StartTiming<font color="#000080">;
               </font><font color="#FF0000"><b>For </b></font>Loop <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">10000000 </font><font color="#008000"><i>{ ten million } </i></font><font color="#FF0000"><b>do
                 </b></font><font color="#008000"><i>{ Execute the test, no output }
               </i></font>WriteLn<font color="#000080">(</font>StopTiming<font color="#000080">);

</font>Ready<font color="#000080">, </font><font color="#FF0000"><b>set</b></font><font color="#000080">, </font>code<font color="#000080">!  </font>Here<font color="#800000">'s the sample...

</font><font color="#008000"><i>(* This Function converts an ASCIIZ String S in base Radix to LongInt I
 * With no verification of radix validity.   The calling Programmer is
 * responsible For insuring that the radix range is 2 through 36.  The
 * calling Programmer is also responsible For insuring that the passed
 * String contains only valid digits in the specified Radix. No checking
 * is done on the individual digits of a given String.  For bases 11-36
 * the letters 'A'-'Z' represent the corresponding values.
 *)

</i></font><font color="#FF0000"><b>Procedure </b></font>StrtoLong<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>I <font color="#000080">: </font>LongInt<font color="#000080">; </font>S <font color="#000080">: </font>PChar<font color="#000080">; </font>Radix <font color="#000080">: </font>Integer<font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>I        <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>While </b></font>S<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] &lt;&gt; </font><font color="#800000">#0 </font><font color="#FF0000"><b>do
      begin
        Case </b></font>S<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9' </font><font color="#000080">: </font>I <font color="#000080">:= </font>I <font color="#000080">* </font>Radix <font color="#000080">+ (</font>ord<font color="#000080">(</font>S<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">])-</font><font color="#800000">48</font><font color="#000080">);
                     </font><font color="#800000">'A'</font><font color="#000080">..</font><font color="#800000">'Z' </font><font color="#000080">: </font>I <font color="#000080">:= </font>I <font color="#000080">* </font>Radix <font color="#000080">+ (</font>ord<font color="#000080">(</font>S<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">])-</font><font color="#800000">54</font><font color="#000080">);
                     </font><font color="#800000">'a'</font><font color="#000080">..</font><font color="#800000">'z' </font><font color="#000080">: </font>I <font color="#000080">:= </font>I <font color="#000080">* </font>Radix <font color="#000080">+ (</font>ord<font color="#000080">(</font>S<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">])-</font><font color="#800000">86</font><font color="#000080">);
        </font>Inc<font color="#000080">(</font>s<font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0022.PAS">Original</a><b>]</b></p></body>
</html>
