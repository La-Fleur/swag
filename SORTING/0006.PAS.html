<html>
<head><title> "COMB1.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0006.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt;Has anyone successfully converted the Combsort algorithm (I think it was
&gt;published in DDJ or Byte about two years ago) from C to Pascal?  I've
&gt;lost the original C source For this, but if anyone has any info, I would
&gt;appreciate it.
}

</i></font><font color="#FF0000"><b>Program </b></font>TestCombSort<font color="#000080">; </font><font color="#008000"><i>{ Byte magazine, April '91 page 315ff }
</i></font><font color="#FF0000"><b>Const
  </b></font>Size <font color="#000080">= </font><font color="#800000">25</font><font color="#000080">;
</font><font color="#FF0000"><b>Type
  </b></font>SortType <font color="#000080">= </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>A<font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>size<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>SortType<font color="#000080">;
  </font>i<font color="#000080">: </font>Word<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CombSort <font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>Ain<font color="#000080">);
</font><font color="#FF0000"><b>Var
  </b></font>A<font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>Size<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>SortType <font color="#FF0000"><b>Absolute </b></font>Ain<font color="#000080">;
  </font>Switch<font color="#000080">: </font>Boolean<font color="#000080">;
  </font>i<font color="#000080">, </font>j<font color="#000080">, </font>Gap<font color="#000080">: </font>Word<font color="#000080">;
  </font>Hold<font color="#000080">: </font>SortType<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Gap <font color="#000080">:= </font>Size<font color="#000080">;
  </font><font color="#FF0000"><b>Repeat
    </b></font>Gap <font color="#000080">:= </font>Trunc <font color="#000080">(</font>Gap <font color="#000080">/ </font><font color="#800000">1.3</font><font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>Gap <font color="#000080">&lt; </font><font color="#800000">1 </font><font color="#FF0000"><b>then
      </b></font>Gap <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
    </font>Switch <font color="#000080">:= </font>False<font color="#000080">;
    </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Size <font color="#000080">- </font>Gap <font color="#FF0000"><b>do
    begin
      </b></font>j <font color="#000080">:= </font>i <font color="#000080">+ </font>Gap<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>A <font color="#000080">[</font>i<font color="#000080">] &gt; </font>A <font color="#000080">[</font>j<font color="#000080">] </font><font color="#FF0000"><b>then </b></font><font color="#008000"><i>{ swap }
      </i></font><font color="#FF0000"><b>begin
        </b></font>Hold <font color="#000080">:= </font>A <font color="#000080">[</font>i<font color="#000080">];
        </font>A <font color="#000080">[</font>i<font color="#000080">] := </font>A <font color="#000080">[</font>j<font color="#000080">];
        </font>A <font color="#000080">[</font>j<font color="#000080">] := </font>Hold<font color="#000080">;
        </font>Switch <font color="#000080">:= </font>True<font color="#000080">;;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>Gap <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>and not </b></font>Switch<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>Randomize<font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Size <font color="#FF0000"><b>do
    </b></font>A <font color="#000080">[</font>i<font color="#000080">] := </font>Random <font color="#000080">(</font><font color="#800000">32767</font><font color="#000080">);
  </font>WriteLn<font color="#000080">;
  </font>WriteLn <font color="#000080">(</font><font color="#800000">'Unsorted:'</font><font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Size <font color="#FF0000"><b>do
    </b></font>Write <font color="#000080">(</font>A <font color="#000080">[</font>i<font color="#000080">]:</font><font color="#800000">8</font><font color="#000080">);
  </font>WriteLn<font color="#000080">;
  </font>CombSort <font color="#000080">(</font>A<font color="#000080">);
  </font>WriteLn <font color="#000080">(</font><font color="#800000">'Sorted:'</font><font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Size <font color="#FF0000"><b>do
    </b></font>Write <font color="#000080">(</font>A <font color="#000080">[</font>i<font color="#000080">]:</font><font color="#800000">8</font><font color="#000080">);
  </font>WriteLn<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0006.PAS">Original</a><b>]</b></p></body>
</html>
