<html>
<head><title> "Quick Sort using LINK" by IAN LIN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0039.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
IAN LIN

My pride and joy, this baby sorts FAST! This is For anyone who wants an
example of code For sorting linked lists.
}

{$A+,B-,D+,E-,F-,G+,I-,L+,N-,O-,R-,S+,V-,X-}
{$M 4096,0,655360}

</i></font><font color="#FF0000"><b>Procedure </b></font>Theend<font color="#000080">; </font><font color="#008000"><i>{could you think of a better name???}
</i></font><font color="#FF0000"><b>begin
  </b></font>Writeln<font color="#000080">(</font><font color="#800000">'Assassin Technologies, NetRunner.'</font><font color="#000080">);
  </font><font color="#008000"><i>{members: Ian Lin, Martin Young, William Parslow, Scott Rogers; just a new
   Programming group, that's all.}
  </i></font>halt<font color="#000080">; </font><font color="#008000"><i>{duh, kinda obvious you need to end the Program. :) }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Type
  </b></font>prec  <font color="#000080">= ^</font>rec<font color="#000080">;
  </font>dType <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">96</font><font color="#000080">]; </font><font color="#008000"><i>{put what you want here, it's fast anyhow}
  </i></font>rec   <font color="#000080">= </font><font color="#FF0000"><b>Record
    </b></font>d <font color="#000080">: </font>dType<font color="#000080">;
    </font>n <font color="#000080">: </font>prec<font color="#000080">;       </font><font color="#008000"><i>{&quot;next&quot; field&quot;}
 </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>max<font color="#000080">, </font>c <font color="#000080">: </font>Word<font color="#000080">;    </font><font color="#008000"><i>{maximum # of elements; Counter}
  </i></font>list<font color="#000080">,
  </font>list2<font color="#000080">,
  </font>node<font color="#000080">,
  </font>node2  <font color="#000080">: </font>prec<font color="#000080">;    </font><font color="#008000"><i>{first and second lists, temporary Pointers to nodes in the lists}
  </i></font>ram    <font color="#000080">: </font>Pointer<font color="#000080">; </font><font color="#008000"><i>{save heap state For use With mark/release}

</i></font><font color="#FF0000"><b>begin
  </b></font>max <font color="#000080">:= </font>memavail <font color="#FF0000"><b>div </b></font>sizeof<font color="#000080">(</font>dType<font color="#000080">); </font><font color="#008000"><i>{this takes too long but is THE maximum}
  </i></font>max <font color="#000080">:= </font><font color="#800000">675</font><font color="#000080">;          </font><font color="#008000"><i>{I picked this at random--it sorts in 2 seconds or so}
  </i></font>Exitproc <font color="#000080">:= @</font>Theend<font color="#000080">; </font><font color="#008000"><i>{just to be fancy}
  </i></font>randomize<font color="#000080">;
  </font>mark<font color="#000080">(</font>ram<font color="#000080">);
  </font>new<font color="#000080">(</font>list<font color="#000080">);           </font><font color="#008000"><i>{create list}
  </i></font>list<font color="#000080">^.</font>d <font color="#000080">:= </font>Char<font color="#000080">(</font>random<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">) + </font><font color="#800000">48</font><font color="#000080">); </font><font color="#008000"><i>{put something in it}
  </i></font>node <font color="#000080">:= </font>list<font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>c <font color="#000080">:= </font><font color="#800000">2 </font><font color="#FF0000"><b>to </b></font>max <font color="#FF0000"><b>do
  begin
    </b></font>new<font color="#000080">(</font>node<font color="#000080">^.</font>n<font color="#000080">);
    </font>node <font color="#000080">:= </font>node<font color="#000080">^.</font>n<font color="#000080">;
    </font>node<font color="#000080">^.</font>n <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
    </font>node<font color="#000080">^.</font>d <font color="#000080">:= </font>Char<font color="#000080">(</font>random<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">) + </font><font color="#800000">48</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>new<font color="#000080">(</font>list2<font color="#000080">);         </font><font color="#008000"><i>{begin NEW sorted list}
  </i></font>list2<font color="#000080">^.</font>n <font color="#000080">:= </font>list<font color="#000080">;   </font><font color="#008000"><i>{steal the first node of list For list2}
  </i></font>list <font color="#000080">:= </font>list<font color="#000080">^.</font>n<font color="#000080">;
  </font>list2<font color="#000080">^.</font>n<font color="#000080">^.</font>n <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>While </b></font>list <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>nil do
  begin               </b></font><font color="#008000"><i>{now steal 'em all and add them in order}
    </i></font>node  <font color="#000080">:= </font>list<font color="#000080">;    </font><font color="#008000"><i>{point node to first node in LIST}
    </i></font>list  <font color="#000080">:= </font>list<font color="#000080">^.</font>n<font color="#000080">; </font><font color="#008000"><i>{advance LIST Pointer one node, first node is now seperate}
    </i></font>node2 <font color="#000080">:= </font>list2<font color="#000080">;   </font><font color="#008000"><i>{ready to use NODE2 to find the correct entry point}
    </i></font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>node2<font color="#000080">^.</font>n <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>nil</b></font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>node<font color="#000080">^.</font>d <font color="#000080">&gt; </font>node2<font color="#000080">^.</font>n<font color="#000080">^.</font>d<font color="#000080">) </font><font color="#FF0000"><b>do
      </b></font>node2 <font color="#000080">:= </font>node2<font color="#000080">^.</font>n<font color="#000080">; </font><font color="#008000"><i>{advance NODE2 as needed Until it marks the
                          right place For NODE to be inserted}
    </i></font>node<font color="#000080">^.</font>n  <font color="#000080">:= </font>node2<font color="#000080">^.</font>n<font color="#000080">;</font><font color="#008000"><i>{insert NODE into the new list, in the correct order}
    </i></font>node2<font color="#000080">^.</font>n <font color="#000080">:= </font>node<font color="#000080">;    </font><font color="#008000"><i>{connect node to the previous nodes in new list, if any}
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>list <font color="#000080">:= </font>list2<font color="#000080">^.</font>n<font color="#000080">;      </font><font color="#008000"><i>{point LIST back to the top of the list, now in order}

  </i></font>node <font color="#000080">:= </font>list<font color="#000080">;          </font><font color="#008000"><i>{the rest is just to display it}
  </i></font>Write<font color="#000080">(</font><font color="#800000">'List: '</font><font color="#000080">);
  </font><font color="#FF0000"><b>While </b></font>node <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>nil do
  begin                  </b></font><font color="#008000"><i>{as usual (at least With me), NIL is the end}
    </i></font>Write<font color="#000080">(</font>node<font color="#000080">^.</font>d<font color="#000080">);
    </font>node <font color="#000080">:= </font>node<font color="#000080">^.</font>n<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Writeln<font color="#000080">;
  </font>release<font color="#000080">(</font>ram<font color="#000080">);          </font><font color="#008000"><i>{give all heap RAM back}
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0039.PAS">Original</a><b>]</b></p></body>
</html>
