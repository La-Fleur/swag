<html>
<head><title> "SORT-DLL.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0026.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt;         Now, I gotta work on sortin' em.  I believe I can 'swap' the
&gt;         positions of the Pointers eh?
&gt;
&gt;         I can't figure out how to swap the Pointers.  Could you please
&gt;         gimme a wee bit more help?  I've just started doing sorts, and
&gt;         have only used the Bubble sort at the moment in a few Programs,
&gt;         so I'm still a little shakey on sorts.  I understand the Bubble

  Here's an *example* on how to sort a linked list. There are more
  efficient ways to sort a list, but this gives you all the
  essential elements in doing a sort. (note that ListPtr is a doubly
  linked list)
}

</i></font><font color="#FF0000"><b>Procedure </b></font>SortList<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>FCL<font color="#000080">:</font>ListPtr<font color="#000080">);
</font><font color="#FF0000"><b>Var
  </b></font>TempAnchor<font color="#000080">, </font>TemPtr1<font color="#000080">, </font>TemPtr2 <font color="#000080">:</font>ListPtr<font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>MoveLink<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>Anchor<font color="#000080">, </font>Ptr1<font color="#000080">, </font>Ptr2 <font color="#000080">:</font>ListPtr<font color="#000080">);
  </font><font color="#FF0000"><b>Var
    </b></font>TemPtr3<font color="#000080">, </font>TemPtr4 <font color="#000080">:</font>ListPtr<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>TemPtr3 <font color="#000080">:= </font>Ptr1<font color="#000080">^.</font>Next<font color="#000080">;   </font><font color="#008000"><i>{ temporary Pointer preserves old
                               Pointer value }
    </i></font>TemPtr4 <font color="#000080">:= </font>Ptr2<font color="#000080">^.</font>Last<font color="#000080">;   </font><font color="#008000"><i>{ ditto }

    </i></font>Ptr2<font color="#000080">^.</font>Last <font color="#000080">:= </font>Ptr1<font color="#000080">;          </font><font color="#008000"><i>{ do the Pointer swap }
    </i></font>Ptr1<font color="#000080">^.</font>Next <font color="#000080">:= </font>Ptr2<font color="#000080">;

    </font>Ptr1<font color="#000080">^.</font>Last<font color="#000080">^.</font>Next <font color="#000080">:= </font>TemPtr3<font color="#000080">; </font><font color="#008000"><i>{ fixup secondary Pointers }
    </i></font>TemPtr3<font color="#000080">^.</font>Last <font color="#000080">:= </font>Ptr1<font color="#000080">^.</font>Last<font color="#000080">;
    </font>Ptr1<font color="#000080">^.</font>Last <font color="#000080">:= </font>TemPtr4<font color="#000080">;

    </font><font color="#FF0000"><b>if </b></font>TemPtr4 <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>NIL then       </b></font><font color="#008000"><i>{ if temporary Pointer is not
                                   NIL, then it has to point to
                                   swapped Pointer }
       </i></font>TemPtr4<font color="#000080">^.</font>Next <font color="#000080">:= </font>Ptr1<font color="#000080">;

    </font><font color="#FF0000"><b>if </b></font>Ptr1<font color="#000080">^.</font>Last <font color="#000080">= </font><font color="#FF0000"><b>NIL then     </b></font><font color="#008000"><i>{ if swapped Pointer points to
                                   preceding NIL Pointer, this
                                   Pointer is the new root. }
       </i></font>Anchor <font color="#000080">:= </font>Ptr1<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>TempAnchor <font color="#000080">:= </font>FCL<font color="#000080">;     </font><font color="#008000"><i>{ holds root of list during sort }
  </i></font>TemPtr2 <font color="#000080">:= </font>TempAnchor<font color="#000080">; </font><font color="#008000"><i>{ TemPtr2 points to current data being
                           Compared }
  </i></font><font color="#FF0000"><b>Repeat
    </b></font>TemPtr1 <font color="#000080">:= </font>TemPtr2<font color="#000080">; </font><font color="#008000"><i>{ TemPtr1 points to the next ordered
                          data }
    </i></font>FCL <font color="#000080">:= </font>TemPtr2<font color="#000080">;     </font><font color="#008000"><i>{ start FCL at root of UNSorTED list -
                          sorted data precede this Pointer }
    </i></font><font color="#FF0000"><b>Repeat
      </b></font>FCL <font color="#000080">:= </font>FCL<font color="#000080">^.</font>Next<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>FCL<font color="#000080">^.</font>data <font color="#000080">&lt; </font>TemPtr1<font color="#000080">^.</font>data <font color="#FF0000"><b>then   </b></font><font color="#008000"><i>{ Compare data values }
        </i></font>TemPtr1 <font color="#000080">:= </font>FCL<font color="#000080">;         </font><font color="#008000"><i>{ if necessary, reset TemPtr1 to
                                   point to the new ordered value }
    </i></font><font color="#FF0000"><b>Until </b></font>FCL<font color="#000080">^.</font>Next <font color="#000080">= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;        </font><font color="#008000"><i>{ keep going Until you reach the
                                    end of the list. After Exit,
                                    the next value in order will be
                                    pointed to by TemPtr1 }
    </i></font><font color="#FF0000"><b>if </b></font>TemPtr1<font color="#000080">&lt;&gt;</font>TemPtr2 <font color="#FF0000"><b>then      </b></font><font color="#008000"><i>{ if TemPtr1 changed, a value
                                    was found out of order }
      </i></font>MoveLink<font color="#000080">(</font>TempAnchor<font color="#000080">,</font>TemPtr1<font color="#000080">,</font>TemPtr2<font color="#000080">) </font><font color="#008000"><i>{ then swap Pointers }
    </i></font><font color="#FF0000"><b>else
      </b></font>TemPtr2 <font color="#000080">:= </font>TemPtr2<font color="#000080">^.</font>Next<font color="#000080">;  </font><font color="#008000"><i>{ else advance to the next
                                    Pointer in list }
  </i></font><font color="#FF0000"><b>Until </b></font>TemPtr2<font color="#000080">^.</font>Next <font color="#000080">= </font><font color="#FF0000"><b>NIL</b></font><font color="#000080">;      </font><font color="#008000"><i>{ Until we are finished sorting
                                     the list }
  </i></font>FCL <font color="#000080">:= </font>TempAnchor<font color="#000080">;    </font><font color="#008000"><i>{ changes root Pointer to new root value }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SORTING SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0026.PAS">Original</a><b>]</b></p></body>
</html>
