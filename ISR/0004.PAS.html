<html>
<head><title> "ISRDEMO1.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to ISR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0004.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&sup3;- Also, is there anyway of making &quot;HOT-KEYS&quot; without using ReadKey f&sup3;
&sup3;  CharS?  I want it For Integers or can I have CharS as a RANdoM #? &sup3;
&sup3;  PROBLEMO!                                                         &sup3;

&gt; Unless you want to Write an ISR (initiate and stay resident) routine   &sup3;
&gt; that traps keyboard interrupts and either preprocesses them or passes  &sup3;
&gt; them on to your routine, ReadKey is the only way. (Writing an ISR      &sup3;
&gt; is not a simple task.)                                                 &sup3;

Actualy it is not that difficult in pascal:
}
</i></font><font color="#FF0000"><b>Uses
  </b></font>Dos<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>end_eks <font color="#000080">: </font>Boolean <font color="#000080">= </font>False<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>IntVec  <font color="#000080">: </font>Pointer<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Keybd<font color="#000080">; </font>Interrupt<font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>Key <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  Asm
    </b></font><font color="#FF00FF">cli
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Key <font color="#000080">:= </font>Port<font color="#000080">[</font><font color="#800000">$60</font><font color="#000080">];

  </font><font color="#FF0000"><b>Case </b></font>Key <font color="#FF0000"><b>of
    </b></font><font color="#800000">1   </font><font color="#000080">: </font>end_eks <font color="#000080">:= </font>True<font color="#000080">;
    </font><font color="#800000">57  </font><font color="#000080">: </font>Writeln<font color="#000080">(</font><font color="#800000">' You have pressed Space'</font><font color="#000080">);
    </font><font color="#800000">75  </font><font color="#000080">: </font>Writeln<font color="#000080">(</font><font color="#800000">' Left Arrow'</font><font color="#000080">);
    </font><font color="#800000">77  </font><font color="#000080">: </font>Writeln<font color="#000080">(</font><font color="#800000">' Right Arrow'</font><font color="#000080">);
    </font><font color="#800000">203</font><font color="#000080">,
    </font><font color="#800000">205 </font><font color="#000080">: </font>Writeln<font color="#000080">(</font><font color="#800000">' You have released an Arrow key'</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>if not </b></font>end_eks <font color="#FF0000"><b>then
  Asm
    </b></font><font color="#FF00FF">mov ah,0ch
    int 21h
    call IntVec  </font><font color="#008000"><i>{ Call original int 9 handler }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#008000"><i>{ port[$20]:=$20} { if you dont call the original handler
                      you need to uncomment this }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>GetIntVec<font color="#000080">(</font><font color="#800000">$09</font><font color="#000080">,</font>Intvec<font color="#000080">);
  </font>SetIntVec<font color="#000080">(</font><font color="#800000">$09</font><font color="#000080">,@</font>Keybd<font color="#000080">);
  </font>Writeln<font color="#000080">(</font><font color="#800000">' Press &lt;ESC&gt; to end Program '</font><font color="#000080">);

  </font><font color="#FF0000"><b>Repeat Until </b></font>end_eks<font color="#000080">;

  </font>SetIntVec<font color="#000080">(</font><font color="#800000">$09</font><font color="#000080">,</font>IntVec<font color="#000080">);

  </font>Writeln<font color="#000080">(</font><font color="#800000">' Program terminatet'</font><font color="#000080">);

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to ISR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0004.PAS">Original</a><b>]</b></p></body>
</html>
