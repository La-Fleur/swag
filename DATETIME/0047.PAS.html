<html>
<head><title> "One Month Calendar" by KEITH MERCATILI</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DATETIME SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0047.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
A couple of weeks ago, my computer science had to write a computer program
to generate a calendar.  Now my assignment is to incorporate the use of
appropriate enumeration and subrange data types, and corresponding procedures
to support these, into the program as a way of improving it.  Here is the
program that I would like some suggestions on.. Thanks in advance:
}
</i></font><font color="#FF0000"><b>program </b></font>OneMonthCalendar <font color="#000080">( </font>INPUT<font color="#000080">, </font>OUTPUT <font color="#000080">) ;
 
</font><font color="#FF0000"><b>var
    </b></font>Month <font color="#000080">: </font>INTEGER <font color="#000080">;  </font><font color="#008000"><i>(* The month number;  a value in the range 1 - 12 *) 
    </i></font>PrevMonthDays <font color="#000080">: </font>INTEGER <font color="#000080">;  </font><font color="#008000"><i>(* The number of days in the previous month *) 
    </i></font>CurrMonthDays <font color="#000080">: </font>INTEGER <font color="#000080">;  </font><font color="#008000"><i>(* The number of days in the desired month *) 
    </i></font>StartDay <font color="#000080">: </font>INTEGER <font color="#000080">;  </font><font color="#008000"><i>(* A value indicating the day of the week on    *)
                          (* which the month begins;  0 = Sunday, 1 =    *)
                          (* Monday, etc *) 
    </i></font>Date <font color="#000080">: </font>INTEGER <font color="#000080">;  </font><font color="#008000"><i>(* The data currently being generated *) 
 
(*----------------------------------------------------------*)
(*----------------------------------------------------------*)
 
</i></font><font color="#FF0000"><b>procedure </b></font>ReadData
    <font color="#000080">( </font><font color="#FF0000"><b>var </b></font>MonthNumber <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* out - The month number *) </i></font><font color="#000080">;
      </font><font color="#FF0000"><b>var </b></font>PreviousMonthDays <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* out - Number of days in the previous 
                                        month *) </i></font><font color="#000080">;
      </font><font color="#FF0000"><b>var </b></font>CurrentMonthDays <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* out - Number of days in the desired 
                                        month *) </i></font><font color="#000080">;
      </font><font color="#FF0000"><b>var </b></font>StartingDay <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* out - The day of the week on which the
                                         desired month begins *) </i></font><font color="#000080">) ;
    </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>(* procedure *)
     </i></font>Read <font color="#000080">( </font>MonthNumber <font color="#000080">) ;
     </font>Read <font color="#000080">( </font>PreviousMonthDays <font color="#000080">) ;
     </font>Read <font color="#000080">( </font>CurrentMonthDays <font color="#000080">) ;
     </font>Read <font color="#000080">( </font>StartingDay <font color="#000080">) ;
     </font>ReadLn<font color="#000080">;
    </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* ReadData *) </i></font><font color="#000080">;

</font><font color="#008000"><i>(*----------------------------------------------------------*)
 
</i></font><font color="#FF0000"><b>procedure </b></font>WriteHeading
    <font color="#000080">(  </font>Month <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in - The month number *) </i></font><font color="#000080">) ;
 
    </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>(* procedure *)
     </i></font>WriteLn<font color="#000080">;
     </font>WriteLn <font color="#000080">( </font><font color="#800000">'Month '</font><font color="#000080">, </font>Month<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">);
     </font>WriteLn <font color="#000080">( </font><font color="#800000">'+----------------------+'</font><font color="#000080">);
     </font>WriteLn <font color="#000080">( </font><font color="#800000">'|  S  M  T  W  T  F  S |'</font><font color="#000080">);
     </font>WriteLn <font color="#000080">( </font><font color="#800000">'+----------------------+'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* WriteHeading *) </i></font><font color="#000080">;

  </font><font color="#008000"><i>(*----------------------------------------------------------*)

  </i></font><font color="#FF0000"><b>procedure </b></font>WriteTrailing<font color="#000080">;
   
       
   
      </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>(* procedure *)
       </i></font>WriteLn <font color="#000080">(</font><font color="#800000">'+----------------------+'</font><font color="#000080">);
      </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* WriteTrailing *) </i></font><font color="#000080">;
   
</font><font color="#008000"><i>(*----------------------------------------------------------*)
 
</i></font><font color="#FF0000"><b>procedure </b></font>IncrementDate

    <font color="#000080">( </font><font color="#FF0000"><b>var </b></font>Date <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in out - The date value to be incremented *) </i></font><font color="#000080">;
       </font>DateLimit <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in - The number of days in the month
                                   corresponding to the given date value *)
                          </i></font><font color="#000080">);
    </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>(* procedure *)
     </i></font><font color="#FF0000"><b>if </b></font>Date <font color="#000080">&lt; </font>DateLimit <font color="#FF0000"><b>then begin
         </b></font>Date <font color="#000080">:= </font>Date <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">;
     </font><font color="#FF0000"><b>end else begin
          </b></font>Date <font color="#000080">:= </font><font color="#800000">1
     </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* if *) </i></font><font color="#000080">;
    </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* IncrementDate *) </i></font><font color="#000080">;
 
</font><font color="#008000"><i>(*----------------------------------------------------------*)
 
</i></font><font color="#FF0000"><b>procedure </b></font>OneDayCalendar
    <font color="#000080">(  </font>Date <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in - The date value for the day *) </i></font><font color="#000080">) ;
 
    </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>(* procedure *)
     </i></font>Write <font color="#000080">( </font>Date<font color="#000080">:</font><font color="#800000">3 </font><font color="#000080">) ;
    </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* OneDayCalendar *) </i></font><font color="#000080">;
 
</font><font color="#008000"><i>(*----------------------------------------------------------*)
 
</i></font><font color="#FF0000"><b>procedure </b></font>OneWeekCalendar
    <font color="#000080">( </font><font color="#FF0000"><b>var </b></font>Date <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in out - The date value *) </i></font><font color="#000080">;
       </font>MonthsLastDate <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in - The date value of the last day   *)
                       (* in the month corresponding to the    *)
                       (* given date value *) </i></font><font color="#000080">) ;
 
    </font><font color="#FF0000"><b>var
       </b></font>Day <font color="#000080">: </font>INTEGER <font color="#000080">;</font><font color="#008000"><i>(* Counting variable *) 
       
    </i></font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>(* procedure *)
     </i></font>Write <font color="#000080">(</font><font color="#800000">'|'</font><font color="#000080">);
     </font><font color="#FF0000"><b>for </b></font>Day <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7 </font><font color="#FF0000"><b>do begin
        </b></font>OneDayCalendar <font color="#000080">( </font>Date <font color="#000080">) ;
        </font>IncrementDate <font color="#000080">( </font>Date<font color="#000080">, </font>MonthsLastDate <font color="#000080">) ;
       </font><font color="#008000"><i>(* Day's value represents the number of dates outputed *)
     </i></font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* for *) </i></font><font color="#000080">;
     </font>WriteLn <font color="#000080">(</font><font color="#800000">' |'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* OneWeekCalendar *) </i></font><font color="#000080">;

</font><font color="#008000"><i>(*----------------------------------------------------------*)
 
</i></font><font color="#FF0000"><b>procedure </b></font>DetermineSundayDate
    <font color="#000080">(  </font>PreviousMonthDays <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in - The number of days in the    *)
                          (* previous month *) </i></font><font color="#000080">;
       </font>StartingDay <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in - A value representing the day of the *)
                    (* week on which the desired month begins *) </i></font><font color="#000080">;
      </font><font color="#FF0000"><b>var </b></font>SundayDate <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* out - The date of the Sunday for the    *)
                      (* first week in the calendar *) </i></font><font color="#000080">) ;
 
    </font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>(* procedure *)
     </i></font>SundayDate <font color="#000080">:= </font>PreviousMonthDays <font color="#000080">- </font>StartingDay<font color="#000080">;
     </font>IncrementDate <font color="#000080">(</font>SundayDate<font color="#000080">, </font>PreviousMonthDays<font color="#000080">);
    </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* DetermineSundayDate *) </i></font><font color="#000080">;

</font><font color="#008000"><i>(*----------------------------------------------------------*)
 
</i></font><font color="#FF0000"><b>procedure </b></font>GenerateCalendar
    <font color="#000080">(  </font>Date <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in - The starting date *) </i></font><font color="#000080">;
       </font>PreviousMonth <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in - The number of days in the previous
                                       month *) </i></font><font color="#000080">;
       </font>CurrentMonth <font color="#000080">: </font>INTEGER <font color="#008000"><i>(* in - The number of days in the current
                                      month *) </i></font><font color="#000080">) ;
 
    </font><font color="#FF0000"><b>var
        </b></font>PreviousSunday <font color="#000080">: </font>INTEGER <font color="#000080">;  </font><font color="#008000"><i>(* The date of the previous sunday *)

    </i></font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>(* procedure *)
      </i></font>OneWeekCalendar <font color="#000080">( </font>Date<font color="#000080">, </font>PreviousMonth <font color="#000080">) ;
      </font>PreviousSunday <font color="#000080">:= </font>Date<font color="#000080">;
      </font><font color="#FF0000"><b>while </b></font>Date <font color="#000080">&gt;= </font>PreviousSunday <font color="#FF0000"><b>do begin
         </b></font>PreviousSunday <font color="#000080">:= </font>Date<font color="#000080">;
         </font>OneWeekCalendar <font color="#000080">( </font>Date<font color="#000080">, </font>CurrentMonth <font color="#000080">) ;
      </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* while *) </i></font><font color="#000080">;
    </font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* GenerateCalendar *) </i></font><font color="#000080">;

</font><font color="#008000"><i>(*=======================================================================*)

</i></font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>(* main program *)
    </i></font>WriteLn <font color="#000080">(</font><font color="#800000">'One Month Calendar - Version 4'</font><font color="#000080">);  </font>WriteLn<font color="#000080">;
    </font><font color="#FF0000"><b>while NOT </b></font>EOF <font color="#FF0000"><b>do begin
       </b></font>ReadData <font color="#000080">( </font>Month<font color="#000080">, </font>PrevMonthDays<font color="#000080">, </font>CurrMonthDays<font color="#000080">, </font>StartDay <font color="#000080">) ;
       </font>WriteHeading <font color="#000080">(</font>Month<font color="#000080">);
       </font>DetermineSundayDate <font color="#000080">(</font>PrevMonthDays<font color="#000080">, </font>StartDay<font color="#000080">, </font>Date<font color="#000080">);
       </font>GenerateCalendar <font color="#000080">(</font>Date<font color="#000080">, </font>PrevMonthDays<font color="#000080">, </font>CurrMonthDays<font color="#000080">);
       </font>WriteTrailing<font color="#000080">;
       </font><font color="#008000"><i>(* EOLN is true *)
    </i></font><font color="#FF0000"><b>end  </b></font><font color="#008000"><i>(* while *) </i></font><font color="#000080">;
</font><font color="#FF0000"><b>end </b></font><font color="#008000"><i>(* OneMonthCalendar *)</i></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DATETIME SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0047.PAS">Original</a><b>]</b></p></body>
</html>
