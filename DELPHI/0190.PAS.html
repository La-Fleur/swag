<html>
<head><title> "Component to display while waiting" by MARTIJN TONIES</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DELPHI SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0190.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
After I got the new Swag-snippets and saw how to make components for
Delphi, I just made this one for fun.

You all still remember Knight Rider with his car, KITT... Well, at the
front the car had a scanner... I made it as a component...

All properties are as obvious as can be (I think) so that shouldn't be a
problem. Just install it as normal (Don't forget to make a bitmap for
it!)

Remember, it's just for fun. Use it when scanning something or waiting
for something...

Author: Martijn Tonies
Date    : 10-28-1996

E-mail: M.Tonies@hsbos.nl

{---8&lt;------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>unit </b></font>UKITScan<font color="#000080">;

</font><font color="#FF0000"><b>interface

uses
</b></font>	SysUtils<font color="#000080">, </font>WinTypes<font color="#000080">, </font>WinProcs<font color="#000080">, </font>Messages<font color="#000080">, </font>Classes<font color="#000080">, </font>Graphics<font color="#000080">, </font>Controls<font color="#000080">,
</font>	Forms<font color="#000080">, </font>Dialogs<font color="#000080">, </font>ExtCtrls<font color="#000080">;

</font><font color="#FF0000"><b>const
</b></font>	MaxLeds <font color="#000080">= </font><font color="#800000">100</font><font color="#000080">;

</font><font color="#FF0000"><b>type
</b></font>	TScanColor <font color="#000080">= (</font>scBlue<font color="#000080">,</font>scGreen<font color="#000080">,</font>scRed<font color="#000080">,</font>scYellow<font color="#000080">);
</font>	TScanMode  <font color="#000080">= (</font>smLeftToRight<font color="#000080">,</font>smRightToLeft<font color="#000080">,</font>smBoth<font color="#000080">);

</font>	TKITScanner <font color="#000080">= </font><font color="#FF0000"><b>class</b></font><font color="#000080">(</font>TGraphicControl<font color="#000080">)
</font>	<font color="#FF0000"><b>private
</b></font>		FBevelInner<font color="#000080">:    </font>TPanelBevel<font color="#000080">;
</font>		FBevelOuter<font color="#000080">:    </font>TPanelBevel<font color="#000080">;
</font>		FBevelWidth<font color="#000080">:    </font>Byte<font color="#000080">;
</font>		FHowManyLeds<font color="#000080">: </font>Byte<font color="#000080">;
</font>		FOutColor<font color="#000080">:      </font>TColor<font color="#000080">;
</font>		FOnColor<font color="#000080">:       </font>TColor<font color="#000080">;
</font>		FScanColor<font color="#000080">:     </font>TScanColor<font color="#000080">;
</font>		FScanSpeed<font color="#000080">:     </font>Integer<font color="#000080">;
</font>		FScanning<font color="#000080">:      </font>Boolean<font color="#000080">;
</font>		FScanMode<font color="#000080">:      </font>TScanMode<font color="#000080">;
</font>		FLedsColors<font color="#000080">:    </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxLeds<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>TScanColor<font color="#000080">;

</font>		LedPos<font color="#000080">:             </font>Byte<font color="#000080">;
</font>		LedWay<font color="#000080">:             </font>Boolean<font color="#000080">;
</font>		Border<font color="#000080">:             </font>Byte<font color="#000080">;
</font>		LedH<font color="#000080">,</font>LedW<font color="#000080">:      </font>Integer<font color="#000080">;
</font>		LedX<font color="#000080">:               </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>MaxLeds<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Integer<font color="#000080">;
</font>		ScanTimer<font color="#000080">:      </font>TTimer<font color="#000080">;
</font>		<font color="#FF0000"><b>procedure </b></font>DoScan<font color="#000080">(</font>Sender<font color="#000080">: </font>TObject<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>Draw<font color="#000080">;
</font>		<font color="#FF0000"><b>procedure </b></font>DrawBevel<font color="#000080">(</font>Rect<font color="#000080">: </font>TRect<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>DrawLeds<font color="#000080">;
</font>		<font color="#FF0000"><b>procedure </b></font>SetBevelInner<font color="#000080">(</font>Value<font color="#000080">: </font>TPanelBevel<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>SetBevelOuter<font color="#000080">(</font>Value<font color="#000080">: </font>TPanelBevel<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>SetBevelWidth<font color="#000080">(</font>Value<font color="#000080">: </font>Byte<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>SetHowManyLeds<font color="#000080">(</font>Value<font color="#000080">: </font>Byte<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>SetScanColor<font color="#000080">(</font>Value<font color="#000080">: </font>TScanColor<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>SetScanMode<font color="#000080">(</font>Value<font color="#000080">: </font>TScanMode<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>SetScanning<font color="#000080">(</font>Value<font color="#000080">: </font>Boolean<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>SetScanSpeed<font color="#000080">(</font>Value<font color="#000080">: </font>Integer<font color="#000080">);
</font>		<font color="#FF0000"><b>procedure </b></font>UpdateBorder<font color="#000080">;
</font>		<font color="#FF0000"><b>procedure </b></font>UpdatePos<font color="#000080">;
</font>		<font color="#008000"><i>{ Private declarations }
</i></font>	<font color="#FF0000"><b>protected

</b></font>		<font color="#008000"><i>{ Protected declarations }
</i></font>	<font color="#FF0000"><b>public
</b></font>		<font color="#FF0000"><b>constructor </b></font>Create<font color="#000080">(</font>AOwner<font color="#000080">: </font>TComponent<font color="#000080">); </font><font color="#FF0000"><b>override</b></font><font color="#000080">;
</font>		<font color="#FF0000"><b>destructor </b></font>Destroy<font color="#000080">; </font><font color="#FF0000"><b>override</b></font><font color="#000080">;
</font>		<font color="#FF0000"><b>procedure </b></font>Paint<font color="#000080">; </font><font color="#FF0000"><b>override</b></font><font color="#000080">;
</font>		<font color="#008000"><i>{ Public declarations }
</i></font>	<font color="#FF0000"><b>published
</b></font>		<font color="#FF0000"><b>property </b></font>Align<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>BevelInner<font color="#000080">: </font>TPanelBevel <font color="#FF0000"><b>read </b></font>FBevelInner <font color="#FF0000"><b>write </b></font>SetBevelInner <font color="#FF0000"><b>default </b></font>bvNone<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>BevelOuter<font color="#000080">: </font>TPanelBevel <font color="#FF0000"><b>read </b></font>FBevelOuter <font color="#FF0000"><b>write </b></font>SetBevelOuter <font color="#FF0000"><b>default </b></font>bvRaised<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>BevelWidth<font color="#000080">: </font>Byte <font color="#FF0000"><b>read </b></font>FBevelWidth <font color="#FF0000"><b>write </b></font>SetBevelWidth <font color="#FF0000"><b>default </b></font><font color="#800000">1</font><font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>Color<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>Cursor<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>Enabled<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>HowManyLeds<font color="#000080">: </font>Byte <font color="#FF0000"><b>read </b></font>FHowManyLeds <font color="#FF0000"><b>write </b></font>SetHowManyLeds <font color="#FF0000"><b>default </b></font><font color="#800000">7</font><font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>ScanColor<font color="#000080">: </font>TScanColor <font color="#FF0000"><b>read </b></font>FScanColor <font color="#FF0000"><b>write </b></font>SetScanColor <font color="#FF0000"><b>default </b></font>scRed<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>ScanMode<font color="#000080">: </font>TScanMode <font color="#FF0000"><b>read </b></font>FScanMode <font color="#FF0000"><b>write </b></font>SetScanMode <font color="#FF0000"><b>default </b></font>smBoth<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>Scanning<font color="#000080">: </font>Boolean <font color="#FF0000"><b>read </b></font>FScanning <font color="#FF0000"><b>write </b></font>SetScanning <font color="#FF0000"><b>default </b></font>False<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>ScanSpeed<font color="#000080">: </font>Integer <font color="#FF0000"><b>read </b></font>FScanSpeed <font color="#FF0000"><b>write </b></font>SetScanSpeed <font color="#FF0000"><b>default </b></font><font color="#800000">100</font><font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>ShowHint<font color="#000080">;
</font>		<font color="#FF0000"><b>property </b></font>Visible<font color="#000080">;
</font>		<font color="#008000"><i>{ Published declarations }
</i></font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure Register</b></font><font color="#000080">;

</font><font color="#FF0000"><b>implementation
</b></font><font color="#008000"><i>{==============================================================================}
{Private functions and procedures}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>Draw<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>R<font color="#000080">: </font>TRect<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	R<font color="#000080">:=</font>GetClientRect<font color="#000080">;
</font>	UpdateBorder<font color="#000080">;
</font>	Drawbevel<font color="#000080">(</font>R<font color="#000080">);

</font>	InflateRect<font color="#000080">(</font>R<font color="#000080">,-</font>Border<font color="#000080">,-</font>Border<font color="#000080">);
</font>	Canvas<font color="#000080">.</font>Brush<font color="#000080">.</font>Style<font color="#000080">:=</font>bsSolid<font color="#000080">;
</font>	Canvas<font color="#000080">.</font>Brush<font color="#000080">.</font>Color<font color="#000080">:=</font>Color<font color="#000080">;
</font>	Canvas<font color="#000080">.</font>FillRect<font color="#000080">(</font>R<font color="#000080">);

</font>	DrawLeds<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>DrawBevel<font color="#000080">(</font>Rect<font color="#000080">: </font>TRect<font color="#000080">);
</font><font color="#FF0000"><b>var
</b></font>	TopColor<font color="#000080">: </font>TColor<font color="#000080">;
</font>	BottomColor<font color="#000080">: </font>TColor<font color="#000080">;

</font>	<font color="#FF0000"><b>procedure </b></font>SetColors<font color="#000080">(</font>Bevel<font color="#000080">: </font>TPanelBevel<font color="#000080">);
</font>	<font color="#FF0000"><b>begin
</b></font>		<font color="#FF0000"><b>if </b></font>Bevel<font color="#000080">=</font>bvLowered
		<font color="#FF0000"><b>then </b></font>TopColor<font color="#000080">:=</font>clBtnShadow
		<font color="#FF0000"><b>else </b></font>TopColor<font color="#000080">:=</font>clBtnHighlight<font color="#000080">;
</font>		<font color="#FF0000"><b>if </b></font>Bevel<font color="#000080">=</font>bvLowered
		<font color="#FF0000"><b>then </b></font>BottomColor<font color="#000080">:=</font>clBtnHighlight
		<font color="#FF0000"><b>else </b></font>BottomColor<font color="#000080">:=</font>clBtnShadow<font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>FBevelOuter<font color="#000080">&lt;&gt;</font>bvNone
	<font color="#FF0000"><b>then begin
</b></font>				 SetColors<font color="#000080">(</font>FBevelOuter<font color="#000080">);
</font>				 Frame3D<font color="#000080">(</font>Canvas<font color="#000080">,</font>Rect<font color="#000080">,</font>TopColor<font color="#000080">,</font>BottomColor<font color="#000080">,</font>FBevelWidth<font color="#000080">);
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>FBevelInner<font color="#000080">&lt;&gt;</font>bvNone
	<font color="#FF0000"><b>then begin
</b></font>				 SetColors<font color="#000080">(</font>FBevelInner<font color="#000080">);
</font>				 Frame3D<font color="#000080">(</font>Canvas<font color="#000080">,</font>Rect<font color="#000080">,</font>TopColor<font color="#000080">,</font>BottomColor<font color="#000080">,</font>FBevelWidth<font color="#000080">);
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>SetBevelInner<font color="#000080">(</font>Value<font color="#000080">: </font>TPanelBevel<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>Value<font color="#000080">&lt;&gt;</font>FBevelInner
	<font color="#FF0000"><b>then begin
</b></font>				 FBevelInner<font color="#000080">:=</font>Value<font color="#000080">;
</font>				 Draw<font color="#000080">;
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>SetBevelOuter<font color="#000080">(</font>Value<font color="#000080">: </font>TPanelBevel<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>Value<font color="#000080">&lt;&gt;</font>FBevelOuter
	<font color="#FF0000"><b>then begin
</b></font>				 FBevelOuter<font color="#000080">:=</font>Value<font color="#000080">;
</font>				 Draw<font color="#000080">;
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>SetBevelWidth<font color="#000080">(</font>Value<font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>Value<font color="#000080">&lt;&gt;</font>FBevelWidth
	<font color="#FF0000"><b>then begin
</b></font>				 FBevelWidth<font color="#000080">:=</font>Value<font color="#000080">;
</font>				 Draw<font color="#000080">;
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>UpdateBorder<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Border<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>FBevelInner<font color="#000080">&lt;&gt;</font>bvNone
	<font color="#FF0000"><b>then </b></font>Border<font color="#000080">:=</font>FBevelWidth<font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>FBevelOuter<font color="#000080">&lt;&gt;</font>bvNone
	<font color="#FF0000"><b>then </b></font>Inc<font color="#000080">(</font>Border<font color="#000080">,</font>FBevelWidth<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>SetHowManyLeds<font color="#000080">(</font>Value<font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>Value<font color="#000080">=</font><font color="#800000">0
</font>	<font color="#FF0000"><b>then </b></font>Value<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>Value<font color="#000080">&gt;</font>MaxLeds
	<font color="#FF0000"><b>then </b></font>Value<font color="#000080">:=</font>MaxLeds<font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>FHowManyLeds<font color="#000080">&lt;&gt;</font>Value
	<font color="#FF0000"><b>then begin
</b></font>				 FHowManyLeds<font color="#000080">:=</font>Value<font color="#000080">;
</font>				 Draw<font color="#000080">;
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>SetScanMode<font color="#000080">(</font>Value<font color="#000080">: </font>TScanMode<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>Value<font color="#000080">&lt;&gt;</font>FScanMode
	<font color="#FF0000"><b>then </b></font>FScanMode<font color="#000080">:=</font>Value<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>SetScanSpeed<font color="#000080">(</font>Value<font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>Value<font color="#000080">&lt;&gt;</font>FScanSpeed
	<font color="#FF0000"><b>then </b></font>FScanSpeed<font color="#000080">:=</font>Value<font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>FScanning <font color="#FF0000"><b>and </b></font>Assigned<font color="#000080">(</font>ScanTimer<font color="#000080">)
</font>	<font color="#FF0000"><b>then </b></font>ScanTimer<font color="#000080">.</font>Interval<font color="#000080">:=</font>FScanSpeed<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>SetScanColor<font color="#000080">(</font>Value<font color="#000080">: </font>TScanColor<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>Value<font color="#000080">&lt;&gt;</font>FScanColor
	<font color="#FF0000"><b>then begin
</b></font>				 FScanColor<font color="#000080">:=</font>Value<font color="#000080">;
</font>				 Draw<font color="#000080">;
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>SetScanning<font color="#000080">(</font>Value<font color="#000080">: </font>Boolean<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>Value<font color="#000080">&lt;&gt;</font>FScanning
	<font color="#FF0000"><b>then begin
</b></font>				 FScanning<font color="#000080">:=</font>Value<font color="#000080">;
</font>				 <font color="#FF0000"><b>if </b></font>FScanning
				 <font color="#FF0000"><b>then begin
</b></font>								ScanTimer<font color="#000080">:=</font>TTimer<font color="#000080">.</font>Create<font color="#000080">(</font>Self<font color="#000080">);
</font>								ScanTimer<font color="#000080">.</font>Interval<font color="#000080">:=</font>FScanSpeed<font color="#000080">;
</font>								ScanTimer<font color="#000080">.</font>OnTimer<font color="#000080">:=</font>DoScan<font color="#000080">;
</font>								ScanTimer<font color="#000080">.</font>Enabled<font color="#000080">:=</font>True<font color="#000080">;
</font>							<font color="#FF0000"><b>end
</b></font>				 <font color="#FF0000"><b>else if </b></font>Assigned<font color="#000080">(</font>ScanTimer<font color="#000080">)
</font>							<font color="#FF0000"><b>then begin
</b></font>										 ScanTimer<font color="#000080">.</font>Free<font color="#000080">;
</font>										 ScanTimer<font color="#000080">:=</font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
</font>									 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>DrawLeds<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>n<font color="#000080">:</font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	LedH<font color="#000080">:=</font>Height<font color="#000080">-</font>Border<font color="#000080">-</font>Border<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>LedH<font color="#000080">&lt;</font><font color="#800000">1
</font>	<font color="#FF0000"><b>then begin
</b></font>				 Height<font color="#000080">:=</font><font color="#800000">3</font><font color="#000080">+</font>Border<font color="#000080">+</font>Border<font color="#000080">;
</font>				 Draw<font color="#000080">;
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	LedW<font color="#000080">:=(</font>Width<font color="#000080">-</font>Border<font color="#000080">-</font>Border<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">-</font>FHowManyLeds<font color="#000080">) </font><font color="#FF0000"><b>div </b></font>FHowManyLeds<font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>LedW<font color="#000080">&lt;</font><font color="#800000">1
</font>	<font color="#FF0000"><b>then begin
</b></font>				 Width<font color="#000080">:=</font>Border<font color="#000080">+</font>Border<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">+</font>FHowManyleds<font color="#000080">*(</font><font color="#800000">2</font><font color="#000080">);
</font>				 Draw<font color="#000080">;
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font><font color="#000080">(</font>Width<font color="#000080">&lt;&gt;(</font>Border<font color="#000080">+</font>Border<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">+</font>FHowManyLeds<font color="#000080">*(</font><font color="#800000">1</font><font color="#000080">+</font>LedW<font color="#000080">))) </font><font color="#FF0000"><b>and
</b></font>	<font color="#000080">((</font>Align<font color="#000080">=</font>alLeft<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>Align<font color="#000080">=</font>alRight<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>Align<font color="#000080">=</font>alNone<font color="#000080">))
</font>	<font color="#FF0000"><b>then begin
</b></font>				 Width<font color="#000080">:=</font>Border<font color="#000080">+</font>Border<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">+</font>FHowManyLeds<font color="#000080">*(</font><font color="#800000">1</font><font color="#000080">+</font>LedW<font color="#000080">);
</font>				 Draw<font color="#000080">;
</font>			 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	<font color="#FF0000"><b>case </b></font>FScanColor <font color="#FF0000"><b>of
</b></font>		scBlue      <font color="#000080">: </font><font color="#FF0000"><b>begin
</b></font>									FOutColor<font color="#000080">:=</font>clNavy<font color="#000080">;
</font>									FOnColor<font color="#000080">:=</font>clBlue<font color="#000080">;
</font>								<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>		scGreen     <font color="#000080">: </font><font color="#FF0000"><b>begin
</b></font>									FOnColor<font color="#000080">:=</font>clLime<font color="#000080">;
</font>									FOutColor<font color="#000080">:=</font>clGreen<font color="#000080">;
</font>								<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>		scRed       <font color="#000080">: </font><font color="#FF0000"><b>begin
</b></font>									FOutColor<font color="#000080">:=</font>clMaroon<font color="#000080">;
</font>									FOnColor<font color="#000080">:=</font>clRed<font color="#000080">;
</font>								<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>		scYellow    <font color="#000080">: </font><font color="#FF0000"><b>begin
</b></font>									FOutColor<font color="#000080">:=</font>clOlive<font color="#000080">;
</font>									FOnColor<font color="#000080">:=</font>clYellow<font color="#000080">;
</font>								<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;

</font>	Canvas<font color="#000080">.</font>Brush<font color="#000080">.</font>Color<font color="#000080">:=</font>FOutColor<font color="#000080">;
</font>	Ledx<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]:=</font>Border<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
</font>	n<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;
</font>	<font color="#FF0000"><b>while </b></font>n<font color="#000080">&lt;=</font>FHowManyLeds
	<font color="#FF0000"><b>do begin
</b></font>			 Ledx<font color="#000080">[</font>n<font color="#000080">]:=</font>Ledx<font color="#000080">[</font>n<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">]+</font><font color="#800000">1</font><font color="#000080">+</font>LedW<font color="#000080">;
</font>			 Inc<font color="#000080">(</font>n<font color="#000080">);
</font>		 <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	<font color="#FF0000"><b>for </b></font>n<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>FHowManyLeds
	<font color="#FF0000"><b>do </b></font>Canvas<font color="#000080">.</font>FillRect<font color="#000080">(</font>Rect<font color="#000080">(</font>Ledx<font color="#000080">[</font>n<font color="#000080">],</font>Border<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>Ledx<font color="#000080">[</font>n<font color="#000080">]+</font>LedW<font color="#000080">,</font>Height<font color="#000080">-</font>Border<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">));
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{------------------}
</i></font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>UpdatePos<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>case </b></font>FScanMode <font color="#FF0000"><b>of
</b></font>		smBoth              <font color="#000080">: </font><font color="#FF0000"><b>if </b></font>LedWay
										<font color="#FF0000"><b>then if </b></font>LedPos<font color="#000080">&gt;</font>FHowManyLeds
												 <font color="#FF0000"><b>then </b></font>LedWay<font color="#000080">:=</font><font color="#FF0000"><b>not </b></font>LedWay
												 <font color="#FF0000"><b>else </b></font>Inc<font color="#000080">(</font>LedPos<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">)
</font>										<font color="#FF0000"><b>else if </b></font>LedPos<font color="#000080">&lt;</font><font color="#800000">1
</font>												 <font color="#FF0000"><b>then </b></font>LedWay<font color="#000080">:=</font><font color="#FF0000"><b>not </b></font>LedWay
												 <font color="#FF0000"><b>else </b></font>Dec<font color="#000080">(</font>LedPos<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
</font>		smLeftToRight <font color="#000080">: </font><font color="#FF0000"><b>begin
</b></font>											LedWay<font color="#000080">:=</font>True<font color="#000080">;
</font>											<font color="#FF0000"><b>if </b></font>LedPos<font color="#000080">&gt;</font>FHowManyLeds
											<font color="#FF0000"><b>then </b></font>LedPos<font color="#000080">:=</font><font color="#800000">0
</font>											<font color="#FF0000"><b>else </b></font>Inc<font color="#000080">(</font>LedPos<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
</font>										<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>		smRightToLeft <font color="#000080">: </font><font color="#FF0000"><b>begin
</b></font>											LedWay<font color="#000080">:=</font>False<font color="#000080">;
</font>											<font color="#FF0000"><b>if </b></font>LedPos<font color="#000080">&lt;</font><font color="#800000">1
</font>											<font color="#FF0000"><b>then </b></font>LedPos<font color="#000080">:=</font>FHowManyLeds<font color="#000080">+</font><font color="#800000">1
</font>											<font color="#FF0000"><b>else </b></font>Dec<font color="#000080">(</font>LedPos<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
</font>										<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>DoScan<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>n<font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Canvas<font color="#000080">.</font>Brush<font color="#000080">.</font>Color<font color="#000080">:=</font>FOutColor<font color="#000080">;
</font>	<font color="#FF0000"><b>for </b></font>n<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>FHowManyLeds
	<font color="#FF0000"><b>do </b></font>Canvas<font color="#000080">.</font>FillRect<font color="#000080">(</font>Rect<font color="#000080">(</font>Ledx<font color="#000080">[</font>n<font color="#000080">],</font>Border<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>Ledx<font color="#000080">[</font>n<font color="#000080">]+</font>LedW<font color="#000080">,</font>Height<font color="#000080">-</font>Border<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">));
</font>	UpdatePos<font color="#000080">;
</font>	Canvas<font color="#000080">.</font>Brush<font color="#000080">.</font>Color<font color="#000080">:=</font>FOnColor<font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font><font color="#000080">(</font>LedPos<font color="#000080">&gt;=</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>LedPos<font color="#000080">&lt;=</font>FHowManyLeds<font color="#000080">)
</font>	<font color="#FF0000"><b>then </b></font>Canvas<font color="#000080">.</font>FillRect<font color="#000080">(</font>Rect<font color="#000080">(</font>Ledx<font color="#000080">[</font>LedPos<font color="#000080">],</font>Border<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">,</font>Ledx<font color="#000080">[</font>LedPos<font color="#000080">]+</font>LedW<font color="#000080">,</font>Height<font color="#000080">-</font>Border<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">));
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{==============================================================================}
{Protected functions and procedures}


{==============================================================================}
{Public functions and procedures}
</i></font><font color="#FF0000"><b>constructor </b></font>TKITScanner<font color="#000080">.</font>Create<font color="#000080">(</font>AOwner<font color="#000080">: </font>TComponent<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>inherited </b></font>Create<font color="#000080">(</font>AOwner<font color="#000080">);

</font>	FBevelInner<font color="#000080">:=</font>bvNone<font color="#000080">;
</font>	FBevelOuter<font color="#000080">:=</font>bvRaised<font color="#000080">;
</font>	FBevelWidth<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
</font>	FHowManyLeds<font color="#000080">:=</font><font color="#800000">7</font><font color="#000080">;
</font>	FScanColor<font color="#000080">:=</font>scRed<font color="#000080">;
</font>	FScanSpeed<font color="#000080">:=</font><font color="#800000">100</font><font color="#000080">;
</font>	FScanMode<font color="#000080">:=</font>smBoth<font color="#000080">;

</font>	LedPos<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
</font>	LedWay<font color="#000080">:=</font>True<font color="#000080">;

</font>	Width<font color="#000080">:=</font><font color="#800000">82</font><font color="#000080">;
</font>	Height<font color="#000080">:=</font><font color="#800000">12</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>destructor </b></font>TKITScanner<font color="#000080">.</font>Destroy<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>FScanning
	<font color="#FF0000"><b>then </b></font>SetScanning<font color="#000080">(</font>False<font color="#000080">);
</font>	<font color="#FF0000"><b>inherited </b></font>Destroy<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>TKITScanner<font color="#000080">.</font>Paint<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Draw<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{==============================================================================}
</i></font><font color="#FF0000"><b>procedure Register</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	RegisterComponents<font color="#000080">(</font><font color="#800000">'Samples'</font><font color="#000080">, [</font>TKITScanner<font color="#000080">]);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DELPHI SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0190.PAS">Original</a><b>]</b></p></body>
</html>
