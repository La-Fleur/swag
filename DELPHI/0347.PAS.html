<html>
<head><title> "translate RTF to HTML" by JOHAN@LINDGREN.PP.SE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DELPHI SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0347.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">From<font color="#000080">: </font>johan<font color="#000080">@</font>lindgren<font color="#000080">.</font>pp<font color="#000080">.</font>se

<font color="#000080">&gt;   </font>lopezj<font color="#000080">@</font>iluso<font color="#000080">.</font>ci<font color="#000080">.</font>uv<font color="#000080">.</font>es <font color="#000080">(</font>Agustin Lopez Bueno<font color="#000080">) </font>writes<font color="#000080">:
&gt;  </font>I need translate the contents <font color="#FF0000"><b>of </b></font>a RTF component <font color="#FF0000"><b>to </b></font>HTML
<font color="#000080">&gt;  </font><font color="#FF0000"><b>with </b></font>Delphi<font color="#000080">. </font>Anybody knows how <font color="#FF0000"><b>to do </b></font>this<font color="#000080">?
</font>This <font color="#FF0000"><b>is </b></font>a routine I use <font color="#FF0000"><b>to </b></font>convert the content <font color="#FF0000"><b>of </b></font>a RichEdit <font color="#FF0000"><b>to </b></font>SGML<font color="#000080">-</font>code<font color="#000080">. </font>It does <font color="#FF0000"><b>not </b></font>produce a complete HTML<font color="#000080">-</font><font color="#FF0000"><b>file </b></font>but you will have <font color="#FF0000"><b>to </b></font>figure <font color="#FF0000"><b>out </b></font>which RTF<font color="#000080">-</font>codes you should convert <font color="#FF0000"><b>to </b></font>which HTML<font color="#000080">-</font>tags<font color="#000080">.


--------------------------------------------------------------------------------

</font><font color="#FF0000"><b>function </b></font>rtf2sgml <font color="#000080">(</font>text <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">) : </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#008000"><i>{Funktion f&ouml;r att konvertera en RTF-rad till SGML-text.}
</i></font><font color="#FF0000"><b>var
</b></font>temptext <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font>start <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'&amp;'</font><font color="#000080">,</font><font color="#800000">'##amp;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'##amp'</font><font color="#000080">,</font><font color="#800000">'&amp;amp'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'e5'</font><font color="#000080">,</font><font color="#800000">'&amp;aring;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'c5'</font><font color="#000080">,</font><font color="#800000">'&amp;Aring;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'e4'</font><font color="#000080">,</font><font color="#800000">'&amp;auml;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'c4'</font><font color="#000080">,</font><font color="#800000">'&amp;Auml;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'f6'</font><font color="#000080">,</font><font color="#800000">'&amp;ouml;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'d6'</font><font color="#000080">,</font><font color="#800000">'&amp;Ouml;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'e9'</font><font color="#000080">,</font><font color="#800000">'&amp;eacute;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'c9'</font><font color="#000080">,</font><font color="#800000">'&amp;Eacute;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'e1'</font><font color="#000080">,</font><font color="#800000">'&amp;aacute;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'c1'</font><font color="#000080">,</font><font color="#800000">'&amp;Aacute;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'e0'</font><font color="#000080">,</font><font color="#800000">'&amp;agrave;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'c0'</font><font color="#000080">,</font><font color="#800000">'&amp;Agrave;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'f2'</font><font color="#000080">,</font><font color="#800000">'&amp;ograve;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'d2'</font><font color="#000080">,</font><font color="#800000">'&amp;Ograve;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'fc'</font><font color="#000080">,</font><font color="#800000">'&amp;uuml;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'dc'</font><font color="#000080">,</font><font color="#800000">'&amp;Uuml;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'a3'</font><font color="#000080">,</font><font color="#800000">'&amp;#163;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\}'</font><font color="#000080">,</font><font color="#800000">'#]#'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\{'</font><font color="#000080">,</font><font color="#800000">'#[#'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'{\rtf1\ansi\deff0\deftab720'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);</font><font color="#008000"><i>{Skall alltid tas bort}
</i></font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'{\fonttbl'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">); </font><font color="#008000"><i>{Skall alltid tas bort}
</i></font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'{\f0\fnil MS Sans Serif;}'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);</font><font color="#008000"><i>{Skall alltid tas bort}
</i></font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'{\f1\fnil\fcharset2 Symbol;}'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);</font><font color="#008000"><i>{Skall alltid tas bort}
</i></font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'{\f2\fswiss\fprq2 System;}}'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);</font><font color="#008000"><i>{Skall alltid tas bort}
</i></font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'{\colortbl\red0\green0\blue0;}'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);</font><font color="#008000"><i>{Skall alltid tas bort}
{I version 2.01 av Delphi finns inte \cf0 med i RTF-rutan. Tog d&auml;rf&ouml;r bort
det efter \fs16 och la ist&auml;llet en egen tv&auml;tt av \cf0.}
//temptext := hamtastreng (text,'{\rtf1','\deflang');
//text := stringreplace (text,temptext,''); {H&auml;mta och radera allt fr&aring;n start till deflang}
</i></font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\cf0'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);
</font>temptext <font color="#000080">:= </font>hamtastreng <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\deflang'</font><font color="#000080">,</font><font color="#800000">'\pard'</font><font color="#000080">);</font><font color="#008000"><i>{Plocka fr&aring;n deflang till pard f&ouml;r att f&aring; }
</i></font>text <font color="#000080">:= </font>stringreplace <font color="#000080">(</font>text<font color="#000080">,</font>temptext<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);</font><font color="#008000"><i>{oavsett vilken lang det &auml;r. Norska o svenska &auml;r olika}
{H&auml;r skall vi plocka bort fs och flera olika siffror beroende p&aring; vilka alternativ vi godk&auml;nner.}
//text := stringreplaceall (text,'\fs16','');{8 punkter}
//text := stringreplaceall (text,'\fs20','');{10 punkter}
{Nu st&auml;dar vi ist&auml;llet bort alla tv&aring;siffriga fontsize.}
</i></font><font color="#FF0000"><b>while </b></font>pos <font color="#000080">(</font><font color="#800000">'\fs'</font><font color="#000080">,</font>text<font color="#000080">) &gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>do
  begin
    </b></font>application<font color="#000080">.</font>processmessages<font color="#000080">;
    </font>start <font color="#000080">:= </font>pos <font color="#000080">(</font><font color="#800000">'\fs'</font><font color="#000080">,</font>text<font color="#000080">);
    </font>Delete<font color="#000080">(</font>text<font color="#000080">,</font>start<font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\pard\plain\f0 '</font><font color="#000080">,</font><font color="#800000">'&lt;P&gt;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\par \plain\f0\b\ul '</font><font color="#000080">,</font><font color="#800000">'&lt;/P&gt;&lt;MELLIS&gt;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\plain\f0\b\ul '</font><font color="#000080">,</font><font color="#800000">'&lt;/P&gt;&lt;MELLIS&gt;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\plain\f0'</font><font color="#000080">,</font><font color="#800000">'&lt;/MELLIS&gt;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\par }'</font><font color="#000080">,</font><font color="#800000">'&lt;/P&gt;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\par '</font><font color="#000080">,</font><font color="#800000">'&lt;/P&gt;&lt;P&gt;'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'#]#'</font><font color="#000080">,</font><font color="#800000">'}'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'#[#'</font><font color="#000080">,</font><font color="#800000">'{'</font><font color="#000080">);
</font>text <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>text<font color="#000080">,</font><font color="#800000">'\\'</font><font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">);
</font>result <font color="#000080">:= </font>text<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#008000"><i>//This is cut directly from the middle of a fairly long save routine that calls the above function.
//I know I could use streams instead of going through a separate file but I have not had the time to change this

            </i></font>utfilnamn <font color="#000080">:= </font>mditted<font color="#000080">.</font>exepath<font color="#000080">+</font>stringreplace<font color="#000080">(</font>stringreplace<font color="#000080">(</font>extractfilename<font color="#000080">(</font>pathname<font color="#000080">),</font><font color="#800000">'.TTT'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">),</font><font color="#800000">'.ttt'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">) + </font><font color="#800000">'ut.RTF'</font><font color="#000080">;
             </font>brodtext<font color="#000080">.</font>lines<font color="#000080">.</font>savetofile <font color="#000080">(</font>utfilnamn<font color="#000080">);
             </font>temptext <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
             </font>assignfile<font color="#000080">(</font>tempF<font color="#000080">,</font>utfilnamn<font color="#000080">);
             </font>reset <font color="#000080">(</font>tempF<font color="#000080">);
             </font><font color="#FF0000"><b>try
                while not </b></font>eof<font color="#000080">(</font>tempF<font color="#000080">) </font><font color="#FF0000"><b>do
                  begin
                     </b></font>readln <font color="#000080">(</font>tempF<font color="#000080">,</font>temptext2<font color="#000080">);
                     </font>temptext2 <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext2<font color="#000080">,</font><font color="#800000">'\'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">39</font><font color="#000080">)+</font><font color="#800000">'b6'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);
                     </font>temptext2 <font color="#000080">:= </font>rtf2sgml <font color="#000080">(</font>temptext2<font color="#000080">);
                     </font><font color="#FF0000"><b>if </b></font>temptext2 <font color="#000080">&lt;&gt;</font><font color="#800000">'' </font><font color="#FF0000"><b>then </b></font>temptext <font color="#000080">:= </font>temptext<font color="#000080">+</font>temptext2<font color="#000080">;
                     </font>application<font color="#000080">.</font>processmessages<font color="#000080">;
                  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
             </font><font color="#FF0000"><b>finally
                    </b></font>closefile <font color="#000080">(</font>tempF<font color="#000080">);
             </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
             </font>deletefile <font color="#000080">(</font>utfilnamn<font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;/MELLIS&gt; '</font><font color="#000080">,</font><font color="#800000">'&lt;/MELLIS&gt;'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;/P&gt; '</font><font color="#000080">,</font><font color="#800000">'&lt;/P&gt;'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;/P&gt;'</font><font color="#000080">+</font>chr<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">),</font><font color="#800000">'&lt;/P&gt;'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;/MELLIS&gt;&lt;/P&gt;'</font><font color="#000080">,</font><font color="#800000">'&lt;/MELLIS&gt;'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;P&gt;&lt;/P&gt;'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;/P&gt;&lt;P&gt;&lt;/MELLIS&gt;'</font><font color="#000080">,</font><font color="#800000">'&lt;/MELLIS&gt;&lt;P&gt;'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;/MELLIS&gt;'</font><font color="#000080">,</font><font color="#800000">'&lt;#MELLIS&gt;&lt;P&gt;'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;#MELLIS&gt;'</font><font color="#000080">,</font><font color="#800000">'&lt;/MELLIS&gt;'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;P&gt;&lt;P&gt;'</font><font color="#000080">,</font><font color="#800000">'&lt;P&gt;'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;P&gt; '</font><font color="#000080">,</font><font color="#800000">'&lt;P&gt;'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;P&gt;-'</font><font color="#000080">,</font><font color="#800000">'&lt;P&gt;_'</font><font color="#000080">);
             </font>temptext <font color="#000080">:= </font>stringreplaceall <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;P&gt;_'</font><font color="#000080">,</font><font color="#800000">'&lt;CITAT&gt;_'</font><font color="#000080">);
             </font><font color="#FF0000"><b>while </b></font>pos<font color="#000080">(</font><font color="#800000">'&lt;CITAT&gt;_'</font><font color="#000080">,</font>temptext<font color="#000080">)&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>do
               begin
                 </b></font>application<font color="#000080">.</font>processmessages<font color="#000080">;
                 </font>temptext2 <font color="#000080">:= </font>hamtastreng <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;CITAT&gt;_'</font><font color="#000080">,</font><font color="#800000">'&lt;/P&gt;'</font><font color="#000080">);
                 </font>temptext <font color="#000080">:= </font>stringreplace <font color="#000080">(</font>temptext<font color="#000080">,</font>temptext2<font color="#000080">+</font><font color="#800000">'&lt;/P&gt;'</font><font color="#000080">,</font>temptext2<font color="#000080">+</font><font color="#800000">'&lt;/CITAT&gt;'</font><font color="#000080">);
                 </font>temptext <font color="#000080">:= </font>stringreplace <font color="#000080">(</font>temptext<font color="#000080">,</font><font color="#800000">'&lt;CITAT&gt;_'</font><font color="#000080">,</font><font color="#800000">'&lt;CITAT&gt;-'</font><font color="#000080">);
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
             </font>writeln <font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">'&lt;BRODTEXT&gt;'</font><font color="#000080">+</font>temptext<font color="#000080">+</font><font color="#800000">'&lt;/BRODTEXT&gt;'</font><font color="#000080">);
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DELPHI SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0347.PAS">Original</a><b>]</b></p></body>
</html>
