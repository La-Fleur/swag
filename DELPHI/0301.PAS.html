<html>
<head><title> "Miscellaneous Routines to enhance your 3" by ESB CONSULTANCY</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DELPHI SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0301.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>unit </b></font>ESBRtns<font color="#000080">;

</font><font color="#008000"><i>{ Miscellaneous Routines to enhance your 32-bit Delphi
	Programming including:

	- 16-bit Bit Lists
	- Block Operations
	- various String Routines and Conversions

	(c) 1997 ESB Consultancy

	v1.00	First Public Release on 15 Aug 1997 to celebrate our WebSite's 
					First Birthday.

	These routines are used by ESB Consultancy within the
	development of their Customised Application.

	ESB Consultancy retains full copyright.

	ESB Consultancy grants users of this code royalty free rights
	to do with this code as they wish.

	We does ask that if this code helps you in you development
	that you send as an email mailto:esb@gold.net.au or even
	a local postcard. It would also be nice if you gave us a
	mention in your About Box or Help File.

	ESB Consultancy Home Page: http://www.gold.net.au/~esb

	Mail Address: PO Box 2259, Boulder, WA 6432 AUSTRALIA
}

</i></font><font color="#FF0000"><b>interface

const
</b></font>	MaxByte<font color="#000080">: </font>Byte <font color="#000080">= </font><font color="#800000">255</font><font color="#000080">;
</font>	MaxShortInt<font color="#000080">: </font>ShortInt <font color="#000080">= </font><font color="#800000">127</font><font color="#000080">;
</font>	MaxWord<font color="#000080">: </font>Word <font color="#000080">= </font><font color="#800000">65535</font><font color="#000080">;
</font>	MaxReal<font color="#000080">: </font>Real <font color="#000080">= </font><font color="#800000">1.7e38</font><font color="#000080">;
</font>	MaxSingle<font color="#000080">: </font>Single <font color="#000080">= </font><font color="#800000">3.4e38</font><font color="#000080">;
</font>	MaxDouble<font color="#000080">: </font>Double <font color="#000080">= </font><font color="#800000">1.7e308</font><font color="#000080">;
</font>	MaxExtended<font color="#000080">: </font>Extended <font color="#000080">= </font><font color="#800000">1.1e4932</font><font color="#000080">;
</font>	MaxComp<font color="#000080">: </font>Comp <font color="#000080">= </font><font color="#800000">9.2e18</font><font color="#000080">;

</font>	MinByte<font color="#000080">: </font>Byte <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
</font>	MinShortInt<font color="#000080">: </font>ShortInt <font color="#000080">= -</font><font color="#800000">128</font><font color="#000080">;
</font>	MinInt<font color="#000080">: </font>Integer <font color="#000080">= -</font><font color="#800000">32768</font><font color="#000080">;
</font>	MinWord<font color="#000080">: </font>Word <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
</font>	MinLongInt<font color="#000080">: </font>LongInt <font color="#000080">= </font><font color="#800000">$80000000</font><font color="#000080">;
</font>	MinReal<font color="#000080">: </font>Real <font color="#000080">= </font><font color="#800000">2.9e</font><font color="#000080">-</font><font color="#800000">39</font><font color="#000080">;
</font>	MinSingle<font color="#000080">: </font>Single <font color="#000080">= </font><font color="#800000">1.5e</font><font color="#000080">-</font><font color="#800000">45</font><font color="#000080">;
</font>	MinDouble<font color="#000080">: </font>Double <font color="#000080">= </font><font color="#800000">5.0e</font><font color="#000080">-</font><font color="#800000">324</font><font color="#000080">;
</font>	MinExtended<font color="#000080">: </font>Extended <font color="#000080">= </font><font color="#800000">3.4e</font><font color="#000080">-</font><font color="#800000">4932</font><font color="#000080">;

</font><font color="#FF0000"><b>const
</b></font>	NumPadCh<font color="#000080">: </font>Char <font color="#000080">= </font><font color="#800000">' '</font><font color="#000080">; </font><font color="#008000"><i>// Character to use for Left Hand Padding of Numerics
//	NumPosSign: Boolean = False; //Signals whether a '+' sign should be shown with positives

</i></font><font color="#FF0000"><b>type
</b></font>	TBitList <font color="#000080">= </font>Word<font color="#000080">; </font><font color="#008000"><i>// Used for a Bit List of 16 bits from 15 -&gt; 0

</i></font><font color="#FF0000"><b>type
</b></font>	String16	<font color="#000080">=</font>	<font color="#FF0000"><b>string </b></font><font color="#000080">[</font><font color="#800000">16</font><font color="#000080">];


</font><font color="#008000"><i>{*** Bit Manipulation ***}

</i></font><font color="#FF0000"><b>procedure </b></font>ClearAllBits <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">);

</font><font color="#008000"><i>{ Sets all Bits to 0 }

</i></font><font color="#FF0000"><b>procedure </b></font>SetAllBits <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">);

</font><font color="#008000"><i>{ Sets all Bits to 1 }

</i></font><font color="#FF0000"><b>procedure </b></font>FlipAllBits <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">);

</font><font color="#008000"><i>{ Flips all Bits, i.e 1 -&gt; 0 and 0 -&gt; 1 }

</i></font><font color="#FF0000"><b>procedure </b></font>ClearBit <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>I<font color="#000080">: </font>Byte<font color="#000080">);

</font><font color="#008000"><i>{ Sets specified Bit to 0 }

</i></font><font color="#FF0000"><b>procedure </b></font>SetBit <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>I<font color="#000080">: </font>Byte<font color="#000080">);

</font><font color="#008000"><i>{ Sets specified Bit to 1 }

</i></font><font color="#FF0000"><b>procedure </b></font>FlipBit <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>I<font color="#000080">: </font>Byte<font color="#000080">);

</font><font color="#008000"><i>{ Flips specified Bit, i.e. 0 -&gt; 1 and 1 -&gt; 0 }

</i></font><font color="#FF0000"><b>function </b></font>BitIsSet <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>I<font color="#000080">: </font>Byte<font color="#000080">): </font>Boolean<font color="#000080">;

</font><font color="#008000"><i>{ Returns True if Specified Bit is 1 }

</i></font><font color="#FF0000"><b>procedure </b></font>ReverseBits <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">); </font><font color="#FF0000"><b>register</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Reverses the Bit List, i.e. Bit 15 &lt;-&gt; Bit 0, Bit 14 &lt;-&gt; Bit1, etc. }

</i></font><font color="#FF0000"><b>function </b></font>Bits2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">): </font>String16<font color="#000080">;

</font><font color="#008000"><i>{ Converts a Bit list to a string of '1' and '0'. }

</i></font><font color="#FF0000"><b>function </b></font>Str2Bits <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font>String16<font color="#000080">): </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>register</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a string of '1' and '0' into a BitList. }

</i></font><font color="#FF0000"><b>function </b></font>BitsSet <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">): </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>register</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a number from 0 -&gt; 16 indicating the number of Bits Set }

</i></font><font color="#FF0000"><b>function </b></font>Booleans2BitList <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>B<font color="#000080">: </font><font color="#FF0000"><b>array of </b></font>Boolean<font color="#000080">): </font>TBitList<font color="#000080">;

</font><font color="#008000"><i>{ Converts an Array of Boolean into a BitList }

{*** Block Operations ***}

</i></font><font color="#FF0000"><b>procedure </b></font>ESBMoveOfs <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Source<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ofs1<font color="#000080">: </font>Integer<font color="#000080">;
</font>	<font color="#FF0000"><b>var </b></font>Dest<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ofs2<font color="#000080">: </font>Integer<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Size<font color="#000080">: </font>Integer<font color="#000080">);

</font><font color="#008000"><i>{ Moves Size bytes from Source starting at Ofs1 to destination
	starting at Ofs 2 using fast dword moves. BASM }

</i></font><font color="#FF0000"><b>procedure </b></font>ESBClear <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Dest<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Size<font color="#000080">: </font>Integer<font color="#000080">);

</font><font color="#008000"><i>{ Fills given structure with specified number of 0 values,
	effectively clearing it.	}

</i></font><font color="#FF0000"><b>procedure </b></font>ESBSet <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Dest<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Size<font color="#000080">: </font>Integer<font color="#000080">);

</font><font color="#008000"><i>{ Fills given structure with specified number of $FF values,
	effectively setting it. }

{*** String to Integer Types ***}

</i></font><font color="#FF0000"><b>function </b></font>Str2LInt <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>LongInt<font color="#000080">;

</font><font color="#008000"><i>{ Converts a String into a LongInt }

</i></font><font color="#FF0000"><b>function </b></font>Str2Byte <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>Byte<font color="#000080">;

</font><font color="#008000"><i>{ Converts a String into a Byte }

</i></font><font color="#FF0000"><b>function </b></font>Str2SInt <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>ShortInt<font color="#000080">;

</font><font color="#008000"><i>{ Converts a String into a ShortInt }

</i></font><font color="#FF0000"><b>function </b></font>Str2Int <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>Integer<font color="#000080">;

</font><font color="#008000"><i>{ Converts a String into an Integer }

</i></font><font color="#FF0000"><b>function </b></font>Str2Word <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>Word<font color="#000080">;

</font><font color="#008000"><i>{ Converts a String into a Word }

{*** Integer Types to Strings ***}

</i></font><font color="#FF0000"><b>function </b></font>LInt2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a LongInt into a String of length N with
	NumPadCh Padding to the Left }

</i></font><font color="#FF0000"><b>function </b></font>Byte2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a LongInt into a String of length N with
	NumPadCh Padding to the Left }

</i></font><font color="#FF0000"><b>function </b></font>LInt2ZStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a LongInt into a String of length N with
	NumPadCh Padding to the Left }

</i></font><font color="#FF0000"><b>function </b></font>LInt2ZBStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a LongInt into a String of length N with
	NumPadCh Padding to the Left, with blanks returned
	if Value is 0 }

</i></font><font color="#FF0000"><b>function </b></font>LInt2CStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L <font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Convert a LongInt into a Comma'ed String of length Len,
	with NumPadCh Padding to the Left }

</i></font><font color="#FF0000"><b>function </b></font>LInt2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Convert a LongInt into an exact String, No Padding }

</i></font><font color="#FF0000"><b>function </b></font>LInt2ZBEStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Convert a LongInt into an exact String, No Padding,
	with null returned if Value is 0 }

</i></font><font color="#FF0000"><b>function </b></font>LInt2CEStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L <font color="#000080">: </font>LongInt<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Convert a LongInt into a Comma'ed String without Padding }

{*** Extended Reals to Strings ***}

</i></font><font color="#FF0000"><b>function </b></font>Ext2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>E<font color="#000080">: </font>Extended<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts an Extended Real into an exact String, No padding,
	with given number of Decimal Places }

</i></font><font color="#FF0000"><b>function </b></font>Ext2EStr2 <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>E<font color="#000080">: </font>Extended<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts an Extended Real into an exact String, No padding,
	with at most given number of Decimal Places }

</i></font><font color="#FF0000"><b>function </b></font>Ext2CEStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>E<font color="#000080">: </font>Extended<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts an Extended Real into an exact String, No padding,
	with given number of Decimal Places, with Commas separating
	thousands }

</i></font><font color="#FF0000"><b>function </b></font>Double2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>D<font color="#000080">: </font>Double<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a Double Real into an exact String, No padding,
	with given number of Decimal Places }

</i></font><font color="#FF0000"><b>function </b></font>Single2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font>Single<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a Single Real into an exact String, No padding,
	with given number of Decimal Places }

</i></font><font color="#FF0000"><b>function </b></font>Comp2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>C<font color="#000080">: </font>Comp<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a Comp (Integral) Real into an exact String, No padding }

</i></font><font color="#FF0000"><b>function </b></font>Comp2CStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>C <font color="#000080">: </font>Comp<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a Comp (Integral) Real into a Comma'ed String of
	specified Length, Len, NumPadCh used for Left padding }

</i></font><font color="#FF0000"><b>function </b></font>Comp2CEStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>C <font color="#000080">: </font>Comp<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a Comp (Integral) Real into a Comma'ed String
	without Padding }

</i></font><font color="#FF0000"><b>function </b></font>Ext2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>E<font color="#000080">: </font>Extended<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">, </font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts an Extended Real into a String of specified Length, using
	NumPadCh for Left Padding, and with Specified number of Decimals }

</i></font><font color="#FF0000"><b>function </b></font>Double2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>D<font color="#000080">: </font>Double<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">, </font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a Double Real into a String of specified Length, using
	NumPadCh for Left Padding, and with Specified number of Decimals }

</i></font><font color="#FF0000"><b>function </b></font>Single2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font>Single<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">, </font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts an Single Real into a String of specified Length, using
	NumPadCh for Left Padding, and with Specified number of Decimals }

</i></font><font color="#FF0000"><b>function </b></font>Comp2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>C<font color="#000080">: </font>Comp<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Converts a Comp (Integral) Real into a String of specified Length, using
	NumPadCh for Left Padding }

{*** Strings to Extended Reals ***}

</i></font><font color="#FF0000"><b>function </b></font>Str2Ext <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>Extended<font color="#000080">;

</font><font color="#008000"><i>{ Converts a String into an Extended Real }

{*** Extra String Operations ***}

</i></font><font color="#FF0000"><b>function </b></font>LeftStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns the substring consisting of the first N characters of S.
	If N &gt; Length (S) then the substring = S. }

</i></font><font color="#FF0000"><b>function </b></font>RightStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns the substring consisting of the last N characters of S.
	If N &gt; Length (S) then the substring = S. }

</i></font><font color="#FF0000"><b>function </b></font>LeftTillStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns the substring consisting of the characters from S
	up to but not including the specified one.  If the specified
	character is not found then a null string is returned. }

</i></font><font color="#FF0000"><b>function </b></font>RightAfterStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font>	<font color="#008000"><i>{ Returns the sub-string to the right AFTER the first
		N Characters. if N &gt;= Length (S) then a Null string
		is returned. }

</i></font><font color="#FF0000"><b>function </b></font>RightAfterChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font>	<font color="#008000"><i>{ Returns the sub-string to the right AFTER the first
		ocurrence of specifiec character.  If Ch not found then
		a Null String is returned. }

</i></font><font color="#FF0000"><b>function </b></font>StripTChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns the String with all specified trailing characters	removed. }

</i></font><font color="#FF0000"><b>function </b></font>StripLChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns the String with all specified leading characters removed. }

</i></font><font color="#FF0000"><b>function </b></font>StripChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns the String with all specified leading and trailing
	characters removed. }

</i></font><font color="#FF0000"><b>function </b></font>ReplaceChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>OldCh<font color="#000080">, </font>NewCh <font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns the String with all occurrences of OldCh character
	replaced with NewCh character. }

</i></font><font color="#FF0000"><b>function </b></font>FillStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string composed of N occurrences of Ch. }

</i></font><font color="#FF0000"><b>function </b></font>BlankStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string composed of N blank spaces (i.e. #32) }

</i></font><font color="#FF0000"><b>function </b></font>DashStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string composed of N occurrences of '-'. }

</i></font><font color="#FF0000"><b>function </b></font>DDashStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string composed of N occurrences of '='. }

</i></font><font color="#FF0000"><b>function </b></font>LineStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string composed of N occurrences of '&Auml;' (196). }

</i></font><font color="#FF0000"><b>function </b></font>DLineStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string composed of N occurrences of '&Iacute;' (205). }

</i></font><font color="#FF0000"><b>function </b></font>StarStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string composed of N occurrences of '*'. }

</i></font><font color="#FF0000"><b>function </b></font>HashStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string composed of N occurrences of '#'. }

</i></font><font color="#FF0000"><b>function </b></font>PadRightStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string with blank spaces added to the end of the
	string until the string is of the given length.
	If Length (S) &gt;= Len then NO padding occurs, and S is returned. }

</i></font><font color="#FF0000"><b>function </b></font>PadLeftStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string with blank spaces added to the beginning of the
	string until the string is of the given length.
	If Length (S) &gt;= Len then NO padding occurs, and S is returned. }

</i></font><font color="#FF0000"><b>function </b></font>CentreStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string with blank spaces added to the beginning and
	end of the string to in effect centre the string within the
	given length.
	If Length (S) &gt;= Len then NO padding occurs, and S is returned. }

</i></font><font color="#FF0000"><b>function </b></font>PadChRightStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">;
</font>	<font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string with specified characters added to the end of the
	string until the string is of the given length.
	If Length (S) &gt;= Len then NO padding occurs, and S is returned. }

</i></font><font color="#FF0000"><b>function </b></font>PadChLeftStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">;
</font>	<font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string with specified characters added to the beginning of the
	string until the string is of the given length.
	If Length (S) &gt;= Len then NO padding occurs, and S is returned. }

</i></font><font color="#FF0000"><b>function </b></font>CentreChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">;
</font>	<font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Returns a string with specified characters added to the beginning and
	end of the string to in effect centre the string within the
	given length.
	If Length (S) &gt;= Len then NO padding occurs, and S is returned. }

</i></font><font color="#FF0000"><b>function </b></font>LeftAlignStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>RightAlignStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Boolean2TF <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>B <font color="#000080">: </font>Boolean<font color="#000080">): </font>Char<font color="#000080">;

</font><font color="#008000"><i>{ Converts a Boolean Value into the corresponding Character:
		True 	-&gt; 'T'
		False 	-&gt; 'F'
}

</i></font><font color="#FF0000"><b>function </b></font>Boolean2YN <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>B <font color="#000080">: </font>Boolean<font color="#000080">): </font>Char<font color="#000080">;

</font><font color="#008000"><i>{ Converts a Boolean Value into the corresponding Character:
		True 	-&gt; 'Y'
		False 	-&gt; 'N'
 }

</i></font><font color="#FF0000"><b>function </b></font>Boolean2Char <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>B <font color="#000080">: </font>Boolean<font color="#000080">;
</font>	TrueChar<font color="#000080">, </font>FalseChar<font color="#000080">: </font>Char<font color="#000080">): </font>Char<font color="#000080">;

</font><font color="#008000"><i>{ Converts a Boolean Value into the corresponding Character:
		True 	-&gt;  TrueChar
		False 	-&gt;  FalseChar
 }

</i></font><font color="#FF0000"><b>function </b></font>TF2Boolean <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font>Boolean<font color="#000080">;

 </font><font color="#008000"><i>{ Converts a Character Value into its corresponding Boolean value:

			'T', 't'	-&gt; True
			Otherwise -&gt; False
 }

</i></font><font color="#FF0000"><b>function </b></font>YN2Boolean <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font>Boolean<font color="#000080">;

 </font><font color="#008000"><i>{ Converts a Character Value into its corresponding Boolean value:

			'Y', 'y'	-&gt; True
			Otherwise -&gt; False
 }

</i></font><font color="#FF0000"><b>implementation

uses
</b></font>	SysUtils<font color="#000080">;

</font><font color="#008000"><i>{**** Bit Manipulation ****}

</i></font><font color="#FF0000"><b>procedure </b></font>ClearAllBits <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">);

</font><font color="#FF0000"><b>begin
</b></font>	Body<font color="#000080">:= </font><font color="#800000">$0000
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>SetAllBits <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">);

</font><font color="#FF0000"><b>begin
</b></font>	Body<font color="#000080">:= </font><font color="#800000">$FFFF
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>FlipAllBits <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">);

</font><font color="#FF0000"><b>begin
</b></font>	Body<font color="#000080">:= </font>Body <font color="#FF0000"><b>xor </b></font><font color="#800000">$FFFF
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>ClearBit <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>I<font color="#000080">: </font>Byte<font color="#000080">);

</font><font color="#FF0000"><b>begin
</b></font>	Body<font color="#000080">:= </font>Body <font color="#FF0000"><b>and </b></font><font color="#000080">(</font><font color="#FF0000"><b>not </b></font><font color="#000080">(</font><font color="#800000">$0001 </font><font color="#FF0000"><b>shl </b></font>I<font color="#000080">))
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>SetBit <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>I<font color="#000080">: </font>Byte<font color="#000080">);

</font><font color="#FF0000"><b>begin
</b></font>	Body<font color="#000080">:= </font>Body <font color="#FF0000"><b>or </b></font><font color="#000080">(</font><font color="#800000">$0001 </font><font color="#FF0000"><b>shl </b></font>I<font color="#000080">)
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>FlipBit <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>I<font color="#000080">: </font>Byte<font color="#000080">);

</font><font color="#FF0000"><b>begin
</b></font>	Body<font color="#000080">:= </font>Body <font color="#FF0000"><b>xor </b></font><font color="#000080">(</font><font color="#800000">$0001 </font><font color="#FF0000"><b>shl </b></font>I<font color="#000080">)
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>BitIsSet <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>I<font color="#000080">: </font>Byte<font color="#000080">): </font>Boolean<font color="#000080">;

</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= (</font>Body <font color="#FF0000"><b>and </b></font><font color="#000080">(</font><font color="#800000">$0001 </font><font color="#FF0000"><b>shl </b></font>I<font color="#000080">)) &lt;&gt; </font><font color="#800000">0
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Bits2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">): </font>String16<font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	I<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	SetLength <font color="#000080">(</font>Result<font color="#000080">, </font><font color="#800000">16</font><font color="#000080">);
</font>	<font color="#FF0000"><b>for </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">15 </font><font color="#FF0000"><b>do
</b></font>		<font color="#FF0000"><b>if </b></font>BitIsSet <font color="#000080">(</font>Body<font color="#000080">, </font>I<font color="#000080">) </font><font color="#FF0000"><b>then
</b></font>			Result <font color="#000080">[</font>I <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">'1'
</font>		<font color="#FF0000"><b>else
</b></font>			Result <font color="#000080">[</font>I <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] := </font><font color="#800000">'0'</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>ReverseBits <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
</b></font>		<font color="#FF00FF">push esi
</font>		<font color="#FF00FF">push ebx

</font>		<font color="#FF00FF">mov  esi, eax
</font>		<font color="#FF00FF">mov  bx, Word Ptr [esi]
</font>		<font color="#FF00FF">sub</font>	<font color="#FF00FF">ax, ax</font>		<font color="#008000"><i>// clear ax for out going bit list
</i></font>		<font color="#FF00FF">mov</font>	<font color="#FF00FF">cx, 16</font>		<font color="#008000"><i>// 16 iterations needed for a word
</i></font>		<font color="#FF00FF">sub</font>	<font color="#FF00FF">dx, dx</font>		<font color="#008000"><i>// clear dx for additions

</i></font>	<font color="#FF00FF">@1:
</font>		<font color="#FF00FF">shl</font>	<font color="#FF00FF">ax, 1</font>		<font color="#008000"><i>// move all of ax right
</i></font>		<font color="#FF00FF">shr</font>	<font color="#FF00FF">bx, 1</font>		<font color="#008000"><i>// move lsb into CF
</i></font>		<font color="#FF00FF">adc</font>	<font color="#FF00FF">ax, dx</font>		<font color="#008000"><i>// add in the carry bit
</i></font>		<font color="#FF00FF">loop @1

</font>		<font color="#FF00FF">mov Word Ptr [esi], ax

</font>		<font color="#FF00FF">pop</font> 	<font color="#FF00FF">ebx
</font>		<font color="#FF00FF">pop</font> 	<font color="#FF00FF">esi
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Str2Bits <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font>String16<font color="#000080">): </font>TBitList<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
</b></font>		<font color="#FF00FF">push esi
</font>		<font color="#FF00FF">push ebx
</font>		<font color="#FF00FF">mov</font>	<font color="#FF00FF">esi, eax

</font>		<font color="#FF00FF">lodsb</font>			<font color="#008000"><i>// Read Length
</i></font>		<font color="#FF00FF">sub</font>	<font color="#FF00FF">ah, ah
</font>		<font color="#FF00FF">mov</font>	<font color="#FF00FF">cx, ax</font>		<font color="#008000"><i>// &amp; store in CX
</i></font>		<font color="#FF00FF">sub</font>	<font color="#FF00FF">bx, bx</font>		<font color="#008000"><i>// clear BX for bit list construction
</i></font>		<font color="#FF00FF">mov</font>	<font color="#FF00FF">dl, '0'</font>		<font color="#008000"><i>// for comparisons

</i></font>	<font color="#FF00FF">@1:</font>	<font color="#FF00FF">lodsb
</font>		<font color="#FF00FF">shl</font>	<font color="#FF00FF">bx, 1</font>		<font color="#008000"><i>// mov bx along
</i></font>		<font color="#FF00FF">cmp</font>	<font color="#FF00FF">al, dl
</font>		<font color="#FF00FF">je</font>	<font color="#FF00FF">@2
</font>		<font color="#FF00FF">add</font>	<font color="#FF00FF">bx, 1</font>		<font color="#008000"><i>// otherwise add 1
</i></font>	<font color="#FF00FF">@2:</font>	<font color="#FF00FF">loop @1;
</font>		<font color="#FF00FF">mov</font>	<font color="#FF00FF">ax, bx</font>		<font color="#008000"><i>// result must be in ax

</i></font>		<font color="#FF00FF">pop</font> 	<font color="#FF00FF">ebx
</font>		<font color="#FF00FF">pop</font> 	<font color="#FF00FF">esi
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>BitsSet <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Body<font color="#000080">: </font>TBitList<font color="#000080">): </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
</b></font>		<font color="#FF00FF">mov  dx, ax</font>		<font color="#008000"><i>// Place BitList into BX
</i></font>		<font color="#FF00FF">xor</font>	<font color="#FF00FF">ax, ax</font>		<font color="#008000"><i>// Clear AX
</i></font>		<font color="#FF00FF">mov  cx, 16</font>		<font color="#008000"><i>// Move 16 into CX
</i></font>	<font color="#FF00FF">@2:</font>	<font color="#FF00FF">shl  dx, 1</font>		<font color="#008000"><i>// Shift Left
</i></font>		<font color="#FF00FF">jnc</font>	<font color="#FF00FF">@1</font>			<font color="#008000"><i>// if no carry then no increment
</i></font>		<font color="#FF00FF">inc</font>	<font color="#FF00FF">ax
</font>	<font color="#FF00FF">@1:</font>	<font color="#FF00FF">loop @2
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Booleans2BitList <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>B<font color="#000080">: </font><font color="#FF0000"><b>array of </b></font>Boolean<font color="#000080">): </font>TBitList<font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	I<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>	<font color="#FF0000"><b>for </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>High <font color="#000080">(</font>B<font color="#000080">) </font><font color="#FF0000"><b>do
</b></font>		<font color="#FF0000"><b>if </b></font>B <font color="#000080">[</font>I<font color="#000080">] </font><font color="#FF0000"><b>then
</b></font>			SetBit <font color="#000080">(</font>Result<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>ESBMoveOfs <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Source<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ofs1<font color="#000080">: </font>Integer<font color="#000080">;
</font>	<font color="#FF0000"><b>var </b></font>Dest<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ofs2<font color="#000080">: </font>Integer<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Size<font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>asm
</b></font>	   <font color="#FF00FF">push    esi
</font>	   <font color="#FF00FF">push    edi

</font>	   <font color="#FF00FF">mov     esi, Source
</font>	   <font color="#FF00FF">add</font>	 <font color="#FF00FF">esi, Ofs1
</font>	   <font color="#FF00FF">mov     edi, Dest
</font>	   <font color="#FF00FF">add</font>	 <font color="#FF00FF">edi, Ofs2

</font>	   <font color="#FF00FF">mov     eax, Size
</font>	   <font color="#FF00FF">mov     ecx, eax

</font>	   <font color="#FF00FF">cmp     edi,esi
</font>	   <font color="#FF00FF">jg      @@DOWN
</font>	   <font color="#FF00FF">je      @@EXIT

</font>	   <font color="#FF00FF">sar     ecx,2           </font><font color="#008000"><i>//copy count DIV 4 dwords
</i></font>	   <font color="#FF00FF">js      @@EXIT

</font>	   <font color="#FF00FF">rep     movsd

</font>	   <font color="#FF00FF">mov     ecx,eax
</font>	   <font color="#FF00FF">and     ecx,03h
</font>	   <font color="#FF00FF">rep     movsb           </font><font color="#008000"><i>//copy count MOD 4 bytes
</i></font>	   <font color="#FF00FF">jmp     @@EXIT

@@DOWN:
</font>	   <font color="#FF00FF">lea     esi,[esi+ecx-4] </font><font color="#008000"><i>// point ESI to last dword of source
</i></font>	   <font color="#FF00FF">lea     edi,[edi+ecx-4] </font><font color="#008000"><i>// point EDI to last dword of dest

</i></font>	   <font color="#FF00FF">sar     ecx,2</font>        	  <font color="#008000"><i>// copy count DIV 4 dwords
</i></font>	   <font color="#FF00FF">js      @@EXIT
</font>	   <font color="#FF00FF">std
</font>	   <font color="#FF00FF">rep     movsd

</font>	   <font color="#FF00FF">mov     ecx,eax
</font>	   <font color="#FF00FF">and     ecx,03h         </font><font color="#008000"><i>// Copy count MOD 4 bytes
</i></font>	   <font color="#FF00FF">add     esi,4-1         </font><font color="#008000"><i>// point to last byte of rest
</i></font>	   <font color="#FF00FF">add     edi,4-1
</font>	   <font color="#FF00FF">rep     movsb
</font>	   <font color="#FF00FF">cld
@@EXIT:
</font>	   <font color="#FF00FF">pop     edi
</font>	   <font color="#FF00FF">pop     esi
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>ESBClear <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Dest<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Size<font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	FillChar <font color="#000080">(</font>Dest<font color="#000080">, </font>Size<font color="#000080">, </font><font color="#800000">$00</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>ESBSet <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>Dest<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Size<font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	FillChar <font color="#000080">(</font>Dest<font color="#000080">, </font>Size<font color="#000080">, </font><font color="#800000">$FF</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Str2LInt <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>LongInt<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>StrToInt <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Str2Byte <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	L<font color="#000080">: </font>LongInt<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	L <font color="#000080">:= </font>Str2LInt <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>L <font color="#000080">&gt; </font>MaxByte <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>MaxByte
	<font color="#FF0000"><b>else if </b></font>L <font color="#000080">&lt; </font>MinByte <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>MinByte
	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>L<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Str2SInt <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>ShortInt<font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	L<font color="#000080">: </font>LongInt<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	L <font color="#000080">:= </font>Str2LInt <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>L <font color="#000080">&gt; </font>MaxShortInt <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>MaxShortInt
	<font color="#FF0000"><b>else if </b></font>L <font color="#000080">&lt; </font>MinShortInt <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>MinShortInt
	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>L<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Str2Int <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	L<font color="#000080">: </font>LongInt<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	L <font color="#000080">:= </font>Str2LInt <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>L <font color="#000080">&gt; </font>MaxInt <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>MaxInt
	<font color="#FF0000"><b>else if </b></font>L <font color="#000080">&lt; </font>MinInt <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>MinInt
	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>L<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Str2Word <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	L<font color="#000080">: </font>LongInt<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	L <font color="#000080">:= </font>Str2LInt <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>L <font color="#000080">&gt; </font>MaxWord <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>MaxWord
	<font color="#FF0000"><b>else if </b></font>L <font color="#000080">&lt; </font>MinWord <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>MinWord
	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>L<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LInt2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>IntToStr <font color="#000080">(</font>L<font color="#000080">);
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LInt2ZBEStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>L <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''
</font>	<font color="#FF0000"><b>else
</b></font>		<font color="#FF0000"><b>try
</b></font>			Result <font color="#000080">:= </font>IntToStr <font color="#000080">(</font>L<font color="#000080">);
</font>		<font color="#FF0000"><b>except
</b></font>			Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>		<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Ext2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>E<font color="#000080">: </font>Extended<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>FloatToStrF <font color="#000080">(</font>E<font color="#000080">, </font>ffFixed<font color="#000080">, </font><font color="#800000">18</font><font color="#000080">, </font>Decimals<font color="#000080">)
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Ext2EStr2 <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>E<font color="#000080">: </font>Extended<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>Ext2EStr <font color="#000080">(</font>E<font color="#000080">, </font>Decimals<font color="#000080">);
</font>	Result <font color="#000080">:= </font>StripTChStr <font color="#000080">(</font>Result<font color="#000080">, </font><font color="#800000">'0'</font><font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>Length <font color="#000080">(</font>Result<font color="#000080">) &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
</b></font>		<font color="#FF0000"><b>if </b></font>Result <font color="#000080">[</font>Length <font color="#000080">(</font>Result<font color="#000080">)] = </font>DecimalSeparator <font color="#FF0000"><b>then
</b></font>			Result <font color="#000080">:= </font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Length <font color="#000080">(</font>Result<font color="#000080">) - </font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Ext2CEStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>E<font color="#000080">: </font>Extended<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>FloatToStrF <font color="#000080">(</font>E<font color="#000080">, </font>ffNumber<font color="#000080">, </font><font color="#800000">18</font><font color="#000080">, </font>Decimals<font color="#000080">)
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Double2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>D<font color="#000080">: </font>Double<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>FloatToStrF <font color="#000080">(</font>D<font color="#000080">, </font>ffFixed<font color="#000080">, </font><font color="#800000">15</font><font color="#000080">, </font>Decimals<font color="#000080">)
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Single2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font>Single<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>FloatToStrF <font color="#000080">(</font>S<font color="#000080">, </font>ffFixed<font color="#000080">, </font><font color="#800000">7</font><font color="#000080">, </font>Decimals<font color="#000080">)
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Comp2EStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>C<font color="#000080">: </font>Comp<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>FloatToStrF <font color="#000080">(</font>C<font color="#000080">, </font>ffFixed<font color="#000080">, </font><font color="#800000">18</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">)
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Str2Ext <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">): </font>Extended<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>StrToFloat <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LInt2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>IntToStr <font color="#000080">(</font>L<font color="#000080">);
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font>NumPadCh<font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Byte2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>IntToStr <font color="#000080">(</font>L<font color="#000080">);
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font>NumPadCh<font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LInt2ZBStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>LInt2ZBEStr <font color="#000080">(</font>L<font color="#000080">);
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font>NumPadCh<font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LInt2ZStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L<font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>LInt2EStr <font color="#000080">(</font>L<font color="#000080">);
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font><font color="#800000">'0'</font><font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LInt2CStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L <font color="#000080">: </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>LInt2CEStr <font color="#000080">(</font>L<font color="#000080">);
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font>NumPadCh<font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LInt2CEStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>L <font color="#000080">: </font>LongInt<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	LS<font color="#000080">, </font>L2<font color="#000080">, </font>I <font color="#000080">: </font>Integer<font color="#000080">;
</font>	Temp <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>LInt2EStr <font color="#000080">(</font>L<font color="#000080">);
</font>	LS <font color="#000080">:= </font>Length <font color="#000080">(</font>Result<font color="#000080">);
</font>	L2 <font color="#000080">:= (</font>LS <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">3</font><font color="#000080">;
</font>	Temp <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>for </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>L2 <font color="#FF0000"><b>do
</b></font>		Temp <font color="#000080">:=  </font>ThousandSeparator <font color="#000080">+ </font>Copy <font color="#000080">(</font>Result<font color="#000080">, </font>LS <font color="#000080">- </font><font color="#800000">3 </font><font color="#000080">* </font>I <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">) + </font>Temp<font color="#000080">;
</font>	Result <font color="#000080">:= </font>Copy <font color="#000080">(</font>Result<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, (</font>LS <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>mod </b></font><font color="#800000">3 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">) + </font>Temp<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Comp2CStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>C <font color="#000080">: </font>Comp<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>Comp2CEStr <font color="#000080">(</font>C<font color="#000080">);
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font>NumPadCh<font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Comp2CEStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>C <font color="#000080">: </font>Comp<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	LS<font color="#000080">, </font>L<font color="#000080">, </font>I <font color="#000080">: </font>Integer<font color="#000080">;
</font>	Temp <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>Comp2EStr <font color="#000080">(</font>C<font color="#000080">);
</font>	LS <font color="#000080">:= </font>Length <font color="#000080">(</font>Result<font color="#000080">);
</font>	L <font color="#000080">:= (</font>LS <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">3</font><font color="#000080">;
</font>	Temp <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>for </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>L <font color="#FF0000"><b>do
</b></font>		Temp <font color="#000080">:=  </font>ThousandSeparator <font color="#000080">+ </font>Copy <font color="#000080">(</font>Result<font color="#000080">, </font>LS <font color="#000080">- </font><font color="#800000">3 </font><font color="#000080">* </font>I <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">) + </font>Temp<font color="#000080">;
</font>	Result <font color="#000080">:= </font>Copy <font color="#000080">(</font>Result<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, (</font>LS <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>mod </b></font><font color="#800000">3 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">) + </font>Temp<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Ext2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>E<font color="#000080">: </font>Extended<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">, </font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>FloatToStrF <font color="#000080">(</font>E<font color="#000080">, </font>ffFixed<font color="#000080">, </font><font color="#800000">18</font><font color="#000080">, </font>Decimals<font color="#000080">)
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font>NumPadCh<font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Double2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>D<font color="#000080">: </font>Double<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">, </font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>FloatToStrF <font color="#000080">(</font>D<font color="#000080">, </font>ffFixed<font color="#000080">, </font><font color="#800000">15</font><font color="#000080">, </font>Decimals<font color="#000080">)
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font>NumPadCh<font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Single2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S<font color="#000080">: </font>Single<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">, </font>Decimals<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>FloatToStrF <font color="#000080">(</font>S<font color="#000080">, </font>ffFixed<font color="#000080">, </font><font color="#800000">7</font><font color="#000080">, </font>Decimals<font color="#000080">)
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font>NumPadCh<font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Comp2Str <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>C<font color="#000080">: </font>Comp<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len<font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>try
</b></font>		Result <font color="#000080">:= </font>FloatToStrF <font color="#000080">(</font>C<font color="#000080">, </font>ffFixed<font color="#000080">, </font><font color="#800000">18</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">)
</font>	<font color="#FF0000"><b>except
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	Result <font color="#000080">:= </font>PadChLeftStr <font color="#000080">(</font>LeftStr <font color="#000080">(</font>Result<font color="#000080">, </font>Len<font color="#000080">), </font>NumPadCh<font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LeftStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>Copy <font color="#000080">(</font>S<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LeftAlignStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>PadRightStr <font color="#000080">(</font>Copy <font color="#000080">(</font>S<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>N<font color="#000080">), </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>RightAlignStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>PadLeftStr <font color="#000080">(</font>Copy <font color="#000080">(</font>S<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>N<font color="#000080">), </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>RightStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	M<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	M <font color="#000080">:= </font>Length <font color="#000080">(</font>S<font color="#000080">) - </font>N <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>M <font color="#000080">&lt; </font><font color="#800000">1 </font><font color="#FF0000"><b>then
</b></font>		M <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
</font>	Result <font color="#000080">:= </font>Copy <font color="#000080">(</font>S<font color="#000080">, </font>M<font color="#000080">, </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LeftTillStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	M<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	M <font color="#000080">:= </font>Pos <font color="#000080">(</font>Ch<font color="#000080">, </font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>M <font color="#000080">&lt; </font><font color="#800000">2 </font><font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''
</font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>Copy <font color="#000080">(</font>S<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>M <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>RightAfterStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>Copy <font color="#000080">(</font>S<font color="#000080">, </font>N <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font>Length <font color="#000080">(</font>S<font color="#000080">) - </font>N <font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>RightAfterChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	M<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	M <font color="#000080">:= </font>Pos <font color="#000080">(</font>Ch<font color="#000080">, </font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>M <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''
</font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>Copy <font color="#000080">(</font>S<font color="#000080">, </font>M <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font>Length <font color="#000080">(</font>S<font color="#000080">) - </font>M<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>StripChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch<font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>StripTChStr <font color="#000080">(</font>StripLChStr <font color="#000080">(</font>S<font color="#000080">, </font>Ch<font color="#000080">), </font>Ch<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>StripTChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch<font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	Len<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Len <font color="#000080">:= </font>Length <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>while </b></font><font color="#000080">(</font>Len <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>S <font color="#000080">[</font>Len<font color="#000080">] = </font>Ch<font color="#000080">) </font><font color="#FF0000"><b>do
</b></font>		Dec <font color="#000080">(</font>Len<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>Len <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''
</font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>Copy <font color="#000080">(</font>S<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font>Len<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>StripLChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch<font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	I<font color="#000080">, </font>Len<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Len <font color="#000080">:= </font>Length <font color="#000080">(</font>S<font color="#000080">);
</font>	I <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
</font>	<font color="#FF0000"><b>while </b></font><font color="#000080">(</font>I <font color="#000080">&lt;= </font>Len<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>S <font color="#000080">[</font>I<font color="#000080">] = </font>Ch<font color="#000080">) </font><font color="#FF0000"><b>do
</b></font>		Inc <font color="#000080">(</font>I<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font><font color="#000080">(</font>I <font color="#000080">&gt; </font>Len<font color="#000080">) </font><font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font><font color="#800000">''
</font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>Copy <font color="#000080">(</font>S<font color="#000080">, </font>I<font color="#000080">, </font>Len <font color="#000080">- </font>I <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>ReplaceChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font>	<font color="#FF0000"><b>const </b></font>OldCh<font color="#000080">, </font>NewCh <font color="#000080">: </font>Char<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	I<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>S<font color="#000080">;
</font>	<font color="#FF0000"><b>if </b></font>OldCh <font color="#000080">= </font>NewCh <font color="#FF0000"><b>then
</b></font>		Exit<font color="#000080">;
</font>	<font color="#FF0000"><b>for </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Length <font color="#000080">(</font>S<font color="#000080">) </font><font color="#FF0000"><b>do
</b></font>		<font color="#FF0000"><b>if </b></font>S <font color="#000080">[</font>I<font color="#000080">] = </font>OldCh <font color="#FF0000"><b>then
</b></font>			Result <font color="#000080">[</font>I<font color="#000080">] := </font>NewCh<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>FillStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	SetLength <font color="#000080">(</font>Result<font color="#000080">, </font>N<font color="#000080">);
</font>	FillChar <font color="#000080">(</font>Result <font color="#000080">[</font><font color="#800000">1</font><font color="#000080">], </font>N<font color="#000080">, </font>Ch<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>BlankStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">, </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>DashStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font><font color="#800000">'-'</font><font color="#000080">, </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>DDashStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font><font color="#800000">'='</font><font color="#000080">, </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>LineStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font><font color="#800000">#196</font><font color="#000080">, </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>DLineStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font><font color="#800000">#205</font><font color="#000080">, </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>StarStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font><font color="#800000">'*'</font><font color="#000080">, </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>HashStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>N <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font><font color="#800000">'#'</font><font color="#000080">, </font>N<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>PadRightStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	N<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	N <font color="#000080">:= </font>Length <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>N <font color="#000080">&lt; </font>Len <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>S <font color="#000080">+ </font>BlankStr <font color="#000080">(</font>Len <font color="#000080">- </font>N<font color="#000080">)
</font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>S<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>PadLeftStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	N<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	N <font color="#000080">:= </font>Length <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>N <font color="#000080">&lt; </font>Len <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>BlankStr <font color="#000080">(</font>Len <font color="#000080">- </font>N<font color="#000080">) + </font>S
	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>S<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>CentreStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	N<font color="#000080">, </font>M<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	N <font color="#000080">:= </font>Length <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>N <font color="#000080">&lt; </font>Len <font color="#FF0000"><b>then
</b></font>	<font color="#FF0000"><b>begin
</b></font>		M <font color="#000080">:= </font>Len <font color="#000080">- </font>N<font color="#000080">;
</font>		<font color="#FF0000"><b>if </b></font>Odd <font color="#000080">(</font>M<font color="#000080">) </font><font color="#FF0000"><b>then
</b></font>			Result <font color="#000080">:= </font>BlankStr <font color="#000080">(</font>M <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font>S
				<font color="#000080">+ </font>BlankStr <font color="#000080">(</font>M <font color="#FF0000"><b>div </b></font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">)
</font>		<font color="#FF0000"><b>else
</b></font>			Result <font color="#000080">:= </font>BlankStr <font color="#000080">(</font>M <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font>S
				<font color="#000080">+ </font>BlankStr <font color="#000080">(</font>M <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">);
</font>	<font color="#FF0000"><b>end
</b></font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>S<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>PadChRightStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">;
</font>	<font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	N<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	N <font color="#000080">:= </font>Length <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>N <font color="#000080">&lt; </font>Len <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>S <font color="#000080">+ </font>FillStr <font color="#000080">(</font>Ch<font color="#000080">, </font>Len <font color="#000080">- </font>N<font color="#000080">)
</font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>S<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>PadChLeftStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">;
</font>	<font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	N<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	N <font color="#000080">:= </font>Length <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>N <font color="#000080">&lt; </font>Len <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font>Ch<font color="#000080">, </font>Len <font color="#000080">- </font>N<font color="#000080">) + </font>S
	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>S<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>CentreChStr <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">;
</font>	<font color="#FF0000"><b>const </b></font>Len <font color="#000080">: </font>Integer<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>var
</b></font>	N<font color="#000080">, </font>M<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	N <font color="#000080">:= </font>Length <font color="#000080">(</font>S<font color="#000080">);
</font>	<font color="#FF0000"><b>if </b></font>N <font color="#000080">&lt; </font>Len <font color="#FF0000"><b>then
</b></font>	<font color="#FF0000"><b>begin
</b></font>		M <font color="#000080">:= </font>Len <font color="#000080">- </font>N<font color="#000080">;
</font>		<font color="#FF0000"><b>if </b></font>Odd <font color="#000080">(</font>M<font color="#000080">) </font><font color="#FF0000"><b>then
</b></font>			Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font>Ch<font color="#000080">, </font>M <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font>S
				<font color="#000080">+ </font>FillStr <font color="#000080">(</font>Ch<font color="#000080">, </font>M <font color="#FF0000"><b>div </b></font><font color="#800000">2 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">)
</font>		<font color="#FF0000"><b>else
</b></font>			Result <font color="#000080">:= </font>FillStr <font color="#000080">(</font>Ch<font color="#000080">, </font>M <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">) + </font>S
				<font color="#000080">+ </font>FillStr <font color="#000080">(</font>Ch<font color="#000080">, </font>M <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">);
</font>	<font color="#FF0000"><b>end
</b></font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>S<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Boolean2TF <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>B <font color="#000080">: </font>Boolean<font color="#000080">): </font>Char<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>B <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font><font color="#800000">'T'
</font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font><font color="#800000">'F'</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Boolean2YN <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>B <font color="#000080">: </font>Boolean<font color="#000080">): </font>Char<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>B <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font><font color="#800000">'Y'
</font>	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font><font color="#800000">'N'</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Boolean2Char <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>B <font color="#000080">: </font>Boolean<font color="#000080">;
</font>	TrueChar<font color="#000080">, </font>FalseChar<font color="#000080">: </font>Char<font color="#000080">): </font>Char<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>if </b></font>B <font color="#FF0000"><b>then
</b></font>		Result <font color="#000080">:= </font>TrueChar
	<font color="#FF0000"><b>else
</b></font>		Result <font color="#000080">:= </font>FalseChar<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>TF2Boolean <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>Ch <font color="#FF0000"><b>in </b></font><font color="#000080">[</font><font color="#800000">'T'</font><font color="#000080">, </font><font color="#800000">'t'</font><font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>YN2Boolean <font color="#000080">(</font><font color="#FF0000"><b>const </b></font>Ch <font color="#000080">: </font>Char<font color="#000080">): </font>Boolean<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	Result <font color="#000080">:= </font>Ch <font color="#FF0000"><b>in </b></font><font color="#000080">[</font><font color="#800000">'Y'</font><font color="#000080">, </font><font color="#800000">'y'</font><font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DELPHI SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0301.PAS">Original</a><b>]</b></p></body>
</html>
