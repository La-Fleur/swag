<html>
<head><title> "STSEARCH.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to FINDREPL SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0013.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000080">&Uacute;&Auml;&Acirc;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;        </font>Andy Stewart        <font color="#000080">&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Acirc;&Auml;&middot;
&sup3;</font>o<font color="#000080">&sup3; </font>Can someone tell<font color="#000080">/</font>show me how <font color="#FF0000"><b>to </b></font>write a <font color="#FF0000"><b>procedure </b></font>that   <font color="#000080">&sup3;</font>o<font color="#000080">&ordm;
&sup3;</font>o<font color="#000080">&sup3; </font>will take a <font color="#FF0000"><b>string </b></font>input <font color="#FF0000"><b>and </b></font>search <font color="#FF0000"><b>for </b></font>it <font color="#FF0000"><b>in </b></font>a textfile <font color="#000080">&sup3;</font>o<font color="#000080">&ordm;
&Ocirc;&Iacute;&Iuml;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iuml;&Iacute;&frac14;
</font><font color="#008000"><i>{ Simple example for a straight forward search routine }
</i></font><font color="#FF0000"><b>var
  </b></font>f    <font color="#000080">: </font>text<font color="#000080">;
  </font>buf  <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>maxint<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>char<font color="#000080">;
  </font>line <font color="#000080">: </font>word<font color="#000080">;
  </font>pattern<font color="#000080">,</font>s<font color="#000080">,</font>t <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Corrected version of routine from turbo techniques }
</i></font><font color="#FF0000"><b>function </b></font>uppercase <font color="#000080">(</font>strg<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">):</font><font color="#FF0000"><b>string</b></font><font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>ASM
   </b></font><font color="#FF00FF">push     ds
   lds      si,strg
   les      di,@result
   cld
   lodsb
   stosb
   xor      ch,ch
   mov      cl,al
   jcxz     @done
 @more:
   lodsb
   cmp      al,'a'
   jb       @no
   cmp      al,'z'
   ja       @no
   sub      al,20h
 @no:
   stosb
   loop     @more
 @done:
   pop      ds
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#008000"><i>{ If you want the above routine in pascal
function uppercase (strg : string) : string;
  var i : integer;
  begin
    for i := 1 to length(strg) do strg[i] := upcase(strg[i]);
    uppercase := strg;
  end;
}

</i></font><font color="#FF0000"><b>procedure </b></font>search4pattern<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>readln<font color="#000080">(</font>f<font color="#000080">,</font>s<font color="#000080">);
    </font>inc<font color="#000080">(</font>line<font color="#000080">);
    </font>t <font color="#000080">:= </font>uppercase<font color="#000080">(</font>s<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>pos<font color="#000080">(</font>pattern<font color="#000080">,</font>t<font color="#000080">) &gt; </font><font color="#800000">0
    </font><font color="#FF0000"><b>then </b></font>writeln<font color="#000080">(</font>line<font color="#000080">:</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">' '</font><font color="#000080">,</font>s<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>Line <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>paramcount <font color="#000080">&lt; </font><font color="#800000">2 </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
  </font>pattern <font color="#000080">:= </font>paramstr<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">);
  </font>pattern <font color="#000080">:= </font>uppercase<font color="#000080">(</font>pattern<font color="#000080">);
  </font>assign<font color="#000080">(</font>f<font color="#000080">,</font>paramstr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">));
  </font>settextbuf<font color="#000080">(</font>f<font color="#000080">,</font>buf<font color="#000080">);
  </font><font color="#008000"><i>{$I-} </i></font>reset<font color="#000080">(</font>f<font color="#000080">); </font><font color="#008000"><i>{$I+}
  </i></font><font color="#FF0000"><b>if </b></font>ioresult <font color="#000080">= </font><font color="#800000">0
  </font><font color="#FF0000"><b>then begin
         while not </b></font>eof<font color="#000080">(</font>f<font color="#000080">) </font><font color="#FF0000"><b>do </b></font>search4pattern<font color="#000080">;
         </font>close<font color="#000080">(</font>f<font color="#000080">);
       </font><font color="#FF0000"><b>end
  else </b></font>writeln<font color="#000080">(</font><font color="#800000">'File not found'</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
---
 &thorn; </font>Tags <font color="#000080">&ccedil; </font>Us <font color="#000080">&thorn; </font>Abandon the search <font color="#FF0000"><b>for </b></font>truth<font color="#000080">: </font>settle <font color="#FF0000"><b>on </b></font>a good fantasy<font color="#000080">.
 * </font>Suburban Software <font color="#000080">- </font>Home <font color="#FF0000"><b>of </b></font>King <font color="#FF0000"><b>of </b></font>the Board<font color="#000080">(</font>tm<font color="#000080">) - </font><font color="#800000">708</font><font color="#000080">-</font><font color="#800000">636</font><font color="#000080">-</font><font color="#800000">6694
 </font><font color="#000080">* </font>PostLink<font color="#000080">(</font>tm<font color="#000080">) </font>v1<font color="#000080">.</font><font color="#800000">05  </font>SUBSOFT <font color="#000080">(</font><font color="#800000">#715</font><font color="#000080">) : </font>RelayNet<font color="#000080">(</font>tm<font color="#000080">) </font>Hub

                                                                            
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to FINDREPL SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0013.PAS">Original</a><b>]</b></p></body>
</html>
