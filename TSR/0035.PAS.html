<html>
<head><title> "Determining if a TSR is installed alread" by DAVE JARVIS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TSR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0035.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; upon another problem: how do I detect the &quot;presence&quot; of a
&gt; self-developed TSR, which I made resident with KEEP(0) ?
}

</i></font><font color="#FF0000"><b>VAR
  </b></font>HandlerSeg <font color="#000080">: </font>WORD<font color="#000080">;

</font><font color="#FF0000"><b>Begin
  asm
    </b></font><font color="#FF00FF">mov ax, $3565
    int $21
    mov Handlerseg, es
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>Handlerseg <font color="#000080">&lt;&gt; </font><font color="#800000">$FFFF</font><font color="#000080">)  </font><font color="#FF0000"><b>THEN
  Begin
    asm
      </b></font><font color="#FF00FF">push ds
      mov ax, $FFFF
      mov ds, ax
      mov ax, $2565
      mov dx, $0000
      int $21
      pop ds
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>End
  ELSE
  Begin
    </b></font>WriteLn<font color="#000080">( </font><font color="#800000">'Program already installed.' </font><font color="#000080">);
    </font>Halt<font color="#000080">( </font><font color="#800000">0 </font><font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#008000"><i>{ Blah blah blah }
</i></font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TSR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0035.PAS">Original</a><b>]</b></p></body>
</html>
