<html>
<head><title> "Gouraud Polygon Cube" by ALEX CHALFIN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TSR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0036.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Here is some gouraud polygon code. I wrote this about a week ago.
This time I tested it on TP7 before posting it :)
Sorry its all scrunched up, but I wanted to keep it to 2 messages.
}

</i></font><font color="#FF0000"><b>Program </b></font>GouraudPolygon<font color="#000080">;
</font><font color="#008000"><i>{ A Gouraud polygon demonstration }
{ Requires a 286 and VGA          }
{ Alex Chalfin   11/14/94         }
{ Internet: achalfin@uceng.uc.edu }
{$G+} { Enable 286 instructions }
</i></font><font color="#FF0000"><b>Const </b></font>NumColors <font color="#000080">= </font><font color="#800000">63</font><font color="#000080">;   </font><font color="#008000"><i>{ Number of colors to use }
</i></font><font color="#FF0000"><b>Type
  </b></font>LCoord <font color="#000080">= </font><font color="#FF0000"><b>Record
    </b></font>x<font color="#000080">, </font>y<font color="#000080">, </font>z <font color="#000080">: </font>Longint<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font>SCoord <font color="#000080">= </font><font color="#FF0000"><b>Record
    </b></font>x<font color="#000080">, </font>y <font color="#000080">: </font>Integer<font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font>SC <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>SCoord<font color="#000080">;
  </font>Coords <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>LCoord<font color="#000080">;
  </font>Norms <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Longint<font color="#000080">;
  </font>NDesc <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Integer<font color="#000080">;
  </font>PLT <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">5</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>NDesc<font color="#000080">;
  </font>ColorList <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Integer<font color="#000080">;


</font><font color="#FF0000"><b>Const
  </b></font>Viewer <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Longint <font color="#000080">= (</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">4096</font><font color="#000080">);
  </font>LocalCoords <font color="#000080">: </font>Coords <font color="#000080">= ((</font>x<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">; </font>y<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">;  </font>z<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">), (</font>x<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">; </font>y<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">; </font>z<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">),
   (</font>x<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">; </font>y<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">; </font>z<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">; </font>y<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">; </font>z<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">),(</font>x<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">; </font>y<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">; </font>z<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">),
   (</font>x<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">; </font>y<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">; </font>z<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">; </font>y<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">; </font>z<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">; </font>y<font color="#000080">:</font><font color="#800000">50</font><font color="#000080">; </font>z<font color="#000080">:-</font><font color="#800000">50</font><font color="#000080">));
  </font>PolyDesc<font color="#000080">:</font>PLT<font color="#000080">=((</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">),(</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">),(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">),(</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">6</font><font color="#000080">),(</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">),(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">));
  </font>CoordNorms <font color="#000080">: </font>Coords <font color="#000080">= ((</font>x<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">; </font>y<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">;  </font>z<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">), (</font>x<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">; </font>y<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">; </font>z<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">),
   (</font>x<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">; </font>y<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">; </font>z<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">; </font>y<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">; </font>z<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">),(</font>x<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">; </font>y<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">; </font>z<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">),
   (</font>x<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">; </font>y<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">; </font>z<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">; </font>y<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">; </font>z<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">; </font>y<font color="#000080">:</font><font color="#800000">2364</font><font color="#000080">; </font>z<font color="#000080">:-</font><font color="#800000">2364</font><font color="#000080">));
  </font>LNormals<font color="#000080">:</font>Norms<font color="#000080">=((</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">4096</font><font color="#000080">),(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,-</font><font color="#800000">4096</font><font color="#000080">),(</font><font color="#800000">0</font><font color="#000080">,-</font><font color="#800000">4096</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">),(-</font><font color="#800000">4096</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">),
               (</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">4096</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">),(</font><font color="#800000">4096</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">));

</font><font color="#FF0000"><b>Var
  </b></font>Sine<font color="#000080">, </font>CoSine <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">511</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Longint<font color="#000080">;
  </font>Time <font color="#000080">: </font>Longint <font color="#FF0000"><b>ABSOLUTE </b></font><font color="#800000">$0</font><font color="#000080">:</font><font color="#800000">$046c</font><font color="#000080">;
  </font>STime<font color="#000080">,</font>ETime<font color="#000080">,</font>Frame<font color="#000080">:</font>Longint<font color="#000080">;</font>WNormals<font color="#000080">:</font>Norms<font color="#000080">;</font>ScreenCoords<font color="#000080">:</font>SC<font color="#000080">;
  </font>Page0<font color="#000080">,</font>Page1<font color="#000080">:</font>Word<font color="#000080">;</font>WorldCoords<font color="#000080">:</font>Coords<font color="#000080">;</font>Colors<font color="#000080">:</font>ColorList<font color="#000080">;</font>WCoordNorms<font color="#000080">:</font>Coords<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CalcSin<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>C <font color="#000080">: </font>Longint<font color="#000080">;
</font><font color="#FF0000"><b>Begin For </b></font>C <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">511 </font><font color="#FF0000"><b>do
  Begin </b></font>Sine<font color="#000080">[</font>C<font color="#000080">]:=</font>Round<font color="#000080">(</font>Sin<font color="#000080">(</font>C<font color="#000080">*(</font><font color="#800000">2</font><font color="#000080">*</font>Pi<font color="#000080">)/</font><font color="#800000">512</font><font color="#000080">)*</font><font color="#800000">4096</font><font color="#000080">);
  </font>CoSine<font color="#000080">[</font>C<font color="#000080">]:=</font>Round<font color="#000080">(</font>Cos<font color="#000080">(</font>C<font color="#000080">*(</font><font color="#800000">2</font><font color="#000080">*</font>Pi<font color="#000080">)/</font><font color="#800000">512</font><font color="#000080">)*</font><font color="#800000">4096</font><font color="#000080">); </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetPalette<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>x <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin For </b></font>x <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>NumColors <font color="#FF0000"><b>do
Begin </b></font>Port<font color="#000080">[</font><font color="#800000">$3c8</font><font color="#000080">]:=</font>x<font color="#000080">;</font>Port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;</font>Port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font>Round<font color="#000080">(</font><font color="#800000">63</font><font color="#000080">*</font>x<font color="#000080">/</font>NumColors<font color="#000080">) </font><font color="#FF0000"><b>Div </b></font><font color="#800000">2</font><font color="#000080">;
</font>Port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">] := </font>Round<font color="#000080">(</font><font color="#800000">63</font><font color="#000080">*</font>x<font color="#000080">/</font>NumColors<font color="#000080">); </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>InitGraph<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Temp <font color="#000080">: </font>Pointer<font color="#000080">;
</font><font color="#FF0000"><b>Begin</b></font><font color="#000080">; </font><font color="#FF0000"><b>Asm </b></font><font color="#FF00FF">Mov AX,13h;Int 10h;</font><font color="#FF0000"><b>End</b></font><font color="#000080">;</font>Page0<font color="#000080">:=</font><font color="#800000">$A000</font><font color="#000080">;</font>GetMem<font color="#000080">(</font>Temp<font color="#000080">,</font><font color="#800000">65535</font><font color="#000080">);
</font>Page1 <font color="#000080">:= </font>Seg<font color="#000080">(</font>Temp<font color="#000080">^); </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CloseGraph<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>Temp <font color="#000080">: </font>Pointer<font color="#000080">;
</font><font color="#FF0000"><b>Begin Asm </b></font><font color="#FF00FF">Mov ax,3;Int 10h;</font><font color="#FF0000"><b>End</b></font><font color="#000080">;</font>Temp<font color="#000080">:=</font>Ptr<font color="#000080">(</font>Page1<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);</font>Freemem<font color="#000080">(</font>Temp<font color="#000080">,</font><font color="#800000">65535</font><font color="#000080">); </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Cls<font color="#000080">(</font>P <font color="#000080">: </font>Word<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm </b></font><font color="#FF00FF">Mov es,P;Xor di,di;Xor ax,ax;Mov cx,32000;Rep Stosw; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CopyScreen<font color="#000080">(</font>S<font color="#000080">, </font>D <font color="#000080">: </font>Word<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm </b></font><font color="#FF00FF">Push ds;Mov es,D;Mov ds,S;Xor si,si;Xor di,di;Mov cx,32000;
Rep Movsw; Pop ds; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>SAR<font color="#000080">(</font>A<font color="#000080">, </font>B <font color="#000080">: </font>Longint<font color="#000080">) : </font>Longint<font color="#000080">;
</font><font color="#FF0000"><b>Begin If </b></font>A <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>SAR <font color="#000080">:= -((-</font>A<font color="#000080">) </font><font color="#FF0000"><b>Shr </b></font>B<font color="#000080">) </font><font color="#FF0000"><b>Else </b></font>SAR <font color="#000080">:= (</font>A <font color="#FF0000"><b>Shr </b></font>B<font color="#000080">); </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>RotatePoints<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>Loc<font color="#000080">,</font>Wor<font color="#000080">; </font>Num<font color="#000080">, </font>Xa<font color="#000080">, </font>Ya<font color="#000080">, </font>Za <font color="#000080">: </font>Word<font color="#000080">);

</font><font color="#FF0000"><b>Var </b></font>Local<font color="#000080">:</font>Coords <font color="#FF0000"><b>Absolute </b></font>Loc<font color="#000080">; </font>World<font color="#000080">:</font>Coords <font color="#FF0000"><b>Absolute </b></font>Wor<font color="#000080">;
 </font>x<font color="#000080">,</font>y<font color="#000080">,</font>z<font color="#000080">,</font>Xt<font color="#000080">,</font>Yt<font color="#000080">,</font>Zt<font color="#000080">,</font>C <font color="#000080">: </font>Longint<font color="#000080">;

</font><font color="#FF0000"><b>Begin For </b></font>C <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#000080">(</font>Num<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>do Begin
  </b></font>x<font color="#000080">:=</font>Local<font color="#000080">[</font>C<font color="#000080">].</font>x<font color="#000080">; </font>y<font color="#000080">:=</font>Local<font color="#000080">[</font>C<font color="#000080">].</font>y<font color="#000080">; </font>z<font color="#000080">:=</font>Local<font color="#000080">[</font>C<font color="#000080">].</font>z<font color="#000080">;
  </font>Yt<font color="#000080">:=</font>Sar<font color="#000080">(</font>Y<font color="#000080">*</font>CoSine<font color="#000080">[</font>Xa<font color="#000080">]-</font>Z<font color="#000080">*</font>Sine<font color="#000080">[</font>Xa<font color="#000080">],</font><font color="#800000">12</font><font color="#000080">); </font>Zt<font color="#000080">:=</font>Sar<font color="#000080">(</font>Y<font color="#000080">*</font>Sine<font color="#000080">[</font>Xa<font color="#000080">]+</font>Z<font color="#000080">*</font>CoSine<font color="#000080">[</font>Xa<font color="#000080">],</font><font color="#800000">12</font><font color="#000080">);
  </font>Y<font color="#000080">:=</font>Yt<font color="#000080">;</font>Z<font color="#000080">:=</font>Zt<font color="#000080">; </font>Xt<font color="#000080">:=</font>Sar<font color="#000080">(</font>X<font color="#000080">*</font>CoSine<font color="#000080">[</font>Ya<font color="#000080">]-</font>Z<font color="#000080">*</font>Sine<font color="#000080">[</font>Ya<font color="#000080">],</font><font color="#800000">12</font><font color="#000080">);
  </font>Zt<font color="#000080">:=</font>Sar<font color="#000080">(</font>X<font color="#000080">*</font>Sine<font color="#000080">[</font>Ya<font color="#000080">]+</font>Z<font color="#000080">*</font>CoSine<font color="#000080">[</font>Ya<font color="#000080">],</font><font color="#800000">12</font><font color="#000080">); </font>X<font color="#000080">:=</font>Xt<font color="#000080">;</font>Z<font color="#000080">:=</font>Zt<font color="#000080">;
  </font>Xt<font color="#000080">:=</font>Sar<font color="#000080">(</font>X<font color="#000080">*</font>CoSine<font color="#000080">[</font>Za<font color="#000080">]-</font>Y<font color="#000080">*</font>Sine<font color="#000080">[</font>Za<font color="#000080">],</font><font color="#800000">12</font><font color="#000080">);</font>Yt<font color="#000080">:=</font>Sar<font color="#000080">(</font>X<font color="#000080">*</font>Sine<font color="#000080">[</font>Za<font color="#000080">]+</font>Y<font color="#000080">*</font>CoSine<font color="#000080">[</font>Za<font color="#000080">],</font><font color="#800000">12</font><font color="#000080">);
  </font>X<font color="#000080">:=</font>Xt<font color="#000080">; </font>Y<font color="#000080">:=</font>Yt<font color="#000080">; </font>World<font color="#000080">[</font>C<font color="#000080">].</font>x<font color="#000080">:=</font>X<font color="#000080">; </font>World<font color="#000080">[</font>C<font color="#000080">].</font>y<font color="#000080">:=</font>Y<font color="#000080">; </font>World<font color="#000080">[</font>C<font color="#000080">].</font>z<font color="#000080">:=</font>Z<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Project<font color="#000080">(</font>World <font color="#000080">: </font>Coords<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>Screen <font color="#000080">: </font>SC<font color="#000080">; </font>Num <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>C <font color="#000080">: </font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin For </b></font>C <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#000080">(</font>Num<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>do Begin
 </b></font>Screen<font color="#000080">[</font>C<font color="#000080">].</font>x<font color="#000080">:=(</font>World<font color="#000080">[</font>C<font color="#000080">].</font>X <font color="#FF0000"><b>Shl </b></font><font color="#800000">9</font><font color="#000080">) </font><font color="#FF0000"><b>Div </b></font><font color="#000080">(</font><font color="#800000">512</font><font color="#000080">-</font>World<font color="#000080">[</font>C<font color="#000080">].</font>Z<font color="#000080">)+</font><font color="#800000">160</font><font color="#000080">;
 </font>Screen<font color="#000080">[</font>C<font color="#000080">].</font>y<font color="#000080">:=(</font>World<font color="#000080">[</font>C<font color="#000080">].</font>Y <font color="#FF0000"><b>Shl </b></font><font color="#800000">9</font><font color="#000080">) </font><font color="#FF0000"><b>Div </b></font><font color="#000080">(</font><font color="#800000">512</font><font color="#000080">-</font>World<font color="#000080">[</font>C<font color="#000080">].</font>Z<font color="#000080">)+</font><font color="#800000">100</font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>Visible<font color="#000080">(</font>Num <font color="#000080">: </font>Integer<font color="#000080">) : </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>Begin </b></font>Visible <font color="#000080">:= (</font>Viewer<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]*</font>WNormals<font color="#000080">[</font>Num<font color="#000080">][</font><font color="#800000">2</font><font color="#000080">] &gt;= </font><font color="#800000">0</font><font color="#000080">); </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>GouraudHLine<font color="#000080">(</font>X1<font color="#000080">, </font>X2<font color="#000080">, </font>Y<font color="#000080">, </font>C1<font color="#000080">, </font>C2 <font color="#000080">: </font>Integer<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Asm </b></font><font color="#FF00FF">Mov cx,X2;Sub cx,X1;Jle @Skip;Inc cx;Mov ax,320;Mul Y;Add ax,X1
    Mov di,ax;Mov es,Page1;Mov bx,C1;Mov ax,C2; Sub ax,bx; Shl ax,8
    Cwd; Idiv cx;Shl bx,8;Shr cx,1;Jnc @SkipSingle;Mov es:[di],bh
    Add bx,ax;Inc di;@SkipSingle:;@GouraudLooper:;Mov dl,bh;Add bx,ax
    Mov dh,bh;Add bx,ax;Mov es:[di],dx;Add di,2;Dec cx; Jnz @GouraudLooper
 @Skip:; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Procedure </b></font>GouraudPoly<font color="#000080">(</font>V <font color="#000080">: </font>SC<font color="#000080">; </font>P <font color="#000080">: </font>NDesc<font color="#000080">; </font>Num <font color="#000080">: </font>Integer<font color="#000080">; </font>C <font color="#000080">: </font>ColorList<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>Lw<font color="#000080">,</font>MinY<font color="#000080">,</font>SVert1<font color="#000080">,</font>SVert2<font color="#000080">,</font>EVert1<font color="#000080">,</font>EVert2<font color="#000080">,</font>Count1<font color="#000080">,</font>Count2<font color="#000080">,</font>EdgeCount <font color="#000080">: </font>Integer<font color="#000080">;
  </font>XVal1<font color="#000080">,</font>XVal2<font color="#000080">,</font>XAdd1<font color="#000080">,</font>XAdd2<font color="#000080">,</font>Color1<font color="#000080">,</font>Color2<font color="#000080">,</font>ColorAdd1<font color="#000080">,</font>ColorAdd2<font color="#000080">,</font>Count<font color="#000080">:</font>Integer<font color="#000080">;

</font><font color="#FF0000"><b>Begin
  </b></font>EdgeCount <font color="#000080">:= </font>Num<font color="#000080">; </font>MinY <font color="#000080">:= </font><font color="#800000">3000</font><font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>Count <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#000080">(</font>Num<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>do
    Begin
      If </b></font>V<font color="#000080">[</font>P<font color="#000080">[</font>Count<font color="#000080">]].</font>Y <font color="#000080">&lt; </font>MinY <font color="#FF0000"><b>Then Begin </b></font>MinY <font color="#000080">:= </font>V<font color="#000080">[</font>P<font color="#000080">[</font>Count<font color="#000080">]].</font>Y<font color="#000080">;
      </font>SVert1 <font color="#000080">:= </font>Count<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font>SVert2 <font color="#000080">:= </font>SVert1<font color="#000080">; </font>EVert1 <font color="#000080">:= </font>SVert1 <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">; </font>EVert2 <font color="#000080">:= </font>SVert2 <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>If </b></font>EVert1 <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>EVert1 <font color="#000080">:= </font>Num<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>If </b></font>EVert2 <font color="#000080">&gt;= </font>Num <font color="#FF0000"><b>Then </b></font>EVert2 <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>XAdd1 <font color="#000080">:= ((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert1<font color="#000080">]].</font>X<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>X<font color="#000080">) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>Div
           </b></font><font color="#000080">((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert1<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>Y<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">);
  </font>XAdd2 <font color="#000080">:= ((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert2<font color="#000080">]].</font>X<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>X<font color="#000080">) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>Div
           </b></font><font color="#000080">((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert2<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>Y<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">);
  </font>XVal1 <font color="#000080">:= (</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>X<font color="#000080">) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">; </font>XVal2 <font color="#000080">:= (</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>X<font color="#000080">) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">;
  </font>Color1 <font color="#000080">:= </font>C<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]] </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">; </font>Color2 <font color="#000080">:= </font>C<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]] </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">;
  </font>ColorAdd1 <font color="#000080">:= ((</font>C<font color="#000080">[</font>P<font color="#000080">[</font>EVert1<font color="#000080">]]-</font>C<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]]) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>Div
               </b></font><font color="#000080">((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert1<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>Y<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">);
  </font>ColorAdd2 <font color="#000080">:= ((</font>C<font color="#000080">[</font>P<font color="#000080">[</font>EVert2<font color="#000080">]]-</font>C<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]]) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>Div
               </b></font><font color="#000080">((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert2<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>Y<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">);
  </font>Count1 <font color="#000080">:= ((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert1<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>Y<font color="#000080">));
  </font>Count2 <font color="#000080">:= ((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert2<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>Y<font color="#000080">));
  </font>MinY <font color="#000080">:= </font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>Y<font color="#000080">;
  </font><font color="#FF0000"><b>While </b></font>EdgeCount <font color="#000080">&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>do Begin
    While </b></font><font color="#000080">(</font>Count1 <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>Count2 <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>do Begin
      </b></font>GouraudHLine<font color="#000080">(</font>XVal1 <font color="#FF0000"><b>Shr </b></font><font color="#800000">8</font><font color="#000080">,</font>XVal2 <font color="#FF0000"><b>Shr </b></font><font color="#800000">8</font><font color="#000080">,</font>MinY<font color="#000080">,</font>Color1 <font color="#FF0000"><b>Shr </b></font><font color="#800000">8</font><font color="#000080">,</font>Color2 <font color="#FF0000"><b>Shr </b></font><font color="#800000">8</font><font color="#000080">);
      </font>XVal1 <font color="#000080">:= </font>XVal1 <font color="#000080">+ </font>XAdd1<font color="#000080">; </font>XVal2 <font color="#000080">:= </font>XVal2 <font color="#000080">+ </font>XAdd2<font color="#000080">;
      </font>Color1 <font color="#000080">:= </font>Color1 <font color="#000080">+ </font>ColorAdd1<font color="#000080">; </font>Color2 <font color="#000080">:= </font>Color2 <font color="#000080">+ </font>ColorAdd2<font color="#000080">;
      </font>Count1 <font color="#000080">:= </font>Count1 <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">; </font>Count2 <font color="#000080">:= </font>Count2 <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">; </font>Inc<font color="#000080">(</font>MinY<font color="#000080">); </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>Count1 <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then Begin
          </b></font>SVert1 <font color="#000080">:= </font>EVert1<font color="#000080">; </font>EVert1 <font color="#000080">:= </font>SVert1 <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;
          </font><font color="#FF0000"><b>If </b></font>EVert1 <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>EVert1 <font color="#000080">:= </font>Num<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">;
          </font>LW <font color="#000080">:= </font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert1<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">; </font><font color="#FF0000"><b>If </b></font>LW <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>LW <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
          </font>XAdd1 <font color="#000080">:= ((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert1<font color="#000080">]].</font>X<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>X<font color="#000080">) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>Div </b></font>LW<font color="#000080">;
          </font>XVal1 <font color="#000080">:= (</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>X<font color="#000080">) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">; </font>Color1 <font color="#000080">:= </font>C<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]] </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">;
          </font>ColorAdd1 <font color="#000080">:= ((</font>C<font color="#000080">[</font>P<font color="#000080">[</font>EVert1<font color="#000080">]]-</font>C<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]]) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>Div </b></font>LW<font color="#000080">;
          </font>Count1 <font color="#000080">:= ((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert1<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>Y<font color="#000080">));
          </font>MinY <font color="#000080">:= </font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert1<font color="#000080">]].</font>Y<font color="#000080">; </font>EdgeCount <font color="#000080">:= </font>EdgeCount <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>Count2 <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then Begin
          </b></font>SVert2<font color="#000080">:=</font>EVert2<font color="#000080">;</font>EVert2<font color="#000080">:=</font>SVert2<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;</font><font color="#FF0000"><b>If </b></font>EVert2<font color="#000080">&gt;=</font>Num <font color="#FF0000"><b>Then </b></font>EVert2<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
          </font>LW <font color="#000080">:= </font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert2<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>Y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">; </font><font color="#FF0000"><b>If </b></font>LW <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>LW <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
          </font>XAdd2 <font color="#000080">:= ((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert2<font color="#000080">]].</font>X<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>X<font color="#000080">) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>Div </b></font>LW<font color="#000080">;
          </font>XVal2 <font color="#000080">:= (</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>X<font color="#000080">) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">; </font>Color2 <font color="#000080">:= </font>C<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]] </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">;
          </font>ColorAdd2 <font color="#000080">:= ((</font>C<font color="#000080">[</font>P<font color="#000080">[</font>EVert2<font color="#000080">]]-</font>C<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]]) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">8</font><font color="#000080">) </font><font color="#FF0000"><b>Div </b></font>LW<font color="#000080">;
          </font>Count2 <font color="#000080">:= ((</font>V<font color="#000080">[</font>P<font color="#000080">[</font>EVert2<font color="#000080">]].</font>Y<font color="#000080">-</font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>Y<font color="#000080">));
          </font>MinY <font color="#000080">:= </font>V<font color="#000080">[</font>P<font color="#000080">[</font>SVert2<font color="#000080">]].</font>Y<font color="#000080">;</font>EdgeCount <font color="#000080">:= </font>EdgeCount <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;</font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>CalcColors<font color="#000080">(</font>Num <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>x <font color="#000080">: </font>Integer<font color="#000080">; </font>Dot <font color="#000080">: </font>Longint<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  For </b></font>x <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do Begin </b></font>Dot <font color="#000080">:= </font>Viewer<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]*</font>WCoordNorms<font color="#000080">[</font>PolyDesc<font color="#000080">[</font>Num<font color="#000080">][</font>x<font color="#000080">]].</font>z<font color="#000080">;
  </font><font color="#FF0000"><b>If </b></font>Dot<font color="#000080">&gt;=</font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Colors<font color="#000080">[</font>PolyDesc<font color="#000080">[</font>Num<font color="#000080">][</font>x<font color="#000080">]] := ((</font>Dot <font color="#FF0000"><b>Shr </b></font><font color="#800000">12</font><font color="#000080">)*</font>NumColors<font color="#000080">) </font><font color="#FF0000"><b>Shr </b></font><font color="#800000">12
   </font><font color="#FF0000"><b>Else </b></font>Colors<font color="#000080">[</font>PolyDesc<font color="#000080">[</font>Num<font color="#000080">][</font>x<font color="#000080">]] := </font><font color="#800000">0</font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>DrawPoly<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>x <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin For </b></font>x <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">5 </font><font color="#FF0000"><b>do Begin
If </b></font>Visible<font color="#000080">(</font>x<font color="#000080">) </font><font color="#FF0000"><b>Then Begin </b></font>CalcColors<font color="#000080">(</font>x<font color="#000080">);
</font>GouraudPoly<font color="#000080">(</font>ScreenCoords<font color="#000080">, </font>PolyDesc<font color="#000080">[</font>x<font color="#000080">], </font><font color="#800000">4</font><font color="#000080">, </font>Colors<font color="#000080">); </font><font color="#FF0000"><b>End</b></font><font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var </b></font>Xa<font color="#000080">, </font>Ya<font color="#000080">, </font>Za <font color="#000080">: </font>Word<font color="#000080">;

</font><font color="#FF0000"><b>Begin
  </b></font>CalcSin<font color="#000080">; </font>InitGraph<font color="#000080">; </font>Cls<font color="#000080">(</font>Page1<font color="#000080">); </font>SetPalette<font color="#000080">; </font>Xa <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>Ya <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>Za <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>Frame <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>STime <font color="#000080">:= </font>Time<font color="#000080">;
  </font><font color="#FF0000"><b>Repeat
    </b></font>RotatePoints<font color="#000080">(</font>LocalCoords<font color="#000080">, </font>WorldCoords<font color="#000080">, </font><font color="#800000">8</font><font color="#000080">, </font>Xa<font color="#000080">, </font>Ya<font color="#000080">, </font>Za<font color="#000080">);  </font><font color="#008000"><i>{ Coordinates }
    </i></font>RotatePoints<font color="#000080">(</font>LNormals<font color="#000080">, </font>WNormals<font color="#000080">, </font><font color="#800000">6</font><font color="#000080">, </font>Xa<font color="#000080">, </font>Ya<font color="#000080">, </font>Za<font color="#000080">);      </font><font color="#008000"><i>{ Face normals }
    </i></font>RotatePoints<font color="#000080">(</font>CoordNorms<font color="#000080">, </font>WCoordNorms<font color="#000080">, </font><font color="#800000">8</font><font color="#000080">, </font>Xa<font color="#000080">, </font>Ya<font color="#000080">, </font>Za<font color="#000080">); </font><font color="#008000"><i>{ Coord Normals }
    </i></font>Project<font color="#000080">(</font>WorldCoords<font color="#000080">, </font>ScreenCoords<font color="#000080">, </font><font color="#800000">8</font><font color="#000080">);
    </font>DrawPoly<font color="#000080">; </font>Frame <font color="#000080">:= </font>Frame <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">; </font>CopyScreen<font color="#000080">(</font>Page1<font color="#000080">, </font>Page0<font color="#000080">); </font>Cls<font color="#000080">(</font>Page1<font color="#000080">);
    </font>xa<font color="#000080">:=</font>xa<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">;</font>ya<font color="#000080">:=</font>ya<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;</font>Za<font color="#000080">:=</font>Za<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;</font><font color="#FF0000"><b>If </b></font>xa<font color="#000080">&gt;</font><font color="#800000">511 </font><font color="#FF0000"><b>then </b></font>xa<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;</font><font color="#FF0000"><b>If </b></font>ya<font color="#000080">&gt;</font><font color="#800000">511 </font><font color="#FF0000"><b>then </b></font>ya<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>If </b></font>za<font color="#000080">&gt;</font><font color="#800000">511 </font><font color="#FF0000"><b>then </b></font>za<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;</font><font color="#FF0000"><b>Until </b></font>Port<font color="#000080">[</font><font color="#800000">$60</font><font color="#000080">]=</font><font color="#800000">1</font><font color="#000080">; </font>ETime<font color="#000080">:=</font>Time<font color="#000080">; </font>CloseGraph<font color="#000080">;
  </font>Writeln<font color="#000080">((</font>Frame<font color="#000080">*</font><font color="#800000">18.2</font><font color="#000080">)/(</font>ETime<font color="#000080">-</font>STime<font color="#000080">):</font><font color="#800000">5</font><font color="#000080">:</font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">' fps'</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TSR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0036.PAS">Original</a><b>]</b></p></body>
</html>
