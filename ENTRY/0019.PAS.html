<html>
<head><title> "General Input Routine" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to ENTRY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{$IFDEF VER70}
{$A+,B-,D-,E-,F-,G-,I-,L-,N-,O-,P-,Q-,R-,S+,T-,V-,X-}
{$ELSE}
{$A+,B-,D-,E-,F-,G-,I-,L-,N-,O-,R-,S+,V-,X-}
{$ENDIF}
{$M 8192,0,0}

</i></font><font color="#FF0000"><b>Unit </b></font>Edit<font color="#000080">;

</font><font color="#FF0000"><b>INTERFACE

Uses </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>BS   <font color="#000080">=  </font><font color="#800000">#8</font><font color="#000080">;
  </font>CR   <font color="#000080">= </font><font color="#800000">#13</font><font color="#000080">;
  </font>SP   <font color="#000080">= </font><font color="#800000">#32</font><font color="#000080">;
  </font>Esc  <font color="#000080">= </font><font color="#800000">#27</font><font color="#000080">;

  </font>LeftKey  <font color="#000080">= </font><font color="#800000">#75</font><font color="#000080">;     </font>HomeKey <font color="#000080">= </font><font color="#800000">#71</font><font color="#000080">;
  </font>RightKey <font color="#000080">= </font><font color="#800000">#77</font><font color="#000080">;     </font>EndKey  <font color="#000080">= </font><font color="#800000">#79</font><font color="#000080">;
  </font>InsKey   <font color="#000080">= </font><font color="#800000">#82</font><font color="#000080">;     </font>DelKey  <font color="#000080">= </font><font color="#800000">#83</font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>GetString<font color="#000080">(</font>Size <font color="#000080">: </font>Byte <font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>Str <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;</font>Fill <font color="#000080">: </font>Char<font color="#000080">);

</font><font color="#FF0000"><b>IMPLEMENTATION

</b></font><font color="#008000"><i>{----------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>Procedure </b></font>GetString<font color="#000080">(</font>Size <font color="#000080">: </font>Byte <font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>Str<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;</font>Fill <font color="#000080">: </font>Char<font color="#000080">);

  </font><font color="#FF0000"><b>Var
    </b></font>CurrLen   <font color="#000080">: </font>Byte <font color="#FF0000"><b>absolute </b></font>Str<font color="#000080">;
    </font>X<font color="#000080">, </font>Y<font color="#000080">,
    </font>CurrPos   <font color="#000080">: </font>Byte<font color="#000080">;
    </font>Insert    <font color="#000080">: </font>Boolean<font color="#000080">;
    </font>I         <font color="#000080">: </font>Integer<font color="#000080">;
    </font>T         <font color="#000080">: </font>Char<font color="#000080">;

  </font><font color="#FF0000"><b>Begin   </b></font><font color="#008000"><i>{GetString}
    </i></font>Insert  <font color="#000080">:= </font>True<font color="#000080">;
    </font>X       <font color="#000080">:= </font>WhereX<font color="#000080">;                                 </font><font color="#008000"><i>{X-pos of first char}
    </i></font>Y       <font color="#000080">:= </font>WhereY<font color="#000080">;
    </font>CurrLen <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>CurrPos <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;                                 </font><font color="#008000"><i>{position of current char}
    </i></font><font color="#FF0000"><b>Repeat
      </b></font>GotoXY<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">);
      </font>Write<font color="#000080">(</font>Str<font color="#000080">);
      </font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font>CurrLen<font color="#000080">+</font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>Size <font color="#FF0000"><b>Do 
        </b></font>Write<font color="#000080">(</font>Fill<font color="#000080">);                                    </font><font color="#008000"><i>{filler on screen}
      </i></font>GotoXY<font color="#000080">(</font>X<font color="#000080">+</font>CurrPos<font color="#000080">,</font>Y<font color="#000080">);
      </font>T <font color="#000080">:= </font>ReadKey<font color="#000080">;
      </font><font color="#FF0000"><b>If </b></font>T <font color="#000080">= </font><font color="#800000">#0 </font><font color="#FF0000"><b>Then             </b></font><font color="#008000"><i>{special keys &lt;-, -&gt;, Ins, Home, End, Del}
        </i></font><font color="#FF0000"><b>Begin   </b></font><font color="#008000"><i>{If}
          </i></font>T <font color="#000080">:= </font>ReadKey<font color="#000080">;
          </font><font color="#FF0000"><b>Case </b></font>T <font color="#FF0000"><b>Of
            </b></font>LeftKey  <font color="#000080">: </font><font color="#FF0000"><b>If </b></font>CurrPos <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Dec<font color="#000080">(</font>CurrPos<font color="#000080">);
            </font>RightKey <font color="#000080">: </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>CurrPos <font color="#000080">&lt; </font>CurrLen<font color="#000080">) </font><font color="#FF0000"><b>And
                          </b></font><font color="#000080">(</font>CurrPos <font color="#000080">&lt; </font>Size<font color="#000080">) </font><font color="#FF0000"><b>Then
                            </b></font>Inc<font color="#000080">(</font>CurrPos<font color="#000080">);
            </font>InsKey   <font color="#000080">: </font>Insert <font color="#000080">:= </font><font color="#FF0000"><b>Not </b></font>Insert<font color="#000080">;
            </font>HomeKey  <font color="#000080">: </font>CurrPos <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
            </font>EndKey   <font color="#000080">: </font>CurrPos <font color="#000080">:= </font>CurrLen<font color="#000080">;
            </font>DelKey   <font color="#000080">: </font><font color="#FF0000"><b>If </b></font>CurrLen <font color="#000080">&gt; </font>CurrPos <font color="#FF0000"><b>Then
                         Begin   </b></font><font color="#008000"><i>{If}
                           </i></font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font>CurrPos<font color="#000080">+</font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>CurrLen<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>Do 
                             </b></font>Str<font color="#000080">[</font>I<font color="#000080">] := </font>Str<font color="#000080">[</font>I<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">];
                           </font>Dec<font color="#000080">(</font>CurrLen<font color="#000080">)
                         </font><font color="#FF0000"><b>End    </b></font><font color="#008000"><i>{If}
          </i></font><font color="#FF0000"><b>End    </b></font><font color="#008000"><i>{Case T Of}
        </i></font><font color="#FF0000"><b>End    </b></font><font color="#008000"><i>{If}
      </i></font><font color="#FF0000"><b>Else
        Begin   </b></font><font color="#008000"><i>{Else}
          </i></font><font color="#FF0000"><b>Case </b></font>T <font color="#FF0000"><b>Of
            </b></font>BS       <font color="#000080">: </font><font color="#FF0000"><b>If </b></font>CurrPos <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then                </b></font><font color="#008000"><i>{delete currpos}
                         </i></font><font color="#FF0000"><b>Begin   </b></font><font color="#008000"><i>{If}
                           </i></font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font>CurrPos <font color="#FF0000"><b>To </b></font>CurrLen<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>Do 
                             </b></font>Str<font color="#000080">[</font>i<font color="#000080">] := </font>Str<font color="#000080">[</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">];
                           </font>Dec<font color="#000080">(</font>CurrPos<font color="#000080">);
                           </font>Dec<font color="#000080">(</font>CurrLen<font color="#000080">)
                         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;    </font><font color="#008000"><i>{If}
            </i></font>SP<font color="#000080">..</font><font color="#800000">'~'  </font><font color="#000080">: </font><font color="#FF0000"><b>If </b></font>CurrLen <font color="#000080">&lt; </font>Size <font color="#FF0000"><b>Then          </b></font><font color="#008000"><i>{add new character}
                         </i></font><font color="#FF0000"><b>Begin   </b></font><font color="#008000"><i>{If}
                           </i></font>Inc<font color="#000080">(</font>CurrPos<font color="#000080">);
                           </font><font color="#FF0000"><b>If </b></font>insert <font color="#FF0000"><b>Then
                             Begin   </b></font><font color="#008000"><i>{If}
                               </i></font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font>CurrLen <font color="#FF0000"><b>DownTo </b></font>CurrPos <font color="#FF0000"><b>Do
                                 </b></font>Str<font color="#000080">[</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>Str<font color="#000080">[</font>i<font color="#000080">];
                               </font>Inc<font color="#000080">(</font>CurrLen<font color="#000080">)
                             </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
                           </font>Str<font color="#000080">[</font>CurrPos<font color="#000080">] := </font>T
                         <font color="#FF0000"><b>End</b></font><font color="#000080">;    </font><font color="#008000"><i>{If}
          </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;   </font><font color="#008000"><i>{Case T Of}
        </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;   </font><font color="#008000"><i>{Else}
    </i></font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>T <font color="#000080">= </font>CR<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>T <font color="#000080">= </font>Esc<font color="#000080">);
    </font><font color="#FF0000"><b>If </b></font>T <font color="#000080">= </font>Esc <font color="#FF0000"><b>Then
      </b></font>Halt<font color="#000080">;
    </font>WriteLn<font color="#000080">;
  </font><font color="#FF0000"><b>End    </b></font><font color="#008000"><i>{GetString}</i></font><font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>End</b></font><font color="#000080">.    </font><font color="#008000"><i>{Edit Unit}

</i></font><font color="#FF0000"><b>Program </b></font>TestEdit<font color="#000080">;

</font><font color="#FF0000"><b>Uses
   </b></font>Crt<font color="#000080">,
   </font>Edit<font color="#000080">;

</font><font color="#FF0000"><b>Type
   </b></font>TRec      <font color="#000080">= </font><font color="#FF0000"><b>Record
      </b></font>First<font color="#000080">,
      </font>Mid<font color="#000080">,
      </font>Last<font color="#000080">,
      </font>Add<font color="#000080">,
      </font>City<font color="#000080">,
      </font>State<font color="#000080">,
      </font>Zip    <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;    </font><font color="#008000"><i>{TRec}

</i></font><font color="#FF0000"><b>Var
   </b></font>T    <font color="#000080">: </font>TRec<font color="#000080">;
   </font>Ch<font color="#000080">,
   </font>Fill <font color="#000080">: </font>Char<font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>Procedure </b></font>Init<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>T <font color="#000080">: </font>TRec<font color="#000080">);

   </font><font color="#FF0000"><b>Begin   </b></font><font color="#008000"><i>{Init}
      </i></font>T<font color="#000080">.</font>Last     <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
      </font>T<font color="#000080">.</font>Mid      <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
      </font>T<font color="#000080">.</font>First    <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
      </font>T<font color="#000080">.</font>Add      <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
      </font>T<font color="#000080">.</font>City     <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
      </font>T<font color="#000080">.</font>State    <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
      </font>T<font color="#000080">.</font>Zip      <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;    </font><font color="#008000"><i>{Init}

{----------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>Begin   </b></font><font color="#008000"><i>{Main}
   </i></font>Fill <font color="#000080">:= </font><font color="#800000">'&plusmn;'</font><font color="#000080">;
   </font>Init<font color="#000080">(</font>T<font color="#000080">);
   </font>TextBackGround<font color="#000080">(</font>Blue<font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
   </font>ClrScr<font color="#000080">;
   </font>GotoXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);
   </font>Write<font color="#000080">(</font><font color="#800000">'FIRST NAME  : '</font><font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
   </font>GetString<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">, </font>T<font color="#000080">.</font>First<font color="#000080">, </font>Fill<font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
   </font>Write<font color="#000080">(</font><font color="#800000">'MIDDLE NAME : '</font><font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
   </font>GetString<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">, </font>T<font color="#000080">.</font>Mid<font color="#000080">, </font>Fill<font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
   </font>Write<font color="#000080">(</font><font color="#800000">'LAST NAME   : '</font><font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
   </font>GetString<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">, </font>T<font color="#000080">.</font>Last<font color="#000080">, </font>Fill<font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
   </font>Write<font color="#000080">(</font><font color="#800000">'ADDRESS     : '</font><font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
   </font>GetString<font color="#000080">(</font><font color="#800000">40</font><font color="#000080">, </font>T<font color="#000080">.</font>Add<font color="#000080">, </font>Fill<font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
   </font>Write<font color="#000080">(</font><font color="#800000">'CITY        : '</font><font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
   </font>GetString<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">, </font>T<font color="#000080">.</font>City<font color="#000080">, </font>Fill<font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
   </font>Write<font color="#000080">(</font><font color="#800000">'STATE       : '</font><font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
   </font>GetString<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">, </font>T<font color="#000080">.</font>State<font color="#000080">, </font>Fill<font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
   </font>Write<font color="#000080">(</font><font color="#800000">'ZIP-CODE    : '</font><font color="#000080">);
   </font>TextColor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
   </font>GetString<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">, </font>T<font color="#000080">.</font>Zip<font color="#000080">, </font>Fill<font color="#000080">);
   </font>TextBackGround<font color="#000080">(</font>Black<font color="#000080">);
   </font>TextColor<font color="#000080">(</font>LightGray<font color="#000080">);
   </font>ClrScr<font color="#000080">;
   </font>GotoXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);
   </font>WriteLn<font color="#000080">(</font>T<font color="#000080">.</font>First<font color="#000080">,</font><font color="#800000">' '</font><font color="#000080">,</font>T<font color="#000080">.</font>Mid<font color="#000080">,</font><font color="#800000">' '</font><font color="#000080">,</font>T<font color="#000080">.</font>Last<font color="#000080">);
   </font>WriteLn<font color="#000080">(</font>T<font color="#000080">.</font>Add<font color="#000080">);
   </font>WriteLn<font color="#000080">(</font>T<font color="#000080">.</font>City<font color="#000080">,</font><font color="#800000">', '</font><font color="#000080">,</font>T<font color="#000080">.</font>State<font color="#000080">,</font><font color="#800000">'   '</font><font color="#000080">,</font>T<font color="#000080">.</font>Zip<font color="#000080">);
   </font>WriteLn<font color="#000080">;
   </font>WriteLn<font color="#000080">(</font><font color="#800000">'Good-Bye'</font><font color="#000080">);
   </font>WriteLn<font color="#000080">;
   </font>WriteLn<font color="#000080">(</font><font color="#800000">'Press any key...'</font><font color="#000080">);
   </font>Ch <font color="#000080">:= </font>ReadKey<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.    </font><font color="#008000"><i>{Main}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to ENTRY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p></body>
</html>
