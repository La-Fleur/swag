<html>
<head><title> "Readline Function" by RICHARD FURMAN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to ENTRY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0011.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
The Readln statement can't really be used here, because this interchange is
taking place in Graphics mode.  I am writing a Graphics application that
does take user input
}
</i></font><font color="#FF0000"><b>Function </b></font>KBString<font color="#000080">:</font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font><font color="#008000"><i>{* Gets string from keyboard using Scankey *}
         </i></font><font color="#FF0000"><b>Var
           </b></font>bu<font color="#000080">,</font>X<font color="#000080">,</font>Inchar<font color="#000080">:</font>Integer<font color="#000080">;
           </font>STRBUFF<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
         </font><font color="#FF0000"><b>begin
         </b></font>STRBUFF <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
         </font>X<font color="#000080">:=</font><font color="#800000">20</font><font color="#000080">;
          </font><font color="#FF0000"><b>Repeat
               </b></font>Inchar <font color="#000080">:= </font>Scankey<font color="#000080">;
               </font><font color="#FF0000"><b>IF </b></font>FK <font color="#FF0000"><b>and </b></font><font color="#000080">(</font>Inchar <font color="#000080">= </font><font color="#800000">60</font><font color="#000080">) </font><font color="#FF0000"><b>then
                  Begin
                       </b></font>Cancel <font color="#000080">:= </font>True<font color="#000080">;
                       </font>Exit<font color="#000080">;
                  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font>setcolor<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
               </font>setlinestyle <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
               </font>Rectangle<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">70</font><font color="#000080">,</font>X<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">90</font><font color="#000080">);
               </font>setcolor<font color="#000080">(</font>BLDCLR<font color="#000080">);
               </font><font color="#FF0000"><b>If Not </b></font>FK  <font color="#FF0000"><b>then </b></font>outtextxy <font color="#000080">(</font>x<font color="#000080">,</font><font color="#800000">77</font><font color="#000080">,</font>CHR<font color="#000080">(</font>INCHAR<font color="#000080">));
               </font><font color="#FF0000"><b>If </b></font>inchar <font color="#000080">&lt;&gt; </font><font color="#800000">8 </font><font color="#FF0000"><b>then
                  Begin
                       </b></font>X <font color="#000080">:= </font>X<font color="#000080">+ </font>Textwidth<font color="#000080">(</font>CHR<font color="#000080">(</font>INCHAR<font color="#000080">));
                       </font>setcolor<font color="#000080">(</font>txtclr<font color="#000080">);
                       </font>Rectangle<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">70</font><font color="#000080">,</font>X<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">90</font><font color="#000080">);
                  </font><font color="#FF0000"><b>End
               else
               begin
                  </b></font>setcolor<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
                  </font>setlinestyle <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
                  </font>Rectangle<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">70</font><font color="#000080">,</font>X<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">90</font><font color="#000080">);
                  </font>x<font color="#000080">:=</font>x<font color="#000080">-</font>textwidth<font color="#000080">(</font>Strbuff<font color="#000080">[</font>length<font color="#000080">(</font>strbuff<font color="#000080">)]);
                  </font>outtextxy<font color="#000080">(</font>X<font color="#000080">,</font><font color="#800000">77</font><font color="#000080">,</font>strbuff<font color="#000080">[</font>length<font color="#000080">(</font>strbuff<font color="#000080">)]);
                  </font>setcolor<font color="#000080">(</font>txtclr<font color="#000080">);
                  </font>Rectangle<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">70</font><font color="#000080">,</font>x<font color="#000080">+</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">90</font><font color="#000080">);
                  </font>Delete<font color="#000080">(</font>Strbuff<font color="#000080">,</font>Length<font color="#000080">(</font>Strbuff<font color="#000080">),</font><font color="#800000">1</font><font color="#000080">);
                  </font>setcolor<font color="#000080">(</font>BLDCLR<font color="#000080">);
               </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
               </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font><font color="#FF0000"><b>Not </b></font>FK<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>Inchar <font color="#000080">&lt;&gt; </font><font color="#800000">8</font><font color="#000080">)  </font><font color="#FF0000"><b>then </b></font>STRBUFF <font color="#000080">:= </font>STRBUFF <font color="#000080">+
                                                      </font>CHR<font color="#000080">(</font>Inchar<font color="#000080">);
          </font><font color="#FF0000"><b>Until </b></font>inchar <font color="#000080">= </font><font color="#800000">13</font><font color="#000080">;
         </font>Delete<font color="#000080">(</font>strBuff<font color="#000080">,</font>Length<font color="#000080">(</font>StrBuff<font color="#000080">),</font><font color="#800000">1</font><font color="#000080">);
         </font>setcolor<font color="#000080">(</font>txtclr<font color="#000080">);
         </font>KBString <font color="#000080">:= </font>STRBUFF<font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font>This code snippet should give you some ideas <font color="#FF0000"><b>on </b></font>getting user input<font color="#000080">.  </font>BTW
SCANKEY <font color="#FF0000"><b>is </b></font>a <font color="#FF0000"><b>function </b></font>I wrote <font color="#FF0000"><b>to </b></font>read the keyboard<font color="#000080">.  </font>You should be able <font color="#FF0000"><b>to
</b></font>use READKEY <font color="#FF0000"><b>in </b></font>its place<font color="#000080">.  </font>This routine also features the ability <font color="#FF0000"><b>to </b></font>edit
<font color="#FF0000"><b>with </b></font>the backspace key<font color="#000080">.  </font>I hope it helps<font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to ENTRY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0011.PAS">Original</a><b>]</b></p></body>
</html>
