<html>
<head><title> "Censoring" by DARRYL LUFF</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to ENTRY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0029.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
 &gt; Could someone give me some Pascal source on how to do
 &gt; this:
 &gt; I have created a shield program that password-protects
 &gt; a specific program.
 &gt; However, I cannot figure out how to make the password,
 &gt; when being typed by
 &gt; the person entering the code, to make a * or other
 &gt; character instead of the
 &gt; letter, so someone can't see what he's typing. Any
 &gt; help here?

You have to read the chars without screen echo (using crt.readkey is easiest)
and write a char to screen for each valid input char:
}

</i></font><font color="#FF0000"><b>USES </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>CONST </b></font>CR <font color="#000080">= </font><font color="#800000">#13</font><font color="#000080">; </font><font color="#008000"><i>{ carriage return }

</i></font><font color="#FF0000"><b>TYPE </b></font>TCharSet <font color="#000080">= </font><font color="#FF0000"><b>SET OF </b></font>Char<font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>GetPwd<font color="#000080">(</font>hide <font color="#000080">: </font>Char<font color="#000080">; </font>valid <font color="#000080">: </font>TCharSet<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#008000"><i>{ 'hide' is char to print. 'valid' is }
{ a set of valid characters for password }
{ dont put #13 in 'valid' }
</i></font><font color="#FF0000"><b>VAR
  </b></font>ch <font color="#000080">: </font>Char<font color="#000080">;
  </font>pwd <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>pwd <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
  </font><font color="#FF0000"><b>REPEAT
    </b></font>ch <font color="#000080">:= </font>Readkey<font color="#000080">;
    </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>ch <font color="#FF0000"><b>IN </b></font>valid<font color="#000080">) </font><font color="#FF0000"><b>THEN
    BEGIN
      </b></font>Write<font color="#000080">(</font>hide<font color="#000080">);
      </font>pwd <font color="#000080">:= </font>pwd <font color="#000080">+ </font>ch
    <font color="#FF0000"><b>END
    ELSE IF </b></font><font color="#000080">(</font>ch <font color="#000080">&lt;&gt; </font>CR<font color="#000080">) </font><font color="#FF0000"><b>THEN </b></font><font color="#008000"><i>{ bad key }
      </i></font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>ch <font color="#000080">&lt;&gt; </font><font color="#800000">#0</font><font color="#000080">) </font><font color="#FF0000"><b>THEN
        </b></font>Write<font color="#000080">(^</font>G<font color="#000080">)
  </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>ch <font color="#000080">= </font>CR<font color="#000080">);
  </font>GetPwd <font color="#000080">:= </font>pwd
<font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>VAR
  </b></font>p <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>Write<font color="#000080">(</font><font color="#800000">'Enter password &gt; '</font><font color="#000080">);
  </font>p <font color="#000080">:= </font>GetPwd<font color="#000080">(</font><font color="#800000">'*'</font><font color="#000080">, [</font><font color="#800000">'a'</font><font color="#000080">..</font><font color="#800000">'z'</font><font color="#000080">, </font><font color="#800000">'A'</font><font color="#000080">..</font><font color="#800000">'Z'</font><font color="#000080">, </font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9'</font><font color="#000080">]);
  </font>WriteLn<font color="#000080">;
  </font>WriteLn<font color="#000080">(</font><font color="#800000">'You entered: '</font><font color="#000080">, </font>p<font color="#000080">);
  </font>Readln
<font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to ENTRY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0029.PAS">Original</a><b>]</b></p></body>
</html>
