<html>
<head><title> "Masked Input" by BERNIE PALLEK</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to ENTRY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0008.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt;  The text on the screen would be something like:
&gt;  What is your phone number? (   )   -
&gt;                              ^^^ ^^^ ^^^^
&gt;  But text could only be entered at the marked locations.  As soon as one
&gt;  section is full it would move to the one beside it but read in a different
&gt;  variable..

How about this: (it's tested, BTW)
}

</i></font><font color="#FF0000"><b>USES </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>VAR
  </b></font>ts <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>MaskedReadLn<font color="#000080">(</font><font color="#FF0000"><b>VAR </b></font>s <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>mask <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>fillCh <font color="#000080">: </font>Char<font color="#000080">);
</font><font color="#008000"><i>{ in 'mask', chars with A will only accept alpha input, and chars
  with 0 will only accept numeric input; spaces accept anything }
</i></font><font color="#FF0000"><b>VAR </b></font>ch <font color="#000080">: </font>Char<font color="#000080">; </font>sx<font color="#000080">, </font>ox<font color="#000080">, </font>oy <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>s <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">; </font>ox <font color="#000080">:= </font>WhereX<font color="#000080">; </font>oy <font color="#000080">:= </font>WhereY<font color="#000080">; </font>sx <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>REPEAT
    </b></font>Inc<font color="#000080">(</font>sx<font color="#000080">);
    </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>mask<font color="#000080">[</font>sx<font color="#000080">] </font><font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">'0'</font><font color="#000080">, </font><font color="#800000">'A'</font><font color="#000080">]) </font><font color="#FF0000"><b>THEN
      </b></font>Write<font color="#000080">(</font>fillCh<font color="#000080">)
    </font><font color="#FF0000"><b>ELSE IF </b></font><font color="#000080">(</font>mask<font color="#000080">[</font>sx<font color="#000080">] = </font><font color="#800000">'_'</font><font color="#000080">) </font><font color="#FF0000"><b>THEN
      </b></font>Write<font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">)
    </font><font color="#FF0000"><b>ELSE </b></font>Write<font color="#000080">(</font>mask<font color="#000080">[</font>sx<font color="#000080">]);
  </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>sx <font color="#000080">= </font>Length<font color="#000080">(</font>mask<font color="#000080">));
  </font>sx <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font><font color="#FF0000"><b>NOT </b></font><font color="#000080">(</font>mask<font color="#000080">[</font>sx <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">#32</font><font color="#000080">, </font><font color="#800000">'0'</font><font color="#000080">, </font><font color="#800000">'A'</font><font color="#000080">]))
  </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>sx <font color="#000080">&lt; </font>Length<font color="#000080">(</font>mask<font color="#000080">)) </font><font color="#FF0000"><b>DO BEGIN
    </b></font>Inc<font color="#000080">(</font>sx<font color="#000080">);
    </font>s <font color="#000080">:= </font>s <font color="#000080">+ </font>mask<font color="#000080">[</font>sx<font color="#000080">];
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font>GotoXY<font color="#000080">(</font>ox <font color="#000080">+ </font>sx<font color="#000080">, </font>oy<font color="#000080">);
  </font><font color="#FF0000"><b>REPEAT
    </b></font>ch <font color="#000080">:= </font>ReadKey<font color="#000080">;
    </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>ch <font color="#000080">= </font><font color="#800000">#8</font><font color="#000080">) </font><font color="#FF0000"><b>THEN BEGIN
      IF </b></font><font color="#000080">(</font>Length<font color="#000080">(</font>s<font color="#000080">) &gt; </font>sx<font color="#000080">) </font><font color="#FF0000"><b>THEN BEGIN
        IF NOT </b></font><font color="#000080">(</font>mask<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">)] </font><font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">#32</font><font color="#000080">, </font><font color="#800000">'0'</font><font color="#000080">, </font><font color="#800000">'A'</font><font color="#000080">]) </font><font color="#FF0000"><b>THEN BEGIN
          REPEAT
            </b></font>s<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font>Chr<font color="#000080">(</font>Length<font color="#000080">(</font>s<font color="#000080">) - </font><font color="#800000">1</font><font color="#000080">);
            </font>GotoXY<font color="#000080">(</font>WhereX <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">, </font>WhereY<font color="#000080">);
          </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>Length<font color="#000080">(</font>s<font color="#000080">) &lt;= </font>sx<font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>mask<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">)] </font><font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">#32</font><font color="#000080">, </font><font color="#800000">'0'</font><font color="#000080">, </font><font color="#800000">'A'</font><font color="#000080">]);
        </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
        </font>s<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font>Chr<font color="#000080">(</font>Length<font color="#000080">(</font>s<font color="#000080">) - </font><font color="#800000">1</font><font color="#000080">); </font>GotoXY<font color="#000080">(</font>WhereX <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">, </font>WhereY<font color="#000080">);
        </font>Write<font color="#000080">(</font>fillCh<font color="#000080">); </font>GotoXY<font color="#000080">(</font>WhereX <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">, </font>WhereY<font color="#000080">);
      </font><font color="#FF0000"><b>END ELSE BEGIN
        </b></font>Sound<font color="#000080">(</font><font color="#800000">440</font><font color="#000080">);
        </font>Delay<font color="#000080">(</font><font color="#800000">50</font><font color="#000080">);
        </font>NoSound<font color="#000080">;
      </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>END ELSE IF </b></font><font color="#000080">(</font>Length<font color="#000080">(</font>s<font color="#000080">) &lt; </font>Length<font color="#000080">(</font>mask<font color="#000080">)) </font><font color="#FF0000"><b>THEN BEGIN
      CASE </b></font>mask<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>OF
        </b></font><font color="#800000">'0' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>ch <font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9'</font><font color="#000080">]) </font><font color="#FF0000"><b>THEN BEGIN
                </b></font>Write<font color="#000080">(</font>ch<font color="#000080">);
                </font>s <font color="#000080">:= </font>s <font color="#000080">+ </font>ch<font color="#000080">;
              </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
        </font><font color="#800000">'A' </font><font color="#000080">: </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>UpCase<font color="#000080">(</font>ch<font color="#000080">) </font><font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">'A'</font><font color="#000080">..</font><font color="#800000">'Z'</font><font color="#000080">]) </font><font color="#FF0000"><b>THEN BEGIN
                </b></font>Write<font color="#000080">(</font>ch<font color="#000080">);
                </font>s <font color="#000080">:= </font>s <font color="#000080">+ </font>ch<font color="#000080">;
              </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
        </font><font color="#800000">#32 </font><font color="#000080">: </font><font color="#FF0000"><b>BEGIN
                </b></font>Write<font color="#000080">(</font>ch<font color="#000080">);
                </font>s <font color="#000080">:= </font>s <font color="#000080">+ </font>ch<font color="#000080">;
              </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>Length<font color="#000080">(</font>s<font color="#000080">) &lt; </font>Length<font color="#000080">(</font>mask<font color="#000080">))
      </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font><font color="#FF0000"><b>NOT </b></font><font color="#000080">(</font>mask<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">#32</font><font color="#000080">, </font><font color="#800000">'0'</font><font color="#000080">, </font><font color="#800000">'A'</font><font color="#000080">])) </font><font color="#FF0000"><b>DO BEGIN
        IF </b></font><font color="#000080">(</font>mask<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">] = </font><font color="#800000">'_'</font><font color="#000080">) </font><font color="#FF0000"><b>THEN </b></font>s <font color="#000080">:= </font>s <font color="#000080">+ </font><font color="#800000">' ' </font><font color="#FF0000"><b>ELSE
          </b></font>s <font color="#000080">:= </font>s <font color="#000080">+ </font>mask<font color="#000080">[</font>Length<font color="#000080">(</font>s<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">];
        </font>GotoXY<font color="#000080">(</font>WhereX <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">, </font>WhereY<font color="#000080">);
      </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>ch <font color="#FF0000"><b>IN </b></font><font color="#000080">[</font><font color="#800000">#13</font><font color="#000080">, </font><font color="#800000">#27</font><font color="#000080">]);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
  </b></font>ClrScr<font color="#000080">;
  </font>Write<font color="#000080">(</font><font color="#800000">'Enter phone number: '</font><font color="#000080">);
  </font>MaskedReadLn<font color="#000080">(</font>ts<font color="#000080">, </font><font color="#800000">'(000)_000-0000'</font><font color="#000080">, </font><font color="#800000">'_'</font><font color="#000080">);
  </font>WriteLn<font color="#000080">;
  </font>Write<font color="#000080">(</font><font color="#800000">'Enter postal code: '</font><font color="#000080">);
  </font>MaskedReadLn<font color="#000080">(</font>ts<font color="#000080">, </font><font color="#800000">'A0A_0A0'</font><font color="#000080">, </font><font color="#800000">'_'</font><font color="#000080">);
  </font>WriteLn<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.

</font><font color="#008000"><i>{
It can be improved with colours and such stuff, but it may suit your
needs without enhancement.  If you have questions about how this works,
feel free to ask.
}

</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to ENTRY SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0008.PAS">Original</a><b>]</b></p></body>
</html>
