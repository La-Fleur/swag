<html>
<head><title> "Zip File Format" by PHIL KATZ</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to ARCHIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0022.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#000000">System <font color="#FF0000"><b>of </b></font>Origin <font color="#000080">: </font>IBM

Original author <font color="#000080">: </font>Phil Katz

<font color="#FF0000"><b>FILE </b></font>FORMAT
<font color="#000080">-----------

</font>Files stored <font color="#FF0000"><b>in </b></font>arbitrary order<font color="#000080">.  </font>Large zipfiles can span multiple
diskette media<font color="#000080">. 
 
          </font>Local <font color="#FF0000"><b>File </b></font>Header <font color="#800000">1 
                    </font><font color="#FF0000"><b>file </b></font><font color="#800000">1 </font>extra field 
                    <font color="#FF0000"><b>file </b></font><font color="#800000">1 </font>comment 
               <font color="#FF0000"><b>file </b></font>data <font color="#800000">1 
          </font>Local <font color="#FF0000"><b>File </b></font>Header <font color="#800000">2 
                    </font><font color="#FF0000"><b>file </b></font><font color="#800000">2 </font>extra field 
                    <font color="#FF0000"><b>file </b></font><font color="#800000">2 </font>comment
               <font color="#FF0000"><b>file </b></font>data <font color="#800000">2
          </font><font color="#000080">. 
          . 
          . 
          </font>Local <font color="#FF0000"><b>File </b></font>Header n 
                    <font color="#FF0000"><b>file </b></font>n extra field 
                    <font color="#FF0000"><b>file </b></font>n comment 
               <font color="#FF0000"><b>file </b></font>data n 
     Central Directory 
               central extra field
               central comment
          <font color="#FF0000"><b>End of </b></font>Central Directory
                    <font color="#FF0000"><b>end </b></font>comment
EOF


LOCAL <font color="#FF0000"><b>FILE </b></font>HEADER
<font color="#000080">-----------------

</font>OFFSET <font color="#FF0000"><b>LABEL       </b></font>TYP  VALUE        DESCRIPTION
<font color="#000080">------ ----------- ---- ----------- ---------------------------------- 
</font><font color="#800000">00     </font>ZIPLOCSIG   HEX  <font color="#800000">04034</font>B50    <font color="#000080">;</font>Local <font color="#FF0000"><b>File </b></font>Header Signature 
<font color="#800000">04     </font>ZIPVER      DW   <font color="#800000">0000        </font><font color="#000080">;</font>Version needed <font color="#FF0000"><b>to </b></font>extract 
<font color="#800000">06     </font>ZIPGENFLG   DW   <font color="#800000">0000        </font><font color="#000080">;</font>General purpose bit flag 
<font color="#800000">08     </font>ZIPMTHD     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Compression method 
<font color="#800000">0</font>A     ZIPTIME     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Last <font color="#FF0000"><b>mod file </b></font>time <font color="#000080">(</font>MS<font color="#000080">-</font>DOS<font color="#000080">) 
</font><font color="#800000">0</font>C     ZIPDATE     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Last <font color="#FF0000"><b>mod file </b></font>date <font color="#000080">(</font>MS<font color="#000080">-</font>DOS<font color="#000080">) 
</font><font color="#800000">0E     </font>ZIPCRC      HEX  <font color="#800000">00000000    </font><font color="#000080">;</font>CRC<font color="#000080">-</font><font color="#800000">32
12     </font>ZIPSIZE     HEX  <font color="#800000">00000000    </font><font color="#000080">;</font>Compressed size 
<font color="#800000">16     </font>ZIPUNCMP    HEX  <font color="#800000">00000000    </font><font color="#000080">;</font>Uncompressed size
<font color="#800000">1</font>A     ZIPFNLN     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Filename length
<font color="#800000">1</font>C     ZIPXTRALN   DW   <font color="#800000">0000        </font><font color="#000080">;</font>Extra field length 
<font color="#800000">1E     </font>ZIPNAME     DS   ZIPFNLN     <font color="#000080">;</font>filename 
<font color="#000080">--     </font>ZIPXTRA     DS   ZIPXTRALN   <font color="#000080">;</font>extra field 
 
CENTRAL DIRECTORY STRUCTURE
<font color="#000080">--------------------------- 
 
</font>OFFSET <font color="#FF0000"><b>LABEL       </b></font>TYP  VALUE        DESCRIPTION
<font color="#000080">------ ----------- ---- ----------- ----------------------------------
</font><font color="#800000">00     </font>ZIPCENSIG   HEX  <font color="#800000">02014</font>B50    <font color="#000080">;</font>Central <font color="#FF0000"><b>file </b></font>header signature 
<font color="#800000">04     </font>ZIPCVER     DB   <font color="#800000">00          </font><font color="#000080">;</font>Version made by 
<font color="#800000">05     </font>ZIPCOS      DB   <font color="#800000">00          </font><font color="#000080">;</font>Host operating system 
<font color="#800000">06     </font>ZIPCVXT     DB   <font color="#800000">00          </font><font color="#000080">;</font>Version needed <font color="#FF0000"><b>to </b></font>extract 
<font color="#800000">07     </font>ZIPCEXOS    DB   <font color="#800000">00          </font><font color="#000080">;</font>O<font color="#000080">/</font>S <font color="#FF0000"><b>of </b></font>version needed <font color="#FF0000"><b>for </b></font>extraction 
<font color="#800000">08     </font>ZIPCFLG     DW   <font color="#800000">0000        </font><font color="#000080">;</font>General purpose bit flag 
<font color="#800000">0</font>A     ZIPCMTHD    DW   <font color="#800000">0000        </font><font color="#000080">;</font>Compression method 
<font color="#800000">0</font>C     ZIPCTIM     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Last <font color="#FF0000"><b>mod file </b></font>time <font color="#000080">(</font>MS<font color="#000080">-</font>DOS<font color="#000080">)
</font><font color="#800000">0E     </font>ZIPCDAT     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Last <font color="#FF0000"><b>mod file </b></font>date <font color="#000080">(</font>MS<font color="#000080">-</font>DOS<font color="#000080">) 
</font><font color="#800000">10     </font>ZIPCCRC     HEX  <font color="#800000">00000000    </font><font color="#000080">;</font>CRC<font color="#000080">-</font><font color="#800000">32
14     </font>ZIPCSIZ     HEX  <font color="#800000">00000000    </font><font color="#000080">;</font>Compressed size
<font color="#800000">18     </font>ZIPCUNC     HEX  <font color="#800000">00000000    </font><font color="#000080">;</font>Uncompressed size 
<font color="#800000">1</font>C     ZIPCFNL     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Filename length 
<font color="#800000">1E     </font>ZIPCXTL     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Extra field length 
<font color="#800000">20     </font>ZIPCCML     DW   <font color="#800000">0000        </font><font color="#000080">;</font><font color="#FF0000"><b>File </b></font>comment length 
<font color="#800000">22     </font>ZIPDSK      DW   <font color="#800000">0000        </font><font color="#000080">;</font>Disk number start
<font color="#800000">24     </font>ZIPINT      DW   <font color="#800000">0000        </font><font color="#000080">;</font>Internal <font color="#FF0000"><b>file </b></font>attributes 
 
       <font color="#FF0000"><b>LABEL       </b></font>BIT        DESCRIPTION
       <font color="#000080">----------- --------- -----------------------------------------
       </font>ZIPINT         <font color="#800000">0       </font><font color="#FF0000"><b>if </b></font><font color="#000080">= </font><font color="#800000">1</font><font color="#000080">, </font><font color="#FF0000"><b>file is </b></font>apparently an ASCII <font color="#FF0000"><b>or 
                              </b></font>text <font color="#FF0000"><b>file 
                      </b></font><font color="#800000">0       </font><font color="#FF0000"><b>if </b></font><font color="#000080">= </font><font color="#800000">0</font><font color="#000080">, </font><font color="#FF0000"><b>file </b></font>apparently <font color="#FF0000"><b>contains </b></font>binary 
                              data 

                     <font color="#800000">1</font><font color="#000080">-</font><font color="#800000">7      </font>unused <font color="#FF0000"><b>in </b></font>version <font color="#800000">1.0.
 
26     </font>ZIPEXT      HEX  <font color="#800000">00000000    </font><font color="#000080">;</font><font color="#FF0000"><b>External file </b></font>attributes<font color="#000080">, </font>host 
                                    <font color="#000080">;</font>system dependent
<font color="#800000">2</font>A     ZIPOFST     HEX  <font color="#800000">00000000    </font><font color="#000080">;</font>Relative offset <font color="#FF0000"><b>of </b></font>local header 
                                    <font color="#000080">;</font>from the start <font color="#FF0000"><b>of </b></font>the first disk 
                                    <font color="#000080">;</font><font color="#FF0000"><b>on </b></font>which this <font color="#FF0000"><b>file </b></font>appears
<font color="#800000">2E     </font>ZIPCFN      DS   ZIPCFNL     <font color="#000080">;</font>Filename <font color="#FF0000"><b>or </b></font>path <font color="#000080">- </font>should <font color="#FF0000"><b>not 
                                    </b></font><font color="#000080">;</font>contain a drive <font color="#FF0000"><b>or </b></font>device letter<font color="#000080">, 
                                    ;</font><font color="#FF0000"><b>or </b></font>a leading slash<font color="#000080">. </font>All slashes 
                                    <font color="#000080">;</font>should be <font color="#FF0000"><b>forward </b></font>slashes <font color="#800000">'/' 
</font><font color="#000080">--     </font>ZIPCXTR     DS   ZIPCXTL     <font color="#000080">;</font>extra field
<font color="#000080">--     </font>ZIPCOM      DS   ZIPCCML     <font color="#000080">;</font><font color="#FF0000"><b>file </b></font>comment


<font color="#FF0000"><b>END OF </b></font>CENTRAL DIR STRUCTURE
<font color="#000080">---------------------------- 
 
</font>OFFSET <font color="#FF0000"><b>LABEL       </b></font>TYP  VALUE        DESCRIPTION 
<font color="#000080">------ ----------- ---- ----------- ---------------------------------- 
</font><font color="#800000">00     </font>ZIPESIG     HEX  <font color="#800000">06064</font>B50    <font color="#000080">;</font><font color="#FF0000"><b>End of </b></font>central dir signature
<font color="#800000">04     </font>ZIPEDSK     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Number <font color="#FF0000"><b>of </b></font>this disk 
<font color="#800000">06     </font>ZIPECEN     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Number <font color="#FF0000"><b>of </b></font>disk <font color="#FF0000"><b>with </b></font>start central dir 
<font color="#800000">08     </font>ZIPENUM     DW   <font color="#800000">0000        </font><font color="#000080">;</font>Total number <font color="#FF0000"><b>of </b></font>entries <font color="#FF0000"><b>in </b></font>central dir 
                                    <font color="#000080">;</font><font color="#FF0000"><b>on </b></font>this disk 
<font color="#800000">0</font>A     ZIPECENN    DW   <font color="#800000">0000        </font><font color="#000080">;</font>total number entries <font color="#FF0000"><b>in </b></font>central dir 
<font color="#800000">0</font>C     ZIPECSZ     HEX  <font color="#800000">00000000    </font><font color="#000080">;</font>Size <font color="#FF0000"><b>of </b></font>the central directory
<font color="#800000">10     </font>ZIPEOFST    HEX  <font color="#800000">00000000    </font><font color="#000080">;</font>Offset <font color="#FF0000"><b>of </b></font>start <font color="#FF0000"><b>of </b></font>central directory 
                                    <font color="#000080">;</font><font color="#FF0000"><b>with </b></font>respect <font color="#FF0000"><b>to </b></font>the starting disk
                                    <font color="#000080">;</font>number 
<font color="#800000">14     </font>ZIPECOML    DW   <font color="#800000">0000        </font><font color="#000080">;</font>zipfile comment length 
<font color="#800000">16     </font>ZIPECOM     DS   ZIPECOML    <font color="#000080">;</font>zipfile comment
 
 
ZIP VALUES LEGEND
<font color="#000080">-----------------
 
       </font>HOST O<font color="#000080">/</font>S 
 
       VALUE  DESCRIPTION               VALUE  DESCRIPTION 
       <font color="#000080">----- -------------------------- ----- ------------------------
       </font><font color="#800000">0      </font>MS<font color="#000080">-</font>DOS <font color="#FF0000"><b>and </b></font>OS<font color="#000080">/</font><font color="#800000">2 </font><font color="#000080">(</font>FAT<font color="#000080">)     </font><font color="#800000">5      </font>Atari ST 
       <font color="#800000">1      </font>Amiga                     <font color="#800000">6      </font>OS<font color="#000080">/</font><font color="#800000">2 1.2 </font>extended <font color="#FF0000"><b>file </b></font>sys 
       <font color="#800000">2      </font>VMS                       <font color="#800000">7      </font>Macintosh 
       <font color="#800000">3      </font><font color="#000080">*</font>nix                      <font color="#800000">8 </font>thru 
       <font color="#800000">4      </font>VM<font color="#000080">/</font>CMS                    <font color="#800000">255    </font>unused 

 
       GENERAL PURPOSE BIT FLAG 
 
       <font color="#FF0000"><b>LABEL       </b></font>BIT        DESCRIPTION 
       <font color="#000080">----------- --------- -----------------------------------------
       </font>ZIPGENFLG      <font color="#800000">0       </font><font color="#FF0000"><b>If set</b></font><font color="#000080">, </font><font color="#FF0000"><b>file is </b></font>encrypted 
          <font color="#FF0000"><b>or          </b></font><font color="#800000">1       </font><font color="#FF0000"><b>If file </b></font>Imploded <font color="#FF0000"><b>and </b></font>this bit <font color="#FF0000"><b>is set</b></font><font color="#000080">, </font><font color="#800000">8</font>K 
       ZIPCFLG                sliding dictionary was used<font color="#000080">. </font><font color="#FF0000"><b>If </b></font>clear<font color="#000080">, </font><font color="#800000">4</font>K
                              sliding dictionary was used<font color="#000080">.
                      </font><font color="#800000">2       </font><font color="#FF0000"><b>If file </b></font>Imploded <font color="#FF0000"><b>and </b></font>this bit <font color="#FF0000"><b>is set</b></font><font color="#000080">, </font><font color="#800000">3 
                              </font>Shannon<font color="#000080">-</font>Fano trees were used<font color="#000080">. </font><font color="#FF0000"><b>If </b></font>clear<font color="#000080">, </font><font color="#800000">2 
                              </font>Shannon<font color="#000080">-</font>Fano trees were used<font color="#000080">. 
                     </font><font color="#800000">3</font><font color="#000080">-</font><font color="#800000">4      </font>unused 
                     <font color="#800000">5</font><font color="#000080">-</font><font color="#800000">7      </font>used internaly by ZIP
 
       Note<font color="#000080">:  </font>Bits <font color="#800000">1 </font><font color="#FF0000"><b>and </b></font><font color="#800000">2 </font>are undefined <font color="#FF0000"><b>if </b></font>the compression method <font color="#FF0000"><b>is 
              </b></font>other than <font color="#FF0000"><b>type </b></font><font color="#800000">6 </font><font color="#000080">(</font>Imploding<font color="#000080">). 
 

       </font>COMPRESSION METHOD
 
       NAME        METHOD  DESCRIPTION 
       <font color="#000080">----------- ------ -------------------------------------------- 
       </font>Stored         <font color="#800000">0    </font>No compression used 
       Shrunk         <font color="#800000">1    </font>LZW<font color="#000080">, </font><font color="#800000">8</font>K buffer<font color="#000080">, </font><font color="#800000">9</font><font color="#000080">-</font><font color="#800000">13 </font>bits <font color="#FF0000"><b>with </b></font>partial clearing 
       Reduced<font color="#000080">-</font><font color="#800000">1      2    </font>Probalistic compression<font color="#000080">, </font>L<font color="#000080">(</font>X<font color="#000080">) = </font>lower <font color="#800000">7 </font>bits 
       Reduced<font color="#000080">-</font><font color="#800000">2      3    </font>Probalistic compression<font color="#000080">, </font>L<font color="#000080">(</font>X<font color="#000080">) = </font>lower <font color="#800000">6 </font>bits 
       Reduced<font color="#000080">-</font><font color="#800000">3      4    </font>Probalistic compression<font color="#000080">, </font>L<font color="#000080">(</font>X<font color="#000080">) = </font>lower <font color="#800000">5 </font>bits 
       Reduced<font color="#000080">-</font><font color="#800000">4      5    </font>Probalistic compression<font color="#000080">, </font>L<font color="#000080">(</font>X<font color="#000080">) = </font>lower <font color="#800000">4 </font>bits
       Imploded       <font color="#800000">6    2 </font>Shanno<font color="#000080">-</font>Fano trees<font color="#000080">, </font><font color="#800000">4</font>K sliding dictionary
       Imploded       <font color="#800000">7    3 </font>Shanno<font color="#000080">-</font>Fano trees<font color="#000080">, </font><font color="#800000">4</font>K sliding dictionary 
       Imploded       <font color="#800000">8    2 </font>Shanno<font color="#000080">-</font>Fano trees<font color="#000080">, </font><font color="#800000">8</font>K sliding dictionary
       Imploded       <font color="#800000">9    3 </font>Shanno<font color="#000080">-</font>Fano trees<font color="#000080">, </font><font color="#800000">8</font>K sliding dictionary 

 
       EXTRA FIELD 

       OFFSET <font color="#FF0000"><b>LABEL       </b></font>TYP  VALUE       DESCRIPTION
       <font color="#000080">------ ----------- ---- ---------- ----------------------------
       </font><font color="#800000">00     </font>EX1ID       DW   <font color="#800000">0000        </font><font color="#000080">;</font><font color="#800000">0</font><font color="#000080">-</font><font color="#800000">31 </font>reserved by PKWARE
       <font color="#800000">02     </font>EX1LN       DW   <font color="#800000">0000
       04     </font>EX1DAT      DS   EX1LN       <font color="#000080">;</font>Specific data <font color="#FF0000"><b>for </b></font>individual
       <font color="#000080">.                                   ;</font>files<font color="#000080">. </font>Data field should <font color="#FF0000"><b>begin
       </b></font><font color="#000080">.                                   ;</font><font color="#FF0000"><b>with </b></font>a s<font color="#000080">/</font>w specific unique ID
       EX1LN<font color="#000080">+</font><font color="#800000">4
              </font>EXnID       DW   <font color="#800000">0000
              </font>EXnLN       DW   <font color="#800000">0000

              </font>EXnDAT      DS   EXnLN       <font color="#000080">;</font>entire header may <font color="#FF0000"><b>not </b></font>exceed <font color="#800000">64</font>k



</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to ARCHIVES SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0022.PAS">Original</a><b>]</b></p></body>
</html>
