<html>
<head><title> "Mouse Cursor Editor" by TORSTEN PINKERT</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MOUSE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0013.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Now here's the source for the Mouse-Cursor-Editor

}
</i></font><font color="#FF0000"><b>PROGRAM </b></font>Mouse_Edit<font color="#000080">;
</font><font color="#FF0000"><b>uses </b></font>Crt<font color="#000080">;
</font><font color="#FF0000"><b>type
 </b></font>Masktype <font color="#000080">= </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">16</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>word<font color="#000080">;
</font><font color="#FF0000"><b>var
 </b></font>Cursor <font color="#000080">:  </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Masktype<font color="#000080">;
 </font>screenmask<font color="#000080">,</font>Cursormask <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">16</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">16</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Char<font color="#000080">;
 </font>x<font color="#000080">,</font>y<font color="#000080">,</font>oldx<font color="#000080">,</font>oldy <font color="#000080">: </font>Byte<font color="#000080">;
 </font>Fenster <font color="#000080">: </font>Boolean<font color="#000080">; </font><font color="#008000"><i>{False=Links,True=Rechts}
 </i></font>i<font color="#000080">,</font>j <font color="#000080">: </font>Byte<font color="#000080">;
 </font>c <font color="#000080">: </font>Char<font color="#000080">;
 </font>wert <font color="#000080">: </font>word<font color="#000080">;
  </font>dest <font color="#000080">: </font>text<font color="#000080">;
  </font>s <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>Init<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>TextMode <font color="#000080">(</font>co40<font color="#000080">);
 </font>ClrScr<font color="#000080">;
 </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
  for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
  begin
   </b></font>Screenmask<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">]:=</font><font color="#800000">'*'</font><font color="#000080">;
   </font>GoToXY<font color="#000080">(</font>i<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">,</font>j<font color="#000080">);
   </font>Write <font color="#000080">(</font>Screenmask<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">]);
   </font>CursorMask<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">]:=</font><font color="#800000">'.'</font><font color="#000080">;
   </font>GoToXY <font color="#000080">(</font>i<font color="#000080">+</font><font color="#800000">22</font><font color="#000080">,</font>j<font color="#000080">);
   </font>Write <font color="#000080">(</font>CursorMask<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">]);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font>x<font color="#000080">:=</font><font color="#800000">8</font><font color="#000080">; </font>oldx<font color="#000080">:=</font><font color="#800000">8</font><font color="#000080">; </font>y<font color="#000080">:=</font><font color="#800000">8</font><font color="#000080">; </font>oldy<font color="#000080">:=</font><font color="#800000">8</font><font color="#000080">;
 </font>Fenster <font color="#000080">:= </font>false<font color="#000080">;
 </font>GotoXY<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">); </font>write<font color="#000080">(</font><font color="#800000">'X='</font><font color="#000080">,</font>x<font color="#000080">:</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">'  Y='</font><font color="#000080">,</font>y<font color="#000080">:</font><font color="#800000">3</font><font color="#000080">);
 </font>GotoXY <font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>Changemask<font color="#000080">;
</font><font color="#FF0000"><b>var
 </b></font>t <font color="#000080">: </font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>t<font color="#000080">:=</font>x<font color="#000080">; </font>x<font color="#000080">:=</font>oldx<font color="#000080">; </font>oldx<font color="#000080">:=</font>t<font color="#000080">;
 </font>t<font color="#000080">:=</font>y<font color="#000080">; </font>y<font color="#000080">:=</font>oldy<font color="#000080">; </font>oldy<font color="#000080">:=</font>t<font color="#000080">;
 </font>fenster <font color="#000080">:= </font>fenster <font color="#FF0000"><b>xor </b></font>true<font color="#000080">;
 </font>GotoXY<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">); </font>write<font color="#000080">(</font><font color="#800000">'X='</font><font color="#000080">,</font>x<font color="#000080">:</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">'  Y='</font><font color="#000080">,</font>y<font color="#000080">:</font><font color="#800000">3</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>init<font color="#000080">;
 </font><font color="#FF0000"><b>repeat
  </b></font>c<font color="#000080">:=</font>readkey<font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>c<font color="#000080">=</font><font color="#800000">#9 </font><font color="#FF0000"><b>then
   </b></font>ChangeMask
  <font color="#FF0000"><b>else if </b></font>c<font color="#000080">=</font><font color="#800000">#32 </font><font color="#FF0000"><b>then
   if </b></font>fenster <font color="#FF0000"><b>then begin
    if </b></font>cursormask<font color="#000080">[</font>x<font color="#000080">,</font>y<font color="#000080">]=</font><font color="#800000">'.' </font><font color="#FF0000"><b>then
     </b></font>cursormask<font color="#000080">[</font>x<font color="#000080">,</font>y<font color="#000080">]:=</font><font color="#800000">'*'
    </font><font color="#FF0000"><b>else
     </b></font>cursormask<font color="#000080">[</font>x<font color="#000080">,</font>y<font color="#000080">]:=</font><font color="#800000">'.'</font><font color="#000080">;
    </font>write<font color="#000080">(</font>cursormask<font color="#000080">[</font>x<font color="#000080">,</font>y<font color="#000080">]);
    </font>GotoXY<font color="#000080">(</font>wherex<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>wherey<font color="#000080">);
   </font><font color="#FF0000"><b>end else begin
    if </b></font>screenmask<font color="#000080">[</font>x<font color="#000080">,</font>y<font color="#000080">]=</font><font color="#800000">'.' </font><font color="#FF0000"><b>then
     </b></font>screenmask<font color="#000080">[</font>x<font color="#000080">,</font>y<font color="#000080">]:=</font><font color="#800000">'*'
    </font><font color="#FF0000"><b>else
     </b></font>screenmask<font color="#000080">[</font>x<font color="#000080">,</font>y<font color="#000080">]:=</font><font color="#800000">'.'</font><font color="#000080">;
    </font>write<font color="#000080">(</font>screenmask<font color="#000080">[</font>x<font color="#000080">,</font>y<font color="#000080">]);
    </font>GotoXY<font color="#000080">(</font>wherex<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>wherey<font color="#000080">)
  </font><font color="#FF0000"><b>end else if </b></font>c<font color="#000080">=</font><font color="#800000">#0 </font><font color="#FF0000"><b>then begin
   </b></font>c<font color="#000080">:=</font>readkey<font color="#000080">;
   </font><font color="#FF0000"><b>case </b></font>c <font color="#FF0000"><b>of
    </b></font><font color="#800000">#72 </font><font color="#000080">: </font><font color="#FF0000"><b>if </b></font>y <font color="#000080">&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>then
        </b></font>dec<font color="#000080">(</font>y<font color="#000080">);
    </font><font color="#800000">#80 </font><font color="#000080">: </font><font color="#FF0000"><b>if </b></font>y <font color="#000080">&lt; </font><font color="#800000">16 </font><font color="#FF0000"><b>then
        </b></font>inc<font color="#000080">(</font>y<font color="#000080">);
    </font><font color="#800000">#77 </font><font color="#000080">: </font><font color="#FF0000"><b>if </b></font>x<font color="#000080">&lt;</font><font color="#800000">16 </font><font color="#FF0000"><b>then
        </b></font>inc<font color="#000080">(</font>x<font color="#000080">);
    </font><font color="#800000">#75 </font><font color="#000080">: </font><font color="#FF0000"><b>if </b></font>x <font color="#000080">&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>then
        </b></font>dec<font color="#000080">(</font>x<font color="#000080">);
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font>GotoXY<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">); </font>write<font color="#000080">(</font><font color="#800000">'X='</font><font color="#000080">,</font>x<font color="#000080">:</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">'  Y='</font><font color="#000080">,</font>y<font color="#000080">:</font><font color="#800000">3</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>fenster <font color="#FF0000"><b>then
   </b></font>GotoXY<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">22</font><font color="#000080">,</font>y<font color="#000080">)
  </font><font color="#FF0000"><b>else
   </b></font>GotoXY<font color="#000080">(</font>x<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">);
 </font><font color="#FF0000"><b>until </b></font>c<font color="#000080">=</font><font color="#800000">#27</font><font color="#000080">;
 </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do begin
  </b></font>wert<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
   if </b></font>screenmask<font color="#000080">[</font>j<font color="#000080">,</font>i<font color="#000080">]=</font><font color="#800000">'*' </font><font color="#FF0000"><b>then
    </b></font>inc<font color="#000080">(</font>wert<font color="#000080">,</font><font color="#800000">1 </font><font color="#FF0000"><b>shl </b></font><font color="#000080">(</font><font color="#800000">16</font><font color="#000080">-</font>j<font color="#000080">));
  </font>Cursor<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font>i<font color="#000080">]:=</font>wert<font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do begin
  </b></font>wert<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
   if </b></font>cursormask<font color="#000080">[</font>j<font color="#000080">,</font>i<font color="#000080">]=</font><font color="#800000">'*' </font><font color="#FF0000"><b>then
    </b></font>inc<font color="#000080">(</font>wert<font color="#000080">,</font><font color="#800000">1 </font><font color="#FF0000"><b>shl </b></font><font color="#000080">(</font><font color="#800000">16</font><font color="#000080">-</font>j<font color="#000080">));
  </font>Cursor<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font>i<font color="#000080">]:=</font>wert<font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>assign<font color="#000080">(</font>dest<font color="#000080">,</font><font color="#800000">'pfeil.dat'</font><font color="#000080">);
  </font>rewrite<font color="#000080">(</font>dest<font color="#000080">);
  </font>writeln <font color="#000080">(</font>dest<font color="#000080">,</font><font color="#800000">'const'</font><font color="#000080">);
  </font>write <font color="#000080">(</font>dest<font color="#000080">,</font><font color="#800000">#7</font><font color="#000080">,</font><font color="#800000">'screenmask : masktype = ('</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do begin
   </b></font>str<font color="#000080">(</font>cursor<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font>i<font color="#000080">],</font>s<font color="#000080">);
   </font>write<font color="#000080">(</font>dest<font color="#000080">,</font>s<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>i<font color="#000080">&lt;</font><font color="#800000">16 </font><font color="#FF0000"><b>then
     </b></font>write<font color="#000080">(</font>dest<font color="#000080">,</font><font color="#800000">','</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>writeln<font color="#000080">(</font>dest<font color="#000080">,</font><font color="#800000">');'</font><font color="#000080">);
  </font>write <font color="#000080">(</font>dest<font color="#000080">,</font><font color="#800000">#7</font><font color="#000080">,</font><font color="#800000">'cursormask : masktype = ('</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do begin
   </b></font>str<font color="#000080">(</font>cursor<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font>i<font color="#000080">],</font>s<font color="#000080">);
   </font>write<font color="#000080">(</font>dest<font color="#000080">,</font>s<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>i<font color="#000080">&lt;</font><font color="#800000">16 </font><font color="#FF0000"><b>then
     </b></font>write<font color="#000080">(</font>dest<font color="#000080">,</font><font color="#800000">','</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>writeln<font color="#000080">(</font>dest<font color="#000080">,</font><font color="#800000">');'</font><font color="#000080">);
 </font>close<font color="#000080">(</font>dest<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#008000"><i>{
TORSTEN PINKERT

And now here's the program to test how Mouse-Edit works...
}
</i></font><font color="#FF0000"><b>PROGRAM </b></font>Mouse_Edit_Test<font color="#000080">;
</font><font color="#FF0000"><b>uses </b></font>graph<font color="#000080">;
</font><font color="#FF0000"><b>type
 </b></font>masktype <font color="#000080">= </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">16</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>word<font color="#000080">;

</font><font color="#008000"><i>{$I Pfeil.dat}

</i></font><font color="#FF0000"><b>var
 </b></font>cursor <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>masktype<font color="#000080">;
  </font>gd<font color="#000080">,</font>gm <font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>ShowMouse<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,1
  int 33h
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ShowMouse}
</i></font><font color="#FF0000"><b>procedure </b></font>HideMouse<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,2
  int 33h
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{HideMouse}
</i></font><font color="#FF0000"><b>procedure </b></font>ChangeMousePointer <font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>integer<font color="#000080">; </font>zeiger<font color="#000080">:</font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
 </b></font><font color="#FF00FF">mov ax,9
 mov bx,x
 mov bx,y
 mov dx,zeiger
 int 33h
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ChangeMousePointer}

</i></font><font color="#FF0000"><b>begin
 </b></font>gd<font color="#000080">:=</font>VGA<font color="#000080">; </font>gm <font color="#000080">:= </font>VGAHi<font color="#000080">;
 </font>initgraph<font color="#000080">(</font>gd<font color="#000080">,</font>gm<font color="#000080">,</font><font color="#800000">'c:\bp\bgi'</font><font color="#000080">);
  </font>setfillstyle<font color="#000080">(</font>solidfill<font color="#000080">,</font>white<font color="#000080">);
  </font>bar <font color="#000080">(</font><font color="#800000">200</font><font color="#000080">,</font><font color="#800000">200</font><font color="#000080">,</font><font color="#800000">400</font><font color="#000080">,</font><font color="#800000">400</font><font color="#000080">);
 </font>cursor<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]:=</font>screenmask<font color="#000080">; </font>cursor<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]:=</font>cursormask<font color="#000080">;
 </font>SetBKColor<font color="#000080">(</font>black<font color="#000080">);
 </font>ShowMouse<font color="#000080">;
 </font>ChangeMousePointer<font color="#000080">(</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">,</font>ofs<font color="#000080">(</font>cursor<font color="#000080">));
  </font>readln<font color="#000080">;
  </font>HideMouse<font color="#000080">;
  </font>closegraph<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MOUSE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0013.PAS">Original</a><b>]</b></p></body>
</html>
