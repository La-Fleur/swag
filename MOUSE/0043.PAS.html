<html>
<head><title> "Mouse Cursor Editor" by ALEKSANDAR DLABAC</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MOUSE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0043.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>Program </b></font>MouseEdit<font color="#000080">;
</font><font color="#008000"><i>{
             &Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&Uuml;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Ucirc;&Ucirc;                                      &Ucirc;&Ucirc;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Ucirc;&Ucirc;          Mouse Cursor Editor         &Ucirc;&Ucirc;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Ucirc;&Ucirc;                                      &Ucirc;&Ucirc;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Ucirc;&Ucirc;           Aleksandar Dlabac          &Ucirc;&Ucirc;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Ucirc;&Ucirc;    (C) 1996. Dlabac Bros. Company    &Ucirc;&Ucirc;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Ucirc;&Ucirc;    ------------------------------    &Ucirc;&Ucirc;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Ucirc;&Ucirc;      adlabac@urcpg.urc.cg.ac.yu      &Ucirc;&Ucirc;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Ucirc;&Ucirc;      adlabac@urcpg.pmf.cg.ac.yu      &Ucirc;&Ucirc;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&Ucirc;&Ucirc;                                      &Ucirc;&Ucirc;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Yacute;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&szlig;&THORN;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
             &Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&Ucirc;&plusmn;&plusmn;
               &plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;&plusmn;

     This program creates file MOUSEDIT.DAT file on disk. You can insert
this file directly in pascal program/unit or you can rename it and include
it with $I directive. Examples of both techniques can be founded in MOUSE.PAS
unit, written by same author.

      Also, this program demonstrates how to use mentioned MOUSE unit.

}
  </i></font><font color="#FF0000"><b>Uses </b></font>Mouse<font color="#000080">, </font>Graph<font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>Initialize<font color="#000080">;
    </font><font color="#FF0000"><b>Var </b></font>Gd<font color="#000080">, </font>Gm <font color="#000080">: </font>integer<font color="#000080">;
      </font><font color="#FF0000"><b>Begin
        If not </b></font>MouseOK <font color="#FF0000"><b>then
          Begin
            </b></font>Writeln <font color="#000080">(</font><font color="#800000">'Mouse driver not loaded.'</font><font color="#000080">);
            </font>Halt
          <font color="#FF0000"><b>End</b></font><font color="#000080">;
        </font>DetectGraph <font color="#000080">(</font>Gd<font color="#000080">,</font>Gm<font color="#000080">);
        </font>InitGraph <font color="#000080">(</font>Gd<font color="#000080">,</font>Gm<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">)
      </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Function </b></font>InBox <font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>X1<font color="#000080">,</font>Y1<font color="#000080">,</font>X2<font color="#000080">,</font>Y2<font color="#000080">:</font>integer<font color="#000080">) : </font>Boolean<font color="#000080">;
    </font><font color="#FF0000"><b>Begin
      </b></font>InBox<font color="#000080">:=(</font>X<font color="#000080">&gt;=</font>X1<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>X<font color="#000080">&lt;=</font>X2<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>Y<font color="#000080">&gt;=</font>Y1<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>Y<font color="#000080">&lt;=</font>Y2<font color="#000080">)
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>EditCursor<font color="#000080">;
    </font><font color="#FF0000"><b>Var </b></font>I<font color="#000080">, </font>J<font color="#000080">, </font>X<font color="#000080">, </font>Y <font color="#000080">: </font>integer<font color="#000080">;
        </font>M          <font color="#000080">: </font>word<font color="#000080">;
        </font>Button     <font color="#000080">: </font>byte<font color="#000080">;
        </font>Error      <font color="#000080">: </font>Boolean<font color="#000080">;
        </font>Temp<font color="#000080">, </font>Mask <font color="#000080">: </font>CursorMask<font color="#000080">;

    </font><font color="#FF0000"><b>Procedure </b></font>DrawCursor <font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">:</font>integer<font color="#000080">);
      </font><font color="#FF0000"><b>Var </b></font>I<font color="#000080">, </font>J <font color="#000080">: </font>integer<font color="#000080">;
          </font>M    <font color="#000080">: </font>word<font color="#000080">;
        </font><font color="#FF0000"><b>Begin
          For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
            Begin
              </b></font>M<font color="#000080">:=</font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font>J<font color="#000080">];
              </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
                Begin
                  If </b></font><font color="#000080">(</font>M <font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">=</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>GetPixel <font color="#000080">(</font>X<font color="#000080">+</font><font color="#800000">16</font><font color="#000080">-</font>I<font color="#000080">,</font>Y<font color="#000080">+</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
                    </b></font>PutPixel <font color="#000080">(</font>X<font color="#000080">+</font><font color="#800000">16</font><font color="#000080">-</font>I<font color="#000080">,</font>Y<font color="#000080">+</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>White<font color="#000080">)
                               </font><font color="#FF0000"><b>else
                    </b></font>PutPixel <font color="#000080">(</font>X<font color="#000080">+</font><font color="#800000">16</font><font color="#000080">-</font>I<font color="#000080">,</font>Y<font color="#000080">+</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>Black<font color="#000080">);
                  </font>M<font color="#000080">:=</font>M <font color="#FF0000"><b>shr </b></font><font color="#800000">1
                </font><font color="#FF0000"><b>End
            End</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
            Begin
              </b></font>M<font color="#000080">:=</font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font><font color="#800000">16</font><font color="#000080">+</font>J<font color="#000080">];
              </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
                Begin
                  If </b></font><font color="#000080">(</font>M <font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">=</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>XOR </b></font><font color="#000080">(</font>GetPixel <font color="#000080">(</font>X<font color="#000080">+</font><font color="#800000">16</font><font color="#000080">-</font>I<font color="#000080">,</font>Y<font color="#000080">+</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
                    </b></font>PutPixel <font color="#000080">(</font>X<font color="#000080">+</font><font color="#800000">16</font><font color="#000080">-</font>I<font color="#000080">,</font>Y<font color="#000080">+</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>White<font color="#000080">)
                               </font><font color="#FF0000"><b>else
                    </b></font>PutPixel <font color="#000080">(</font>X<font color="#000080">+</font><font color="#800000">16</font><font color="#000080">-</font>I<font color="#000080">,</font>Y<font color="#000080">+</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">,</font>Black<font color="#000080">);
                  </font>M<font color="#000080">:=</font>M <font color="#FF0000"><b>shr </b></font><font color="#800000">1
                </font><font color="#FF0000"><b>End
            End
        End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>Procedure </b></font>DrawTest<font color="#000080">;
      </font><font color="#FF0000"><b>Begin
        </b></font>SetColor <font color="#000080">(</font>White<font color="#000080">);
        </font>SetFillStyle <font color="#000080">(</font>SolidFill<font color="#000080">,</font>White<font color="#000080">);
        </font>Bar <font color="#000080">(</font><font color="#800000">240</font><font color="#000080">,</font><font color="#800000">310</font><font color="#000080">,</font><font color="#800000">320</font><font color="#000080">,</font><font color="#800000">390</font><font color="#000080">);
        </font>SetFillStyle <font color="#000080">(</font>SolidFill<font color="#000080">,</font>Black<font color="#000080">);
        </font>Bar <font color="#000080">(</font><font color="#800000">320</font><font color="#000080">,</font><font color="#800000">310</font><font color="#000080">,</font><font color="#800000">400</font><font color="#000080">,</font><font color="#800000">390</font><font color="#000080">);
        </font>Rectangle <font color="#000080">(</font><font color="#800000">240</font><font color="#000080">,</font><font color="#800000">310</font><font color="#000080">,</font><font color="#800000">400</font><font color="#000080">,</font><font color="#800000">390</font><font color="#000080">);
        </font>DrawCursor <font color="#000080">(</font><font color="#800000">272</font><font color="#000080">,</font><font color="#800000">342</font><font color="#000080">);
        </font>DrawCursor <font color="#000080">(</font><font color="#800000">352</font><font color="#000080">,</font><font color="#800000">342</font><font color="#000080">)
      </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>Procedure </b></font>DrawMasks<font color="#000080">;
      </font><font color="#FF0000"><b>Var </b></font>I<font color="#000080">, </font>J <font color="#000080">: </font>integer<font color="#000080">;
          </font>M    <font color="#000080">: </font>word<font color="#000080">;
        </font><font color="#FF0000"><b>Begin
          For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
            Begin
              </b></font>M<font color="#000080">:=</font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font>J<font color="#000080">];
              </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
                Begin
                  If </b></font>M <font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then
                    </b></font>SetFillStyle <font color="#000080">(</font>SolidFill<font color="#000080">,</font>White<font color="#000080">)
                               </font><font color="#FF0000"><b>else
                    </b></font>SetFillStyle <font color="#000080">(</font>SolidFill<font color="#000080">,</font>Black<font color="#000080">);
                  </font>Bar <font color="#000080">(</font><font color="#800000">281</font><font color="#000080">-</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">41</font><font color="#000080">+(</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">279</font><font color="#000080">-(</font>I<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">39</font><font color="#000080">+</font>J<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">);
                  </font>M<font color="#000080">:=</font>M <font color="#FF0000"><b>shr </b></font><font color="#800000">1
                </font><font color="#FF0000"><b>End
            End</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
            Begin
              </b></font>M<font color="#000080">:=</font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font><font color="#800000">16</font><font color="#000080">+</font>J<font color="#000080">];
              </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
                Begin
                  If </b></font>M <font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">=</font><font color="#800000">1 </font><font color="#FF0000"><b>then
                    </b></font>SetFillStyle <font color="#000080">(</font>SolidFill<font color="#000080">,</font>White<font color="#000080">)
                               </font><font color="#FF0000"><b>else
                    </b></font>SetFillStyle <font color="#000080">(</font>SolidFill<font color="#000080">,</font>Black<font color="#000080">);
                  </font>Bar <font color="#000080">(</font><font color="#800000">601</font><font color="#000080">-</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">41</font><font color="#000080">+(</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">599</font><font color="#000080">-(</font>I<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">39</font><font color="#000080">+</font>J<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">);
                  </font>M<font color="#000080">:=</font>M <font color="#FF0000"><b>shr </b></font><font color="#800000">1
                </font><font color="#FF0000"><b>End
            End
        End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>Procedure </b></font>Load<font color="#000080">;
      </font><font color="#FF0000"><b>Var </b></font>I<font color="#000080">, </font>J<font color="#000080">, </font>Code <font color="#000080">: </font>integer<font color="#000080">;
          </font>S          <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
          </font>F          <font color="#000080">: </font>text<font color="#000080">;
        </font><font color="#FF0000"><b>Begin
          </b></font>Error<font color="#000080">:=</font>True<font color="#000080">;
</font><font color="#008000"><i>{$I-}
          </i></font>Assign <font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">'MOUSEDIT.DAT'</font><font color="#000080">);
          </font>Reset <font color="#000080">(</font>F<font color="#000080">);
          </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">2 </font><font color="#FF0000"><b>do
            Begin
              </b></font>Readln <font color="#000080">(</font>F<font color="#000080">,</font>S<font color="#000080">);
              </font><font color="#FF0000"><b>If </b></font>Pos <font color="#000080">(</font><font color="#800000">')'</font><font color="#000080">,</font>S<font color="#000080">)&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then
                </b></font>S <font color="#000080">[</font>Pos <font color="#000080">(</font><font color="#800000">')'</font><font color="#000080">,</font>S<font color="#000080">)]:=</font><font color="#800000">','</font><font color="#000080">;
              </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
                Begin
                  While not </b></font><font color="#000080">(</font>S <font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>in </b></font><font color="#000080">[</font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9'</font><font color="#000080">]) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>S<font color="#000080">&gt;</font><font color="#800000">''</font><font color="#000080">) </font><font color="#FF0000"><b>do
                    </b></font>S<font color="#000080">:=</font>Copy <font color="#000080">(</font>S<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font>Length <font color="#000080">(</font>S<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">);
                  </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>S<font color="#000080">=</font><font color="#800000">''</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>Pos <font color="#000080">(</font><font color="#800000">','</font><font color="#000080">,</font>S<font color="#000080">)=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>Exit<font color="#000080">;
                  </font>Val <font color="#000080">(</font>Copy <font color="#000080">(</font>S<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>Pos <font color="#000080">(</font><font color="#800000">','</font><font color="#000080">,</font>S<font color="#000080">)-</font><font color="#800000">1</font><font color="#000080">),</font>Temp<font color="#000080">.</font>Mask <font color="#000080">[(</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">16</font><font color="#000080">+</font>I<font color="#000080">],</font>Code<font color="#000080">);
                  </font><font color="#FF0000"><b>If </b></font>Code<font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>Exit<font color="#000080">;
                  </font>S<font color="#000080">:=</font>Copy <font color="#000080">(</font>S<font color="#000080">,</font>Pos <font color="#000080">(</font><font color="#800000">','</font><font color="#000080">,</font>S<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">,</font>Length <font color="#000080">(</font>S<font color="#000080">)-</font>Pos <font color="#000080">(</font><font color="#800000">','</font><font color="#000080">,</font>S<font color="#000080">))
                </font><font color="#FF0000"><b>End
            End</b></font><font color="#000080">;
          </font>Close <font color="#000080">(</font>F<font color="#000080">);
</font><font color="#008000"><i>{$I+}
          </i></font>Error<font color="#000080">:=</font>False
        <font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>Procedure </b></font>Save<font color="#000080">;
      </font><font color="#FF0000"><b>Var </b></font>I<font color="#000080">, </font>J <font color="#000080">: </font>integer<font color="#000080">;
          </font>F    <font color="#000080">: </font>text<font color="#000080">;
        </font><font color="#FF0000"><b>Begin
</b></font><font color="#008000"><i>{$I-}
          </i></font>Assign <font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">'MOUSEDIT.DAT'</font><font color="#000080">);
          </font>Rewrite <font color="#000080">(</font>F<font color="#000080">);
          </font>Write <font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">'('</font><font color="#000080">);
          </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">2 </font><font color="#FF0000"><b>do
            For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
              If </b></font>I<font color="#000080">=</font><font color="#800000">16 </font><font color="#FF0000"><b>then
                If </b></font>J<font color="#000080">=</font><font color="#800000">2 </font><font color="#FF0000"><b>then
                  </b></font>Writeln <font color="#000080">(</font>F<font color="#000080">,</font>Mask<font color="#000080">.</font>Mask <font color="#000080">[(</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">16</font><font color="#000080">+</font>I<font color="#000080">],</font><font color="#800000">');'</font><font color="#000080">)
                       </font><font color="#FF0000"><b>else
                  </b></font>Writeln <font color="#000080">(</font>F<font color="#000080">,</font>Mask<font color="#000080">.</font>Mask <font color="#000080">[(</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">16</font><font color="#000080">+</font>I<font color="#000080">],</font><font color="#800000">','</font><font color="#000080">)
                     </font><font color="#FF0000"><b>else
                </b></font>Write <font color="#000080">(</font>F<font color="#000080">,</font>Mask<font color="#000080">.</font>Mask <font color="#000080">[(</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">16</font><font color="#000080">+</font>I<font color="#000080">],</font><font color="#800000">','</font><font color="#000080">);
          </font>Close <font color="#000080">(</font>F<font color="#000080">)
</font><font color="#008000"><i>{$I+}
        </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

      </font><font color="#FF0000"><b>Begin
        </b></font>SetTextJustify <font color="#000080">(</font>CenterText<font color="#000080">,</font>CenterText<font color="#000080">);
        </font>OutTextXY <font color="#000080">(</font>GetMaxX <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">,</font>GetMaxY<font color="#000080">-</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">'(C) 1996. Aleksandar Dlabac'</font><font color="#000080">);
        </font>SetColor <font color="#000080">(</font>LightGray<font color="#000080">);
        </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
          </b></font>Line <font color="#000080">(</font><font color="#800000">40</font><font color="#000080">+</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">+</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">280</font><font color="#000080">);
        </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
          </b></font>Line <font color="#000080">(</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">+</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">280</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">+</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">);
        </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
          </b></font>Line <font color="#000080">(</font><font color="#800000">360</font><font color="#000080">+</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">360</font><font color="#000080">+</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">280</font><font color="#000080">);
        </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
          </b></font>Line <font color="#000080">(</font><font color="#800000">360</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">+</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">600</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">+</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">);
        </font>SetColor <font color="#000080">(</font>White<font color="#000080">);
        </font>OutTextXY <font color="#000080">(</font><font color="#800000">160</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">'Screen (AND) mask'</font><font color="#000080">);
        </font>OutTextXY <font color="#000080">(</font><font color="#800000">480</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">,</font><font color="#800000">'Cursor (XOR) mask'</font><font color="#000080">);
        </font>Rectangle <font color="#000080">(</font><font color="#800000">100</font><font color="#000080">,</font><font color="#800000">430</font><font color="#000080">,</font><font color="#800000">200</font><font color="#000080">,</font><font color="#800000">450</font><font color="#000080">);
        </font>OutTextXY <font color="#000080">(</font><font color="#800000">150</font><font color="#000080">,</font><font color="#800000">440</font><font color="#000080">,</font><font color="#800000">'Load'</font><font color="#000080">);
        </font>Rectangle <font color="#000080">(</font><font color="#800000">270</font><font color="#000080">,</font><font color="#800000">430</font><font color="#000080">,</font><font color="#800000">370</font><font color="#000080">,</font><font color="#800000">450</font><font color="#000080">);
        </font>OutTextXY <font color="#000080">(</font><font color="#800000">320</font><font color="#000080">,</font><font color="#800000">440</font><font color="#000080">,</font><font color="#800000">'Save'</font><font color="#000080">);
        </font>Rectangle <font color="#000080">(</font><font color="#800000">440</font><font color="#000080">,</font><font color="#800000">430</font><font color="#000080">,</font><font color="#800000">540</font><font color="#000080">,</font><font color="#800000">450</font><font color="#000080">);
        </font>OutTextXY <font color="#000080">(</font><font color="#800000">490</font><font color="#000080">,</font><font color="#800000">440</font><font color="#000080">,</font><font color="#800000">'Exit'</font><font color="#000080">);
        </font>OutTextXY <font color="#000080">(</font><font color="#800000">320</font><font color="#000080">,</font><font color="#800000">300</font><font color="#000080">,</font><font color="#800000">'Test'</font><font color="#000080">);
        </font>ResetMouse<font color="#000080">;
        </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
          </b></font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font>I<font color="#000080">]:=</font><font color="#800000">$FFFF</font><font color="#000080">;
        </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">17 </font><font color="#FF0000"><b>to </b></font><font color="#800000">32 </font><font color="#FF0000"><b>do
          </b></font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font>I<font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
          </font><font color="#FF0000"><b>Repeat
            </b></font>DrawTest<font color="#000080">;
            </font>DrawMasks<font color="#000080">;
            </font>Button<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
            </font>ShowCursor<font color="#000080">;
            </font><font color="#FF0000"><b>Repeat Until </b></font>LeftButton<font color="#000080">;
            </font>X<font color="#000080">:=</font>GetMouseX<font color="#000080">;
            </font>Y<font color="#000080">:=</font>GetMouseY<font color="#000080">;
            </font><font color="#FF0000"><b>Repeat Until not </b></font>LeftButton<font color="#000080">;
            </font>HideCursor<font color="#000080">;
            </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
              Begin
                </b></font>M<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
                </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
                  Begin
                    If </b></font>InBox <font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font><font color="#800000">281</font><font color="#000080">-</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">41</font><font color="#000080">+(</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">279</font><font color="#000080">-(</font>I<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">39</font><font color="#000080">+</font>J<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">) </font><font color="#FF0000"><b>then
                      </b></font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font>J<font color="#000080">]:=</font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font>J<font color="#000080">] </font><font color="#FF0000"><b>XOR </b></font>M<font color="#000080">;
                    </font>M<font color="#000080">:=</font>M <font color="#FF0000"><b>shl </b></font><font color="#800000">1
                  </font><font color="#FF0000"><b>End
              End</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
              Begin
                </b></font>M<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
                </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">16 </font><font color="#FF0000"><b>do
                  Begin
                    If </b></font>InBox <font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font><font color="#800000">601</font><font color="#000080">-</font>I<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">41</font><font color="#000080">+(</font>J<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">599</font><font color="#000080">-(</font>I<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">39</font><font color="#000080">+</font>J<font color="#000080">*</font><font color="#800000">15</font><font color="#000080">) </font><font color="#FF0000"><b>then
                      </b></font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font><font color="#800000">16</font><font color="#000080">+</font>J<font color="#000080">]:=</font>Mask<font color="#000080">.</font>Mask <font color="#000080">[</font><font color="#800000">16</font><font color="#000080">+</font>J<font color="#000080">] </font><font color="#FF0000"><b>XOR </b></font>M<font color="#000080">;
                    </font>M<font color="#000080">:=</font>M <font color="#FF0000"><b>shl </b></font><font color="#800000">1
                  </font><font color="#FF0000"><b>End
              End</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do
              If </b></font>InBox <font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">,</font>I<font color="#000080">*</font><font color="#800000">170</font><font color="#000080">-</font><font color="#800000">70</font><font color="#000080">,</font><font color="#800000">430</font><font color="#000080">,</font>I<font color="#000080">*</font><font color="#800000">170</font><font color="#000080">+</font><font color="#800000">30</font><font color="#000080">,</font><font color="#800000">450</font><font color="#000080">) </font><font color="#FF0000"><b>then
                </b></font>Button<font color="#000080">:=</font>I<font color="#000080">;
              </font><font color="#FF0000"><b>Case </b></font>Button <font color="#FF0000"><b>of
                </b></font><font color="#800000">1 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
                      </b></font>Load<font color="#000080">;
                      </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>IOResult<font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font>Error <font color="#FF0000"><b>then
                        </b></font>Write <font color="#000080">(</font><font color="#800000">#7</font><font color="#000080">)
                                                </font><font color="#FF0000"><b>else
                        </b></font>Mask<font color="#000080">:=</font>Temp
                    <font color="#FF0000"><b>End</b></font><font color="#000080">;
                </font><font color="#800000">2 </font><font color="#000080">: </font><font color="#FF0000"><b>Begin
                      </b></font>Save<font color="#000080">;
                      </font><font color="#FF0000"><b>If </b></font>IOResult<font color="#000080">&lt;&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then
                        </b></font>Write <font color="#000080">(</font><font color="#800000">#7</font><font color="#000080">)
                    </font><font color="#FF0000"><b>End
              End
          Until </b></font>Button<font color="#000080">=</font><font color="#800000">3</font><font color="#000080">;
        </font>HideCursor
      <font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>Begin
      </b></font>Initialize<font color="#000080">;
      </font>EditCursor<font color="#000080">;
      </font>CloseGraph
    <font color="#FF0000"><b>End</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MOUSE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0043.PAS">Original</a><b>]</b></p></body>
</html>
