<html>
<head><title> "Gfx mouse in textmode?" by BAS VAN GAALEN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MOUSE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0025.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
 JK&gt; Could anybody send me a routine that uses graphical mouse pointer
 JK&gt; in 80x25 textmode? I don't want a block cursor which moves from
 JK&gt; character to another (it's not very accurate). I would need a
 JK&gt; arrow pointer which can be moved softly around the screen.

It aint perfect - it's a little shocky - but it works, and might give you a
clue on how to operate. A credit would be in place. ;-)

Check this:

&gt;--- cut here
}
</i></font><font color="#FF0000"><b>program </b></font>txtmouse<font color="#000080">;
</font><font color="#008000"><i>{ Graphics mouse cursor in textmode, by Bas van Gaalen,
  fido 2:285/213.8, internet bas.van.gaalen@schotman.nl, Holland, PD }
</i></font><font color="#FF0000"><b>uses
  </b></font>crt<font color="#000080">;
</font><font color="#FF0000"><b>const
  </b></font>setimg<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">; </font>getimg<font color="#000080">=</font><font color="#800000">1</font><font color="#000080">;
  </font>vidseg<font color="#000080">:</font>word<font color="#000080">=</font><font color="#800000">$b800</font><font color="#000080">;
  </font>mscursor<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">=(</font><font color="#800000">252</font><font color="#000080">,</font><font color="#800000">248</font><font color="#000080">,</font><font color="#800000">248</font><font color="#000080">,</font><font color="#800000">248</font><font color="#000080">,</font><font color="#800000">252</font><font color="#000080">,</font><font color="#800000">142</font><font color="#000080">,</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">);
</font><font color="#FF0000"><b>type
  </b></font>worktype<font color="#000080">=</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>pdata<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
  </font>px<font color="#000080">,</font>py<font color="#000080">:</font>byte<font color="#000080">;

</font><font color="#008000"><i>{ mouse routines ----------------------------------------------------------- }

</i></font><font color="#FF0000"><b>function </b></font>mouseinstalled<font color="#000080">:</font>boolean<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">xor ax,ax; int 33h; cmp ax,-1; je @skip; xor al,al; @skip: </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getmousex<font color="#000080">:</font>word<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,3; int 33h; mov ax,cx </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getmousey<font color="#000080">:</font>word<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,3; int 33h; mov ax,dx </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>leftpressed<font color="#000080">:</font>boolean<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,3; int 33h; and bx,1; mov ax,bx </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>rightpressed<font color="#000080">:</font>boolean<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,3; int 33h; and bx,2; mov ax,bx </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>mousesensetivity<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,1ah; mov bx,x; mov cx,y; xor dx,dx; int 33h </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>mousewindow<font color="#000080">(</font>l<font color="#000080">,</font>t<font color="#000080">,</font>r<font color="#000080">,</font>b<font color="#000080">:</font>word<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,7; mov cx,l; mov dx,r; int 33h; mov ax,8
  mov cx,t; mov dx,b; int 33h </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>hardx<font color="#000080">:</font>byte<font color="#000080">; </font><font color="#FF0000"><b>begin </b></font>hardx<font color="#000080">:=</font>getmousex <font color="#FF0000"><b>div </b></font><font color="#800000">8</font><font color="#000080">; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>hardy<font color="#000080">:</font>byte<font color="#000080">; </font><font color="#FF0000"><b>begin </b></font>hardy<font color="#000080">:=</font>getmousey <font color="#FF0000"><b>div </b></font><font color="#800000">8</font><font color="#000080">; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>smoothx<font color="#000080">:</font>word<font color="#000080">; </font><font color="#FF0000"><b>begin </b></font>smoothx<font color="#000080">:=</font>getmousex <font color="#FF0000"><b>mod </b></font><font color="#800000">8</font><font color="#000080">; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>smoothy<font color="#000080">:</font>word<font color="#000080">; </font><font color="#FF0000"><b>begin </b></font>smoothy<font color="#000080">:=</font>getmousey <font color="#FF0000"><b>mod </b></font><font color="#800000">8</font><font color="#000080">; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ -------------------------------------------------------------------------- }

</i></font><font color="#FF0000"><b>procedure </b></font>getsetimage<font color="#000080">(</font>chr<font color="#000080">:</font>byte<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>data<font color="#000080">; </font>getset<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">push ds
  mov al,32
  mul [chr]
  cmp getset,getimg
  je @goget
  mov di,ax
  mov ax,0a000h
  mov es,ax
  mov cx,8/2
  lds si,data
  jmp @start
 @goget:
  mov si,ax
  mov ax,0a000h
  mov ds,ax
  mov cx,8/2
  les di,data
 @start:
  cli
  mov dx,03c4h; mov ax,0402h; out dx,ax; mov ax,0704h; out dx,ax
  mov dx,03ceh; mov ax,0204h; out dx,ax; mov ax,0005h; out dx,ax; 
  mov ax,0006h; out dx,ax
  rep movsw
  mov dx,03c4h; mov ax,0302h; out dx,ax; mov ax,0304h; out dx,ax
  mov dx,03ceh; mov ax,0004h; out dx,ax; mov ax,1005h; out dx,ax; 
  mov ax,0e06h; out dx,ax
  sti
  pop ds
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ -------------------------------------------------------------------------- }

</i></font><font color="#FF0000"><b>procedure </b></font>retrace<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov dx,03dah
  @vert1: in al,dx; test al,8; jnz @vert1
  @vert2: in al,dx; test al,8; jz @vert2
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ save old characters to screen }
</i></font><font color="#FF0000"><b>procedure </b></font>saveold<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>pdata<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font>mem<font color="#000080">[</font>vidseg<font color="#000080">:</font>py<font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+</font>px<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">];
  </font>pdata<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">]:=</font>mem<font color="#000080">[</font>vidseg<font color="#000080">:</font>py<font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+(</font>px<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">];
  </font>pdata<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">]:=</font>mem<font color="#000080">[</font>vidseg<font color="#000080">:(</font>py<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+</font>px<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">];
  </font>pdata<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">]:=</font>mem<font color="#000080">[</font>vidseg<font color="#000080">:(</font>py<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+(</font>px<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ restore old characters to screen }
</i></font><font color="#FF0000"><b>procedure </b></font>restoreold<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>mem<font color="#000080">[</font>vidseg<font color="#000080">:</font>py<font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+</font>px<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">]:=</font>pdata<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">];
  </font>mem<font color="#000080">[</font>vidseg<font color="#000080">:</font>py<font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+(</font>px<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">]:=</font>pdata<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
  </font>mem<font color="#000080">[</font>vidseg<font color="#000080">:(</font>py<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+</font>px<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">]:=</font>pdata<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">];
  </font>mem<font color="#000080">[</font>vidseg<font color="#000080">:(</font>py<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+(</font>px<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">]:=</font>pdata<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ clear 'data' }
</i></font><font color="#FF0000"><b>procedure </b></font>cleardata<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>data<font color="#000080">:</font>worktype<font color="#000080">); </font><font color="#FF0000"><b>begin
  </b></font>fillchar<font color="#000080">(</font>data<font color="#000080">,</font>sizeof<font color="#000080">(</font>data<font color="#000080">),</font><font color="#800000">0</font><font color="#000080">); </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ get chars from screen and put font-data in 'data' }
</i></font><font color="#FF0000"><b>procedure </b></font>getscrdata<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>data<font color="#000080">:</font>worktype<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>ch<font color="#000080">,</font>i<font color="#000080">,</font>j<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>x<font color="#000080">:=</font>hardx<font color="#000080">; </font>y<font color="#000080">:=</font>hardy<font color="#000080">;
  </font>getsetimage<font color="#000080">(</font>mem<font color="#000080">[</font>vidseg<font color="#000080">:</font>y<font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+</font>x<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">],</font>data<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">],</font>getimg<font color="#000080">);
  </font>getsetimage<font color="#000080">(</font>mem<font color="#000080">[</font>vidseg<font color="#000080">:</font>y<font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">],</font>data<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>getimg<font color="#000080">);
  </font>getsetimage<font color="#000080">(</font>mem<font color="#000080">[</font>vidseg<font color="#000080">:(</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+</font>x<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">],</font>data<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>getimg<font color="#000080">);
  </font>getsetimage<font color="#000080">(</font>mem<font color="#000080">[</font>vidseg<font color="#000080">:(</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+(</font>x<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">],</font>data<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>getimg<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ add info-font-data and mouse-arrow together }
</i></font><font color="#FF0000"><b>procedure </b></font>addata<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>data<font color="#000080">:</font>worktype<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>i<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7</font><font color="#000080">-</font>smoothy <font color="#FF0000"><b>do </b></font>data<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">,</font>i<font color="#000080">+</font>smoothy<font color="#000080">]:=</font>data<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">,</font>i<font color="#000080">+</font>smoothy<font color="#000080">] </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>mscursor<font color="#000080">[</font>i<font color="#000080">]
</font><font color="#FF0000"><b>shr </b></font>smoothx<font color="#000080">);  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7</font><font color="#000080">-</font>smoothy <font color="#FF0000"><b>do </b></font>data<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font>i<font color="#000080">+</font>smoothy<font color="#000080">]:=</font>data<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font>i<font color="#000080">+</font>smoothy<font color="#000080">] </font><font color="#FF0000"><b>or
</b></font><font color="#000080">(</font>mscursor<font color="#000080">[</font>i<font color="#000080">] </font><font color="#FF0000"><b>shl </b></font><font color="#000080">(</font><font color="#800000">8</font><font color="#000080">-</font>smoothx<font color="#000080">));  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>smoothy <font color="#FF0000"><b>do </b></font>data<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font>i<font color="#000080">]:=</font>data<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font>i<font color="#000080">] </font><font color="#FF0000"><b>or
</b></font><font color="#000080">(</font>mscursor<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">-</font>smoothy<font color="#000080">+</font>i<font color="#000080">] </font><font color="#FF0000"><b>shr </b></font>smoothx<font color="#000080">);  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>smoothy <font color="#FF0000"><b>do
</b></font>data<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">,</font>i<font color="#000080">]:=</font>data<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">,</font>i<font color="#000080">] </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>mscursor<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">-</font>smoothy<font color="#000080">+</font>i<font color="#000080">] </font><font color="#FF0000"><b>shl </b></font><font color="#000080">(</font><font color="#800000">8</font><font color="#000080">-</font>smoothx<font color="#000080">));</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ place graphicsmouse on textscreen }
</i></font><font color="#FF0000"><b>procedure </b></font>placemouse<font color="#000080">(</font>data<font color="#000080">:</font>worktype<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do </b></font>getsetimage<font color="#000080">(</font><font color="#800000">219</font><font color="#000080">+</font>i<font color="#000080">,</font>data<font color="#000080">[</font>i<font color="#000080">],</font>setimg<font color="#000080">);
  </font>x<font color="#000080">:=</font>hardx<font color="#000080">; </font>y<font color="#000080">:=</font>hardy<font color="#000080">; </font>px<font color="#000080">:=</font>x<font color="#000080">; </font>py<font color="#000080">:=</font>y<font color="#000080">; </font>saveold<font color="#000080">;
  </font>mem<font color="#000080">[</font>vidseg<font color="#000080">:</font>py<font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+</font>px<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">]:=</font><font color="#800000">219</font><font color="#000080">;
  </font>mem<font color="#000080">[</font>vidseg<font color="#000080">:</font>py<font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+(</font>px<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">]:=</font><font color="#800000">220</font><font color="#000080">;
  </font>mem<font color="#000080">[</font>vidseg<font color="#000080">:(</font>py<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+</font>px<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">]:=</font><font color="#800000">221</font><font color="#000080">;
  </font>mem<font color="#000080">[</font>vidseg<font color="#000080">:(</font>py<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">160</font><font color="#000080">+(</font>px<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">2</font><font color="#000080">]:=</font><font color="#800000">222</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ -------------------------------------------------------------------------- }

</i></font><font color="#FF0000"><b>var
  </b></font>ms<font color="#000080">:</font>worktype<font color="#000080">;
  </font>i<font color="#000080">,</font>j<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>textmode<font color="#000080">(</font>co80<font color="#000080">+</font>font8x8<font color="#000080">);
  </font>mem<font color="#000080">[</font><font color="#800000">$40</font><font color="#000080">:</font><font color="#800000">$49</font><font color="#000080">]:=</font><font color="#800000">6</font><font color="#000080">; </font><font color="#008000"><i>{ fool mouse to be in graphics-mode (needed for smooth) }
  </i></font><font color="#FF0000"><b>if not </b></font>mouseinstalled <font color="#FF0000"><b>then begin </b></font>writeln<font color="#000080">(</font><font color="#800000">'need mouse.'</font><font color="#000080">); </font>halt<font color="#000080">; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>mousesensetivity<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">);
  </font>mousewindow<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">639</font><font color="#000080">-</font><font color="#800000">8</font><font color="#000080">,</font><font color="#800000">399</font><font color="#000080">-</font><font color="#800000">8</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">10 </font><font color="#FF0000"><b>to </b></font><font color="#800000">69 </font><font color="#FF0000"><b>do for </b></font>j<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">35 </font><font color="#FF0000"><b>do </b></font>memw<font color="#000080">[</font>vidseg<font color="#000080">:</font><font color="#800000">4</font><font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+</font>j<font color="#000080">*</font><font color="#800000">160</font><font color="#000080">+</font>i<font color="#000080">+</font>i<font color="#000080">]:=((</font>j<font color="#000080">*</font><font color="#800000">20</font><font color="#000080">+</font>i<font color="#000080">)
</font><font color="#FF0000"><b>mod </b></font><font color="#800000">255</font><font color="#000080">)+</font><font color="#800000">7</font><font color="#000080">*</font><font color="#800000">256</font><font color="#000080">;  </font>px<font color="#000080">:=</font>hardx<font color="#000080">; </font>py<font color="#000080">:=</font>hardy<font color="#000080">; </font>saveold<font color="#000080">;
  </font><font color="#FF0000"><b>while not </b></font>leftpressed <font color="#FF0000"><b>do begin
    </b></font>write<font color="#000080">(</font><font color="#800000">#13</font><font color="#000080">,</font>hardx<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">','</font><font color="#000080">,</font>hardy<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">);
    </font>retrace<font color="#000080">;
    </font>restoreold<font color="#000080">;
    </font>cleardata<font color="#000080">(</font>ms<font color="#000080">);
    </font>getscrdata<font color="#000080">(</font>ms<font color="#000080">);
    </font>addata<font color="#000080">(</font>ms<font color="#000080">);
    </font>placemouse<font color="#000080">(</font>ms<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>textmode<font color="#000080">(</font>lastmode<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MOUSE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0025.PAS">Original</a><b>]</b></p></body>
</html>
