<html>
<head><title> "Mouse Detection" by FLORIAN ANSORGE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to MOUSE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0020.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
(The Procedure Mouse_Check can be done shorter, but this one &quot;remembers&quot; a
mouseclick, so you can click the mouse, and at a later time call this
procedure and it will tell you the mouse-information!)

&gt;-----------------------------            }

</i></font><font color="#FF0000"><b>PROGRAM </b></font>Mouse_on_the_screen<font color="#000080">;

</font><font color="#FF0000"><b>USES </b></font>DOS<font color="#000080">,</font>Graph<font color="#000080">;

</font><font color="#FF0000"><b>TYPE
     </b></font>MouseType <font color="#000080">= </font><font color="#FF0000"><b>RECORD
                   </b></font>x<font color="#000080">, </font>y<font color="#000080">, </font>Button     <font color="#000080">: </font>Word<font color="#000080">;
                   </font>RButton<font color="#000080">, </font>LButton <font color="#000080">: </font>Boolean<font color="#000080">;
                 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>VAR
     </b></font>Reg                              <font color="#000080">: </font>Registers<font color="#000080">;
     </font>Mouse                            <font color="#000080">: </font>Mousetype<font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Show_Mouse<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>Reg<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">,</font>Reg<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Hide_Mouse<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>Reg<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">,</font>Reg<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>SetMouseArea<font color="#000080">(</font>XMin<font color="#000080">,</font>YMin<font color="#000080">,</font>XMax<font color="#000080">,</font>YMax <font color="#000080">:</font>Word<font color="#000080">);
</font><font color="#FF0000"><b>BEGIN
  </b></font>Reg<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">7</font><font color="#000080">;
  </font>Reg<font color="#000080">.</font>CX <font color="#000080">:= </font>XMin<font color="#000080">;
  </font>Reg<font color="#000080">.</font>DX <font color="#000080">:= </font>XMax<font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">,</font>Reg<font color="#000080">);
  </font>Reg<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">8</font><font color="#000080">;
  </font>Reg<font color="#000080">.</font>CX <font color="#000080">:= </font>YMin<font color="#000080">;
  </font>Reg<font color="#000080">.</font>DX <font color="#000080">:= </font>YMax<font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">,</font>Reg<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Init_Mouse<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>Reg<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">,</font>Reg<font color="#000080">);
  </font>SetMouseArea<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>GetMaxX<font color="#000080">,</font>GetMaxY<font color="#000080">);
  </font>Reg<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">4</font><font color="#000080">;
  </font>Reg<font color="#000080">.</font>CX <font color="#000080">:= </font><font color="#800000">100</font><font color="#000080">;
  </font>Reg<font color="#000080">.</font>DX <font color="#000080">:= </font><font color="#800000">100</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">,</font>Reg<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Mouse_Check<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>Reg<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">;
  </font>Reg<font color="#000080">.</font>BX <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">,</font>Reg<font color="#000080">);
  </font>Mouse<font color="#000080">.</font>RButton <font color="#000080">:= </font>Reg<font color="#000080">.</font>BX <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">;
  </font>Mouse<font color="#000080">.</font>Button <font color="#000080">:= </font>Reg<font color="#000080">.</font>AX<font color="#000080">;
  </font><font color="#FF0000"><b>IF </b></font>Mouse<font color="#000080">.</font>RButton <font color="#FF0000"><b>THEN </b></font>Mouse<font color="#000080">.</font>Button <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
  </font>Mouse<font color="#000080">.</font>X <font color="#000080">:= </font>Reg<font color="#000080">.</font>CX<font color="#000080">;
  </font>Mouse<font color="#000080">.</font>Y <font color="#000080">:= </font>Reg<font color="#000080">.</font>DX<font color="#000080">;

  </font><font color="#FF0000"><b>IF NOT </b></font>Mouse<font color="#000080">.</font>RButton
    <font color="#FF0000"><b>THEN Begin
           </b></font>Reg<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">;
           </font>Reg<font color="#000080">.</font>BX <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
           </font>Intr<font color="#000080">(</font><font color="#800000">$33</font><font color="#000080">,</font>Reg<font color="#000080">);
           </font>Mouse<font color="#000080">.</font>LButton <font color="#000080">:= </font>Reg<font color="#000080">.</font>BX <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">;
           </font>Mouse<font color="#000080">.</font>Button <font color="#000080">:= </font>Reg<font color="#000080">.</font>AX<font color="#000080">;
           </font><font color="#FF0000"><b>IF </b></font>Mouse<font color="#000080">.</font>LButton <font color="#FF0000"><b>THEN </b></font>Mouse<font color="#000080">.</font>Button <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
           </font>Mouse<font color="#000080">.</font>X <font color="#000080">:= </font>Reg<font color="#000080">.</font>CX<font color="#000080">;
           </font>Mouse<font color="#000080">.</font>Y <font color="#000080">:= </font>Reg<font color="#000080">.</font>DX<font color="#000080">;
         </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
  </b></font><font color="#008000"><i>{Init graphics screen here!}

  </i></font>Init_Mouse<font color="#000080">;
  </font>Show_Mouse<font color="#000080">;
  .                     </font><font color="#008000"><i>{You have to finish this part yourself}
  </i></font><font color="#000080">.                     </font><font color="#008000"><i>{ ___     }
  </i></font><font color="#000080">.                     </font><font color="#008000"><i>{ |-lorian}
  </i></font>Hide_Mouse<font color="#000080">;
 </font><font color="#008000"><i>{CloseGraph}</i></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to MOUSE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0020.PAS">Original</a><b>]</b></p></body>
</html>
