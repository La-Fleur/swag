<html>
<head><title> "XY Cursor Position in ASM" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to CRT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; If anyone is interested in the BAsm GotoXY/WhereX/WhereY routines
&gt; I'll be happy to post them.   They use standard BIOS routines, and

I simply followed an Interrupt listing I had to create these Functions.

Note the DEC commands in GotoXY, and the INC command in Each WHERE* Function.
These are there to make the Procedures/Functions Compatible With the TP Crt
routines, which are 1-based.  (ie: 1,1 in TP.Crt is upper left hand corner).
The BIOS routines need to be given 0,0 For the same coordinates.   If you don't
want to remain Compatible With Turbo's GotoXY and WHERE* Functions, delete them
out and keep your code Zero-based For X/Y screen coords.
}

</i></font><font color="#FF0000"><b>Procedure </b></font>GotoXY<font color="#000080">(</font>X<font color="#000080">,</font>Y <font color="#000080">: </font>Byte<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">MOV DH, Y    </font><font color="#008000"><i>{ DH = Row (Y) }
  </i></font><font color="#FF00FF">MOV DL, X    </font><font color="#008000"><i>{ DL = Column (X) }
  </i></font><font color="#FF00FF">DEC DH       </font><font color="#008000"><i>{ Adjust For Zero-based Bios routines }
  </i></font><font color="#FF00FF">DEC DL       </font><font color="#008000"><i>{ Turbo Crt.GotoXY is 1-based }
  </i></font><font color="#FF00FF">MOV BH,0     </font><font color="#008000"><i>{ Display page 0 }
  </i></font><font color="#FF00FF">MOV AH,2     </font><font color="#008000"><i>{ Call For SET CURSOR POSITION }
  </i></font><font color="#FF00FF">INT 10h
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function  </b></font>WhereX <font color="#000080">: </font>Byte<font color="#000080">;  </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">MOV     AH,3      </font><font color="#008000"><i>{Ask For current cursor position}
  </i></font><font color="#FF00FF">MOV     BH,0      </font><font color="#008000"><i>{ On page 0 }
  </i></font><font color="#FF00FF">INT     10h       </font><font color="#008000"><i>{ Return inFormation in DX }
  </i></font><font color="#FF00FF">INC     DL        </font><font color="#008000"><i>{ Bios Assumes Zero-based. Crt.WhereX Uses 1 based }
  </i></font><font color="#FF00FF">MOV     AL, DL    </font><font color="#008000"><i>{ Return X position in AL For use in Byte Result }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>WhereY <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">MOV     AH,3     </font><font color="#008000"><i>{Ask For current cursor position}
  </i></font><font color="#FF00FF">MOV     BH,0     </font><font color="#008000"><i>{ On page 0 }
  </i></font><font color="#FF00FF">INT     10h      </font><font color="#008000"><i>{ Return inFormation in DX }
  </i></font><font color="#FF00FF">INC     DH       </font><font color="#008000"><i>{ Bios Assumes Zero-based. Crt.WhereY Uses 1 based }
  </i></font><font color="#FF00FF">MOV     AL, DH   </font><font color="#008000"><i>{ Return Y position in AL For use in Byte Result }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
Note that the WhereX and WhereY Function call the exact same Bios function.
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to CRT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p></body>
</html>
