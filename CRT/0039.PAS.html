<html>
<head><title> "Re: Output to 26th line" by KELD R. HANSEN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to CRT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0039.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Can you tell me how to get 480 scan lines going in text mode.
Sure (routine assumes a global variable VGA that tells if running on a VGA
system or not, as the function is only available on VGA compatible cards):}

</i></font><font color="#FF0000"><b>PROCEDURE </b></font>SetScanLines<font color="#000080">(</font>No <font color="#000080">: </font>WORD<font color="#000080">); </font><font color="#FF0000"><b>ASSEMBLER</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>ASM
                </b></font><font color="#FF00FF">CMP     VGA,TRUE                </font><font color="#008000"><i>{ Test if VGA card!!    }
                </i></font><font color="#FF00FF">JNE     @OUT
                CMP     No,480
                JE      @Set480
                MOV     AX,1200h
                MOV     BX,No
                CMP     BX,200
                JE      @SET
                INC     AX
                CMP     BX,350
                JE      @SET
                CMP     BX,400
                JNE     @OUT
                INC     AX
        @SET:   MOV     BL,30h
                INT     10h
                JMP     @OUT
        @Set480:MOV     DX,03CCh                </font><font color="#008000"><i>{ Set Sync-Polarity     }
                </i></font><font color="#FF00FF">IN      AL,DX
                OR      AL,$C0
                MOV     DX,03C2h
                OUT     DX,AL
                MOV     AL,6                    </font><font color="#008000"><i>{ Vertical Total        }
                </i></font><font color="#FF00FF">MOV     DX,03D4h
                OUT     DX,AL
                MOV     AL,11                   </font><font color="#008000"><i>{ CRT Overflow          }
                </i></font><font color="#FF00FF">MOV     DX,03D5h
                OUT     DX,AL
                MOV     AL,7
                DEC     DX
                OUT     DX,AL
                MOV     AL,62                   </font><font color="#008000"><i>{ Maximum Scan Line     }
                </i></font><font color="#FF00FF">INC     DX
                OUT     DX,AL
                MOV     AL,9
                DEC     DX
                OUT     DX,AL
                MOV     AL,79                   </font><font color="#008000"><i>{ Start Vert. Retrace   }
                </i></font><font color="#FF00FF">INC     DX
                OUT     DX,AL
                MOV     AL,16
                DEC     DX
                OUT     DX,AL
                MOV     AL,234                  </font><font color="#008000"><i>{ End Vertical Retrace  }
                </i></font><font color="#FF00FF">INC     DX
                OUT     DX,AL
                MOV     AL,17
                DEC     DX
                OUT     DX,AL
                MOV     AL,140                  </font><font color="#008000"><i>{ Vert. Disp Enable End }
                </i></font><font color="#FF00FF">INC     DX
                OUT     DX,AL
                MOV     AL,18
                DEC     DX
                OUT     DX,AL
                MOV     AL,223                  </font><font color="#008000"><i>{ Start Vert. Blanking  }
                </i></font><font color="#FF00FF">INC     DX
                OUT     DX,AL
                MOV     AL,21
                DEC     DX
                OUT     DX,AL
                MOV     AL,231                  </font><font color="#008000"><i>{ End Vertical Blanking }
                </i></font><font color="#FF00FF">INC     DX
                OUT     DX,AL
                MOV     AL,22
                DEC     DX
                OUT     DX,AL
                MOV     AL,4
                INC     DX
                OUT     DX,AL
        @OUT:
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font>Keld <font color="#000080">&quot;</font>HeartWare<font color="#000080">&quot; </font>Hansen<font color="#000080">, </font>Sysop <font color="#800000">2</font><font color="#000080">:</font><font color="#800000">234</font><font color="#000080">/</font><font color="#800000">10.0
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to CRT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0039.PAS">Original</a><b>]</b></p></body>
</html>
