<html>
<head><title> "ANSI/BIOS/DIRECT Writes" by P. MACKAY</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to CRT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0025.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#FF0000"><b>Unit </b></font>IO<font color="#000080">;


</font><font color="#008000"><i>{ Copyright (C) 1988 by P.Mackay. All Rights Reserved

   Name     :  IO

   Compiler :  Unit for Borland's Turbo-Pascal v4/5 ...

   Function :  Provides capability to easily use and switch between the 3
                 output methods available: ANSI/BIOS/DIRECT-WRITES.

   Guarantee:  If it breaks, you get to keep both pieces.

   Author   :  Phil Mackay,
               21 Andrew Place, North Rocks
               2151 N.S.W  Australia.                                      }

</i></font><font color="#FF0000"><b>interface

Type
  </b></font>OutType        <font color="#000080">= (</font>ANSI<font color="#000080">,</font>BIOS<font color="#000080">,</font>DIRECT<font color="#000080">);

</font><font color="#FF0000"><b>Const
  </b></font>CLS            <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[2J'</font><font color="#000080">;
  </font>Left           <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[1D'</font><font color="#000080">;
  </font>Right          <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[1C'</font><font color="#000080">;
  </font>Up             <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[1A'</font><font color="#000080">;
  </font>Down           <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[1B'</font><font color="#000080">;
  </font>Black          <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[30m'</font><font color="#000080">;
  </font>Blue           <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[34m'</font><font color="#000080">;
  </font>Green          <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[32m'</font><font color="#000080">;
  </font>Cyan           <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[36m'</font><font color="#000080">;
  </font>Orange         <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[31m'</font><font color="#000080">;
  </font>Purple         <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[35m'</font><font color="#000080">;
  </font>Red            <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[33m'</font><font color="#000080">;
  </font>White          <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[37m'</font><font color="#000080">;
  </font>BlackB         <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[40m'</font><font color="#000080">;
  </font>BlueB          <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[44m'</font><font color="#000080">;
  </font>GreenB         <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[42m'</font><font color="#000080">;
  </font>CyanB          <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[46m'</font><font color="#000080">;
  </font>OrangeB        <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[41m'</font><font color="#000080">;
  </font>PinkB          <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[45m'</font><font color="#000080">;
  </font>RedB           <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[43m'</font><font color="#000080">;
  </font>WhiteB         <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[47m'</font><font color="#000080">;
  </font>Bold           <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[1m'</font><font color="#000080">;
  </font>Flash          <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[5m'</font><font color="#000080">;
  </font>Off            <font color="#000080">= </font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[0m'</font><font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>IOmethod         <font color="#000080">: </font>OutType<font color="#000080">;
  </font>backcolor        <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>IOGotoXY<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>IOTextColor<font color="#000080">(</font>color <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>IOTextBackground<font color="#000080">(</font>color <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>IOClrEol<font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>IOClrScr<font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>OutputMethod <font color="#000080">(</font>Method <font color="#000080">: </font>OutType<font color="#000080">);

</font><font color="#FF0000"><b>implementation

Uses </b></font>CRT<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>IOGotoXY<font color="#000080">(</font>x<font color="#000080">,</font>y <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>Sx<font color="#000080">,</font>Sy <font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>IOmethod <font color="#000080">= </font>ANSI <font color="#FF0000"><b>then
    begin
      </b></font>Str<font color="#000080">(</font>x<font color="#000080">,</font>Sx<font color="#000080">);
      </font>str<font color="#000080">(</font>y<font color="#000080">,</font>Sy<font color="#000080">);
      </font>write<font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[' </font><font color="#000080">+ </font>Sy <font color="#000080">+ </font><font color="#800000">';' </font><font color="#000080">+ </font>Sx <font color="#000080">+ </font><font color="#800000">'H'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end
  else </b></font>GotoXY<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>procedure </b></font>IOTextColor<font color="#000080">(</font>color <font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>var
  </b></font>flashing <font color="#000080">: </font>boolean<font color="#000080">;

</font><font color="#FF0000"><b>begin
  if </b></font>IOmethod <font color="#000080">= </font>ANSI <font color="#FF0000"><b>then
    begin
      </b></font>flashing <font color="#000080">:= </font>false<font color="#000080">;

      </font><font color="#FF0000"><b>if </b></font>color <font color="#000080">&gt; </font><font color="#800000">15 </font><font color="#FF0000"><b>then
        begin
          </b></font>color <font color="#000080">:= </font>color <font color="#000080">- </font><font color="#800000">16</font><font color="#000080">;
          </font>flashing <font color="#000080">:= </font>true<font color="#000080">;
        </font><font color="#FF0000"><b>end
      else
        </b></font>write <font color="#000080">(</font>off<font color="#000080">);

      </font><font color="#FF0000"><b>if </b></font>color <font color="#000080">&gt; </font><font color="#800000">7 </font><font color="#FF0000"><b>then
        begin
          </b></font>color <font color="#000080">:= </font>color <font color="#000080">- </font><font color="#800000">8</font><font color="#000080">;
          </font>write <font color="#000080">(</font>Bold<font color="#000080">);
        </font><font color="#FF0000"><b>end
      else
        </b></font>write <font color="#000080">(</font>off<font color="#000080">);

      </font><font color="#FF0000"><b>if </b></font>flashing <font color="#FF0000"><b>then </b></font>write <font color="#000080">(</font>flash<font color="#000080">);

      </font><font color="#FF0000"><b>case </b></font>color <font color="#FF0000"><b>of
        </b></font><font color="#800000">0 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[30m'</font><font color="#000080">);
        </font><font color="#800000">1 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[34m'</font><font color="#000080">);
        </font><font color="#800000">2 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[32m'</font><font color="#000080">);
        </font><font color="#800000">3 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[36m'</font><font color="#000080">);
        </font><font color="#800000">4 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[31m'</font><font color="#000080">);
        </font><font color="#800000">5 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[35m'</font><font color="#000080">);
        </font><font color="#800000">6 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[33m'</font><font color="#000080">);
        </font><font color="#800000">7 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[37m'</font><font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>IOTextBackground<font color="#000080">(</font>Backcolor<font color="#000080">);
    </font><font color="#FF0000"><b>end
  else </b></font>TextColor<font color="#000080">(</font>color<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>procedure </b></font>IOTextBackground<font color="#000080">(</font>color <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>begin
  if </b></font>IOmethod <font color="#000080">= </font>ANSI <font color="#FF0000"><b>then
    begin
      Case </b></font>color <font color="#FF0000"><b>of
        </b></font><font color="#800000">0 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[40m'</font><font color="#000080">);
        </font><font color="#800000">1 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[44m'</font><font color="#000080">);
        </font><font color="#800000">2 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[42m'</font><font color="#000080">);
        </font><font color="#800000">3 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[46m'</font><font color="#000080">);
        </font><font color="#800000">4 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[41m'</font><font color="#000080">);
        </font><font color="#800000">5 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[45m'</font><font color="#000080">);
        </font><font color="#800000">6 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[43m'</font><font color="#000080">);
        </font><font color="#800000">7 </font><font color="#000080">: </font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[47m'</font><font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>BackColor <font color="#000080">:= </font>color<font color="#000080">;
    </font><font color="#FF0000"><b>end
  else </b></font>TextBackground<font color="#000080">(</font>color<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>procedure </b></font>IOClrEol<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>IOmethod <font color="#000080">= </font>ANSI <font color="#FF0000"><b>then </b></font>write <font color="#000080">(</font><font color="#800000">#27 </font><font color="#000080">+ </font><font color="#800000">'[K'</font><font color="#000080">)
    </font><font color="#FF0000"><b>else </b></font>ClrEol<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>procedure </b></font>IOClrScr<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>IOmethod <font color="#000080">= </font>ANSI <font color="#FF0000"><b>then </b></font>write <font color="#000080">(</font>Cls<font color="#000080">)
    </font><font color="#FF0000"><b>else </b></font>clrscr<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>procedure </b></font>OutputMethod <font color="#000080">(</font>Method<font color="#000080">: </font>OutType<font color="#000080">);

</font><font color="#FF0000"><b>begin
  Case </b></font>Method <font color="#FF0000"><b>of
    </b></font>ANSI   <font color="#000080">: </font><font color="#FF0000"><b>begin
               </b></font>assign <font color="#000080">(</font>input<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);
               </font>reset <font color="#000080">(</font>input<font color="#000080">);
               </font>assign <font color="#000080">(</font>output<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);
               </font>rewrite <font color="#000080">(</font>output<font color="#000080">);
               </font>IOmethod <font color="#000080">:= </font>ANSI<font color="#000080">;
             </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>BIOS   <font color="#000080">: </font><font color="#FF0000"><b>begin
               </b></font>AssignCRT <font color="#000080">(</font>output<font color="#000080">);
               </font>rewrite <font color="#000080">(</font>output<font color="#000080">);
               </font>AssignCRT <font color="#000080">(</font>input<font color="#000080">);
               </font>reset <font color="#000080">(</font>input<font color="#000080">);
               </font>DirectVideo <font color="#000080">:= </font>false<font color="#000080">;
               </font>IOmethod <font color="#000080">:= </font>BIOS<font color="#000080">;
             </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>DIRECT <font color="#000080">: </font><font color="#FF0000"><b>begin
               </b></font>AssignCRT <font color="#000080">(</font>output<font color="#000080">);
               </font>rewrite <font color="#000080">(</font>output<font color="#000080">);
               </font>AssignCRT <font color="#000080">(</font>input<font color="#000080">);
               </font>reset <font color="#000080">(</font>input<font color="#000080">);
               </font>DirectVideo <font color="#000080">:= </font>true<font color="#000080">;
               </font>IOmethod <font color="#000080">:= </font>DIRECT<font color="#000080">;
             </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>OutputMethod<font color="#000080">(</font>ANSI<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font><font color="#008000"><i>{--------------------------  DEMO ------------------------ }

</i></font><font color="#FF0000"><b>Program </b></font>IOtester<font color="#000080">;

</font><font color="#FF0000"><b>Uses </b></font>Crt<font color="#000080">, </font><font color="#008000"><i>{only for the Keypressed function}
     </i></font>IO<font color="#000080">;  </font><font color="#008000"><i>{  &lt;=== This is it }

(*   This demo will demonstrate the pros and cons of the video addressing
     types. The only thing non-standard about it, is that this program
     uses KeyPressed to detect the &quot;press any key ..&quot; which bypasses the
     Standard IO, and uses a BIOS keyboard routine.                       *)

(* IO and IODEMO are written by P.Mackay. *)
(* Copyright (C) 1988 All Rights Reserved *)

</i></font><font color="#FF0000"><b>procedure </b></font>Routine<font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>i <font color="#000080">: </font>integer<font color="#000080">;
  </font>ch<font color="#000080">: </font>char<font color="#000080">;


</font><font color="#FF0000"><b>begin
  </b></font>IOClrScr<font color="#000080">;
  </font>IOTextcolor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
  </font>writeln <font color="#000080">(</font><font color="#800000">'TEST;  I/O testing program'</font><font color="#000080">);
  </font>IOgotoxy<font color="#000080">(</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">);
  </font>IOtextcolor<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">);
  </font>writeln <font color="#000080">(</font><font color="#800000">'This program will demostrate the capabilities of the IO unit.'</font><font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>IOmethod <font color="#000080">= </font>ANSI <font color="#FF0000"><b>then
    begin
      </b></font>IOgotoxy<font color="#000080">(</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">);
      </font>IOtextcolor<font color="#000080">(</font><font color="#800000">14</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'Current operation: ANSI (standard-output)'</font><font color="#000080">);
      </font>IOgotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
      </font>IOtextcolor<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'   ANSI output uses a special sequence of control codes to send information'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'on things such as colour, cursor position etc .. A ANSI driver, however'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'is required to see these. ANSI is slow, but very useful for re-direction'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'in that it can be sent to a remote over a modem connection.'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>If </b></font>IOmethod <font color="#000080">= </font>BIOS <font color="#FF0000"><b>then
    begin
      </b></font>IOgotoxy<font color="#000080">(</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">);
      </font>IOtextcolor<font color="#000080">(</font><font color="#800000">14</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'Current operation: BIOS'</font><font color="#000080">);
      </font>IOgotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
      </font>IOtextcolor<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'   BIOS output is many times slower than DIRECT, but it is useful in multi-'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'tasking environments, where a program can re-route the BIOS video calls.'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'Programs which have bulk output would not use BIOS, but BIOS is good for'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'static output.'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>IOmethod <font color="#000080">= </font>DIRECT <font color="#FF0000"><b>then
    begin
      </b></font>IOgotoxy<font color="#000080">(</font><font color="#800000">14</font><font color="#000080">,</font><font color="#800000">8</font><font color="#000080">);
      </font>IOtextcolor<font color="#000080">(</font><font color="#800000">14</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'Current operation: DIRECT'</font><font color="#000080">);
      </font>IOgotoxy<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
      </font>IOtextcolor<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'   DIRECT output is where a program directly writes to the memory on the'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'display adapter. The only problems with this, is it sometimes causes snow'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'and may not work on some flavours of MS-DOS. Direct-writes are used by'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'most applications today, as it is so incredibly fast.'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'   It is so fast, infact, you may not be able to see the line below becuase'</font><font color="#000080">);
      </font>writeln <font color="#000080">(</font><font color="#800000">'it is being updated so frequently. (depends on computer type)'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>IOgotoxy<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">,</font><font color="#800000">16</font><font color="#000080">);
  </font>IOtextcolor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
  </font>write <font color="#000080">(</font><font color="#800000">'Speed test: (press any key)'</font><font color="#000080">);

  </font>i <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>repeat
    </b></font>IOgotoxy<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">);
    </font>write <font color="#000080">(</font><font color="#800000">'This is being written, wiped and re-written: '</font><font color="#000080">,</font>i<font color="#000080">);
    </font>IOgotoxy<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">);
    </font>write <font color="#000080">(</font><font color="#800000">'                                             '</font><font color="#000080">);
    </font>i <font color="#000080">:= </font>i <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>until </b></font>keypressed<font color="#000080">;

  </font>ch <font color="#000080">:= </font>readkey<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>CheckSnow <font color="#000080">:= </font>False<font color="#000080">;

  </font>OutputMethod<font color="#000080">(</font>ANSI<font color="#000080">);
  </font>Write <font color="#000080">(</font>BlackB<font color="#000080">);     </font><font color="#008000"><i>(* Black background ANSI code *)
  </i></font>Routine<font color="#000080">;

  </font>OutputMethod<font color="#000080">(</font>BIOS<font color="#000080">);
  </font>Routine<font color="#000080">;

  </font>OutputMethod<font color="#000080">(</font>DIRECT<font color="#000080">);
  </font>Routine<font color="#000080">;

  </font>OutputMethod<font color="#000080">(</font>ANSI<font color="#000080">);
  </font>IOClrscr<font color="#000080">;
  </font>IOTextcolor<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
  </font>IOTextbackground<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
  </font>Write <font color="#000080">(</font><font color="#800000">'IO; ANSI/BIOS/DIRECT routines for Turbo-Pascal v4 &amp; 5 DEMO by P.Mackay'</font><font color="#000080">);
  </font>IOClrEol<font color="#000080">;
  </font>IOTextbackground<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
  </font>IOTextcolor<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">);
  </font>writeln<font color="#000080">;
  </font>writeln<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to CRT SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0025.PAS">Original</a><b>]</b></p></body>
</html>
