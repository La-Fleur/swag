<html>
<head><title> "BIGARRAY.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DATATYPE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt;Do you know if the 64k Array limit still holds True when compiling
&gt;under protected mode in BP7?

&gt;...The answer is yes, however the limit is 64K (or 65,521 Bytes
&gt;to be more exact  ie: &lt; 65,535 Bytes) per data element. (ie: You
&gt;can create an Array of 1..N of 64K elements, using an Array of
&gt;Pointers.)

&gt;But you can do *that* in Real mode.

  ...Yes, but try building something like this:
}
</i></font><font color="#FF0000"><b>Uses
  </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Type
  </b></font>ar_64K   <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">65521</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
  </font>po_ar64K <font color="#000080">= ^</font>ar_64K<font color="#000080">;
  </font>ar_Po64K <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">200</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>po_ar64K<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>by_Index <font color="#000080">: </font>Byte<font color="#000080">;
  </font>Buffer   <font color="#000080">: </font>ar_Po64K<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>ClrScr<font color="#000080">;
  </font>by_Index <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>MaxAvail <font color="#000080">&gt; </font>SizeOf<font color="#000080">(</font>ar_64K<font color="#000080">)) </font><font color="#FF0000"><b>do
  begin
    </b></font>Inc<font color="#000080">(</font>by_Index<font color="#000080">);
    </font>New<font color="#000080">(</font>Buffer<font color="#000080">[</font>by_Index<font color="#000080">]);
    </font>GotoXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
    </font>ClrEol<font color="#000080">;
    </font>Write<font color="#000080">(</font><font color="#800000">'Maximum Memory Available: '</font><font color="#000080">, </font>MaxAvail<font color="#000080">);
    </font>Delay<font color="#000080">(</font><font color="#800000">300</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font><font color="#008000"><i>{
  ...Using the DPMI HEAP (and calling the correct DPMI Function
  to use your hard disk as virtual memory, unless you do have
  16Mb in your PC) you can allocate all 200 64K chunks of memory.
  With the &quot;Real mode&quot; HEAP, you'd be lucky to be able to allocate
  9 of these 64K chunks.

  ...It also means that you can use this DPMI HEAP to run HUGE .EXE's,
  as it can be used For either CODE or DATA. So you can forget about
  overlays, as you won't need them anymore.
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DATATYPE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p></body>
</html>
