<html>
<head><title> "DV-VIDEO.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DESQVIEW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0002.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; Has anyone done any work With DV's virtual screen?  Someplace I
&gt; used to have the address For it, but I seem to have lost it.  Does
&gt; anybody know what it is?

&gt; What I'm trying to do is bypass TJT's direct screen Writes by
&gt; replacing the BaseOfScreen Pointer With the one For DV's virtual
&gt; screen. if I can't do that then I'm going to have to make another
&gt; attempt at rewriting the assembly level screen routines.
}

</i></font><font color="#FF0000"><b>Function </b></font>DV_Video_Buffer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Reg<font color="#000080">.</font>AH <font color="#000080">:= </font><font color="#800000">$0F</font><font color="#000080">;
  </font>INTR<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">, </font>Reg<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>Reg<font color="#000080">.</font>AL <font color="#000080">= </font><font color="#800000">7 </font><font color="#FF0000"><b>then
    </b></font>Reg<font color="#000080">.</font>ES <font color="#000080">:= </font><font color="#800000">$B000
  </font><font color="#FF0000"><b>else
    </b></font>Reg<font color="#000080">.</font>ES <font color="#000080">:= </font><font color="#800000">$B800</font><font color="#000080">;
  </font><font color="#FF0000"><b>if </b></font>DV_Loaded <font color="#FF0000"><b>then
  begin
    </b></font>Reg<font color="#000080">.</font>DI <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>Reg<font color="#000080">.</font>AX <font color="#000080">:= </font><font color="#800000">$FE00</font><font color="#000080">;
    </font>INTR<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">, </font>Reg<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>DV_Video_Buffer <font color="#000080">:= </font>Reg<font color="#000080">.</font>ES<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DESQVIEW SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0002.PAS">Original</a><b>]</b></p></body>
</html>
