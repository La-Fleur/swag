<html>
<head><title> "High content Text Viewer" by JOSEPH PHILBERT</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0069.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#FF0000"><b>Program </b></font>Viewit<font color="#000080">;
</font><font color="#008000"><i>{$A-,B-,D-,E-,F-,G-,I-,L-,N-,O-,R-,S-,V-,X+}
{$M $800,0,655000}

 </i></font><font color="#FF0000"><b>Uses </b></font>Crt<font color="#000080">, </font>DOS<font color="#000080">, </font>Swunit<font color="#000080">, </font>UmbHeap<font color="#000080">;
                       </font><font color="#008000"><i>{^^^^^^^This Unit is in SWAG! Wish I can Find a XMS
                       one that can do the Same}
 </i></font><font color="#FF0000"><b>Type
   </b></font>TextMem <font color="#000080">= </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">15000</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font><font color="#000080">^</font><font color="#FF0000"><b>String</b></font><font color="#000080">;
   </font>BString <font color="#000080">= </font><font color="#FF0000"><b>String </b></font><font color="#000080">[</font><font color="#800000">32</font><font color="#000080">];
 </font><font color="#FF0000"><b>Var
   </b></font>NName  <font color="#000080">: </font><font color="#FF0000"><b>String </b></font><font color="#000080">[</font><font color="#800000">14</font><font color="#000080">];
   </font>FileVar<font color="#000080">: </font>Text<font color="#000080">;
   </font>FText  <font color="#000080">: </font>TextMem<font color="#000080">;
   </font>Lines  <font color="#000080">: </font>Integer<font color="#000080">;
   </font>Last   <font color="#000080">: </font>Integer<font color="#000080">;
   </font>OneLine<font color="#000080">, </font>Temp<font color="#000080">, </font>SString<font color="#000080">: </font>BString<font color="#000080">;

 </font><font color="#FF0000"><b>Procedure </b></font>ShowColor <font color="#000080">(</font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
 </font><font color="#FF0000"><b>Var
   </b></font>I<font color="#000080">: </font>Byte<font color="#000080">;
 </font><font color="#FF0000"><b>Begin
   For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>Length <font color="#000080">(</font>S<font color="#000080">)
   </font><font color="#FF0000"><b>Do Begin
     Case </b></font>S <font color="#000080">[</font>I<font color="#000080">] </font><font color="#FF0000"><b>Of
       </b></font><font color="#800000">'0'</font><font color="#000080">..</font><font color="#800000">'9' </font><font color="#000080">: </font>TextColor <font color="#000080">(</font>LightCyan<font color="#000080">);
       </font><font color="#800000">'A'</font><font color="#000080">..</font><font color="#800000">'Z' </font><font color="#000080">: </font>TextColor <font color="#000080">(</font>LightGray<font color="#000080">);  </font><font color="#008000"><i>{Changes Charater Colors in the
       File}        </i></font><font color="#800000">'a'</font><font color="#000080">..</font><font color="#800000">'z' </font><font color="#000080">: </font>TextColor <font color="#000080">(</font>White<font color="#000080">);      </font><font color="#008000"><i>{Kinda Cool}
       </i></font><font color="#800000">#9</font><font color="#000080">: </font>Write <font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">: </font><font color="#800000">8</font><font color="#000080">);
       </font><font color="#FF0000"><b>Else </b></font>TextColor <font color="#000080">(</font><font color="#800000">3</font><font color="#000080">);
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>If </b></font>S <font color="#000080">[</font>I<font color="#000080">] &lt;&gt; </font><font color="#800000">#9 </font><font color="#FF0000"><b>Then </b></font>Write <font color="#000080">(</font>S <font color="#000080">[</font>I<font color="#000080">] );
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
   </font>I <font color="#000080">:= </font><font color="#800000">79 </font><font color="#000080">- </font>Length <font color="#000080">(</font>S<font color="#000080">); </font>Write <font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">: </font>I<font color="#000080">);
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

 </font><font color="#FF0000"><b>Procedure </b></font>Init <font color="#000080">(</font>N<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
 </font><font color="#FF0000"><b>Var </b></font>F<font color="#000080">: </font>Text<font color="#000080">;
   </font>S<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>Begin
   </b></font>Extend_Heap<font color="#000080">;
   </font>Curoff<font color="#000080">;
   </font>FillChar <font color="#000080">( </font>FText<font color="#000080">, </font>SizeOf <font color="#000080">(</font>FText<font color="#000080">), </font><font color="#800000">0 </font><font color="#000080">);
   </font>Lines <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
   </font>Assign <font color="#000080">( </font>f<font color="#000080">, </font>N <font color="#000080">);
   </font><font color="#008000"><i>(*$I-*)
   </i></font>Reset <font color="#000080">( </font>f <font color="#000080">);
   </font><font color="#008000"><i>(*$I+*)
   </i></font><font color="#FF0000"><b>If </b></font>IOResult <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then </b></font>Exit<font color="#000080">;
   </font><font color="#FF0000"><b>While </b></font><font color="#000080">( </font><font color="#FF0000"><b>Not </b></font>EoF <font color="#000080">( </font>F <font color="#000080">) )
         </font><font color="#FF0000"><b>And </b></font><font color="#000080">( </font>MaxAvail <font color="#000080">&gt; </font><font color="#800000">80 </font><font color="#000080">)
   </font><font color="#FF0000"><b>Do
   Begin
     </b></font>Inc <font color="#000080">( </font>Lines <font color="#000080">);
     </font>ReadLn <font color="#000080">( </font>F<font color="#000080">, </font>S <font color="#000080">);
     </font><font color="#FF0000"><b>If </b></font>Length <font color="#000080">(</font>S<font color="#000080">) &gt; </font><font color="#800000">79
     </font><font color="#FF0000"><b>Then </b></font>S <font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font><font color="#800000">#79</font><font color="#000080">;
     </font>GetMem <font color="#000080">( </font>FText <font color="#000080">[</font>Lines<font color="#000080">], </font><font color="#800000">1 </font><font color="#000080">+ </font>Length <font color="#000080">(</font>S<font color="#000080">) );
     </font>FText <font color="#000080">[</font>Lines<font color="#000080">]^ := </font>S<font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
   </font>Last <font color="#000080">:= </font>Lines<font color="#000080">;
   </font>Close <font color="#000080">( </font>F <font color="#000080">);
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{Ok NOW this Shearch KINDA Works ...Still Working On it!
If I dont hope someone can improv on it..}

</i></font><font color="#FF0000"><b>Procedure </b></font>Ucase <font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>S<font color="#000080">: </font>BString<font color="#000080">);
</font><font color="#FF0000"><b>Var
  </b></font>I<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>Length <font color="#000080">(</font>S<font color="#000080">) </font><font color="#FF0000"><b>Do
    </b></font>S <font color="#000080">[</font>I<font color="#000080">] := </font>UpCase <font color="#000080">(</font>S <font color="#000080">[</font>I<font color="#000080">] );
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>LookFor <font color="#000080">(</font>R<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);

</font><font color="#FF0000"><b>Var
  </b></font>I<font color="#000080">: </font>Integer<font color="#000080">;
  </font>S<font color="#000080">: </font>BString<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>Length <font color="#000080">(</font>S<font color="#000080">) </font><font color="#FF0000"><b>Do
    </b></font>S <font color="#000080">[</font>I<font color="#000080">] := </font>UpCase <font color="#000080">(</font>S <font color="#000080">[</font>I<font color="#000080">] );
</font><font color="#FF0000"><b>Begin
  </b></font>GotoXY <font color="#000080">(</font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font>Assign <font color="#000080">(</font>FileVar<font color="#000080">, </font>R<font color="#000080">);
  </font><font color="#FF0000"><b>Repeat
    </b></font>WriteLn<font color="#000080">;
    </font>GotoXY <font color="#000080">(</font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
    </font>Reset <font color="#000080">(</font>FileVar<font color="#000080">);
    </font>ClrEol<font color="#000080">;
    </font>TextAttr <font color="#000080">:= </font><font color="#800000">116</font><font color="#000080">; </font>Write <font color="#000080">(</font><font color="#800000">'Search for? (Enter to quit) '</font><font color="#000080">);
    </font>ReadLn <font color="#000080">(</font>SString<font color="#000080">);
    </font><font color="#FF0000"><b>If </b></font>Length <font color="#000080">(</font>SString<font color="#000080">) &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
    Begin
      </b></font>Ucase <font color="#000080">(</font>SString<font color="#000080">);
      </font>Lines <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>While Not </b></font>EoF <font color="#000080">(</font>FileVar<font color="#000080">) </font><font color="#FF0000"><b>Do
      Begin
        </b></font>TextAttr <font color="#000080">:= </font><font color="#800000">112</font><font color="#000080">;
        </font>ReadLn <font color="#000080">(</font>FileVar<font color="#000080">, </font>OneLine<font color="#000080">);
        </font>Inc <font color="#000080">(</font>Lines<font color="#000080">);
        </font>Temp <font color="#000080">:= </font>OneLine<font color="#000080">;
        </font>Ucase <font color="#000080">(</font>Temp<font color="#000080">);
        </font><font color="#FF0000"><b>If </b></font>Pos <font color="#000080">(</font>SString<font color="#000080">, </font>Temp<font color="#000080">) &gt; </font><font color="#800000">0
        </font><font color="#FF0000"><b>Then </b></font>WriteLn <font color="#000080">(</font>Lines<font color="#000080">: </font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">': '</font><font color="#000080">, </font>OneLine<font color="#000080">)
      </font><font color="#FF0000"><b>End
    End
  Until </b></font>Length <font color="#000080">(</font>SString<font color="#000080">) = </font><font color="#800000">0</font><font color="#000080">;
  </font>GotoXY <font color="#000080">(</font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font>ClrEol<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ScrS <font color="#000080">(</font>N<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>CH <font color="#000080">: </font>Char<font color="#000080">;
  </font>count<font color="#000080">: </font>Integer<font color="#000080">;

</font><font color="#FF0000"><b>Begin
  </b></font>Rot<font color="#000080">;
  </font>TextAttr <font color="#000080">:= </font><font color="#800000">$70</font><font color="#000080">;  </font><font color="#008000"><i>(* Colors For Line 1 &amp; 25 *)
  </i></font>ClrScr<font color="#000080">;
  </font>GotoXY <font color="#000080">( </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
   </font>Write <font color="#000080">(</font><font color="#800000">'F3=Find    F12=Screen Saver '</font><font color="#000080">);
  </font>GotoXY <font color="#000080">( </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">);
  </font><font color="#FF0000"><b>While </b></font>Pos <font color="#000080">(</font><font color="#800000">'\'</font><font color="#000080">, </font>N<font color="#000080">) &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Do </b></font>Delete <font color="#000080">(</font>n<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>count <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>Length <font color="#000080">(</font>N<font color="#000080">) </font><font color="#FF0000"><b>Do </b></font>N <font color="#000080">[</font>count<font color="#000080">] := </font>UpCase <font color="#000080">(</font>n <font color="#000080">[</font>count<font color="#000080">] );
  </font>Write <font color="#000080">(</font><font color="#800000">'File: '</font><font color="#000080">, </font>N<font color="#000080">, </font><font color="#800000">', '</font><font color="#000080">, </font>Last<font color="#000080">, </font><font color="#800000">' Lines,  '</font><font color="#000080">);
  </font>Write <font color="#000080">( </font>MemAvail<font color="#000080">, </font><font color="#800000">' Bytes free.'</font><font color="#000080">);
  </font>GotoXY <font color="#000080">(</font><font color="#800000">63</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">); </font>Write <font color="#000080">(</font><font color="#800000">'Lines: '</font><font color="#000080">);
  </font>count <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Procedure </b></font>Display <font color="#000080">(</font>N<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
 </font><font color="#FF0000"><b>Var </b></font>CH <font color="#000080">: </font>Char<font color="#000080">;
   </font>count<font color="#000080">: </font>Integer<font color="#000080">;
 </font><font color="#FF0000"><b>Procedure </b></font>Update<font color="#000080">;
     </font><font color="#FF0000"><b>Var </b></font>Y<font color="#000080">, </font>i<font color="#000080">: </font>Integer<font color="#000080">;
     </font><font color="#FF0000"><b>Begin
       If </b></font>count <font color="#000080">&gt; ( </font>Last <font color="#000080">- </font><font color="#800000">22 </font><font color="#000080">)
       </font><font color="#FF0000"><b>Then </b></font>count <font color="#000080">:= </font>last <font color="#000080">- </font><font color="#800000">22</font><font color="#000080">;
       </font><font color="#FF0000"><b>If </b></font>count <font color="#000080">&lt; </font><font color="#800000">1
       </font><font color="#FF0000"><b>Then </b></font>count <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
       </font>Y <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
       </font><font color="#FF0000"><b>For  </b></font>i <font color="#000080">:= </font>count <font color="#FF0000"><b>To </b></font>count <font color="#000080">+ </font><font color="#800000">22 </font><font color="#FF0000"><b>Do
       Begin
         </b></font>GotoXY <font color="#000080">(</font><font color="#800000">1</font><font color="#000080">, </font>Y<font color="#000080">);
         </font>ClrEol<font color="#000080">;
         </font>Inc <font color="#000080">( </font>Y <font color="#000080">);
         </font><font color="#FF0000"><b>If </b></font>i <font color="#000080">&lt;= </font>Last <font color="#FF0000"><b>Then </b></font>ShowColor <font color="#000080">( </font>FText <font color="#000080">[</font>i<font color="#000080">]^ ); </font><font color="#008000"><i>{Displays File}
       </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;
       </font>TextAttr <font color="#000080">:= </font><font color="#800000">$74</font><font color="#000080">;  </font><font color="#008000"><i>(* Colors for Counter *)
       </i></font>GotoXY <font color="#000080">(</font><font color="#800000">70</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">);
       </font><font color="#FF0000"><b>If </b></font>count <font color="#000080">+ </font><font color="#800000">23 </font><font color="#000080">&gt; </font>Last
       <font color="#FF0000"><b>Then </b></font>Write <font color="#000080">(</font>Last<font color="#000080">)
       </font><font color="#FF0000"><b>Else </b></font>Write <font color="#000080">(</font>count <font color="#000080">+ </font><font color="#800000">22</font><font color="#000080">);
       </font>ClrEol
     <font color="#FF0000"><b>End</b></font><font color="#000080">;

 </font><font color="#FF0000"><b>Begin
   </b></font>TextAttr <font color="#000080">:= </font><font color="#800000">$70</font><font color="#000080">;  </font><font color="#008000"><i>(* Colors For Line 1 &amp; 25 *)
   </i></font>ClrScr<font color="#000080">;
   </font>GotoXY <font color="#000080">( </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
   </font>Write <font color="#000080">(</font><font color="#800000">'F3=Find    F12=Screen Saver '</font><font color="#000080">);
   </font><font color="#008000"><i>{Write (' ');    }
   </i></font>GotoXY <font color="#000080">( </font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">);
   </font><font color="#FF0000"><b>While </b></font>Pos <font color="#000080">(</font><font color="#800000">'\'</font><font color="#000080">, </font>N<font color="#000080">) &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>Do </b></font>Delete <font color="#000080">(</font>n<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
   </font><font color="#FF0000"><b>For </b></font>count <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>Length <font color="#000080">(</font>N<font color="#000080">) </font><font color="#FF0000"><b>Do </b></font>N <font color="#000080">[</font>count<font color="#000080">] := </font>UpCase <font color="#000080">(</font>n <font color="#000080">[</font>count<font color="#000080">] );
   </font>Write <font color="#000080">(</font><font color="#800000">'File: '</font><font color="#000080">, </font>N<font color="#000080">, </font><font color="#800000">', '</font><font color="#000080">, </font>Last<font color="#000080">, </font><font color="#800000">' Lines,  '</font><font color="#000080">);
   </font>Write <font color="#000080">( </font>MemAvail<font color="#000080">, </font><font color="#800000">' Bytes free.'</font><font color="#000080">);
   </font>GotoXY <font color="#000080">(</font><font color="#800000">63</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">); </font>Write <font color="#000080">(</font><font color="#800000">'Lines: '</font><font color="#000080">);
   </font>count <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
   </font><font color="#FF0000"><b>Repeat
     </b></font>TextAttr <font color="#000080">:= </font><font color="#800000">$15</font><font color="#000080">;  </font><font color="#008000"><i>{ white on blue }
     </i></font>Update<font color="#000080">;
     </font><font color="#FF0000"><b>Repeat
       </b></font>CH <font color="#000080">:= </font>ReadKey<font color="#000080">;
       </font><font color="#FF0000"><b>If </b></font>CH <font color="#000080">= </font><font color="#800000">#0 </font><font color="#FF0000"><b>Then
       Begin
         </b></font>CH <font color="#000080">:= </font>ReadKey<font color="#000080">;
         </font><font color="#FF0000"><b>Case </b></font>CH <font color="#FF0000"><b>Of
           </b></font><font color="#800000">'H' </font><font color="#000080">: </font>CH <font color="#000080">:= </font><font color="#800000">#1</font><font color="#000080">; </font><font color="#008000"><i>{ up }
           </i></font><font color="#800000">'P' </font><font color="#000080">: </font>CH <font color="#000080">:= </font><font color="#800000">#2</font><font color="#000080">; </font><font color="#008000"><i>{ down }
           </i></font><font color="#800000">'Q' </font><font color="#000080">: </font>CH <font color="#000080">:= </font><font color="#800000">#3</font><font color="#000080">; </font><font color="#008000"><i>{ pg-up }
           </i></font><font color="#800000">'I' </font><font color="#000080">: </font>CH <font color="#000080">:= </font><font color="#800000">#4</font><font color="#000080">; </font><font color="#008000"><i>{ pg-down }
           </i></font><font color="#800000">'G' </font><font color="#000080">: </font>CH <font color="#000080">:= </font><font color="#800000">#5</font><font color="#000080">; </font><font color="#008000"><i>{ home }
           </i></font><font color="#800000">'O' </font><font color="#000080">: </font>CH <font color="#000080">:= </font><font color="#800000">#6</font><font color="#000080">; </font><font color="#008000"><i>{ end }
           </i></font><font color="#800000">#61 </font><font color="#000080">: </font>CH <font color="#000080">:= </font><font color="#800000">#7</font><font color="#000080">; </font><font color="#008000"><i>{invoke lookfor F3}
           </i></font><font color="#800000">#67 </font><font color="#000080">: </font>CH <font color="#000080">:= </font><font color="#800000">#8  </font><font color="#008000"><i>{Screen Saver F10}
           </i></font><font color="#FF0000"><b>Else </b></font>CH <font color="#000080">:= </font><font color="#800000">#0</font><font color="#000080">; </font><font color="#008000"><i>{ discard }
         </i></font><font color="#FF0000"><b>End
       End
     Until </b></font>CH <font color="#FF0000"><b>In </b></font><font color="#000080">[</font><font color="#800000">#27</font><font color="#000080">, </font><font color="#800000">#1</font><font color="#000080">..</font><font color="#800000">#8 </font><font color="#000080">] ;
     </font><font color="#FF0000"><b>Case </b></font>CH <font color="#FF0000"><b>Of
       </b></font><font color="#800000">#1 </font><font color="#000080">: </font>Dec <font color="#000080">( </font>count <font color="#000080">);
       </font><font color="#800000">#2 </font><font color="#000080">: </font>Inc <font color="#000080">( </font>count <font color="#000080">);
       </font><font color="#800000">#3 </font><font color="#000080">: </font>Inc <font color="#000080">( </font>count<font color="#000080">, </font><font color="#800000">22 </font><font color="#000080">);
       </font><font color="#800000">#4 </font><font color="#000080">: </font>Dec <font color="#000080">( </font>count<font color="#000080">, </font><font color="#800000">22 </font><font color="#000080">);
       </font><font color="#800000">#5 </font><font color="#000080">: </font>count <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
       </font><font color="#800000">#6 </font><font color="#000080">: </font>count <font color="#000080">:= </font>last<font color="#000080">;
       </font><font color="#800000">#7 </font><font color="#000080">: </font>LookFor <font color="#000080">(</font>ParamStr <font color="#000080">(</font><font color="#800000">1</font><font color="#000080">) );
       </font><font color="#800000">#8 </font><font color="#000080">: </font>ScrS <font color="#000080">(</font>ParamStr <font color="#000080">(</font><font color="#800000">1</font><font color="#000080">) );
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>Until </b></font>CH <font color="#000080">= </font><font color="#800000">#27</font><font color="#000080">;
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

 </font><font color="#FF0000"><b>Procedure </b></font>CleanUp<font color="#000080">;
 </font><font color="#FF0000"><b>Var </b></font>I <font color="#000080">: </font>Integer<font color="#000080">;
 </font><font color="#FF0000"><b>Begin   For </b></font>I <font color="#000080">:= </font>last <font color="#FF0000"><b>Downto </b></font><font color="#800000">1 </font><font color="#FF0000"><b>Do
   </b></font><font color="#008000"><i>(*   FreeMem ( FText [i], 1 + Length (FText [i]^) );*)
   {This Causes RunTime Errors with the UMBHeap unit Added}
   </i></font>TextAttr <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
   </font>Curon<font color="#000080">;
   </font>ClrScr<font color="#000080">;

 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#FF0000"><b>Begin
  If </b></font>ParamCount <font color="#000080">&lt;&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>Then
  Begin
    </b></font>ClrScr<font color="#000080">;
    </font>TextColor <font color="#000080">(</font><font color="#800000">15</font><font color="#000080">); </font>WriteLn <font color="#000080">(</font><font color="#800000">' Cool View v1.0 Coded &aacute;y ScrewFace CopyRight
95</font><font color="#000080">-</font><font color="#800000">96'    ); TextColor (8); WriteLn (' </font>Usage <font color="#000080">:  </font>VIEWER
<font color="#000080">[</font>Drive<font color="#000080">:[\</font>Path<font color="#000080">\]</font>Name<font color="#000080">.</font>Ext<font color="#800000">');    Sound (600);
    </font>Delay <font color="#000080">(</font><font color="#800000">200</font><font color="#000080">);
    </font>Sound <font color="#000080">(</font><font color="#800000">500</font><font color="#000080">);
    </font>Delay <font color="#000080">(</font><font color="#800000">500</font><font color="#000080">);
    </font>NoSound<font color="#000080">;
    </font>Halt <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">)
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font>Init <font color="#000080">(</font>ParamStr <font color="#000080">(</font><font color="#800000">1</font><font color="#000080">) );
  </font><font color="#008000"><i>{ If Lines &gt; 0 Then}
</i></font><font color="#FF0000"><b>Begin
  </b></font>Display <font color="#000080">(</font>ParamStr <font color="#000080">(</font><font color="#800000">1</font><font color="#000080">) );
  </font>CleanUp<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

    =-==-==-=-=-=-=-==-=-=-=-=-==-=</font><font color="#FF0000"><b>UNIT</b></font><font color="#000080">-==-=-=-=-=-==-==-=-=-=-=-==-=-=-
</font><font color="#FF0000"><b>Unit </b></font>Swunit<font color="#000080">;
</font><font color="#008000"><i>{$A-,B-,D-,E-,F-,G+,I-,L-,N-,O-,R-,S-,V-,X+}
{$M $800,0,6550}

</i></font><font color="#FF0000"><b>Interface
Procedure </b></font>StringFx <font color="#000080">(</font>s<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>X<font color="#000080">, </font>Y<font color="#000080">, </font>ic<font color="#000080">, </font>c1<font color="#000080">, </font>c2<font color="#000080">, </font>c3 <font color="#000080">: </font>Byte<font color="#000080">; </font>del <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#FF0000"><b>Procedure </b></font>Rot<font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>Curon<font color="#000080">;
</font><font color="#FF0000"><b>Procedure </b></font>Curoff<font color="#000080">;

</font><font color="#FF0000"><b>Implementation
Uses </b></font>Crt<font color="#000080">, </font>DOS<font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>keypress <font color="#000080">: </font>Boolean<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">mov AH, 0BH; Int 21h; And AL, 0feh; 
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>StringFx <font color="#000080">(</font>s<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>X<font color="#000080">, </font>Y<font color="#000080">, </font>ic<font color="#000080">, </font>c1<font color="#000080">, </font>c2<font color="#000080">, </font>c3 <font color="#000080">: </font>Byte<font color="#000080">; </font>del <font color="#000080">: </font>Word<font color="#000080">);
</font><font color="#FF0000"><b>Var
  </b></font>i <font color="#000080">: </font>Integer<font color="#000080">;
  </font>StrPos <font color="#000080">: </font>Byte<font color="#000080">;
  </font>CH <font color="#000080">: </font>Char<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>GotoXY <font color="#000080">(</font>X<font color="#000080">, </font>Y<font color="#000080">);
  </font>TextAttr <font color="#000080">:= </font>ic<font color="#000080">;
  </font>Write <font color="#000080">(</font>s<font color="#000080">);
  </font>StrPos <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>While Not </b></font>KeyPressed <font color="#FF0000"><b>Do
  Begin
    </b></font>Delay <font color="#000080">(</font>del<font color="#000080">);
    </font>GotoXY <font color="#000080">(</font>X <font color="#000080">+ (</font>StrPos <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">), </font>Y<font color="#000080">);
    </font>TextAttr <font color="#000080">:= </font>ic<font color="#000080">; </font>Write <font color="#000080">(</font>s <font color="#000080">[</font>StrPos<font color="#000080">] );
    </font>TextAttr <font color="#000080">:= </font>c1<font color="#000080">; </font>Write <font color="#000080">(</font>s <font color="#000080">[</font>StrPos <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] );
    </font>TextAttr <font color="#000080">:= </font>c2<font color="#000080">; </font>Write <font color="#000080">(</font>s <font color="#000080">[</font>StrPos <font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">] );
    </font>TextAttr <font color="#000080">:= </font>c3<font color="#000080">; </font>Write <font color="#000080">(</font>s <font color="#000080">[</font>StrPos <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">] );
    </font>TextAttr <font color="#000080">:= </font>c2<font color="#000080">; </font>Write <font color="#000080">(</font>s <font color="#000080">[</font>StrPos <font color="#000080">+ </font><font color="#800000">4</font><font color="#000080">] );
    </font>TextAttr <font color="#000080">:= </font>c1<font color="#000080">; </font>Write <font color="#000080">(</font>s <font color="#000080">[</font>StrPos <font color="#000080">+ </font><font color="#800000">5</font><font color="#000080">] );
    </font>TextAttr <font color="#000080">:= </font>ic<font color="#000080">; </font>Write <font color="#000080">(</font>s <font color="#000080">[</font>StrPos <font color="#000080">+ </font><font color="#800000">6</font><font color="#000080">] );
    </font>Inc <font color="#000080">(</font>StrPos<font color="#000080">, </font>i<font color="#000080">);
    </font><font color="#FF0000"><b>If </b></font>StrPos <font color="#000080">+ </font><font color="#800000">6 </font><font color="#000080">= </font>Ord <font color="#000080">(</font>S <font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] ) </font><font color="#FF0000"><b>Then </b></font>i <font color="#000080">:= - </font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>If </b></font>StrPos <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>Then </b></font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font><font color="#008000"><i>{   ch := readkey; if ch = #0 Then ch := readkey;}
</i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Curoff<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  Asm </b></font><font color="#008000"><i>(* cursor off / Remove this if using the Code for A Door*)
    </i></font><font color="#FF00FF">MOV  AH, 3
    XOr  BX, BX
    Int  10H
    Or   CH, 20H
    MOV  AH, 1
    Int  10H
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;


</font><font color="#008000"><i>{clrscr;  (*Examples*)
StringFx('   &uacute;&uacute;  Press Any Key  &uacute;&uacute;   ',(lo(windmax) div
2)-10,hi(windmax)+1,red,lightred,lightred,15,300);{clrscr;
StringFx('   &uacute;&uacute;  Press Any Key  &uacute;&uacute;   ',(27),11,red,lightred,lightred,15,50);}

</i></font><font color="#FF0000"><b>Procedure </b></font>Curon<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  Asm </b></font><font color="#008000"><i>(* cursor on / Remove this if using the Code for A Door*)
    </i></font><font color="#FF00FF">MOV  AH, 3
    XOr  BX, BX
    Int  10H
    And   CH, 1FH
    MOV  AH, 1
    Int  10H
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Rot<font color="#000080">;
</font><font color="#008000"><i>{Dont Remmber Who made this But I put in Here cause it Was Cool}

</i></font><font color="#FF0000"><b>Const
  </b></font>gseg <font color="#000080">: </font>Word <font color="#000080">= </font><font color="#800000">$a000</font><font color="#000080">;
  </font>dots <font color="#000080">= </font><font color="#800000">459</font><font color="#000080">;
  </font>dist <font color="#000080">: </font>Word <font color="#000080">= </font><font color="#800000">250</font><font color="#000080">;
  </font>sintab <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Integer <font color="#000080">= (
  </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">6</font><font color="#000080">, </font><font color="#800000">9</font><font color="#000080">, </font><font color="#800000">13</font><font color="#000080">, </font><font color="#800000">16</font><font color="#000080">, </font><font color="#800000">19</font><font color="#000080">, </font><font color="#800000">22</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">28</font><font color="#000080">, </font><font color="#800000">31</font><font color="#000080">, </font><font color="#800000">34</font><font color="#000080">, </font><font color="#800000">37</font><font color="#000080">, </font><font color="#800000">40</font><font color="#000080">, </font><font color="#800000">43</font><font color="#000080">, </font><font color="#800000">46</font><font color="#000080">, </font><font color="#800000">49</font><font color="#000080">, </font><font color="#800000">52</font><font color="#000080">, </font><font color="#800000">55</font><font color="#000080">, </font><font color="#800000">58</font><font color="#000080">,
</font><font color="#800000">60</font><font color="#000080">, </font><font color="#800000">63</font><font color="#000080">, </font><font color="#800000">66</font><font color="#000080">, </font><font color="#800000">68</font><font color="#000080">,  </font><font color="#800000">71</font><font color="#000080">, </font><font color="#800000">74</font><font color="#000080">, </font><font color="#800000">76</font><font color="#000080">, </font><font color="#800000">79</font><font color="#000080">, </font><font color="#800000">81</font><font color="#000080">, </font><font color="#800000">84</font><font color="#000080">, </font><font color="#800000">86</font><font color="#000080">, </font><font color="#800000">88</font><font color="#000080">, </font><font color="#800000">91</font><font color="#000080">, </font><font color="#800000">93</font><font color="#000080">, </font><font color="#800000">95</font><font color="#000080">, </font><font color="#800000">97</font><font color="#000080">, </font><font color="#800000">99</font><font color="#000080">, </font><font color="#800000">101</font><font color="#000080">, </font><font color="#800000">103</font><font color="#000080">,
</font><font color="#800000">105</font><font color="#000080">, </font><font color="#800000">106</font><font color="#000080">, </font><font color="#800000">108</font><font color="#000080">, </font><font color="#800000">110</font><font color="#000080">, </font><font color="#800000">111</font><font color="#000080">,  </font><font color="#800000">113</font><font color="#000080">, </font><font color="#800000">114</font><font color="#000080">, </font><font color="#800000">116</font><font color="#000080">, </font><font color="#800000">117</font><font color="#000080">, </font><font color="#800000">118</font><font color="#000080">, </font><font color="#800000">119</font><font color="#000080">, </font><font color="#800000">121</font><font color="#000080">, </font><font color="#800000">122</font><font color="#000080">, </font><font color="#800000">122</font><font color="#000080">, </font><font color="#800000">123</font><font color="#000080">,
</font><font color="#800000">124</font><font color="#000080">, </font><font color="#800000">125</font><font color="#000080">, </font><font color="#800000">126</font><font color="#000080">, </font><font color="#800000">126</font><font color="#000080">, </font><font color="#800000">127</font><font color="#000080">, </font><font color="#800000">127</font><font color="#000080">, </font><font color="#800000">127</font><font color="#000080">,  </font><font color="#800000">128</font><font color="#000080">, </font><font color="#800000">128</font><font color="#000080">, </font><font color="#800000">128</font><font color="#000080">, </font><font color="#800000">128</font><font color="#000080">, </font><font color="#800000">128</font><font color="#000080">, </font><font color="#800000">128</font><font color="#000080">, </font><font color="#800000">128</font><font color="#000080">, </font><font color="#800000">127</font><font color="#000080">,
</font><font color="#800000">127</font><font color="#000080">, </font><font color="#800000">127</font><font color="#000080">, </font><font color="#800000">126</font><font color="#000080">, </font><font color="#800000">126</font><font color="#000080">, </font><font color="#800000">125</font><font color="#000080">, </font><font color="#800000">124</font><font color="#000080">, </font><font color="#800000">123</font><font color="#000080">, </font><font color="#800000">122</font><font color="#000080">, </font><font color="#800000">122</font><font color="#000080">,  </font><font color="#800000">121</font><font color="#000080">, </font><font color="#800000">119</font><font color="#000080">, </font><font color="#800000">118</font><font color="#000080">, </font><font color="#800000">117</font><font color="#000080">, </font><font color="#800000">116</font><font color="#000080">, </font><font color="#800000">114</font><font color="#000080">,
</font><font color="#800000">113</font><font color="#000080">, </font><font color="#800000">111</font><font color="#000080">, </font><font color="#800000">110</font><font color="#000080">, </font><font color="#800000">108</font><font color="#000080">, </font><font color="#800000">106</font><font color="#000080">, </font><font color="#800000">105</font><font color="#000080">, </font><font color="#800000">103</font><font color="#000080">, </font><font color="#800000">101</font><font color="#000080">, </font><font color="#800000">99</font><font color="#000080">, </font><font color="#800000">97</font><font color="#000080">, </font><font color="#800000">95</font><font color="#000080">, </font><font color="#800000">93</font><font color="#000080">,
  </font><font color="#800000">91</font><font color="#000080">, </font><font color="#800000">88</font><font color="#000080">, </font><font color="#800000">86</font><font color="#000080">, </font><font color="#800000">84</font><font color="#000080">, </font><font color="#800000">81</font><font color="#000080">, </font><font color="#800000">79</font><font color="#000080">, </font><font color="#800000">76</font><font color="#000080">, </font><font color="#800000">74</font><font color="#000080">, </font><font color="#800000">71</font><font color="#000080">, </font><font color="#800000">68</font><font color="#000080">, </font><font color="#800000">66</font><font color="#000080">, </font><font color="#800000">63</font><font color="#000080">, </font><font color="#800000">60</font><font color="#000080">, </font><font color="#800000">58</font><font color="#000080">, </font><font color="#800000">55</font><font color="#000080">, </font><font color="#800000">52</font><font color="#000080">, </font><font color="#800000">49</font><font color="#000080">, </font><font color="#800000">46</font><font color="#000080">, </font><font color="#800000">43</font><font color="#000080">,
</font><font color="#800000">40</font><font color="#000080">, </font><font color="#800000">37</font><font color="#000080">, </font><font color="#800000">34</font><font color="#000080">, </font><font color="#800000">31</font><font color="#000080">,  </font><font color="#800000">28</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">22</font><font color="#000080">, </font><font color="#800000">19</font><font color="#000080">, </font><font color="#800000">16</font><font color="#000080">, </font><font color="#800000">13</font><font color="#000080">, </font><font color="#800000">9</font><font color="#000080">, </font><font color="#800000">6</font><font color="#000080">, </font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, - </font><font color="#800000">3</font><font color="#000080">, - </font><font color="#800000">6</font><font color="#000080">, - </font><font color="#800000">9</font><font color="#000080">, - </font><font color="#800000">13</font><font color="#000080">, -
</font><font color="#800000">16</font><font color="#000080">, - </font><font color="#800000">19</font><font color="#000080">, - </font><font color="#800000">22</font><font color="#000080">, - </font><font color="#800000">25</font><font color="#000080">, - </font><font color="#800000">28</font><font color="#000080">, - </font><font color="#800000">31</font><font color="#000080">, - </font><font color="#800000">34</font><font color="#000080">,  - </font><font color="#800000">37</font><font color="#000080">, - </font><font color="#800000">40</font><font color="#000080">, - </font><font color="#800000">43</font><font color="#000080">, - </font><font color="#800000">46</font><font color="#000080">, - </font><font color="#800000">49</font><font color="#000080">, - </font><font color="#800000">52</font><font color="#000080">, -
</font><font color="#800000">55</font><font color="#000080">, - </font><font color="#800000">58</font><font color="#000080">, - </font><font color="#800000">60</font><font color="#000080">, - </font><font color="#800000">63</font><font color="#000080">, - </font><font color="#800000">66</font><font color="#000080">, - </font><font color="#800000">68</font><font color="#000080">, - </font><font color="#800000">71</font><font color="#000080">, - </font><font color="#800000">74</font><font color="#000080">, - </font><font color="#800000">76</font><font color="#000080">, - </font><font color="#800000">79</font><font color="#000080">, - </font><font color="#800000">81</font><font color="#000080">,
  - </font><font color="#800000">84</font><font color="#000080">, - </font><font color="#800000">86</font><font color="#000080">, - </font><font color="#800000">88</font><font color="#000080">, - </font><font color="#800000">91</font><font color="#000080">, - </font><font color="#800000">93</font><font color="#000080">, - </font><font color="#800000">95</font><font color="#000080">, - </font><font color="#800000">97</font><font color="#000080">, - </font><font color="#800000">99</font><font color="#000080">, - </font><font color="#800000">101</font><font color="#000080">, - </font><font color="#800000">103</font><font color="#000080">, - </font><font color="#800000">105</font><font color="#000080">, - </font><font color="#800000">106</font><font color="#000080">,
- </font><font color="#800000">108</font><font color="#000080">, - </font><font color="#800000">110</font><font color="#000080">, - </font><font color="#800000">111</font><font color="#000080">,  - </font><font color="#800000">113</font><font color="#000080">, - </font><font color="#800000">114</font><font color="#000080">, - </font><font color="#800000">116</font><font color="#000080">, - </font><font color="#800000">117</font><font color="#000080">, - </font><font color="#800000">118</font><font color="#000080">, - </font><font color="#800000">119</font><font color="#000080">, - </font><font color="#800000">121</font><font color="#000080">, - </font><font color="#800000">122</font><font color="#000080">,
- </font><font color="#800000">122</font><font color="#000080">, - </font><font color="#800000">123</font><font color="#000080">, - </font><font color="#800000">124</font><font color="#000080">, - </font><font color="#800000">125</font><font color="#000080">, - </font><font color="#800000">126</font><font color="#000080">,  - </font><font color="#800000">126</font><font color="#000080">, - </font><font color="#800000">127</font><font color="#000080">, - </font><font color="#800000">127</font><font color="#000080">, - </font><font color="#800000">127</font><font color="#000080">, - </font><font color="#800000">128</font><font color="#000080">, - </font><font color="#800000">128</font><font color="#000080">,
- </font><font color="#800000">128</font><font color="#000080">, - </font><font color="#800000">128</font><font color="#000080">, - </font><font color="#800000">128</font><font color="#000080">, - </font><font color="#800000">128</font><font color="#000080">, - </font><font color="#800000">128</font><font color="#000080">, - </font><font color="#800000">127</font><font color="#000080">, - </font><font color="#800000">127</font><font color="#000080">,  - </font><font color="#800000">127</font><font color="#000080">, - </font><font color="#800000">126</font><font color="#000080">, - </font><font color="#800000">126</font><font color="#000080">, - </font><font color="#800000">125</font><font color="#000080">,
- </font><font color="#800000">124</font><font color="#000080">, - </font><font color="#800000">123</font><font color="#000080">, - </font><font color="#800000">122</font><font color="#000080">, - </font><font color="#800000">122</font><font color="#000080">, - </font><font color="#800000">121</font><font color="#000080">, - </font><font color="#800000">119</font><font color="#000080">, - </font><font color="#800000">118</font><font color="#000080">, - </font><font color="#800000">117</font><font color="#000080">, - </font><font color="#800000">116</font><font color="#000080">,
  - </font><font color="#800000">114</font><font color="#000080">, - </font><font color="#800000">113</font><font color="#000080">, - </font><font color="#800000">111</font><font color="#000080">, - </font><font color="#800000">110</font><font color="#000080">, - </font><font color="#800000">108</font><font color="#000080">, - </font><font color="#800000">106</font><font color="#000080">, - </font><font color="#800000">105</font><font color="#000080">, - </font><font color="#800000">103</font><font color="#000080">, - </font><font color="#800000">101</font><font color="#000080">, - </font><font color="#800000">99</font><font color="#000080">, - </font><font color="#800000">97</font><font color="#000080">, -
</font><font color="#800000">95</font><font color="#000080">, - </font><font color="#800000">93</font><font color="#000080">, - </font><font color="#800000">91</font><font color="#000080">,  - </font><font color="#800000">88</font><font color="#000080">, - </font><font color="#800000">86</font><font color="#000080">, - </font><font color="#800000">84</font><font color="#000080">, - </font><font color="#800000">81</font><font color="#000080">, - </font><font color="#800000">79</font><font color="#000080">, - </font><font color="#800000">76</font><font color="#000080">, - </font><font color="#800000">74</font><font color="#000080">, - </font><font color="#800000">71</font><font color="#000080">, - </font><font color="#800000">68</font><font color="#000080">, - </font><font color="#800000">66</font><font color="#000080">, -
</font><font color="#800000">63</font><font color="#000080">, - </font><font color="#800000">60</font><font color="#000080">, - </font><font color="#800000">58</font><font color="#000080">, - </font><font color="#800000">55</font><font color="#000080">, - </font><font color="#800000">52</font><font color="#000080">, - </font><font color="#800000">49</font><font color="#000080">,  - </font><font color="#800000">46</font><font color="#000080">, - </font><font color="#800000">43</font><font color="#000080">, - </font><font color="#800000">40</font><font color="#000080">, - </font><font color="#800000">37</font><font color="#000080">, - </font><font color="#800000">34</font><font color="#000080">, - </font><font color="#800000">31</font><font color="#000080">, - </font><font color="#800000">28</font><font color="#000080">, -
</font><font color="#800000">25</font><font color="#000080">, - </font><font color="#800000">22</font><font color="#000080">, - </font><font color="#800000">19</font><font color="#000080">, - </font><font color="#800000">16</font><font color="#000080">, - </font><font color="#800000">13</font><font color="#000080">, - </font><font color="#800000">9</font><font color="#000080">, - </font><font color="#800000">6</font><font color="#000080">, - </font><font color="#800000">3</font><font color="#000080">);</font><font color="#FF0000"><b>Type
  </b></font>dotrec <font color="#000080">= </font><font color="#FF0000"><b>Record </b></font>X<font color="#000080">, </font>Y<font color="#000080">, </font>z <font color="#000080">: </font>Integer<font color="#000080">; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font>dotpos <font color="#000080">= </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>dots<font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>dotrec<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>dot <font color="#000080">: </font>dotpos<font color="#000080">;


</font><font color="#008000"><i>{----------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>Procedure </b></font>setpal <font color="#000080">(</font>col<font color="#000080">, </font>r<font color="#000080">, </font>g<font color="#000080">, </font>b <font color="#000080">: </font>Byte<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>Asm
    </b></font><font color="#FF00FF">mov DX, 03c8h; mov AL, col; out DX, AL; Inc DX; mov AL, r
    out DX, AL; mov AL, g; out DX, AL; mov AL, b; out DX, AL;
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>setvideo <font color="#000080">(</font>Mode <font color="#000080">: </font>Word<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>Asm
  </b></font><font color="#FF00FF">mov AX, Mode; Int 10h
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>esc <font color="#000080">: </font>Boolean<font color="#000080">; </font><font color="#FF0000"><b>Begin
  </b></font>esc <font color="#000080">:= </font>port <font color="#000080">[</font><font color="#800000">$60</font><font color="#000080">] = </font><font color="#800000">1</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>Procedure </b></font>initi<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>i <font color="#000080">: </font>Word<font color="#000080">; </font>X<font color="#000080">, </font>z <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>i <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>z <font color="#000080">:= - </font><font color="#800000">100</font><font color="#000080">;
  </font><font color="#FF0000"><b>While </b></font>z <font color="#000080">&lt; </font><font color="#800000">100 </font><font color="#FF0000"><b>Do Begin
    </b></font>X <font color="#000080">:= - </font><font color="#800000">100</font><font color="#000080">;
    </font><font color="#FF0000"><b>While </b></font>X <font color="#000080">&lt; </font><font color="#800000">100 </font><font color="#FF0000"><b>Do Begin
      </b></font>dot <font color="#000080">[</font>i<font color="#000080">].</font>X <font color="#000080">:= </font>X<font color="#000080">;
      </font>dot <font color="#000080">[</font>i<font color="#000080">].</font>Y <font color="#000080">:= - </font><font color="#800000">45</font><font color="#000080">;
      </font>dot <font color="#000080">[</font>i<font color="#000080">].</font>z <font color="#000080">:= </font>z<font color="#000080">;
      </font>Inc <font color="#000080">(</font>i<font color="#000080">);
      </font>Inc <font color="#000080">(</font>X<font color="#000080">, </font><font color="#800000">10</font><font color="#000080">);
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font>Inc <font color="#000080">(</font>z<font color="#000080">, </font><font color="#800000">9</font><font color="#000080">);
  </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">63 </font><font color="#FF0000"><b>Do </b></font>setpal <font color="#000080">(</font>i<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font>i<font color="#000080">, </font>i<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>Procedure </b></font>rotation<font color="#000080">;
</font><font color="#FF0000"><b>Const </b></font>yst <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>xp <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>dots<font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Word<font color="#000080">;
  </font>yp <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>dots<font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Byte<font color="#000080">;
  </font>X<font color="#000080">, </font>z <font color="#000080">: </font>Integer<font color="#000080">; </font>n <font color="#000080">: </font>Word<font color="#000080">; </font>phiy <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  Asm </b></font><font color="#FF00FF">mov phiy, 0; mov ES, gseg; cli; </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Repeat
    Asm
      </b></font><font color="#FF00FF">mov DX, 03dah
      @l1:
      In AL, DX
      Test AL, 8
      jnz @l1
      @l2:
      In AL, DX
      Test AL, 8
      jz @l2
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font>setpal <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">);
    </font><font color="#FF0000"><b>For </b></font>n <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font>dots <font color="#FF0000"><b>Do Begin
      Asm
        </b></font><font color="#FF00FF">mov SI, n
        mov AL, Byte Ptr yp [SI]
        cmp AL, 200
        jae @skip
        ShL SI, 1
        mov BX, Word Ptr xp [SI]
        cmp BX, 320
        jae @skip
        ShL AX, 6
        mov DI, AX
        ShL AX, 2
        add DI, AX
        add DI, BX
        XOr AL, AL
        mov [ES: DI], AL
        @skip:
      </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
      
      </font>X <font color="#000080">:= (</font>sintab <font color="#000080">[ (</font>phiy <font color="#000080">+ </font><font color="#800000">192</font><font color="#000080">) </font><font color="#FF0000"><b>Mod </b></font><font color="#800000">255</font><font color="#000080">] * </font>dot <font color="#000080">[</font>n<font color="#000080">].</font>X
      <font color="#008000"><i>{^^^^  ^^^^^^^^^^^^^^^^^^^^^^^^^^ ^ ^^^^^^^^
      9     1                          3 2 }

      </i></font><font color="#000080">- </font>sintab <font color="#000080">[</font>phiy<font color="#000080">] * </font>dot <font color="#000080">[</font>n<font color="#000080">].</font>z<font color="#000080">) </font><font color="#FF0000"><b>Div </b></font><font color="#800000">128</font><font color="#000080">;
      </font><font color="#008000"><i>{ ^ ^^^^^^^^^^^^ ^ ^^^^^^^^  ^^^^^^^
      7 4            6 5         8 }
      
      (*
      asm
      xor ah,ah                      { 1 }
      mov al,phiy
      add al,192
      mov si,ax
      mov ax,word ptr sintab[si]
      mov si,n                       { 2 }
      mov dx,word ptr dot[si].x
      mul dx                         { 3 }
      mov cx,ax
      mov dx,word ptr dot[si].z      { 5 }
      mov al,phiy                    { 4 }
      mov si,ax
      mov ax,word ptr sintab[si]
      mul dx                         { 6 }
      sub cx,ax                      { 7 }
      shr cx,7                       { 8 }
      mov x,cx                       { 9 }
      end;
      *)

      </i></font>z <font color="#000080">:= (</font>sintab <font color="#000080">[ (</font>phiy <font color="#000080">+ </font><font color="#800000">192</font><font color="#000080">) </font><font color="#FF0000"><b>Mod </b></font><font color="#800000">255</font><font color="#000080">] * </font>dot <font color="#000080">[</font>n<font color="#000080">].</font>z <font color="#000080">+ </font>sintab <font color="#000080">[</font>phiy<font color="#000080">] * </font>dot
<font color="#000080">[</font>n<font color="#000080">].</font>X<font color="#000080">) </font><font color="#FF0000"><b>Div </b></font><font color="#800000">128</font><font color="#000080">;      </font>xp <font color="#000080">[</font>n<font color="#000080">] := </font><font color="#800000">160 </font><font color="#000080">+ (</font>X <font color="#000080">* </font>dist<font color="#000080">) </font><font color="#FF0000"><b>Div </b></font><font color="#000080">(</font>z <font color="#000080">- </font>dist<font color="#000080">);
      </font>yp <font color="#000080">[</font>n<font color="#000080">] := </font><font color="#800000">100 </font><font color="#000080">+ (</font>dot <font color="#000080">[</font>n<font color="#000080">].</font>Y <font color="#000080">* </font>dist<font color="#000080">) </font><font color="#FF0000"><b>Div </b></font><font color="#000080">(</font>z <font color="#000080">- </font>dist<font color="#000080">);
      
      </font><font color="#008000"><i>{
      asm
      mov ax,x
      mov dx,dist
      mul dx
      mov dx,z
      sub dx,dist
      div dx
      add ax,160

      (* can't assign ax to xp[n] !? *)
      
      end;
      }

      </i></font><font color="#FF0000"><b>Asm
        </b></font><font color="#FF00FF">mov SI, n
        mov AL, Byte Ptr yp [SI]
        cmp AL, 200
        jae @skip
        ShL SI, 1
        mov BX, Word Ptr xp [SI]
        cmp BX, 320
        jae @skip
        ShL AX, 6
        mov DI, AX
        ShL AX, 2
        add DI, AX
        add DI, BX
        mov AX, z
        ShR AX, 3
        add AX, 30
        mov [ES: DI], AL
        @skip:
      </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>Asm </b></font><font color="#FF00FF">Inc phiy </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
    </font>setpal <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">);
  </font><font color="#FF0000"><b>Until </b></font>KeyPressed<font color="#000080">;
  </font><font color="#FF0000"><b>Asm </b></font><font color="#FF00FF">sti </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#008000"><i>{----------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>Begin
  </b></font>setvideo <font color="#000080">(</font><font color="#800000">$13</font><font color="#000080">);
  </font>Initi<font color="#000080">;
  </font>rotation<font color="#000080">;
  </font>TextMode <font color="#000080">(</font>LastMode<font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0069.PAS">Original</a><b>]</b></p></body>
</html>
