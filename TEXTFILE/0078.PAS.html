<html>
<head><title> "Example of reading a file backwards" by GAYLE DAVIS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0078.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{$S+,R-,V-,I-,N-,B-,F-}
{$M 20000,0,655360}

    { example of reversing a text file }

</i></font><font color="#FF0000"><b>USES </b></font>Dos<font color="#000080">, </font>Crt<font color="#000080">, </font>Readback<font color="#000080">;
                   </font><font color="#008000"><i>{ note: READBACK is found in TEXTFILE.SWG }
</i></font><font color="#FF0000"><b>VAR
    </b></font>Outf   <font color="#000080">: </font>TEXT<font color="#000080">;      </font><font color="#008000"><i>{ using Standard TP filetype to write this file }
    </i></font>WorkF  <font color="#000080">: </font>TEXT<font color="#000080">;
    </font>InF    <font color="#000080">: </font>BACKTEXT<font color="#000080">;  </font><font color="#008000"><i>{ using Readback filetype to read the file !! }
    </i></font>OFname <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
    </font>IFname <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
    </font>St     <font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
         </b></font><font color="#008000"><i>{ open the text file containing original data for reading }
         </i></font>IFName <font color="#000080">:= </font><font color="#800000">'ANYFILE.TXT'</font><font color="#000080">; </font><font color="#008000"><i>{ change this to your file name }
         </i></font>AssignBack<font color="#000080">(</font>InF<font color="#000080">, </font>IFName<font color="#000080">);
         </font>ResetBack<font color="#000080">(</font>InF<font color="#000080">, </font><font color="#800000">1024</font><font color="#000080">);

         </font><font color="#008000"><i>{ open the NEW text file that will be reversed for writing }
         </i></font>IFName <font color="#000080">:= </font><font color="#800000">'OUTFILE.TXT'</font><font color="#000080">; </font><font color="#008000"><i>{ change this to your file name }
         </i></font>ASSIGN <font color="#000080">(</font>OutF<font color="#000080">, </font>OFName<font color="#000080">);
         </font>REWRITE <font color="#000080">(</font>Outf<font color="#000080">);

         </font><font color="#008000"><i>{ now, read each line from the input and write to output }
         </i></font><font color="#FF0000"><b>WHILE NOT </b></font>BOF<font color="#000080">(</font>InF<font color="#000080">) </font><font color="#FF0000"><b>DO
               BEGIN
               </b></font>ReadLnBack<font color="#000080">(</font>Inf<font color="#000080">, </font>St<font color="#000080">);
               </font>WriteLn<font color="#000080">(</font>OutF<font color="#000080">, </font>St<font color="#000080">);
               </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

        </font>CloseBack<font color="#000080">(</font>Inf<font color="#000080">);
        </font>Close<font color="#000080">(</font>OutF<font color="#000080">);

        </font><font color="#008000"><i>{ now we have our reversed text in OUTFILE.TXT, so we need to
          put it into our original file.  This procedure is optional.
          It WILL DESTROY your original file !! }

         { open our reversed file in Standard TP mode for reading }
         </i></font>ASSIGN <font color="#000080">(</font>WorkF<font color="#000080">, </font>OFName<font color="#000080">);  </font><font color="#008000"><i>{ our reversed file !! }
         </i></font>RESET <font color="#000080">(</font>Workf<font color="#000080">);

         </font><font color="#008000"><i>{ open our original file in Std TP mode for writing }
         </i></font>ASSIGN <font color="#000080">(</font>OutF<font color="#000080">, </font>IFName<font color="#000080">);  </font><font color="#008000"><i>{ our original file !! }
         </i></font>REWRITE <font color="#000080">(</font>Outf<font color="#000080">);

         </font><font color="#FF0000"><b>WHILE NOT </b></font>EOF<font color="#000080">(</font>WorkF<font color="#000080">) </font><font color="#FF0000"><b>DO
               BEGIN
               </b></font>ReadLn<font color="#000080">(</font>WorkF<font color="#000080">, </font>St<font color="#000080">);
               </font>WriteLn<font color="#000080">(</font>OutF<font color="#000080">, </font>St<font color="#000080">);
               </font><font color="#FF0000"><b>END</b></font><font color="#000080">;

         </font><font color="#008000"><i>{ close the two files }
         </i></font>Close<font color="#000080">(</font>WorkF<font color="#000080">);
         </font>Close<font color="#000080">(</font>Outf<font color="#000080">);

         </font><font color="#008000"><i>{ Now, our original file has the data REVERSED !! }

         { Here you could also erase the OUTFILE.TXT if you wanted to }

</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0078.PAS">Original</a><b>]</b></p></body>
</html>
