<html>
<head><title> "Fast Text IO" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000"> GB<font color="#000080">&gt;</font>Could you Write a MCSEL <font color="#000080">;-) </font>wich gives us some hints <font color="#FF0000"><b>For </b></font>making Text i<font color="#000080">/</font>o
 GB<font color="#000080">&gt;</font>_much_ faster <font color="#000080">? </font>I read that about the SetTextBuf although I never tried
 GB<font color="#000080">&gt;</font>it<font color="#000080">. </font>What are other examples<font color="#000080">? </font>Some little example<font color="#000080">-</font>sources <font color="#000080">?

</font><font color="#FF0000"><b>Type </b></font>BBTYP   <font color="#000080">= ^</font>BIGBUF<font color="#000080">;
     </font>BIGBUF  <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">32767</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Char<font color="#000080">;

</font><font color="#FF0000"><b>Var </b></font>BUFFin   <font color="#000080">: </font>BBTYP<font color="#000080">;        </font><font color="#008000"><i>{ general-use large Text I/O buffer }
</i></font><font color="#FF0000"><b>Var </b></font>BUFFOUT  <font color="#000080">: </font>BBTYP<font color="#000080">;
    </font>F        <font color="#000080">: </font>Text<font color="#000080">;
    </font>S        <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>BBOPEN <font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>F <font color="#000080">: </font>Text<font color="#000080">; </font>FN <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>OMODE <font color="#000080">: </font>Char<font color="#000080">;
                  </font><font color="#FF0000"><b>Var </b></font>BP <font color="#000080">: </font>BBTYP<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>S <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font><font color="#008000"><i>{$I-}
  </i></font>Assign <font color="#000080">(</font>F<font color="#000080">,</font>FN<font color="#000080">); </font>New <font color="#000080">(</font>BP<font color="#000080">); </font>SetTextBuf <font color="#000080">(</font>F<font color="#000080">,</font>BP<font color="#000080">^);
  </font><font color="#FF0000"><b>Case </b></font>UpCase<font color="#000080">(</font>OMODE<font color="#000080">) </font><font color="#FF0000"><b>of
    </b></font><font color="#800000">'R' </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>Reset <font color="#000080">(</font>F<font color="#000080">); </font>S <font color="#000080">:= </font><font color="#800000">'Input'
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">'W' </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>ReWrite <font color="#000080">(</font>F<font color="#000080">); </font>S <font color="#000080">:= </font><font color="#800000">'Output'
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#800000">'A' </font><font color="#000080">: </font><font color="#FF0000"><b>begin
            </b></font>Append <font color="#000080">(</font>F<font color="#000080">); </font>S <font color="#000080">:= </font><font color="#800000">'Extend'
          </font><font color="#FF0000"><b>end
    else
  end</b></font><font color="#000080">;
</font><font color="#008000"><i>{$I+}
  </i></font><font color="#FF0000"><b>if </b></font>Ioresult <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
    begin
      </b></font>Dispose <font color="#000080">(</font>BP<font color="#000080">); </font>FATAL <font color="#000080">(</font><font color="#800000">'Cannot open '</font><font color="#000080">+</font>FN<font color="#000080">+</font><font color="#800000">' For '</font><font color="#000080">+</font>S<font color="#000080">+</font><font color="#800000">' - Terminating'</font><font color="#000080">)
    </font><font color="#FF0000"><b>end
end</b></font><font color="#000080">;  </font><font color="#008000"><i>{ BBOPEN }

</i></font><font color="#FF0000"><b>to </b></font>use<font color="#000080">:

  </font>BBOPEN <font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">'myFile.txt'</font><font color="#000080">,</font>r<font color="#000080">,</font>BUFFin<font color="#000080">);
  </font><font color="#FF0000"><b>While not </b></font>Eof <font color="#000080">(</font>F<font color="#000080">) </font><font color="#FF0000"><b>do
    begin
      </b></font>readln <font color="#000080">(</font>F<font color="#000080">,</font>S<font color="#000080">);
      </font>etc<font color="#000080">.
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>Close <font color="#000080">(</font>F<font color="#000080">); </font>Dispose <font color="#000080">(</font>BUFFin<font color="#000080">)
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p></body>
</html>
