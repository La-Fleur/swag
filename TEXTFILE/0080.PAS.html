<html>
<head><title> "TEXTOBJS Unit" by SWAG TEAM SUPPORT</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0080.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#FF0000"><b>unit </b></font>TextObjs<font color="#000080">;
</font><font color="#FF0000"><b>interface
Uses </b></font>Dos<font color="#000080">;

</font><font color="#FF0000"><b>Type </b></font>OpenHowT <font color="#000080">= (</font>ForceNewF<font color="#000080">,</font>OpenExistF<font color="#000080">,</font>AppendF<font color="#000080">);

</font><font color="#FF0000"><b>type </b></font>TextObj <font color="#000080">= </font><font color="#FF0000"><b>Object
  Constructor </b></font>Init<font color="#000080">(</font>FN<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>FileMode<font color="#000080">:</font>byte<font color="#000080">;</font>BufSize<font color="#000080">:</font>longint<font color="#000080">;</font>OH<font color="#000080">:</font>OpenHowT<font color="#000080">);
  </font><font color="#FF0000"><b>Procedure </b></font>Readln<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
  </font><font color="#FF0000"><b>Procedure </b></font>Writeln<font color="#000080">(</font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
  </font><font color="#FF0000"><b>Procedure </b></font>Write<font color="#000080">(</font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
  </font><font color="#008000"><i>{ some procedures,etc left out }
  </i></font><font color="#FF0000"><b>Destructor </b></font>Done<font color="#000080">;
  </font><font color="#FF0000"><b>private </b></font><font color="#008000"><i>{ internal to object }
   </i></font>F<font color="#000080">: </font>text<font color="#000080">;
   </font>BufP<font color="#000080">: </font>Pointer<font color="#000080">;
   </font>BufferSize<font color="#000080">: </font>longint<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>implementation

Constructor </b></font>TextObj<font color="#000080">.</font>Init<font color="#000080">(</font>FN<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font>FileMode<font color="#000080">:</font>byte<font color="#000080">;</font>BufSize<font color="#000080">:</font>longint<font color="#000080">;
              </font>oh<font color="#000080">:</font>openhowT<font color="#000080">);
 </font><font color="#FF0000"><b>begin
 </b></font>BufferSize<font color="#000080">:=</font>BufSize<font color="#000080">;
 </font>GetMem<font color="#000080">(</font>BufP<font color="#000080">,</font>BufferSize<font color="#000080">);  </font><font color="#008000"><i>{ filemode isn't used here }
 {$I-}
 </i></font>assign<font color="#000080">(</font>F<font color="#000080">,</font>fn<font color="#000080">);
 </font><font color="#FF0000"><b>case </b></font>OH <font color="#FF0000"><b>of
   </b></font>ForceNewF<font color="#000080">: </font>Rewrite<font color="#000080">(</font>f<font color="#000080">);
   </font>OpenExistF<font color="#000080">: </font>Reset<font color="#000080">(</font>f<font color="#000080">);
   </font>AppendF<font color="#000080">: </font>Append<font color="#000080">(</font>f<font color="#000080">)
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font>SetTextBuf<font color="#000080">(</font>f<font color="#000080">,</font>BufP<font color="#000080">^,</font>BufferSize<font color="#000080">)
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure   </b></font>TextObj<font color="#000080">.</font>Readln<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
 </font><font color="#FF0000"><b>begin </b></font>System<font color="#000080">.</font>Readln<font color="#000080">(</font>f<font color="#000080">,</font>s<font color="#000080">) </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure   </b></font>TextObj<font color="#000080">.</font>Writeln<font color="#000080">(</font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
 </font><font color="#FF0000"><b>begin </b></font>System<font color="#000080">.</font>Writeln<font color="#000080">(</font>f<font color="#000080">,</font>s<font color="#000080">) </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure   </b></font>TextObj<font color="#000080">.</font>Write<font color="#000080">(</font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">);
 </font><font color="#FF0000"><b>begin </b></font>System<font color="#000080">.</font>Write<font color="#000080">(</font>f<font color="#000080">,</font>s<font color="#000080">) </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Destructor  </b></font>TextObj<font color="#000080">.</font>Done<font color="#000080">;
 </font><font color="#FF0000"><b>begin
 </b></font>Close<font color="#000080">(</font>f<font color="#000080">);
 </font>FreeMem<font color="#000080">(</font>BufP<font color="#000080">,</font>BufferSize<font color="#000080">)
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.



</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0080.PAS">Original</a><b>]</b></p></body>
</html>
