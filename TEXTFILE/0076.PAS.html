<html>
<head><title> "Text File Management" by SUNE MARCHER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0076.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>unit </b></font>textfile<font color="#000080">;

</font><font color="#FF0000"><b>INTERFACE

function  </b></font>numlines1<font color="#000080">(</font>n<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">):</font>longint<font color="#000080">;
</font><font color="#FF0000"><b>function  </b></font>numlines2<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>f<font color="#000080">:</font>text<font color="#000080">):</font>longint<font color="#000080">;

</font><font color="#FF0000"><b>IMPLEMENTATION

function </b></font>numlines1<font color="#000080">(</font>n<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">):</font>longint<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>f<font color="#000080">:</font>text<font color="#000080">;
  </font>c<font color="#000080">:</font>longint<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>numlines1<font color="#000080">:=-</font><font color="#800000">1</font><font color="#000080">;
  </font>assign<font color="#000080">(</font>f<font color="#000080">,</font>n<font color="#000080">);
  </font><font color="#008000"><i>{$i-} </i></font>reset<font color="#000080">(</font>f<font color="#000080">); </font><font color="#008000"><i>{$i+}
  </i></font><font color="#FF0000"><b>if</b></font><font color="#000080">(</font>ioresult<font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">)</font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
  </font>c<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>while not </b></font>eof<font color="#000080">(</font>f<font color="#000080">)</font><font color="#FF0000"><b>do
  begin
    </b></font>readln<font color="#000080">(</font>f<font color="#000080">);
    </font>inc<font color="#000080">(</font>c<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>numlines1<font color="#000080">:=</font>c<font color="#000080">;
  </font>close<font color="#000080">(</font>f<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>numlines2<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>f<font color="#000080">:</font>text<font color="#000080">):</font>longint<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>c<font color="#000080">:</font>longint<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>numlines2<font color="#000080">:=-</font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#008000"><i>{$i-} </i></font>close<font color="#000080">(</font>f<font color="#000080">); </font><font color="#008000"><i>{$i+}
  </i></font><font color="#FF0000"><b>if</b></font><font color="#000080">(</font>ioresult<font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">)</font><font color="#FF0000"><b>then </b></font><font color="#000080">;
  </font><font color="#008000"><i>{$i-} </i></font>reset<font color="#000080">(</font>f<font color="#000080">); </font><font color="#008000"><i>{$i+}
  </i></font><font color="#FF0000"><b>if</b></font><font color="#000080">(</font>ioresult<font color="#000080">&lt;&gt;</font><font color="#800000">0</font><font color="#000080">)</font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
  </font>c<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>while not </b></font>eof<font color="#000080">(</font>f<font color="#000080">)</font><font color="#FF0000"><b>do
  begin
    </b></font>readln<font color="#000080">(</font>f<font color="#000080">);
    </font>inc<font color="#000080">(</font>c<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>numlines2<font color="#000080">:=</font>c<font color="#000080">;
  </font>close<font color="#000080">(</font>f<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TEXTFILE SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0076.PAS">Original</a><b>]</b></p></body>
</html>
