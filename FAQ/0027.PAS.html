<html>
<head><title> "DOS Proramming FAQ" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0027.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">SECTION <font color="#800000">7 </font><font color="#000080">- </font>DOS Programming
                           
This document <font color="#FF0000"><b>contains </b></font>information that <font color="#FF0000"><b>is </b></font>most often provided
<font color="#FF0000"><b>to </b></font>users <font color="#FF0000"><b>of </b></font>this section<font color="#000080">.  </font>There <font color="#FF0000"><b>is </b></font>a listing <font color="#FF0000"><b>of </b></font>common
Technical Information Documents that can be downloaded from the
libraries<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>a listing <font color="#FF0000"><b>of </b></font>the five most frequently asked
questions <font color="#FF0000"><b>and </b></font>their answers<font color="#000080">.
         
</font>TI1184   Overview <font color="#FF0000"><b>of </b></font>Borland <font color="#FF0000"><b>Pascal </b></font><font color="#800000">7.0 </font><font color="#FF0000"><b>and </b></font>Turbo <font color="#FF0000"><b>Pascal </b></font><font color="#800000">7.0
</font>TI1722   Declaring an <font color="#FF0000"><b>array on </b></font>the heap
TI1760   Creating a temporary stack <font color="#FF0000"><b>in </b></font>real <font color="#FF0000"><b>or protected </b></font>mode
TI1171   Problem Report Form
TI1719   Booting Clean

LC2P01<font color="#000080">.</font>FAQ   Linking C <font color="#FF0000"><b>to Pascal  </b></font>Frequently Asked Questions
EZDPMI<font color="#000080">.</font>ZIP   <font color="#FF0000"><b>Unit </b></font>encapsulating common DPMI requests <font color="#FF0000"><b>for
             protected </b></font>mode programming 
BIGSTU<font color="#000080">.</font>PAS   How <font color="#FF0000"><b>to </b></font>cope <font color="#FF0000"><b>with </b></font>memory allocations <font color="#000080">&gt; </font><font color="#800000">64</font>K 
PASALL<font color="#000080">.</font>ZIP   Collection <font color="#FF0000"><b>of </b></font>Technical Information Sheets from 
             <font color="#800000">1986 </font><font color="#FF0000"><b>on
</b></font>NEWRTM<font color="#000080">.</font>ZIP   Latest RMT<font color="#000080">.</font>EXE <font color="#FF0000"><b>and </b></font>DPMI16BI<font color="#000080">.</font>OVL
MOUSE<font color="#000080">.</font>ZIP    General purpose mouse <font color="#FF0000"><b>unit for </b></font>text<font color="#000080">/</font>graphic modes

Q<font color="#000080">.   &quot;</font>How <font color="#FF0000"><b>do </b></font>I link an <font color="#FF0000"><b>object file </b></font>that <font color="#FF0000"><b>is </b></font>a <font color="#FF0000"><b>library of
     </b></font>functions created <font color="#FF0000"><b>in </b></font>C<font color="#000080">?&quot;

</font>A<font color="#000080">.   </font>Download the <font color="#FF0000"><b>file </b></font><font color="#000080">&quot;</font>LC2P01<font color="#000080">.</font>FAQ<font color="#000080">.  </font>The C run<font color="#000080">-</font>time <font color="#FF0000"><b>library is
     </b></font>needed by the <font color="#FF0000"><b>object file</b></font><font color="#000080">.  </font>Since <font color="#FF0000"><b>Pascal </b></font>can<font color="#800000">'t link the C
     </font>RTL <font color="#FF0000"><b>as is</b></font><font color="#000080">, </font>you will need the RTL source <font color="#FF0000"><b>and </b></font>will need <font color="#FF0000"><b>to
     </b></font>modify it so that it can be linked by TP<font color="#000080">.

</font>Q<font color="#000080">.   &quot;</font>How <font color="#FF0000"><b>do </b></font>I get the ASCII key numbers <font color="#FF0000"><b>for </b></font>the Arrow keys<font color="#000080">?&quot;

</font>A<font color="#000080">.   </font>Below <font color="#FF0000"><b>is </b></font>a short <font color="#FF0000"><b>program </b></font>that reveals this information<font color="#000080">.

     </font><font color="#FF0000"><b>program </b></font>DisplayAscii<font color="#000080">;
     </font><font color="#FF0000"><b>uses </b></font>Crt<font color="#000080">;
     </font><font color="#FF0000"><b>var
       </b></font>ch<font color="#000080">:</font>char<font color="#000080">;
     </font><font color="#FF0000"><b>begin
       repeat               </b></font><font color="#008000"><i>{ repeat until Ctrl-C }
            </i></font>ch <font color="#000080">:= </font>Readkey<font color="#000080">;
            </font>Write<font color="#000080">(</font>Ord<font color="#000080">(</font>CH<font color="#000080">):</font><font color="#800000">4</font><font color="#000080">);
       </font><font color="#FF0000"><b>until </b></font>ch <font color="#000080">= ^</font>C<font color="#000080">;          
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">.

     </font>The <font color="#FF0000"><b>program </b></font>can be terminated by pressing Ctrl<font color="#000080">-</font>C<font color="#000080">.  </font>You<font color="#800000">'ll
     </font>see that keypresses such <font color="#FF0000"><b>as </b></font>UpArrow actually generated two
     bytes<font color="#000080">:  </font>a zero followed by the extended key code<font color="#000080">. 

</font>Q<font color="#000080">.   &quot;</font>Why <font color="#FF0000"><b>do </b></font>I get runtime error <font color="#800000">4 </font><font color="#FF0000"><b>while </b></font>using the following
     line<font color="#000080">:  </font>reset<font color="#000080">(</font>InFile<font color="#000080">)?&quot;

</font>A<font color="#000080">.   </font>The error <font color="#FF0000"><b>message </b></font>means that you have run <font color="#FF0000"><b>out of file
     </b></font>handles<font color="#000080">.  </font>The FILES<font color="#000080">= </font>statement <font color="#FF0000"><b>in </b></font>your CONFIG<font color="#000080">.</font>SYS doesn<font color="#800000">'t
     </font>change the fact that a process can<font color="#000080">, </font>by <font color="#FF0000"><b>default</b></font><font color="#000080">, </font>open a
     maximum <font color="#FF0000"><b>of </b></font><font color="#800000">20 </font>files <font color="#000080">(</font><font color="#FF0000"><b>and </b></font>DOS grabs <font color="#800000">5 </font><font color="#FF0000"><b>of </b></font>those<font color="#000080">).  </font>The
     SetHandleCount<font color="#000080">() </font>API <font color="#FF0000"><b>function </b></font>can be used <font color="#FF0000"><b>to </b></font>increase the
     number <font color="#FF0000"><b>of </b></font>handles useable by your application<font color="#000080">.

</font>Q<font color="#000080">.   &quot;</font>I am using overlays <font color="#FF0000"><b>with </b></font>BP7 <font color="#FF0000"><b>with </b></font>Objects<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>Overlay A
     calls a <font color="#FF0000"><b>procedure or function in </b></font>Overlay B<font color="#000080">, </font>does Overlay A
     stay <font color="#FF0000"><b>in </b></font>memory <font color="#FF0000"><b>while </b></font>Overlay B runs<font color="#000080">?  </font><font color="#FF0000"><b>Or </b></font>does Overlay B
     wipe <font color="#FF0000"><b>out </b></font>Overlay A<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>when Overlay B finishes<font color="#000080">, </font>it reloads
     Overlay A<font color="#000080">?&quot;

</font>A<font color="#000080">.   </font>It depends <font color="#FF0000"><b>on </b></font>the size <font color="#FF0000"><b>of </b></font>the overlays <font color="#FF0000"><b>and </b></font>the size <font color="#FF0000"><b>of </b></font>the
     overlay buffer you <font color="#FF0000"><b>set </b></font>up<font color="#000080">.  </font><font color="#FF0000"><b>In </b></font>general you can think <font color="#FF0000"><b>of </b></font>the
     overlay buffer <font color="#FF0000"><b>as </b></font>a pool <font color="#FF0000"><b>of </b></font>memory where overlaid units can
     be stored<font color="#000080">.  </font>Every time you call a routine <font color="#FF0000"><b>in </b></font>an overlaid
     <font color="#FF0000"><b>unit</b></font><font color="#000080">, </font>that overlay <font color="#FF0000"><b>is </b></font>loaded into the buffer<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>the
     buffer <font color="#FF0000"><b>is </b></font>already full<font color="#000080">, </font><font color="#FF0000"><b>then </b></font>the oldest <font color="#FF0000"><b>unit in </b></font>the buffer
     <font color="#FF0000"><b>is </b></font>discarded <font color="#FF0000"><b>to </b></font>make room <font color="#FF0000"><b>for </b></font>the new one<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>you<font color="#800000">'ve got a
     </font>small overlay buffer <font color="#FF0000"><b>and </b></font>large overlaid units<font color="#000080">, </font>they may
     well kick each other <font color="#FF0000"><b>out as </b></font>they load<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>you<font color="#800000">'ve got a
     </font>large overlay buffer the <font color="#FF0000"><b>program </b></font>may well keep everything
     <font color="#FF0000"><b>in </b></font>memory the entire time<font color="#000080">.
 
</font>Q<font color="#000080">.   &quot;</font>I am getting DosError <font color="#000080">= </font><font color="#800000">8 </font>when using EXEC<font color="#000080">() </font><font color="#FF0000"><b>to </b></font>execute a 
     <font color="#FF0000"><b>program </b></font>from within my <font color="#FF0000"><b>program</b></font><font color="#000080">.  </font>How <font color="#FF0000"><b>do </b></font>I correct this<font color="#000080">?&quot;

</font>A<font color="#000080">.   </font>DosError <font color="#000080">= </font><font color="#800000">8 </font>means that there <font color="#FF0000"><b>is not </b></font>enough memory 
     available <font color="#FF0000"><b>to </b></font>run the <font color="#FF0000"><b>program </b></font>being EXEC<font color="#800000">'ed.  Normally your
     </font><font color="#FF0000"><b>program </b></font>grabs all available memory <font color="#FF0000"><b>and </b></font>doesn<font color="#800000">'t leave any 
     </font><font color="#FF0000"><b>for </b></font>the <font color="#FF0000"><b>program </b></font>being EXEC<font color="#800000">'ed.  Be sure to use the $M 
     </font>directive which minimizes the memory required by your
     <font color="#FF0000"><b>program</b></font><font color="#000080">.  

</font>Q<font color="#000080">.   &quot;</font>I am getting DosError <font color="#000080">= </font><font color="#800000">2 </font>when using EXEC<font color="#000080">() </font><font color="#FF0000"><b>to </b></font>copy a 
     <font color="#FF0000"><b>file </b></font>from one directory <font color="#FF0000"><b>to </b></font>another<font color="#000080">.  </font>The <font color="#FF0000"><b>file </b></font>does exist
     <font color="#FF0000"><b>and </b></font>the command line <font color="#FF0000"><b>is </b></font>correct<font color="#000080">.  </font>What <font color="#FF0000"><b>is </b></font>the problem<font color="#000080">?&quot;
</font>A<font color="#000080">.   </font>You might have assumed that because COMMAND<font color="#000080">.</font>COM <font color="#FF0000"><b>is on </b></font>your
     path<font color="#000080">, </font>EXEC will find it<font color="#000080">.  </font>Nope<font color="#000080">.  </font>EXEC needs the full path
     name<font color="#000080">.  </font>You can use GetEnv<font color="#000080">(</font><font color="#800000">'COMSPEC'</font><font color="#000080">) </font><font color="#FF0000"><b>to </b></font>get the value <font color="#FF0000"><b>of
     </b></font>the environment variable COMSPEC which should be the full
     path<font color="#000080">.  
     


</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0027.PAS">Original</a><b>]</b></p></body>
</html>
