<html>
<head><title> "GIF File format" by HERBERT ZARB</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0017.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">Herbert Zarb <font color="#000080">&lt;</font>panther<font color="#000080">!</font>jaguar<font color="#000080">!</font>hzarb<font color="#000080">@</font>relay<font color="#000080">.</font>iunet<font color="#000080">.</font>it<font color="#000080">&gt;

       </font>This Text <font color="#FF0000"><b>File </b></font>explains the format <font color="#FF0000"><b>of </b></font>Gif Files<font color="#000080">.

---------------------------------------------------------------------------
    </font>G I F <font color="#000080">(</font>tm<font color="#000080">)
       </font>Graphics Interchange Format <font color="#000080">(</font>tm<font color="#000080">)

        </font>A standard defining a mechanism
       <font color="#FF0000"><b>For </b></font>the storage <font color="#FF0000"><b>and </b></font>transmission
     <font color="#FF0000"><b>of </b></font>raster<font color="#000080">-</font>based Graphics information

          June <font color="#800000">15</font><font color="#000080">, </font><font color="#800000">1987

       </font><font color="#000080">(</font>c<font color="#000080">) </font>CompuServe Incorporated<font color="#000080">, </font><font color="#800000">1987
       </font>All rights reserved

     <font color="#FF0000"><b>While </b></font>this document <font color="#FF0000"><b>is </b></font>copyrighted<font color="#000080">, </font>the information
   contained Within <font color="#FF0000"><b>is </b></font>made available <font color="#FF0000"><b>For </b></font>use <font color="#FF0000"><b>in </b></font>computer
   software Without royalties<font color="#000080">, </font><font color="#FF0000"><b>or </b></font>licensing restrictions<font color="#000080">.

   </font>Gif <font color="#FF0000"><b>and </b></font><font color="#800000">'Graphics Interchange Format' </font>are trademarks <font color="#FF0000"><b>of
    </b></font>CompuServe<font color="#000080">, </font>Incorporated<font color="#000080">.
      </font>an H<font color="#000080">&amp;</font>R Block Company

   <font color="#800000">5000 </font>Arlington Centre Blvd<font color="#000080">.
      </font>Columbus<font color="#000080">, </font>Ohio <font color="#800000">43220
         </font><font color="#000080">(</font><font color="#800000">614</font><font color="#000080">) </font><font color="#800000">457</font><font color="#000080">-</font><font color="#800000">8600
             </font>Page <font color="#800000">2


       </font>Graphics Interchange Format <font color="#000080">(</font>GIF<font color="#000080">) </font>Specification


        Table <font color="#FF0000"><b>of </b></font>Contents

 INTRODUCTION <font color="#000080">. . . . . . . . . . . . . . . . . </font>page <font color="#800000">3
 </font>GENERAL <font color="#FF0000"><b>File </b></font>FORMAT  <font color="#000080">. . . . . . . . . . . . . </font>page <font color="#800000">3
 </font>Gif SIGNATURE  <font color="#000080">. . . . . . . . . . . . . . . . </font>page <font color="#800000">4
 </font>SCREEN DESCRIPTOR  <font color="#000080">. . . . . . . . . . . . . . </font>page <font color="#800000">4
 </font>GLOBAL COLOR MAP <font color="#000080">. . . . . . . . . . . . . . . </font>page <font color="#800000">5
 </font>IMAGE DESCRIPTOR <font color="#000080">. . . . . . . . . . . . . . . </font>page <font color="#800000">6
 </font>LOCAL COLOR MAP  <font color="#000080">. . . . . . . . . . . . . . . </font>page <font color="#800000">7
 </font>RASTER DATA  <font color="#000080">. . . . . . . . . . . . . . . . . </font>page <font color="#800000">7
 </font>Gif TERMINATOR <font color="#000080">. . . . . . . . . . . . . . . . </font>page <font color="#800000">8
 </font>Gif EXTENSION BLOCKS <font color="#000080">. . . . . . . . . . . . . </font>page <font color="#800000">8
 </font>APPendIX A <font color="#000080">- </font>GLOSSARY  <font color="#000080">. . . . . . . . . . . . </font>page <font color="#800000">9
 </font>APPendIX B <font color="#000080">- </font>INTERACTIVE SEQUENCES <font color="#000080">. . . . . . </font>page <font color="#800000">10
 </font>APPendIX C <font color="#000080">- </font>IMAGE PACKAGING <font color="#000080">&amp; </font>COMPRESSION <font color="#000080">. . </font>page <font color="#800000">12
 </font>APPendIX D <font color="#000080">- </font>MULTIPLE IMAGE PROCESSING <font color="#000080">. . . . </font>page <font color="#800000">15


</font>INTRODUCTION

 <font color="#800000">'GIF' </font><font color="#000080">(</font>tm<font color="#000080">) </font><font color="#FF0000"><b>is </b></font>CompuServe<font color="#800000">'s standard For defining generalized  color
   </font>raster   images<font color="#000080">.    </font>This   <font color="#800000">'Graphics  Interchange  Format'  </font><font color="#000080">(</font>tm<font color="#000080">)  </font>allows
   high<font color="#000080">-</font>quality<font color="#000080">, </font>high<font color="#000080">-</font>resolution Graphics <font color="#FF0000"><b>to </b></font>be displayed <font color="#FF0000"><b>on </b></font>a  Variety  <font color="#FF0000"><b>of
   </b></font>Graphics  hardware  <font color="#FF0000"><b>and is </b></font>intended <font color="#FF0000"><b>as </b></font>an exchange <font color="#FF0000"><b>and </b></font>display mechanism
   <font color="#FF0000"><b>For </b></font>Graphics images<font color="#000080">.  </font>The image format described  <font color="#FF0000"><b>in  </b></font>this  document  <font color="#FF0000"><b>is
   </b></font>designed  <font color="#FF0000"><b>to  </b></font>support  current  <font color="#FF0000"><b>and  </b></font>future image technology <font color="#FF0000"><b>and </b></font>will <font color="#FF0000"><b>in
   </b></font>addition serve <font color="#FF0000"><b>as </b></font>a basis <font color="#FF0000"><b>For </b></font>future CompuServe Graphics products<font color="#000080">.

 </font>The main focus  <font color="#FF0000"><b>of  </b></font>this  document  <font color="#FF0000"><b>is  to  </b></font>provide  the  technical
   information  necessary  <font color="#FF0000"><b>For  </b></font>a  Programmer <font color="#FF0000"><b>to </b></font>implement Gif encoders <font color="#FF0000"><b>and
   </b></font>decoders<font color="#000080">.  </font><font color="#FF0000"><b>As </b></font>such<font color="#000080">, </font>some assumptions are made <font color="#FF0000"><b>as to </b></font>terminology relavent
   <font color="#FF0000"><b>to </b></font>Graphics <font color="#FF0000"><b>and </b></font>Programming <font color="#FF0000"><b>in </b></font>general<font color="#000080">.

 </font>The first section <font color="#FF0000"><b>of </b></font>this document describes the  Gif  data  format
   <font color="#FF0000"><b>and </b></font>its components <font color="#FF0000"><b>and </b></font>applies <font color="#FF0000"><b>to </b></font>all Gif decoders<font color="#000080">, </font>either <font color="#FF0000"><b>as </b></font>standalone
   Programs <font color="#FF0000"><b>or as </b></font>part <font color="#FF0000"><b>of  </b></font>a  communications  <font color="#FF0000"><b>package</b></font><font color="#000080">.   </font>Appendix  B  <font color="#FF0000"><b>is  </b></font>a
   section  relavent <font color="#FF0000"><b>to </b></font>decoders that are part <font color="#FF0000"><b>of </b></font>a communications software
   <font color="#FF0000"><b>package and </b></font>describes the protocol requirements <font color="#FF0000"><b>For </b></font>entering <font color="#FF0000"><b>and </b></font>Exiting
   Gif mode<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>responding <font color="#FF0000"><b>to </b></font>host interrogations<font color="#000080">.  </font>A glossary <font color="#FF0000"><b>in </b></font>Appendix
   A defines some <font color="#FF0000"><b>of </b></font>the terminology used <font color="#FF0000"><b>in  </b></font>this  document<font color="#000080">.   </font>Appendix  C
   gives  a  detailed  explanation  <font color="#FF0000"><b>of  </b></font>how  the  Graphics  image itself <font color="#FF0000"><b>is
   </b></font>packaged <font color="#FF0000"><b>as </b></font>a series <font color="#FF0000"><b>of </b></font>data Bytes<font color="#000080">.


  </font>Graphics Interchange Format Data Definition


 GENERAL <font color="#FF0000"><b>File </b></font>FORMAT

 <font color="#000080">+-----------------------+
 | +-------------------+ |
 | |   </font>Gif Signature   <font color="#000080">| |
 | +-------------------+ |
 | +-------------------+ |
 | | </font>Screen Descriptor <font color="#000080">| |
 | +-------------------+ |
 | +-------------------+ |
 | | </font>Global Color Map  <font color="#000080">| |
 | +-------------------+ |
 . . .               . . .
 | +-------------------+ |    ---+
 | |  </font>Image Descriptor <font color="#000080">| |       |
 | +-------------------+ |       |
 | +-------------------+ |       |
 | |  </font>Local Color Map  <font color="#000080">| |       |-   </font>Repeated <font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>n times
 <font color="#000080">| +-------------------+ |       |
 | +-------------------+ |       |
 | |    </font>Raster Data    <font color="#000080">| |       |
 | +-------------------+ |    ---+
 . . .               . . .
 |-    </font>Gif Terminator   <font color="#000080">-|
 +-----------------------+


 </font>Gif SIGNATURE

 The following Gif Signature identifies  the  data  following  <font color="#FF0000"><b>as  </b></font>a
   valid Gif image stream<font color="#000080">.  </font>It consists <font color="#FF0000"><b>of </b></font>the following six Characters<font color="#000080">:

      </font>G I F <font color="#800000">8 7 </font>a

 The last three Characters <font color="#800000">'87a' </font>may be viewed <font color="#FF0000"><b>as </b></font>a  version  number
   <font color="#FF0000"><b>For  </b></font>this  particular  Gif  definition  <font color="#FF0000"><b>and </b></font>will be used <font color="#FF0000"><b>in </b></font>general <font color="#FF0000"><b>as </b></font>a
   reference  <font color="#FF0000"><b>in  </b></font>documents  regarding  Gif  that   address   any   version
   dependencies<font color="#000080">.

 </font>SCREEN DESCRIPTOR

 The Screen Descriptor describes the overall parameters <font color="#FF0000"><b>For </b></font>all  GIF
   images  following<font color="#000080">.  </font>It defines the overall dimensions <font color="#FF0000"><b>of </b></font>the image space
   <font color="#FF0000"><b>or </b></font>logical screen required<font color="#000080">, </font>the existance <font color="#FF0000"><b>of </b></font>color mapping  information<font color="#000080">,
   </font>background  screen color<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>color depth information<font color="#000080">.  </font>This information
   <font color="#FF0000"><b>is </b></font>stored <font color="#FF0000"><b>in </b></font>a series <font color="#FF0000"><b>of </b></font><font color="#800000">8</font><font color="#000080">-</font>bit Bytes <font color="#FF0000"><b>as </b></font>described below<font color="#000080">.

       </font>bits
  <font color="#800000">7 6 5 4 3 2 1 0  </font>Byte <font color="#800000">#
 </font><font color="#000080">+---------------+
 |               |  </font><font color="#800000">1
 </font><font color="#000080">+-</font>Screen Width <font color="#000080">-+      </font>Raster width <font color="#FF0000"><b>in </b></font>pixels <font color="#000080">(</font>LSB first<font color="#000080">)
 |               |  </font><font color="#800000">2
 </font><font color="#000080">+---------------+
 |               |  </font><font color="#800000">3
 </font><font color="#000080">+-</font>Screen Height<font color="#000080">-+      </font>Raster height <font color="#FF0000"><b>in </b></font>pixels <font color="#000080">(</font>LSB first<font color="#000080">)
 |               |  </font><font color="#800000">4
 </font><font color="#000080">+-+-----+-+-----+      </font>M <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">, </font>Global color map follows Descriptor
 <font color="#000080">|</font>M<font color="#000080">|  </font>cr <font color="#000080">|</font><font color="#800000">0</font><font color="#000080">|</font>pixel<font color="#000080">|  </font><font color="#800000">5   </font>cr<font color="#000080">+</font><font color="#800000">1 </font><font color="#000080">= </font><font color="#800000"># </font>bits <font color="#FF0000"><b>of </b></font>color resolution
 <font color="#000080">+-+-----+-+-----+      </font>pixel<font color="#000080">+</font><font color="#800000">1 </font><font color="#000080">= </font><font color="#800000"># </font>bits<font color="#000080">/</font>pixel <font color="#FF0000"><b>in </b></font>image
 <font color="#000080">|   </font>background  <font color="#000080">|  </font><font color="#800000">6   </font>background<font color="#000080">=</font>Color index <font color="#FF0000"><b>of </b></font>screen background
 <font color="#000080">+---------------+          (</font>color <font color="#FF0000"><b>is </b></font>defined from the Global color
 <font color="#000080">|</font><font color="#800000">0 0 0 0 0 0 0 0</font><font color="#000080">|  </font><font color="#800000">7        </font>map <font color="#FF0000"><b>or default </b></font>map <font color="#FF0000"><b>if </b></font>none specified<font color="#000080">)
 +---------------+


 </font>The logical screen width <font color="#FF0000"><b>and </b></font>height can both  be  larger  than  the
   physical  display<font color="#000080">.   </font>How  images  larger  than  the physical display are
   handled <font color="#FF0000"><b>is Implementation </b></font>dependent <font color="#FF0000"><b>and </b></font>can take advantage  <font color="#FF0000"><b>of  </b></font>hardware
   Characteristics  <font color="#000080">(</font>e<font color="#000080">.</font>g<font color="#000080">.   </font>Macintosh scrolling Windows<font color="#000080">).  </font>Otherwise images
   can be clipped <font color="#FF0000"><b>to </b></font>the edges <font color="#FF0000"><b>of </b></font>the display<font color="#000080">.

 </font>The value <font color="#FF0000"><b>of </b></font><font color="#800000">'pixel' </font>also defines  the  maximum  number  <font color="#FF0000"><b>of  </b></font>colors
   Within  an  image<font color="#000080">.   </font>The  range  <font color="#FF0000"><b>of  </b></font>values  <font color="#FF0000"><b>For </b></font><font color="#800000">'pixel' </font><font color="#FF0000"><b>is </b></font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">7 </font>which
   represents <font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">8 </font>bits<font color="#000080">.  </font>This translates <font color="#FF0000"><b>to </b></font>a range <font color="#FF0000"><b>of </b></font><font color="#800000">2 </font><font color="#000080">(</font>B <font color="#000080">&amp; </font>W<font color="#000080">) </font><font color="#FF0000"><b>to  </b></font><font color="#800000">256
   </font>colors<font color="#000080">.   </font>Bit  <font color="#800000">3 </font><font color="#FF0000"><b>of </b></font>Word <font color="#800000">5 </font><font color="#FF0000"><b>is </b></font>reserved <font color="#FF0000"><b>For </b></font>future definition <font color="#FF0000"><b>and </b></font>must be
   zero<font color="#000080">.


 </font>GLOBAL COLOR MAP

 The Global Color Map <font color="#FF0000"><b>is </b></font>optional but recommended <font color="#FF0000"><b>For  </b></font>images  where
   accurate color rendition <font color="#FF0000"><b>is </b></font>desired<font color="#000080">.  </font>The existence <font color="#FF0000"><b>of </b></font>this color map <font color="#FF0000"><b>is
   </b></font>indicated <font color="#FF0000"><b>in </b></font>the <font color="#800000">'M' </font>field <font color="#FF0000"><b>of </b></font>Byte <font color="#800000">5 </font><font color="#FF0000"><b>of </b></font>the Screen Descriptor<font color="#000080">.  </font>A  color
   map  can  also  be associated <font color="#FF0000"><b>With </b></font>each image <font color="#FF0000"><b>in </b></font>a Gif <font color="#FF0000"><b>File as </b></font>described
   later<font color="#000080">.  </font>However this  global  map  will  normally  be  used  because  <font color="#FF0000"><b>of
   </b></font>hardware  restrictions  <font color="#FF0000"><b>in </b></font>equipment available today<font color="#000080">.  </font><font color="#FF0000"><b>In </b></font>the individual
   Image Descriptors the <font color="#800000">'M' </font>flag will normally be  zero<font color="#000080">.   </font><font color="#FF0000"><b>if  </b></font>the  Global
   Color  Map  <font color="#FF0000"><b>is  </b></font>present<font color="#000080">,  </font>it<font color="#800000">'s definition immediately follows the Screen
   </font>Descriptor<font color="#000080">.   </font>The  number  <font color="#FF0000"><b>of  </b></font>color  map  entries  following  a  Screen
   Descriptor  <font color="#FF0000"><b>is </b></font>equal <font color="#FF0000"><b>to </b></font><font color="#800000">2</font><font color="#000080">**(</font><font color="#800000"># </font>bits per pixel<font color="#000080">), </font>where each entry consists
   <font color="#FF0000"><b>of </b></font>three Byte values representing the relative intensities <font color="#FF0000"><b>of </b></font>red<font color="#000080">, </font>green
   <font color="#FF0000"><b>and </b></font>blue respectively<font color="#000080">.  </font>The structure <font color="#FF0000"><b>of </b></font>the Color Map block <font color="#FF0000"><b>is</b></font><font color="#000080">:

       </font>bits
  <font color="#800000">7 6 5 4 3 2 1 0  </font>Byte <font color="#800000">#
 </font><font color="#000080">+---------------+
 | </font>red intensity <font color="#000080">|  </font><font color="#800000">1    </font>Red value <font color="#FF0000"><b>For </b></font>color index <font color="#800000">0
 </font><font color="#000080">+---------------+
 |</font>green intensity<font color="#000080">|  </font><font color="#800000">2    </font>Green value <font color="#FF0000"><b>For </b></font>color index <font color="#800000">0
 </font><font color="#000080">+---------------+
 | </font>blue intensity<font color="#000080">|  </font><font color="#800000">3    </font>Blue value <font color="#FF0000"><b>For </b></font>color index <font color="#800000">0
 </font><font color="#000080">+---------------+
 | </font>red intensity <font color="#000080">|  </font><font color="#800000">4    </font>Red value <font color="#FF0000"><b>For </b></font>color index <font color="#800000">1
 </font><font color="#000080">+---------------+
 |</font>green intensity<font color="#000080">|  </font><font color="#800000">5    </font>Green value <font color="#FF0000"><b>For </b></font>color index <font color="#800000">1
 </font><font color="#000080">+---------------+
 | </font>blue intensity<font color="#000080">|  </font><font color="#800000">6    </font>Blue value <font color="#FF0000"><b>For </b></font>color index <font color="#800000">1
 </font><font color="#000080">+---------------+
 :               :       (</font>Continues <font color="#FF0000"><b>For </b></font>remaining colors<font color="#000080">)

 </font>Each image pixel value received will be displayed according <font color="#FF0000"><b>to  </b></font>its
   closest match <font color="#FF0000"><b>With </b></font>an available color <font color="#FF0000"><b>of </b></font>the display based <font color="#FF0000"><b>on </b></font>this color
   map<font color="#000080">.  </font>The color components represent a fractional intensity  value  from
   none  <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">)  </font><font color="#FF0000"><b>to  </b></font>full <font color="#000080">(</font><font color="#800000">255</font><font color="#000080">).  </font>White would be represented <font color="#FF0000"><b>as </b></font><font color="#000080">(</font><font color="#800000">255</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">),
   </font>black <font color="#FF0000"><b>as </b></font><font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font>medium yellow <font color="#FF0000"><b>as </b></font><font color="#000080">(</font><font color="#800000">180</font><font color="#000080">,</font><font color="#800000">180</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">).  </font><font color="#FF0000"><b>For </b></font>display<font color="#000080">, </font><font color="#FF0000"><b>if  </b></font>the
   device  supports fewer than <font color="#800000">8 </font>bits per color component<font color="#000080">, </font>the higher order
   bits <font color="#FF0000"><b>of </b></font>each component are used<font color="#000080">.  </font><font color="#FF0000"><b>In </b></font>the creation <font color="#FF0000"><b>of  </b></font>a  Gif  color  map
   entry  <font color="#FF0000"><b>With  </b></font>hardware  supporting  fewer  than <font color="#800000">8 </font>bits per component<font color="#000080">, </font>the
   component values <font color="#FF0000"><b>For </b></font>the hardware  should  be  converted  <font color="#FF0000"><b>to  </b></font>the  <font color="#800000">8</font><font color="#000080">-</font>bit
   format <font color="#FF0000"><b>With </b></font>the following calculation<font color="#000080">:

 &lt;</font>map_value<font color="#000080">&gt; = &lt;</font>component_value<font color="#000080">&gt;*</font><font color="#800000">255</font><font color="#000080">/(</font><font color="#800000">2</font><font color="#000080">**&lt;</font>nbits<font color="#000080">&gt; -</font><font color="#800000">1</font><font color="#000080">)

 </font>This assures accurate translation <font color="#FF0000"><b>of </b></font>colors <font color="#FF0000"><b>For </b></font>all  displays<font color="#000080">.   </font><font color="#FF0000"><b>In
   </b></font>the  cases  <font color="#FF0000"><b>of  </b></font>creating  Gif images from hardware Without color palette
   capability<font color="#000080">, </font>a fixed palette should be created  based  <font color="#FF0000"><b>on  </b></font>the  available
   display  colors <font color="#FF0000"><b>For </b></font>that hardware<font color="#000080">.  </font><font color="#FF0000"><b>if </b></font>no Global Color Map <font color="#FF0000"><b>is </b></font>indicated<font color="#000080">,
   </font>a <font color="#FF0000"><b>default </b></font>color map <font color="#FF0000"><b>is </b></font>generated internally  which  maps  each  possible
   incoming  color  index <font color="#FF0000"><b>to </b></font>the same hardware color index modulo <font color="#000080">&lt;</font>n<font color="#000080">&gt; </font>where
   <font color="#000080">&lt;</font>n<font color="#000080">&gt; </font><font color="#FF0000"><b>is </b></font>the number <font color="#FF0000"><b>of </b></font>available hardware colors<font color="#000080">.


 </font>IMAGE DESCRIPTOR

 The Image Descriptor defines the actual placement  <font color="#FF0000"><b>and  </b></font>extents  <font color="#FF0000"><b>of
   </b></font>the  following  image Within the space defined <font color="#FF0000"><b>in </b></font>the Screen Descriptor<font color="#000080">.
   </font>Also defined are flags <font color="#FF0000"><b>to </b></font>indicate the presence <font color="#FF0000"><b>of </b></font>a local color  lookup
   map<font color="#000080">, </font><font color="#FF0000"><b>and to </b></font>define the pixel display sequence<font color="#000080">.  </font>Each Image Descriptor <font color="#FF0000"><b>is
   </b></font>introduced by an image separator  Character<font color="#000080">.   </font>The  role  <font color="#FF0000"><b>of  </b></font>the  Image
   Separator  <font color="#FF0000"><b>is </b></font>simply <font color="#FF0000"><b>to </b></font>provide a synchronization Character <font color="#FF0000"><b>to </b></font>introduce
   an Image Descriptor<font color="#000080">.  </font>This <font color="#FF0000"><b>is </b></font>desirable <font color="#FF0000"><b>if </b></font>a Gif <font color="#FF0000"><b>File </b></font>happens <font color="#FF0000"><b>to </b></font>contain
   more  than  one  image<font color="#000080">.   </font>This  Character  <font color="#FF0000"><b>is </b></font>defined <font color="#FF0000"><b>as </b></font><font color="#800000">0</font>x2C hex <font color="#FF0000"><b>or </b></font><font color="#800000">','
   </font><font color="#000080">(</font>comma<font color="#000080">).  </font>When this Character <font color="#FF0000"><b>is </b></font>encountered between images<font color="#000080">,  </font>the  Image
   Descriptor will follow immediately<font color="#000080">.

 </font>Any Characters encountered between the <font color="#FF0000"><b>end of </b></font>a previous image  <font color="#FF0000"><b>and
   </b></font>the image separator Character are <font color="#FF0000"><b>to </b></font>be ignored<font color="#000080">.  </font>This allows future GIF
   enhancements <font color="#FF0000"><b>to </b></font>be present <font color="#FF0000"><b>in </b></font>newer image formats <font color="#FF0000"><b>and </b></font>yet ignored safely
   by older software decoders<font color="#000080">.


       </font>bits
  <font color="#800000">7 6 5 4 3 2 1 0  </font>Byte <font color="#800000">#
 </font><font color="#000080">+---------------+
 |</font><font color="#800000">0 0 1 0 1 1 0 0</font><font color="#000080">|  </font><font color="#800000">1    ',' </font><font color="#000080">- </font>Image separator Character
 <font color="#000080">+---------------+
 |               |  </font><font color="#800000">2    </font>Start <font color="#FF0000"><b>of </b></font>image <font color="#FF0000"><b>in </b></font>pixels from the
 <font color="#000080">+-  </font>Image Left <font color="#000080">-+       </font>left side <font color="#FF0000"><b>of </b></font>the screen <font color="#000080">(</font>LSB first<font color="#000080">)
 |               |  </font><font color="#800000">3
 </font><font color="#000080">+---------------+
 |               |  </font><font color="#800000">4
 </font><font color="#000080">+-  </font>Image Top  <font color="#000080">-+       </font>Start <font color="#FF0000"><b>of </b></font>image <font color="#FF0000"><b>in </b></font>pixels from the
 <font color="#000080">|               |  </font><font color="#800000">5    </font>top <font color="#FF0000"><b>of </b></font>the screen <font color="#000080">(</font>LSB first<font color="#000080">)
 +---------------+
 |               |  </font><font color="#800000">6
 </font><font color="#000080">+- </font>Image Width <font color="#000080">-+       </font>Width <font color="#FF0000"><b>of </b></font>the image <font color="#FF0000"><b>in </b></font>pixels <font color="#000080">(</font>LSB first<font color="#000080">)
 |               |  </font><font color="#800000">7
 </font><font color="#000080">+---------------+
 |               |  </font><font color="#800000">8
 </font><font color="#000080">+- </font>Image Height<font color="#000080">-+       </font>Height <font color="#FF0000"><b>of </b></font>the image <font color="#FF0000"><b>in </b></font>pixels <font color="#000080">(</font>LSB first<font color="#000080">)
 |               |  </font><font color="#800000">9
 </font><font color="#000080">+-+-+-+-+-+-----+       </font>M<font color="#000080">=</font><font color="#800000">0 </font><font color="#000080">- </font>Use global color map<font color="#000080">, </font>ignore <font color="#800000">'pixel'
 </font><font color="#000080">|</font>M<font color="#000080">|</font>I<font color="#000080">|</font><font color="#800000">0</font><font color="#000080">|</font><font color="#800000">0</font><font color="#000080">|</font><font color="#800000">0</font><font color="#000080">|</font>pixel<font color="#000080">| </font><font color="#800000">10    </font>M<font color="#000080">=</font><font color="#800000">1 </font><font color="#000080">- </font>Local color map follows<font color="#000080">, </font>use <font color="#800000">'pixel'
 </font><font color="#000080">+-+-+-+-+-+-----+       </font>I<font color="#000080">=</font><font color="#800000">0 </font><font color="#000080">- </font>Image formatted <font color="#FF0000"><b>in </b></font>Sequential order
    I<font color="#000080">=</font><font color="#800000">1 </font><font color="#000080">- </font>Image formatted <font color="#FF0000"><b>in </b></font>Interlaced order
    pixel<font color="#000080">+</font><font color="#800000">1 </font><font color="#000080">- </font><font color="#800000"># </font>bits per pixel <font color="#FF0000"><b>For </b></font>this image

 The specifications <font color="#FF0000"><b>For </b></font>the image position <font color="#FF0000"><b>and </b></font>size must be confined
   <font color="#FF0000"><b>to  </b></font>the  dimensions defined by the Screen Descriptor<font color="#000080">.  </font><font color="#FF0000"><b>On </b></font>the other hand
   it <font color="#FF0000"><b>is not </b></font>necessary that the image fill the entire screen defined<font color="#000080">.


 </font>LOCAL COLOR MAP

 A Local Color Map <font color="#FF0000"><b>is </b></font>optional <font color="#FF0000"><b>and </b></font>defined here <font color="#FF0000"><b>For </b></font>future use<font color="#000080">.   </font><font color="#FF0000"><b>If
   </b></font>the  <font color="#800000">'M' </font>bit <font color="#FF0000"><b>of </b></font>Byte <font color="#800000">10 </font><font color="#FF0000"><b>of </b></font>the Image Descriptor <font color="#FF0000"><b>is set</b></font><font color="#000080">, </font><font color="#FF0000"><b>then </b></font>a color map
   follows the Image Descriptor that applies only <font color="#FF0000"><b>to </b></font>the  following  image<font color="#000080">.
   </font>At the <font color="#FF0000"><b>end of </b></font>the image<font color="#000080">, </font>the color map will revert <font color="#FF0000"><b>to </b></font>that defined after
   the Screen Descriptor<font color="#000080">.  </font>Note that the <font color="#800000">'pixel' </font>field <font color="#FF0000"><b>of </b></font>Byte  <font color="#800000">10  </font><font color="#FF0000"><b>of  </b></font>the
   Image  Descriptor  <font color="#FF0000"><b>is </b></font>used only <font color="#FF0000"><b>if </b></font>a Local Color Map <font color="#FF0000"><b>is </b></font>indicated<font color="#000080">.  </font>This
   defines the parameters <font color="#FF0000"><b>not </b></font>only <font color="#FF0000"><b>For </b></font>the image pixel size<font color="#000080">, </font>but determines
   the  number  <font color="#FF0000"><b>of </b></font>color map entries that follow<font color="#000080">.  </font>The bits per pixel value
   will also revert <font color="#FF0000"><b>to </b></font>the value specified <font color="#FF0000"><b>in </b></font>the  Screen  Descriptor  when
   processing <font color="#FF0000"><b>of </b></font>the image <font color="#FF0000"><b>is </b></font>complete<font color="#000080">.

 </font>RASTER DATA

 The format <font color="#FF0000"><b>of </b></font>the actual image <font color="#FF0000"><b>is </b></font>defined <font color="#FF0000"><b>as </b></font>the  series  <font color="#FF0000"><b>of  </b></font>pixel
   color  index  values that make up the image<font color="#000080">.  </font>The pixels are stored left
   <font color="#FF0000"><b>to </b></font>right sequentially <font color="#FF0000"><b>For </b></font>an image row<font color="#000080">.  </font>By <font color="#FF0000"><b>default </b></font>each  image  row  <font color="#FF0000"><b>is
   </b></font>written  sequentially<font color="#000080">, </font>top <font color="#FF0000"><b>to </b></font>bottom<font color="#000080">.  </font><font color="#FF0000"><b>In </b></font>the <font color="#FF0000"><b>Case </b></font>that the Interlace <font color="#FF0000"><b>or
   </b></font><font color="#800000">'I' </font>bit <font color="#FF0000"><b>is set in </b></font>Byte <font color="#800000">10 </font><font color="#FF0000"><b>of </b></font>the Image Descriptor <font color="#FF0000"><b>then </b></font>the row order  <font color="#FF0000"><b>of
   </b></font>the  image  display  follows  a  four<font color="#000080">-</font>pass process <font color="#FF0000"><b>in </b></font>which the image <font color="#FF0000"><b>is
   </b></font>filled <font color="#FF0000"><b>in </b></font>by widely spaced rows<font color="#000080">.  </font>The first pass Writes every  <font color="#800000">8</font>th  row<font color="#000080">,
   </font>starting  <font color="#FF0000"><b>With  </b></font>the top row <font color="#FF0000"><b>of </b></font>the image Window<font color="#000080">.  </font>The second pass Writes
   every <font color="#800000">8</font>th row starting at the fifth row from the top<font color="#000080">.   </font>The  third  pass
   Writes every <font color="#800000">4</font>th row starting at the third row from the top<font color="#000080">.  </font>The fourth
   pass completes the image<font color="#000080">, </font>writing  every  other  row<font color="#000080">,  </font>starting  at  the
   second row from the top<font color="#000080">.  </font>A Graphic description <font color="#FF0000"><b>of </b></font>this process follows<font color="#000080">:


   </font>Image
   Row  Pass <font color="#800000">1  </font>Pass <font color="#800000">2  </font>Pass <font color="#800000">3  </font>Pass <font color="#800000">4          </font>Result
   <font color="#000080">---------------------------------------------------
     </font><font color="#800000">0  </font><font color="#000080">**</font><font color="#800000">1</font>a<font color="#000080">**                                  **</font><font color="#800000">1</font>a<font color="#000080">**
     </font><font color="#800000">1                          </font><font color="#000080">**</font><font color="#800000">4</font>a<font color="#000080">**          **</font><font color="#800000">4</font>a<font color="#000080">**
     </font><font color="#800000">2                  </font><font color="#000080">**</font><font color="#800000">3</font>a<font color="#000080">**                  **</font><font color="#800000">3</font>a<font color="#000080">**
     </font><font color="#800000">3                          </font><font color="#000080">**</font><font color="#800000">4</font>b<font color="#000080">**          **</font><font color="#800000">4</font>b<font color="#000080">**
     </font><font color="#800000">4          </font><font color="#000080">**</font><font color="#800000">2</font>a<font color="#000080">**                          **</font><font color="#800000">2</font>a<font color="#000080">**
     </font><font color="#800000">5                          </font><font color="#000080">**</font><font color="#800000">4</font>c<font color="#000080">**          **</font><font color="#800000">4</font>c<font color="#000080">**
     </font><font color="#800000">6                  </font><font color="#000080">**</font><font color="#800000">3</font>b<font color="#000080">**                  **</font><font color="#800000">3</font>b<font color="#000080">**
     </font><font color="#800000">7                          </font><font color="#000080">**</font><font color="#800000">4</font>d<font color="#000080">**          **</font><font color="#800000">4</font>d<font color="#000080">**
     </font><font color="#800000">8  </font><font color="#000080">**</font><font color="#800000">1</font>b<font color="#000080">**                                  **</font><font color="#800000">1</font>b<font color="#000080">**
     </font><font color="#800000">9                          </font><font color="#000080">**</font><font color="#800000">4e</font><font color="#000080">**          **</font><font color="#800000">4e</font><font color="#000080">**
    </font><font color="#800000">10                  </font><font color="#000080">**</font><font color="#800000">3</font>c<font color="#000080">**                  **</font><font color="#800000">3</font>c<font color="#000080">**
    </font><font color="#800000">11                          </font><font color="#000080">**</font><font color="#800000">4</font>f<font color="#000080">**          **</font><font color="#800000">4</font>f<font color="#000080">**
    </font><font color="#800000">12          </font><font color="#000080">**</font><font color="#800000">2</font>b<font color="#000080">**                          **</font><font color="#800000">2</font>b<font color="#000080">**
   . . .



 </font>The image pixel values are processed <font color="#FF0000"><b>as </b></font>a series <font color="#FF0000"><b>of  </b></font>color  indices
   which  map  into the existing color map<font color="#000080">.  </font>The resulting color value from
   the map <font color="#FF0000"><b>is </b></font>what <font color="#FF0000"><b>is </b></font>actually displayed<font color="#000080">.  </font>This series  <font color="#FF0000"><b>of  </b></font>pixel  indices<font color="#000080">,
   </font>the  number  <font color="#FF0000"><b>of  </b></font>which  <font color="#FF0000"><b>is </b></font>equal <font color="#FF0000"><b>to </b></font>image<font color="#000080">-</font>width<font color="#000080">*</font>image<font color="#000080">-</font>height pixels<font color="#000080">, </font>are
   passed <font color="#FF0000"><b>to </b></font>the Gif image data stream one value per pixel<font color="#000080">, </font>compressed  <font color="#FF0000"><b>and
   </b></font>packaged  according  <font color="#FF0000"><b>to  </b></font>a  version  <font color="#FF0000"><b>of </b></font>the LZW compression algorithm <font color="#FF0000"><b>as
   </b></font>defined <font color="#FF0000"><b>in </b></font>Appendix C<font color="#000080">.

 </font>Gif TERMINATOR

 <font color="#FF0000"><b>In </b></font>order <font color="#FF0000"><b>to </b></font>provide a synchronization <font color="#FF0000"><b>For </b></font>the termination <font color="#FF0000"><b>of </b></font>a  GIF
   image  <font color="#FF0000"><b>File</b></font><font color="#000080">,  </font>a  Gif  decoder  will process the <font color="#FF0000"><b>end of </b></font>Gif mode when the
   Character <font color="#800000">0</font>x3B hex <font color="#FF0000"><b>or </b></font><font color="#800000">';' </font><font color="#FF0000"><b>is </b></font>found after an image  has  been  processed<font color="#000080">.
   </font>By  convention  the  decoding software will pause <font color="#FF0000"><b>and </b></font>wait <font color="#FF0000"><b>For </b></font>an action
   indicating that the user <font color="#FF0000"><b>is </b></font>ready <font color="#FF0000"><b>to </b></font>continue<font color="#000080">.  </font>This may be  a  carriage
   return  entered  at  the  keyboard  <font color="#FF0000"><b>or  </b></font>a  mouse click<font color="#000080">.  </font><font color="#FF0000"><b>For </b></font>interactive
   applications this user action must  be  passed  <font color="#FF0000"><b>on  to  </b></font>the  host  <font color="#FF0000"><b>as  </b></font>a
   carriage  return  Character  so  that the host application can continue<font color="#000080">.
   </font>The decoding software will <font color="#FF0000"><b>then </b></font>typically leave Graphics mode <font color="#FF0000"><b>and </b></font>resume
   any previous process<font color="#000080">.


 </font>Gif EXTENSION BLOCKS

 <font color="#FF0000"><b>To </b></font>provide <font color="#FF0000"><b>For </b></font>orderly extension <font color="#FF0000"><b>of </b></font>the Gif definition<font color="#000080">, </font>a mechanism
   <font color="#FF0000"><b>For  </b></font>defining  the  packaging  <font color="#FF0000"><b>of </b></font>extensions Within a Gif data stream <font color="#FF0000"><b>is
   </b></font>necessary<font color="#000080">.  </font>Specific Gif extensions are <font color="#FF0000"><b>to </b></font>be defined <font color="#FF0000"><b>and </b></font>documented  by
   CompuServe <font color="#FF0000"><b>in </b></font>order <font color="#FF0000"><b>to </b></font>provide a controlled enhancement path<font color="#000080">.

 </font>Gif Extension Blocks are packaged <font color="#FF0000"><b>in </b></font>a manner similar <font color="#FF0000"><b>to </b></font>that  used
   by the raster data though <font color="#FF0000"><b>not </b></font>compressed<font color="#000080">.  </font>The basic structure <font color="#FF0000"><b>is</b></font><font color="#000080">:

  </font><font color="#800000">7 6 5 4 3 2 1 0  </font>Byte <font color="#800000">#
 </font><font color="#000080">+---------------+
 |</font><font color="#800000">0 0 1 0 0 0 0 1</font><font color="#000080">|  </font><font color="#800000">1       '!' </font><font color="#000080">- </font>Gif Extension Block Introducer
 <font color="#000080">+---------------+
 | </font><font color="#FF0000"><b>Function </b></font>code <font color="#000080">|  </font><font color="#800000">2       </font>Extension <font color="#FF0000"><b>Function </b></font>code <font color="#000080">(</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255</font><font color="#000080">)
 +---------------+    ---+
 |  </font>Byte count   <font color="#000080">|       |
 +---------------+       |
 :               :       +-- </font>Repeated <font color="#FF0000"><b>as </b></font>many times <font color="#FF0000"><b>as </b></font>necessary
 <font color="#000080">|</font>func data Bytes<font color="#000080">|       |
 :               :       |
 +---------------+    ---+
 . . .       . . .
 +---------------+
 |</font><font color="#800000">0 0 0 0 0 0 0 0</font><font color="#000080">|       </font>zero Byte count <font color="#000080">(</font>terminates block<font color="#000080">)
 +---------------+

 </font>A Gif Extension Block may immediately preceed any Image  Descriptor
   <font color="#FF0000"><b>or </b></font>occur before the Gif Terminator<font color="#000080">.

 </font>All Gif decoders must be able <font color="#FF0000"><b>to </b></font>recognize  the  existence  <font color="#FF0000"><b>of  </b></font>GIF
   Extension  Blocks  <font color="#FF0000"><b>and  </b></font>read past them <font color="#FF0000"><b>if </b></font>unable <font color="#FF0000"><b>to </b></font>process the <font color="#FF0000"><b>Function
   </b></font>code<font color="#000080">.  </font>This ensures that older decoders will be able <font color="#FF0000"><b>to </b></font>process extended
   Gif   image   Files   <font color="#FF0000"><b>in  </b></font>the  future<font color="#000080">,  </font>though  Without  the  additional
   Functionality<font color="#000080">.


     </font>GLOSSARY

Pixel <font color="#000080">- </font>The smallest picture element <font color="#FF0000"><b>of </b></font>a  Graphics  image<font color="#000080">.   </font>This  usually
   corresponds  <font color="#FF0000"><b>to  </b></font>a single dot <font color="#FF0000"><b>on </b></font>a Graphics screen<font color="#000080">.  </font>Image resolution <font color="#FF0000"><b>is
   </b></font>typically given <font color="#FF0000"><b>in </b></font>Units <font color="#FF0000"><b>of  </b></font>pixels<font color="#000080">.   </font><font color="#FF0000"><b>For  </b></font>example  a  fairly  standard
   Graphics  screen  format  <font color="#FF0000"><b>is  </b></font>one <font color="#800000">320 </font>pixels across <font color="#FF0000"><b>and </b></font><font color="#800000">200 </font>pixels high<font color="#000080">.
   </font>Each pixel can  appear  <font color="#FF0000"><b>as  </b></font>one  <font color="#FF0000"><b>of  </b></font>several  colors  depending  <font color="#FF0000"><b>on  </b></font>the
   capabilities <font color="#FF0000"><b>of </b></font>the Graphics hardware<font color="#000080">.

</font>Raster <font color="#000080">- </font>A horizontal row <font color="#FF0000"><b>of </b></font>pixels representing one line <font color="#FF0000"><b>of </b></font>an  image<font color="#000080">.   </font>A
   typical method <font color="#FF0000"><b>of </b></font>working <font color="#FF0000"><b>With </b></font>images since most hardware <font color="#FF0000"><b>is </b></font>oriented <font color="#FF0000"><b>to
   </b></font>work most efficiently <font color="#FF0000"><b>in </b></font>this manner<font color="#000080">.

</font>LSB <font color="#000080">- </font>Least Significant Byte<font color="#000080">.  </font>Refers <font color="#FF0000"><b>to </b></font>a convention <font color="#FF0000"><b>For </b></font>two Byte  numeric
   values <font color="#FF0000"><b>in </b></font>which the less significant Byte <font color="#FF0000"><b>of </b></font>the value preceeds the more
   significant Byte<font color="#000080">.  </font>This convention <font color="#FF0000"><b>is </b></font>typical <font color="#FF0000"><b>on </b></font>many microcomputers<font color="#000080">.

</font>Color Map <font color="#000080">- </font>The list <font color="#FF0000"><b>of </b></font>definitions <font color="#FF0000"><b>of </b></font>each color  used  <font color="#FF0000"><b>in  </b></font>a  Gif  image<font color="#000080">.
   </font>These  desired  colors are converted <font color="#FF0000"><b>to </b></font>available colors through a table
   which <font color="#FF0000"><b>is </b></font>derived by assigning an incoming color index <font color="#000080">(</font>from  the  image<font color="#000080">)
   </font><font color="#FF0000"><b>to  </b></font>an  output  color  index  <font color="#000080">(</font><font color="#FF0000"><b>of  </b></font>the  hardware<font color="#000080">).   </font><font color="#FF0000"><b>While </b></font>the color map
   definitons are specified <font color="#FF0000"><b>in </b></font>a Gif image<font color="#000080">, </font>the output  pixel  colors  will
   Vary  based  <font color="#FF0000"><b>on  </b></font>the  hardware used <font color="#FF0000"><b>and </b></font>its ability <font color="#FF0000"><b>to </b></font>match the defined
   color<font color="#000080">.

</font>Interlace <font color="#000080">- </font>The method <font color="#FF0000"><b>of </b></font>displaying a Gif image <font color="#FF0000"><b>in </b></font>which  multiple  passes
   are  made<font color="#000080">,  </font>outputting  raster  lines  spaced  apart <font color="#FF0000"><b>to </b></font>provide a way <font color="#FF0000"><b>of
   </b></font>visualizing the general content <font color="#FF0000"><b>of </b></font>an entire image  before  all  <font color="#FF0000"><b>of  </b></font>the
   data has been processed<font color="#000080">.

</font>B Protocol <font color="#000080">- </font>A CompuServe<font color="#000080">-</font>developed error<font color="#000080">-</font>correcting <font color="#FF0000"><b>File </b></font>transfer protocol
   available  <font color="#FF0000"><b>in  </b></font>the  <font color="#FF0000"><b>public  </b></font>domain  <font color="#FF0000"><b>and </b></font>implemented <font color="#FF0000"><b>in </b></font>CompuServe VIDTEX
   products<font color="#000080">.  </font>This error checking mechanism will be used  <font color="#FF0000"><b>in  </b></font>transfers  <font color="#FF0000"><b>of
   </b></font>Gif images <font color="#FF0000"><b>For </b></font>interactive applications<font color="#000080">.

</font>LZW <font color="#000080">- </font>A sophisticated data compression algorithm  based  <font color="#FF0000"><b>on  </b></font>work  done  by
   Lempel<font color="#000080">-</font>Ziv  <font color="#000080">&amp;  </font>Welch  which  has  the feature <font color="#FF0000"><b>of </b></font>very efficient one<font color="#000080">-</font>pass
   encoding <font color="#FF0000"><b>and </b></font>decoding<font color="#000080">.  </font>This allows the image  <font color="#FF0000"><b>to  </b></font>be  decompressed  <font color="#FF0000"><b>and
   </b></font>displayed  at  the  same  time<font color="#000080">.   </font>The  original  article from which this
   technique was adapted <font color="#FF0000"><b>is</b></font><font color="#000080">:

   </font>Terry  A<font color="#000080">.   </font>Welch<font color="#000080">,  &quot;</font>A  Technique  <font color="#FF0000"><b>For  </b></font>High   Performance   Data
   Compression<font color="#000080">&quot;, </font>IEEE Computer<font color="#000080">, </font>vol <font color="#800000">17 </font>no <font color="#800000">6 </font><font color="#000080">(</font>June <font color="#800000">1984</font><font color="#000080">)

 </font>This basic algorithm <font color="#FF0000"><b>is </b></font>also used <font color="#FF0000"><b>in </b></font>the  <font color="#FF0000"><b>public  </b></font>domain  ARC  <font color="#FF0000"><b>File
   </b></font>compression  utilities<font color="#000080">.   </font>The  CompuServe  adaptation  <font color="#FF0000"><b>of </b></font>LZW <font color="#FF0000"><b>For </b></font>Gif <font color="#FF0000"><b>is
   </b></font>described <font color="#FF0000"><b>in </b></font>Appendix C<font color="#000080">.

    </font>Gif Sequence Exchanges <font color="#FF0000"><b>For </b></font>an Interactive Environment


 The following sequences are defined <font color="#FF0000"><b>For </b></font>use  <font color="#FF0000"><b>in  </b></font>mediating  control
   between a Gif sender <font color="#FF0000"><b>and </b></font>Gif receiver over an interactive communications
   line<font color="#000080">.  </font>These  sequences  <font color="#FF0000"><b>do  not  </b></font>apply  <font color="#FF0000"><b>to  </b></font>applications  that  involve
   downloading  <font color="#FF0000"><b>of  </b></font>static  Gif  Files <font color="#FF0000"><b>and </b></font>are <font color="#FF0000"><b>not </b></font>considered part <font color="#FF0000"><b>of </b></font>a GIF
   <font color="#FF0000"><b>File</b></font><font color="#000080">.

 </font>Gif CAPABILITIES ENQUIRY

 The GCE sequence <font color="#FF0000"><b>is </b></font>issued from a host <font color="#FF0000"><b>and </b></font>requests an  interactive
   Gif  decoder  <font color="#FF0000"><b>to  </b></font>return  a  response  <font color="#FF0000"><b>message </b></font>that defines the Graphics
   parameters <font color="#FF0000"><b>For </b></font>the decoder<font color="#000080">.  </font>This involves returning  information  about
   available screen sizes<font color="#000080">, </font>number <font color="#FF0000"><b>of </b></font>bits<font color="#000080">/</font>color supported <font color="#FF0000"><b>and </b></font>the amount <font color="#FF0000"><b>of
   </b></font>color detail supported<font color="#000080">.  </font>The escape sequence <font color="#FF0000"><b>For </b></font>the GCE <font color="#FF0000"><b>is </b></font>defined <font color="#FF0000"><b>as</b></font><font color="#000080">:

 </font>ESC <font color="#000080">[ &gt; </font><font color="#800000">0 </font>g     <font color="#000080">(</font>g <font color="#FF0000"><b>is </b></font>lower <font color="#FF0000"><b>case</b></font><font color="#000080">, </font>spaces inserted <font color="#FF0000"><b>For </b></font>clarity<font color="#000080">)
    (</font><font color="#800000">0</font>x1B <font color="#800000">0</font>x5B <font color="#800000">0</font>x3E <font color="#800000">0</font>x30 <font color="#800000">0</font>x67<font color="#000080">)


 </font>Gif CAPABILITIES RESPONSE

 The Gif Capabilities Response <font color="#FF0000"><b>message is </b></font>returned by an interactive
   Gif  decoder  <font color="#FF0000"><b>and  </b></font>defines  the  decoder<font color="#800000">'s  display capabilities For all
   </font>Graphics modes that are supported by the software<font color="#000080">.  </font>Note that  this  can
   also include Graphics Printers <font color="#FF0000"><b>as </b></font>well <font color="#FF0000"><b>as </b></font>a monitor screen<font color="#000080">.  </font>The general
   format <font color="#FF0000"><b>of </b></font>this <font color="#FF0000"><b>message is</b></font><font color="#000080">:


     </font><font color="#800000">#</font>version<font color="#000080">;</font>protocol<font color="#008000"><i>{;dev, width, height, color-bits, color-res}</i></font><font color="#000080">... &lt;</font>CR<font color="#000080">&gt;

   </font><font color="#800000">'#'          </font><font color="#000080">- </font>GCR identifier Character <font color="#000080">(</font>Number Sign<font color="#000080">)
   </font>version      <font color="#000080">- </font>Gif format version number<font color="#000080">;  </font>initially <font color="#800000">'87a'
   </font>protocol<font color="#000080">=</font><font color="#800000">'0' </font><font color="#000080">- </font>No <font color="#FF0000"><b>end</b></font><font color="#000080">-</font><font color="#FF0000"><b>to</b></font><font color="#000080">-</font><font color="#FF0000"><b>end </b></font>protocol supported by decoder
    Transfer <font color="#FF0000"><b>as </b></font>direct <font color="#800000">8</font><font color="#000080">-</font>bit data stream<font color="#000080">.
   </font>protocol<font color="#000080">=</font><font color="#800000">'1' </font><font color="#000080">- </font>Can use an error correction protocol <font color="#FF0000"><b>to </b></font>transfer Gif data
        interactively from the host directly <font color="#FF0000"><b>to </b></font>the display<font color="#000080">.

   </font>dev <font color="#000080">= </font><font color="#800000">'0'    </font><font color="#000080">- </font>Screen parameter <font color="#FF0000"><b>set </b></font>follows
   dev <font color="#000080">= </font><font color="#800000">'1'    </font><font color="#000080">- </font>Printer parameter <font color="#FF0000"><b>set </b></font>follows

   width        <font color="#000080">- </font>Maximum supported display width <font color="#FF0000"><b>in </b></font>pixels
   height       <font color="#000080">- </font>Maximum supported display height <font color="#FF0000"><b>in </b></font>pixels
   color<font color="#000080">-</font>bits   <font color="#000080">- </font>Number <font color="#FF0000"><b>of  </b></font>bits  per  pixel  supported<font color="#000080">.   </font>The  number  <font color="#FF0000"><b>of
        </b></font>supported colors <font color="#FF0000"><b>is </b></font>therefore <font color="#800000">2</font><font color="#000080">**</font>color<font color="#000080">-</font>bits<font color="#000080">.
   </font>color<font color="#000080">-</font>res    <font color="#000080">- </font>Number <font color="#FF0000"><b>of </b></font>bits  per  color  component  supported  <font color="#FF0000"><b>in  </b></font>the
        hardware  color  palette<font color="#000080">.   </font><font color="#FF0000"><b>if  </b></font>color<font color="#000080">-</font>res  <font color="#FF0000"><b>is  </b></font><font color="#800000">'0'  </font><font color="#FF0000"><b>then  </b></font>no
        hardware palette table <font color="#FF0000"><b>is </b></font>available<font color="#000080">.


 </font>Note that all values <font color="#FF0000"><b>in </b></font>the  GCR  are  returned  <font color="#FF0000"><b>as  </b></font>ASCII  decimal
   numbers <font color="#FF0000"><b>and </b></font>the <font color="#FF0000"><b>message is </b></font>terminated by a Carriage Return Character<font color="#000080">.

 </font>The  following   GCR   <font color="#FF0000"><b>message   </b></font>describes   three   standard   EGA
   configurations  <font color="#FF0000"><b>With  </b></font>no  Printer<font color="#000080">;  </font>the Gif data stream can be processed
   Within an error correcting protocol<font color="#000080">:

 </font><font color="#800000">#87</font>a<font color="#000080">;</font><font color="#800000">1 </font><font color="#000080">;</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">320</font><font color="#000080">,</font><font color="#800000">200</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">0 </font><font color="#000080">;</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">640</font><font color="#000080">,</font><font color="#800000">200</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">2 </font><font color="#000080">;</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">640</font><font color="#000080">,</font><font color="#800000">350</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">&lt;</font>CR<font color="#000080">&gt;


 </font>ENTER Gif GraphICS MODE

 Two sequences are currently defined <font color="#FF0000"><b>to </b></font>invoke  an  interactive  GIF
   decoder into action<font color="#000080">.  </font>The only difference between them <font color="#FF0000"><b>is </b></font>that different
   output media are selected<font color="#000080">.  </font>These sequences are<font color="#000080">:

     </font>ESC <font color="#000080">[ &gt; </font><font color="#800000">1 </font>g   Display Gif image <font color="#FF0000"><b>on </b></font>screen
     <font color="#000080">(</font><font color="#800000">0</font>x1B <font color="#800000">0</font>x5B <font color="#800000">0</font>x3E <font color="#800000">0</font>x31 <font color="#800000">0</font>x67<font color="#000080">)

     </font>ESC <font color="#000080">[ &gt; </font><font color="#800000">2 </font>g   Display image directly <font color="#FF0000"><b>to </b></font>an attached Graphics  Printer<font color="#000080">.
     </font>The  image  may optionally be displayed <font color="#FF0000"><b>on </b></font>the screen <font color="#FF0000"><b>as
     </b></font>well<font color="#000080">.
     (</font><font color="#800000">0</font>x1B <font color="#800000">0</font>x5B <font color="#800000">0</font>x3E <font color="#800000">0</font>x32 <font color="#800000">0</font>x67<font color="#000080">)

 </font>Note that the <font color="#800000">'g' </font>Character terminating each sequence <font color="#FF0000"><b>is  in  </b></font>lower
   <font color="#FF0000"><b>case</b></font><font color="#000080">.


 </font>INTERACTIVE ENVIRONMENT

 The assumed environment <font color="#FF0000"><b>For </b></font>the transmission <font color="#FF0000"><b>of </b></font>Gif image data from
   an  interactive  application  <font color="#FF0000"><b>is  </b></font>a  full <font color="#800000">8</font><font color="#000080">-</font>bit data stream from host <font color="#FF0000"><b>to
   </b></font>micro<font color="#000080">.  </font>All <font color="#800000">256 </font>Character codes must be transferrable<font color="#000080">.  </font>The establishing
   <font color="#FF0000"><b>of  </b></font>an <font color="#800000">8</font><font color="#000080">-</font>bit data path <font color="#FF0000"><b>For </b></font>communications will normally be taken care <font color="#FF0000"><b>of
   </b></font>by the host application Programs<font color="#000080">.  </font>It <font color="#FF0000"><b>is </b></font>however  up  <font color="#FF0000"><b>to  </b></font>the  receiving
   communications Programs supporting Gif <font color="#FF0000"><b>to </b></font>be able <font color="#FF0000"><b>to </b></font>receive <font color="#FF0000"><b>and </b></font>pass <font color="#FF0000"><b>on
   </b></font>all <font color="#800000">256 8</font><font color="#000080">-</font>bit codes <font color="#FF0000"><b>to </b></font>the Gif decoder software<font color="#000080">.

 </font>The Raster Data stream that represents the actual output image  can
   be represented <font color="#FF0000"><b>as</b></font><font color="#000080">:

  </font><font color="#800000">7 6 5 4 3 2 1 0
 </font><font color="#000080">+---------------+
 |   </font>code size   <font color="#000080">|
 +---------------+     ---+
 |</font>blok Byte count<font color="#000080">|        |
 +---------------+        |
 :               :        +-- </font>Repeated <font color="#FF0000"><b>as </b></font>many times <font color="#FF0000"><b>as </b></font>necessary
 <font color="#000080">|  </font>data Bytes   <font color="#000080">|        |
 :               :        |
 +---------------+     ---+
 . . .       . . .
 +---------------+
 |</font><font color="#800000">0 0 0 0 0 0 0 0</font><font color="#000080">|       </font>zero Byte count <font color="#000080">(</font>terminates data stream<font color="#000080">)
 +---------------+

 </font>The conversion <font color="#FF0000"><b>of </b></font>the image from a series  <font color="#FF0000"><b>of  </b></font>pixel  values  <font color="#FF0000"><b>to  </b></font>a
   transmitted <font color="#FF0000"><b>or </b></font>stored Character stream involves several steps<font color="#000080">.  </font><font color="#FF0000"><b>In </b></font>brief
   these steps are<font color="#000080">:

   </font><font color="#800000">1.  </font>Establish the Code Size <font color="#000080">-  </font>Define  the  number  <font color="#FF0000"><b>of  </b></font>bits  needed  <font color="#FF0000"><b>to
       </b></font>represent the actual data<font color="#000080">.

   </font><font color="#800000">2.  </font>Compress the Data <font color="#000080">- </font>Compress the series <font color="#FF0000"><b>of </b></font>image pixels <font color="#FF0000"><b>to </b></font>a  series
       <font color="#FF0000"><b>of </b></font>compression codes<font color="#000080">.

   </font><font color="#800000">3.  </font>Build a Series <font color="#FF0000"><b>of </b></font>Bytes <font color="#000080">- </font>Take the  <font color="#FF0000"><b>set  of  </b></font>compression  codes  <font color="#FF0000"><b>and
       </b></font>convert <font color="#FF0000"><b>to </b></font>a <font color="#FF0000"><b>String of </b></font><font color="#800000">8</font><font color="#000080">-</font>bit Bytes<font color="#000080">.

   </font><font color="#800000">4.  </font><font color="#FF0000"><b>Package </b></font>the Bytes <font color="#000080">- </font><font color="#FF0000"><b>Package </b></font>sets <font color="#FF0000"><b>of </b></font>Bytes into blocks  preceeded  by
       Character counts <font color="#FF0000"><b>and </b></font>output<font color="#000080">.



</font>ESTABLISH CODE SIZE

 The first Byte <font color="#FF0000"><b>of </b></font>the Gif Raster Data stream <font color="#FF0000"><b>is </b></font>a value  indicating
   the minimum number <font color="#FF0000"><b>of </b></font>bits required <font color="#FF0000"><b>to </b></font>represent the <font color="#FF0000"><b>set of </b></font>actual pixel
   values<font color="#000080">.  </font>Normally this will be the same <font color="#FF0000"><b>as </b></font>the  number  <font color="#FF0000"><b>of  </b></font>color  bits<font color="#000080">.
   </font>Because  <font color="#FF0000"><b>of  </b></font>some  algorithmic Constraints however<font color="#000080">, </font>black <font color="#000080">&amp; </font>white images
   which have one color bit must be indicated <font color="#FF0000"><b>as </b></font>having a code size  <font color="#FF0000"><b>of  </b></font><font color="#800000">2.
   </font>This  code size value also implies that the compression codes must start
   <font color="#FF0000"><b>out </b></font>one bit longer<font color="#000080">.


</font>COMPRESSION

 The LZW algorithm converts a series <font color="#FF0000"><b>of </b></font>data values into a series <font color="#FF0000"><b>of
   </b></font>codes  which may be raw values <font color="#FF0000"><b>or </b></font>a code designating a series <font color="#FF0000"><b>of </b></font>values<font color="#000080">.
   </font>Using Text Characters <font color="#FF0000"><b>as </b></font>an analogy<font color="#000080">,  </font>the  output  code  consists  <font color="#FF0000"><b>of  </b></font>a
   Character <font color="#FF0000"><b>or </b></font>a code representing a <font color="#FF0000"><b>String of </b></font>Characters<font color="#000080">.

 </font>The LZW algorithm used <font color="#FF0000"><b>in  </b></font>Gif  matches  algorithmically  <font color="#FF0000"><b>With  </b></font>the
   standard LZW algorithm <font color="#FF0000"><b>With </b></font>the following differences<font color="#000080">:

   </font><font color="#800000">1.  </font>A   special   Clear   code   <font color="#FF0000"><b>is    </b></font>defined    which    resets    all
       compression<font color="#000080">/</font>decompression parameters <font color="#FF0000"><b>and </b></font>tables <font color="#FF0000"><b>to </b></font>a start<font color="#000080">-</font>up state<font color="#000080">.
       </font>The value <font color="#FF0000"><b>of </b></font>this code <font color="#FF0000"><b>is </b></font><font color="#800000">2</font><font color="#000080">**&lt;</font>code size<font color="#000080">&gt;.  </font><font color="#FF0000"><b>For </b></font>example <font color="#FF0000"><b>if  </b></font>the  code
       size  indicated  was <font color="#800000">4 </font><font color="#000080">(</font>image was <font color="#800000">4 </font>bits<font color="#000080">/</font>pixel<font color="#000080">) </font>the Clear code value
       would be <font color="#800000">16 </font><font color="#000080">(</font><font color="#800000">10000 </font>binary<font color="#000080">).  </font>The Clear code can appear at any  point
       <font color="#FF0000"><b>in </b></font>the image data stream <font color="#FF0000"><b>and </b></font>therefore <font color="#FF0000"><b>requires </b></font>the LZW algorithm <font color="#FF0000"><b>to
       </b></font>process succeeding codes <font color="#FF0000"><b>as if  </b></font>a  new  data  stream  was  starting<font color="#000080">.
       </font>Encoders  should output a Clear code <font color="#FF0000"><b>as </b></font>the first code <font color="#FF0000"><b>of </b></font>each image
       data stream<font color="#000080">.

   </font><font color="#800000">2.  </font>An <font color="#FF0000"><b>end of </b></font>Information code <font color="#FF0000"><b>is </b></font>defined that explicitly indicates  the
       <font color="#FF0000"><b>end  of  </b></font>the image data stream<font color="#000080">.  </font>LZW processing terminates when this
       code <font color="#FF0000"><b>is </b></font>encountered<font color="#000080">.  </font>It must be the last code output by the encoder
       <font color="#FF0000"><b>For </b></font>an image<font color="#000080">.  </font>The value <font color="#FF0000"><b>of </b></font>this code <font color="#FF0000"><b>is </b></font><font color="#000080">&lt;</font>Clear code<font color="#000080">&gt;+</font><font color="#800000">1.

   3.  </font>The first available compression code value <font color="#FF0000"><b>is </b></font><font color="#000080">&lt;</font>Clear code<font color="#000080">&gt;+</font><font color="#800000">2.

   4.  </font>The output codes are <font color="#FF0000"><b>of </b></font>Variable length<font color="#000080">, </font>starting  at  <font color="#000080">&lt;</font>code size<font color="#000080">&gt;+</font><font color="#800000">1
       </font>bits  per code<font color="#000080">, </font>up <font color="#FF0000"><b>to </b></font><font color="#800000">12 </font>bits per code<font color="#000080">.  </font>This defines a maximum code
       value <font color="#FF0000"><b>of </b></font><font color="#800000">4095 </font><font color="#000080">(</font>hex FFF<font color="#000080">).  </font>Whenever the LZW code value  would  exceed
       the  current  code length<font color="#000080">, </font>the code length <font color="#FF0000"><b>is </b></font>increased by one<font color="#000080">.  </font>The
       packing<font color="#000080">/</font>unpacking <font color="#FF0000"><b>of </b></font>these codes must <font color="#FF0000"><b>then </b></font>be altered <font color="#FF0000"><b>to </b></font>reflect the
       new code length<font color="#000080">.


</font>BUILD <font color="#800000">8</font><font color="#000080">-</font>BIT ByteS

 Because the LZW compression  used  <font color="#FF0000"><b>For  </b></font>Gif  creates  a  series  <font color="#FF0000"><b>of
   </b></font>Variable  length  codes<font color="#000080">, </font><font color="#FF0000"><b>of </b></font>between <font color="#800000">3 </font><font color="#FF0000"><b>and </b></font><font color="#800000">12 </font>bits each<font color="#000080">, </font>these codes must
   be reformed into a series <font color="#FF0000"><b>of </b></font><font color="#800000">8</font><font color="#000080">-</font>bit Bytes that  will  be  the  Characters
   actually stored <font color="#FF0000"><b>or </b></font>transmitted<font color="#000080">.  </font>This provides additional compression <font color="#FF0000"><b>of
   </b></font>the image<font color="#000080">.  </font>The codes are formed into a stream <font color="#FF0000"><b>of </b></font>bits <font color="#FF0000"><b>as if  </b></font>they  were
   <font color="#FF0000"><b>packed  </b></font>right <font color="#FF0000"><b>to </b></font>left <font color="#FF0000"><b>and then </b></font>picked off <font color="#800000">8 </font>bits at a time <font color="#FF0000"><b>to </b></font>be output<font color="#000080">.
   </font>Assuming a Character <font color="#FF0000"><b>Array of </b></font><font color="#800000">8 </font>bits per Character <font color="#FF0000"><b>and </b></font>using <font color="#800000">5 </font>bit codes
   <font color="#FF0000"><b>to </b></font>be <font color="#FF0000"><b>packed</b></font><font color="#000080">, </font>an example layout would be similar <font color="#FF0000"><b>to</b></font><font color="#000080">:

  </font>Byte n       Byte <font color="#800000">5   </font>Byte <font color="#800000">4   </font>Byte <font color="#800000">3   </font>Byte <font color="#800000">2   </font>Byte <font color="#800000">1
 </font><font color="#000080">+-.....-----+--------+--------+--------+--------+--------+
 | </font><font color="#FF0000"><b>and </b></font>so <font color="#FF0000"><b>on </b></font><font color="#000080">|</font>hhhhhggg<font color="#000080">|</font>ggfffffe<font color="#000080">|</font>eeeedddd<font color="#000080">|</font>dcccccbb<font color="#000080">|</font>bbbaaaaa<font color="#000080">|
 +-.....-----+--------+--------+--------+--------+--------+

 </font>Note that the physical  packing  arrangement  will  change  <font color="#FF0000"><b>as  </b></font>the
   number  <font color="#FF0000"><b>of  </b></font>bits per compression code change but the concept remains the
   same<font color="#000080">.

</font><font color="#FF0000"><b>PACKAGE </b></font>THE ByteS

 Once the Bytes have been created<font color="#000080">, </font>they are grouped into blocks  <font color="#FF0000"><b>for
   </b></font>output by preceeding each block <font color="#FF0000"><b>of </b></font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font>Bytes <font color="#FF0000"><b>With </b></font>a Character count
   Byte<font color="#000080">.  </font>A block <font color="#FF0000"><b>With </b></font>a zero Byte count terminates the Raster Data  stream
   <font color="#FF0000"><b>For  </b></font>a  given  image<font color="#000080">.  </font>These blocks are what are actually output <font color="#FF0000"><b>For </b></font>the
   Gif image<font color="#000080">.  </font>This block format has the side effect <font color="#FF0000"><b>of </b></font>allowing a decoding
   <font color="#FF0000"><b>Program  </b></font>the  ability <font color="#FF0000"><b>to </b></font>read past the actual image data <font color="#FF0000"><b>if </b></font>necessary by
   reading block counts <font color="#FF0000"><b>and then </b></font>skipping over the data<font color="#000080">.
</font>Graphics Interchange Format <font color="#000080">(</font>GIF<font color="#000080">)                                   </font>Page <font color="#800000">15
</font>Appendix D <font color="#000080">- </font>Multiple Image Processing


 Since a  Gif  data  stream  can  contain  multiple  images<font color="#000080">,  </font>it  <font color="#FF0000"><b>is
   </b></font>necessary  <font color="#FF0000"><b>to  </b></font>describe  processing <font color="#FF0000"><b>and </b></font>display <font color="#FF0000"><b>of </b></font>such a <font color="#FF0000"><b>File</b></font><font color="#000080">.  </font>Because
   the image descriptor allows  <font color="#FF0000"><b>For  </b></font>placement  <font color="#FF0000"><b>of  </b></font>the  image  Within  the
   logical  screen<font color="#000080">,  </font>it <font color="#FF0000"><b>is </b></font>possible <font color="#FF0000"><b>to </b></font>define a sequence <font color="#FF0000"><b>of </b></font>images that may
   each be a partial screen<font color="#000080">, </font>but <font color="#FF0000"><b>in </b></font>total  fill  the  entire  screen<font color="#000080">.   </font>The
   guidelines <font color="#FF0000"><b>For </b></font>handling the multiple image situation are<font color="#000080">:

   </font><font color="#800000">1.  </font>There <font color="#FF0000"><b>is </b></font>no pause between images<font color="#000080">.  </font>Each <font color="#FF0000"><b>is </b></font>processed immediately  <font color="#FF0000"><b>as
       </b></font>seen by the decoder<font color="#000080">.

   </font><font color="#800000">2.  </font>Each image explicitly overWrites any image  already  <font color="#FF0000"><b>on  </b></font>the  screen
       inside  <font color="#FF0000"><b>of  </b></font>its Window<font color="#000080">.  </font>The only screen clears are at the beginning
       <font color="#FF0000"><b>and end of </b></font>the  Gif  image  process<font color="#000080">.   </font>See  discussion  <font color="#FF0000"><b>on  </b></font>the  GIF
       terminator<font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0017.PAS">Original</a><b>]</b></p></body>
</html>
