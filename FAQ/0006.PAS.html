<html>
<head><title> "BORLAND - MEMORY QA" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0006.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>

<font color="#000000">TITLE<font color="#000080">: </font>TURBO <font color="#FF0000"><b>PASCAL </b></font>MEMORY ISSUES
<font color="#000080">===========================================================

</font>TP <font color="#800000">4.0 5.0 5.5 </font>EXEC <font color="#000080">- </font>SETTING HEAP MEMORY
Q<font color="#000080">. </font>How <font color="#FF0000"><b>do </b></font>I <font color="#FF0000"><b>set </b></font>the heap memory when executing a child process<font color="#000080">?
</font>A<font color="#000080">. </font>Probably the best way <font color="#FF0000"><b>to do </b></font>this <font color="#FF0000"><b>is </b></font>through trial <font color="#FF0000"><b>and </b></font>error<font color="#000080">. 
   </font><font color="#FF0000"><b>Set </b></font>the heap maximum <font color="#FF0000"><b>to </b></font>some large value<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>run the <font color="#FF0000"><b>program</b></font><font color="#000080">.
   </font><font color="#FF0000"><b>If </b></font>it runs <font color="#FF0000"><b>out of </b></font>memory<font color="#000080">, </font><font color="#FF0000"><b>then </b></font>divide the maximum by <font color="#800000">2</font><font color="#000080">, </font><font color="#FF0000"><b>and </b></font>so
   <font color="#FF0000"><b>on</b></font><font color="#000080">, </font><font color="#FF0000"><b>until </b></font>the parent <font color="#FF0000"><b>and </b></font>child programs have enough memory<font color="#000080">. 
   </font>The same can be done <font color="#FF0000"><b>with </b></font>the heap minimum<font color="#000080">.  </font>Also<font color="#000080">, </font><font color="#FF0000"><b>if </b></font>you have
   access <font color="#FF0000"><b>to </b></font>CompuServe<font color="#000080">, </font>you can download a routine that swaps
   the parent <font color="#FF0000"><b>program </b></font>between memory <font color="#FF0000"><b>and </b></font>disk<font color="#000080">.

</font>TP <font color="#800000">4.0 5.0 5.5 </font><font color="#000080">- </font>ALLOCATING <font color="#FF0000"><b>AND </b></font>RECLAIMING MEMORY USING DOS 
Q<font color="#000080">. </font>What Dos functions can I use <font color="#FF0000"><b>to </b></font>reclaim memory <font color="#FF0000"><b>to </b></font>Dos<font color="#000080">? 
</font>A<font color="#000080">. </font>You essentially must write your own GetMem <font color="#FF0000"><b>and </b></font>FreeMem
   routines<font color="#000080">.  </font>GetMem would make a call <font color="#FF0000"><b>to </b></font>Dos <font color="#FF0000"><b>function </b></font><font color="#800000">$48 </font><font color="#FF0000"><b>and
   </b></font>FreeMem would make a call <font color="#FF0000"><b>to </b></font>Dos <font color="#FF0000"><b>function </b></font><font color="#800000">$49</font><font color="#000080">.  </font><font color="#FF0000"><b>For </b></font>more
   details <font color="#FF0000"><b>on </b></font>these functions please consult an IBM PC
   programmer<font color="#800000">'s guide.

</font>TP <font color="#800000">4.0 5.0 5.5 </font><font color="#000080">- </font>MEMORY CONTROL BLOCKS
Q<font color="#000080">. </font>How many memory control blocks does a Turbo <font color="#FF0000"><b>Pascal program
   </b></font>use<font color="#000080">?
</font>A<font color="#000080">. </font>Just one<font color="#000080">.


</font>TP <font color="#800000">5.0 5.5 </font><font color="#000080">- </font>EMS SUPPORT
Q<font color="#000080">. </font>Does Turbo <font color="#FF0000"><b>Pascal </b></font><font color="#800000">5.0</font><font color="#000080">+ </font>support EMS<font color="#000080">?
</font>A<font color="#000080">. </font>Yes<font color="#000080">. </font>Turbo <font color="#FF0000"><b>Pascal </b></font><font color="#800000">5.0</font><font color="#000080">+ </font>will use up <font color="#FF0000"><b>to </b></font><font color="#800000">64</font>K <font color="#000080">(</font><font color="#FF0000"><b>if </b></font>selected <font color="#FF0000"><b>in
   </b></font>TINST<font color="#000080">) </font><font color="#FF0000"><b>of </b></font>EMS <font color="#FF0000"><b>for </b></font>storing the edit buffer<font color="#000080">. </font><font color="#FF0000"><b>In </b></font>addition<font color="#000080">, </font>you
   can instruct the Overlay <font color="#FF0000"><b>unit to </b></font>place your overlaid units <font color="#FF0000"><b>on
   </b></font>EMS<font color="#000080">. </font><font color="#FF0000"><b>Finally</b></font><font color="#000080">, </font>EMS<font color="#000080">.</font>PAS <font color="#FF0000"><b>on </b></font>the distribution disk shows you how
   <font color="#FF0000"><b>to </b></font>access EMS memory<font color="#000080">.


</font>TP <font color="#800000">5.5 </font><font color="#000080">- </font>HEAP SPACE STILL CREATED <font color="#FF0000"><b>WITH </b></font>HEAP MAX <font color="#800000">0
</font>Q<font color="#000080">. </font>Compiling <font color="#FF0000"><b>to </b></font>disk <font color="#FF0000"><b>with </b></font>my heap maximum <font color="#FF0000"><b>set to </b></font><font color="#800000">0 </font>still creates
   heap space when running <font color="#000080">.</font>EXE <font color="#FF0000"><b>file</b></font><font color="#000080">.  </font>Why<font color="#000080">?
</font>A<font color="#000080">. </font>This has <font color="#FF0000"><b>to do with </b></font>the way DOS allocates memory <font color="#FF0000"><b>for </b></font><font color="#000080">.</font>EXE
   files <font color="#FF0000"><b>in </b></font>chunks <font color="#FF0000"><b>of </b></font><font color="#800000">512 </font>bytes<font color="#000080">, </font>rather than <font color="#FF0000"><b>in </b></font>chunks <font color="#FF0000"><b>of </b></font><font color="#800000">16
   </font>bytes<font color="#000080">. </font><font color="#FF0000"><b>As </b></font>a result <font color="#FF0000"><b>of </b></font>DOS<font color="#800000">'s allocation, you always get 0-496
   </font>bytes more than you request<font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0006.PAS">Original</a><b>]</b></p></body>
</html>
