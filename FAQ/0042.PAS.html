<html>
<head><title> "SEC19-BORLAND" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0042.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">SECTION <font color="#800000">19 </font><font color="#000080">- </font><font color="#FF0000"><b>Protected </b></font>Mode Programming
                                    
This document <font color="#FF0000"><b>contains </b></font>information that <font color="#FF0000"><b>is </b></font>most often provided
<font color="#FF0000"><b>to </b></font>users <font color="#FF0000"><b>of </b></font>this section<font color="#000080">.  </font>There <font color="#FF0000"><b>is </b></font>a listing <font color="#FF0000"><b>of </b></font>common
Technical Information Documents that can be downloaded from the
libraries<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>a listing <font color="#FF0000"><b>of </b></font>the five most frequently asked
questions <font color="#FF0000"><b>and </b></font>their answers<font color="#000080">.

</font>TI1184   Overview <font color="#FF0000"><b>of </b></font>Borland <font color="#FF0000"><b>Pascal </b></font><font color="#800000">7.0 </font><font color="#FF0000"><b>and </b></font>Turbo <font color="#FF0000"><b>Pascal </b></font><font color="#800000">7.0
</font>TI1722   Declaring an <font color="#FF0000"><b>array on </b></font>the heap 
TI1760   Creating a  temporary stack <font color="#FF0000"><b>in </b></font>real <font color="#FF0000"><b>or protected </b></font>mode 
TI1188   Creating <font color="#FF0000"><b>protected </b></font>mode apps <font color="#FF0000"><b>with </b></font>Borland <font color="#FF0000"><b>Pascal 
</b></font>TI1171   Problem Report Form 
TI1719   Booting Clean

NEWRTM<font color="#000080">.</font>ZIP   Latest RTM<font color="#000080">.</font>EXE <font color="#FF0000"><b>and </b></font>DPMI16BI<font color="#000080">.</font>OVL 
PASALL<font color="#000080">.</font>ZIP   Collection <font color="#FF0000"><b>of </b></font>Technical Information sheets from 
             <font color="#800000">1986 </font><font color="#FF0000"><b>on 
</b></font>EZDPMI<font color="#000080">.</font>ZIP   <font color="#FF0000"><b>Unit </b></font>encapsulating all common DPMI requirements <font color="#FF0000"><b>for 
             protected </b></font>mode programming
BIGSTU<font color="#000080">.</font>PAS   How <font color="#FF0000"><b>to </b></font>cope <font color="#FF0000"><b>with </b></font>memory allocations <font color="#000080">&gt; </font><font color="#800000">64</font>K
MOUSE<font color="#000080">.</font>ZIP    General Purpose mouse <font color="#FF0000"><b>unit for </b></font>text<font color="#000080">/</font>graphics mode

Q<font color="#000080">.   &quot;</font>When using the BP7 IDE <font color="#FF0000"><b>to </b></font>compile a <font color="#FF0000"><b>protected </b></font>mode
     application<font color="#000080">, </font>how <font color="#FF0000"><b>do </b></font>I step through the code like I <font color="#FF0000"><b>do with
     </b></font>real mode applications<font color="#000080">?&quot;

</font>A<font color="#000080">.   </font><font color="#FF0000"><b>To </b></font>debug <font color="#FF0000"><b>protected </b></font>mode programs<font color="#000080">, </font>you must use the <font color="#FF0000"><b>external
     </b></font>debugger <font color="#000080">(</font>TDX<font color="#000080">).  </font>You can put it <font color="#FF0000"><b>on </b></font>the TOOLS menu <font color="#FF0000"><b>to </b></font>make
     it just a keystroke away<font color="#000080">.

</font>Q<font color="#000080">.   &quot;</font>When I convert a <font color="#FF0000"><b>program </b></font>from Real Mode <font color="#FF0000"><b>to Protected </b></font>Mode<font color="#000080">,
     </font><font color="#FF0000"><b>do </b></font>I have <font color="#FF0000"><b>to </b></font>change the GetMem calls <font color="#FF0000"><b>to </b></font>GlobalAlloc <font color="#FF0000"><b>and
     </b></font>GlobalDiscard<font color="#000080">?&quot; 

</font>A<font color="#000080">.   </font>No<font color="#000080">, </font>you don<font color="#800000">'t have to change the GetMem calls.  GetMem is a
     </font>better allocation method<font color="#000080">.  </font>Getmem will <font color="#FF0000"><b>do </b></font>a better job <font color="#FF0000"><b>of
     </b></font>allocating memory<font color="#000080">. </font>It allocates the memory <font color="#FF0000"><b>in </b></font><font color="#800000">8</font>K chunks<font color="#000080">,
     </font><font color="#FF0000"><b>then </b></font>suballocates from that<font color="#000080">. </font>The reason <font color="#FF0000"><b>for </b></font>this <font color="#FF0000"><b>is </b></font>that
     there are a maximum <font color="#FF0000"><b>of </b></font><font color="#800000">2000 </font>selectors availble <font color="#FF0000"><b>in </b></font>BP7<font color="#000080">, </font>so
     you don<font color="#800000">'t want to waste them. GlobalAlloc calls the DPMI
     </font>directly <font color="#FF0000"><b>to </b></font>allocate the memory<font color="#000080">, </font>bypassing the heap manager<font color="#000080">.
     </font>GlobalAlloc <font color="#FF0000"><b>is </b></font>there <font color="#FF0000"><b>for </b></font>when you need <font color="#FF0000"><b>to </b></font>bypass the heap
     manager <font color="#FF0000"><b>for </b></font>some reason<font color="#000080">, </font>but you normally don<font color="#800000">'t want to do
     </font>that<font color="#000080">.

</font>Q<font color="#000080">.   &quot;</font>How <font color="#FF0000"><b>do </b></font>I profile a <font color="#FF0000"><b>protected </b></font>mode application using BP7<font color="#000080">?&quot;

</font>A<font color="#000080">.   </font>You can only profile real mode applications<font color="#000080">, </font>Borland does
     <font color="#FF0000"><b>not </b></font>supply a <font color="#FF0000"><b>protected </b></font>mode profiler<font color="#000080">.  

</font>Q<font color="#000080">.   &quot;</font>I have ported a large <font color="#FF0000"><b>program to protected </b></font>mode <font color="#FF0000"><b>and </b></font>am
     getting a General Protection Fault <font color="#FF0000"><b>on </b></font>calls <font color="#FF0000"><b>to </b></font>GetMem<font color="#000080">.  </font>What
     could be causing this<font color="#000080">?&quot;

</font>A<font color="#000080">.   </font><font color="#FF0000"><b>In </b></font>DPMI<font color="#000080">, </font>a Local Descriptor Table <font color="#000080">(</font>LDT<font color="#000080">) </font>can contain <font color="#800000">8192
     </font>selectors<font color="#000080">.  </font>The Run Time Manager <font color="#000080">(</font>RTM<font color="#000080">) </font>maintains an
     internal table <font color="#FF0000"><b>to </b></font>track allocated selectors<font color="#000080">.  </font>The RTM table
     has a capacity <font color="#FF0000"><b>of </b></font>approximately <font color="#800000">2</font>K selectors<font color="#000080">.  </font>GlobalAlloc
     <font color="#FF0000"><b>and </b></font>GetMem calls that need <font color="#FF0000"><b>to </b></font>allocate a new block will fail
     when that <font color="#800000">2</font>K table <font color="#FF0000"><b>is </b></font>full<font color="#000080">.

</font>Q<font color="#000080">.   &quot;</font>I have a <font color="#FF0000"><b>protected </b></font>mode application that was created <font color="#FF0000"><b>with
     </b></font>BP7<font color="#000080">. </font>When running the <font color="#FF0000"><b>program in </b></font>a DOS box under Windows<font color="#000080">,
     </font>the computer locks up<font color="#000080">.  </font>What could be causing this<font color="#000080">?&quot;

</font>A<font color="#000080">.   </font>Check the <font color="#000080">&quot;</font>XMS KB Required<font color="#000080">&quot; </font><font color="#FF0000"><b>and </b></font><font color="#000080">&quot;</font>XMS KB Limit<font color="#000080">&quot; </font>settings <font color="#FF0000"><b>in
     </b></font>the <font color="#000080">.</font>PIF <font color="#FF0000"><b>file </b></font>used <font color="#FF0000"><b>for </b></font>the DOS box<font color="#000080">.  </font>The <font color="#000080">&quot;</font>Required<font color="#000080">&quot; </font>setting
     should be <font color="#800000">0 </font><font color="#FF0000"><b>and </b></font>the <font color="#000080">&quot;</font>Limit<font color="#000080">&quot; </font>should be at least <font color="#800000">2048</font>K<font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0042.PAS">Original</a><b>]</b></p></body>
</html>
