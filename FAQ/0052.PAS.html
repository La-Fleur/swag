<html>
<head><title> "Programming the Adlib/Sound Blaster" by JEFFREY S. LEE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0052.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#000000">                      Programming the AdLib<font color="#000080">/</font>Sound Blaster
                                FM Music Chips
                           Version <font color="#800000">2.0 </font><font color="#000080">(</font><font color="#800000">24 </font>Feb <font color="#800000">1992</font><font color="#000080">)

                  </font>Copyright <font color="#000080">(</font>c<font color="#000080">) </font><font color="#800000">1991</font><font color="#000080">, </font><font color="#800000">1992 </font>by Jeffrey S<font color="#000080">. </font>Lee

                               jlee<font color="#000080">@</font>smylex<font color="#000080">.</font>uucp



                        Warranty <font color="#FF0000"><b>and </b></font>Copyright Policy

     This document <font color="#FF0000"><b>is </b></font>provided <font color="#FF0000"><b>on </b></font>an <font color="#000080">&quot;</font><font color="#FF0000"><b>as</b></font><font color="#000080">-</font><font color="#FF0000"><b>is</b></font><font color="#000080">&quot; </font>basis<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>its author makes
     no warranty <font color="#FF0000"><b>or </b></font>representation<font color="#000080">, </font>express <font color="#FF0000"><b>or </b></font>implied<font color="#000080">, </font><font color="#FF0000"><b>with </b></font>respect <font color="#FF0000"><b>to
     </b></font>its quality performance <font color="#FF0000"><b>or </b></font>fitness <font color="#FF0000"><b>for </b></font>a particular purpose<font color="#000080">.  </font><font color="#FF0000"><b>In </b></font>no
     event will the author <font color="#FF0000"><b>of </b></font>this document be liable <font color="#FF0000"><b>for </b></font>direct<font color="#000080">, </font>indirect<font color="#000080">,
     </font>special<font color="#000080">, </font>incidental<font color="#000080">, </font><font color="#FF0000"><b>or </b></font>consequential damages arising <font color="#FF0000"><b>out of </b></font>the use
     <font color="#FF0000"><b>or </b></font>inability <font color="#FF0000"><b>to </b></font>use the information contained within<font color="#000080">.  </font>Use <font color="#FF0000"><b>of </b></font>this
     document <font color="#FF0000"><b>is </b></font>at your own risk<font color="#000080">.

     </font>This <font color="#FF0000"><b>file </b></font>may be used <font color="#FF0000"><b>and </b></font>copied freely so long <font color="#FF0000"><b>as </b></font>the applicable
     copyright notices are retained<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>no modifications are made <font color="#FF0000"><b>to </b></font>the
     text <font color="#FF0000"><b>of </b></font>the document<font color="#000080">.  </font>No money shall be charged <font color="#FF0000"><b>for </b></font>its distribution
     beyond reasonable shipping<font color="#000080">, </font>handling <font color="#FF0000"><b>and </b></font>duplication costs<font color="#000080">, </font>nor shall
     proprietary changes be made <font color="#FF0000"><b>to </b></font>this document so that it cannot be
     distributed freely<font color="#000080">.  </font>This document may <font color="#FF0000"><b>not </b></font>be included <font color="#FF0000"><b>in published
     </b></font>material <font color="#FF0000"><b>or </b></font>commercial packages without the written consent <font color="#FF0000"><b>of </b></font>its
     author<font color="#000080">.



                                   </font>Overview

     Two <font color="#FF0000"><b>of </b></font>the most popular sound cards <font color="#FF0000"><b>for </b></font>the IBM<font color="#000080">-</font>PC<font color="#000080">, </font>the AdLib <font color="#FF0000"><b>and </b></font>the
     Sound Blaster<font color="#000080">, </font>suffer from a real dearth <font color="#FF0000"><b>of </b></font>clear documentation <font color="#FF0000"><b>for
     </b></font>programmers<font color="#000080">.  </font>AdLib Inc<font color="#000080">. </font><font color="#FF0000"><b>and </b></font>Creative Labs<font color="#000080">, </font>Inc<font color="#000080">. </font>both sell developers<font color="#800000">'
     </font>kits <font color="#FF0000"><b>for </b></font>their sound cards<font color="#000080">, </font>but these are expensive<font color="#000080">, </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font><font color="#FF0000"><b>in </b></font>the <font color="#FF0000"><b>case
     of </b></font>the Sound Blaster developers<font color="#800000">' kit) can be extremely cryptic.

     </font>This document <font color="#FF0000"><b>is </b></font>intended <font color="#FF0000"><b>to </b></font>provide programmers <font color="#FF0000"><b>with </b></font>a FREE source
     <font color="#FF0000"><b>of </b></font>information about the programming <font color="#FF0000"><b>of </b></font>these sound cards<font color="#000080">.

     </font>The information contained <font color="#FF0000"><b>in </b></font>this document <font color="#FF0000"><b>is </b></font>a combination <font color="#FF0000"><b>of
     </b></font>information found <font color="#FF0000"><b>in </b></font>the Sound Blaster Software Developer<font color="#800000">'s Kit, and
     </font>that learned by painful experience<font color="#000080">.  </font>Some <font color="#FF0000"><b>of </b></font>the information may <font color="#FF0000"><b>not
     </b></font>be valid <font color="#FF0000"><b>for </b></font>AdLib cards<font color="#000080">; </font><font color="#FF0000"><b>if </b></font>this <font color="#FF0000"><b>is </b></font>so<font color="#000080">, </font>I apologize <font color="#FF0000"><b>in </b></font>advance<font color="#000080">.

     </font>Please note that numbers will be given <font color="#FF0000"><b>in </b></font>hexadecimal<font color="#000080">, </font>unless otherwise
     indicated<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>a number <font color="#FF0000"><b>is </b></font>written <font color="#FF0000"><b>out </b></font>longhand <font color="#000080">(</font>sixteen instead <font color="#FF0000"><b>of </b></font><font color="#800000">16</font><font color="#000080">)
     </font>it <font color="#FF0000"><b>is in </b></font>decimal<font color="#000080">.

 |   </font>Changes from Version <font color="#800000">1 </font><font color="#FF0000"><b>of </b></font>the <font color="#FF0000"><b>file </b></font>will be indicated by the use <font color="#FF0000"><b>of </b></font>change
 <font color="#000080">|   </font>bars <font color="#FF0000"><b>in </b></font>the left<font color="#000080">-</font>hand margin<font color="#000080">.



                         </font>Chapter One <font color="#000080">- </font>Sound Card I<font color="#000080">/</font>O

     The sound card <font color="#FF0000"><b>is </b></font>programmed by sending data <font color="#FF0000"><b>to </b></font>its internal registers
     via its two I<font color="#000080">/</font>O ports<font color="#000080">:

             </font><font color="#800000">0388 </font><font color="#000080">(</font>hex<font color="#000080">) - </font>Address<font color="#000080">/</font>Status port  <font color="#000080">(</font>R<font color="#000080">/</font>W<font color="#000080">)
             </font><font color="#800000">0389 </font><font color="#000080">(</font>hex<font color="#000080">) - </font>Data port            <font color="#000080">(</font>W<font color="#000080">/</font>O<font color="#000080">)

 |   </font>The Sound Blaster Pro <font color="#FF0000"><b>is </b></font>capable <font color="#FF0000"><b>of </b></font>stereo FM music<font color="#000080">, </font>which <font color="#FF0000"><b>is </b></font>accessed
 <font color="#000080">|   </font><font color="#FF0000"><b>in </b></font>exactly the same manner<font color="#000080">.  </font>Ports <font color="#800000">0220 </font><font color="#FF0000"><b>and </b></font><font color="#800000">0221 </font><font color="#000080">(</font>hex<font color="#000080">) </font>are the address<font color="#000080">/
 |   </font>data ports <font color="#FF0000"><b>for </b></font>the left speaker<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>ports <font color="#800000">0222 </font><font color="#FF0000"><b>and </b></font><font color="#800000">0223 </font><font color="#000080">(</font>hex<font color="#000080">) </font>are the
 <font color="#000080">|   </font>ports <font color="#FF0000"><b>for </b></font>the right speaker<font color="#000080">.  </font>Ports <font color="#800000">0388 </font><font color="#FF0000"><b>and </b></font><font color="#800000">0389 </font><font color="#000080">(</font>hex<font color="#000080">) </font>will cause both
 <font color="#000080">|   </font>speakers <font color="#FF0000"><b>to </b></font>output sound<font color="#000080">.

     </font>The sound card possesses an <font color="#FF0000"><b>array of </b></font>two hundred forty<font color="#000080">-</font>four registers<font color="#000080">;
     </font><font color="#FF0000"><b>to </b></font>write <font color="#FF0000"><b>to </b></font>a particular <font color="#FF0000"><b>register</b></font><font color="#000080">, </font>send the <font color="#FF0000"><b>register </b></font>number <font color="#000080">(</font><font color="#800000">01</font><font color="#000080">-</font>F5<font color="#000080">) </font><font color="#FF0000"><b>to
     </b></font>the address port<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>the desired value <font color="#FF0000"><b>to </b></font>the data port<font color="#000080">.

     </font>After writing <font color="#FF0000"><b>to </b></font>the <font color="#FF0000"><b>register </b></font>port<font color="#000080">, </font>you must wait twelve cycles before
     sending the data<font color="#000080">; </font>after writing the data<font color="#000080">, </font>eighty<font color="#000080">-</font>four cycles must elapse
     before any other sound card operation may be performed<font color="#000080">.

 |   </font>The AdLib manual gives the wait times <font color="#FF0000"><b>in </b></font>microseconds<font color="#000080">: </font>three point three
 <font color="#000080">|   (</font><font color="#800000">3.3</font><font color="#000080">) </font>microseconds <font color="#FF0000"><b>for </b></font>the address<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>twenty<font color="#000080">-</font>three <font color="#000080">(</font><font color="#800000">23</font><font color="#000080">) </font>microseconds
 <font color="#000080">|   </font><font color="#FF0000"><b>for </b></font>the data<font color="#000080">.
 |
 |   </font>The most accurate method <font color="#FF0000"><b>of </b></font>producing the delay <font color="#FF0000"><b>is to </b></font>read the <font color="#FF0000"><b>register
 </b></font><font color="#000080">|   </font>port six times after writing <font color="#FF0000"><b>to </b></font>the <font color="#FF0000"><b>register </b></font>port<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>read the <font color="#FF0000"><b>register
 </b></font><font color="#000080">|   </font>port thirty<font color="#000080">-</font>five times after writing <font color="#FF0000"><b>to </b></font>the data port<font color="#000080">.

     </font>The sound card registers are write<font color="#000080">-</font>only<font color="#000080">.

     </font>The address port also functions <font color="#FF0000"><b>as </b></font>a sound card status byte<font color="#000080">.  </font><font color="#FF0000"><b>To
     </b></font>retrieve the sound card<font color="#800000">'s status, simply read port 388.  The status
     </font>byte has the following structure<font color="#000080">:

              </font><font color="#800000">7      6      5      4      3      2      1      0
          </font><font color="#000080">+------+------+------+------+------+------+------+------+
          | </font>both <font color="#000080">| </font>tmr  <font color="#000080">| </font>tmr  <font color="#000080">|              </font>unused              <font color="#000080">|
          | </font>tmrs <font color="#000080">|  </font><font color="#800000">1   </font><font color="#000080">|  </font><font color="#800000">2   </font><font color="#000080">|                                  |
          +------+------+------+------+------+------+------+------+

          </font>Bit <font color="#800000">7 </font><font color="#000080">- </font><font color="#FF0000"><b>set if </b></font>either timer has expired<font color="#000080">.
              </font><font color="#800000">6 </font><font color="#000080">- </font><font color="#FF0000"><b>set if </b></font>timer <font color="#800000">1 </font>has expired<font color="#000080">.
              </font><font color="#800000">5 </font><font color="#000080">- </font><font color="#FF0000"><b>set if </b></font>timer <font color="#800000">2 </font>has expired<font color="#000080">.

                       </font>Chapter Two <font color="#000080">- </font>The Registers

The following table shows the <font color="#FF0000"><b>function of </b></font>each <font color="#FF0000"><b>register in </b></font>the sound
card<font color="#000080">.  </font>Registers will be explained <font color="#FF0000"><b>in </b></font>detail after the table<font color="#000080">.  </font>Registers
<font color="#FF0000"><b>not </b></font>listed are unused<font color="#000080">.

   </font>Address      <font color="#FF0000"><b>Function
   </b></font><font color="#000080">-------      ----------------------------------------------------
     </font><font color="#800000">01         </font>Test LSI <font color="#000080">/ </font>Enable waveform control
     <font color="#800000">02         </font>Timer <font color="#800000">1 </font>data
     <font color="#800000">03         </font>Timer <font color="#800000">2 </font>data
     <font color="#800000">04         </font>Timer control flags
     <font color="#800000">08         </font>Speech synthesis mode <font color="#000080">/ </font>Keyboard split note select
   <font color="#800000">20</font><font color="#000080">..</font><font color="#800000">35       </font>Amp <font color="#FF0000"><b>Mod </b></font><font color="#000080">/ </font>Vibrato <font color="#000080">/ </font>EG <font color="#FF0000"><b>type </b></font><font color="#000080">/ </font>Key Scaling <font color="#000080">/ </font>Multiple
   <font color="#800000">40</font><font color="#000080">..</font><font color="#800000">55       </font>Key scaling level <font color="#000080">/ </font>Operator output level
   <font color="#800000">60</font><font color="#000080">..</font><font color="#800000">75       </font>Attack Rate <font color="#000080">/ </font>Decay Rate
   <font color="#800000">80</font><font color="#000080">..</font><font color="#800000">95       </font>Sustain Level <font color="#000080">/ </font>Release Rate
   A0<font color="#000080">..</font>A8       Frequency <font color="#000080">(</font>low <font color="#800000">8 </font>bits<font color="#000080">)
   </font>B0<font color="#000080">..</font>B8       Key <font color="#FF0000"><b>On </b></font><font color="#000080">/ </font>Octave <font color="#000080">/ </font>Frequency <font color="#000080">(</font>high <font color="#800000">2 </font>bits<font color="#000080">)
     </font>BD         AM depth <font color="#000080">/ </font>Vibrato depth <font color="#000080">/ </font>Rhythm control
   C0<font color="#000080">..</font>C8       Feedback strength <font color="#000080">/ </font>Connection <font color="#FF0000"><b>type
   </b></font>E0<font color="#000080">..</font>F5       Wave Select

The groupings <font color="#FF0000"><b>of </b></font>twenty<font color="#000080">-</font>two registers <font color="#000080">(</font><font color="#800000">20</font><font color="#000080">-</font><font color="#800000">35</font><font color="#000080">, </font><font color="#800000">40</font><font color="#000080">-</font><font color="#800000">55</font><font color="#000080">, </font>etc<font color="#000080">.) </font>have an odd
order due <font color="#FF0000"><b>to </b></font>the use <font color="#FF0000"><b>of </b></font>two operators <font color="#FF0000"><b>for </b></font>each FM voice<font color="#000080">.  </font>The following
table shows the offsets within each group <font color="#FF0000"><b>of </b></font>registers <font color="#FF0000"><b>for </b></font>each operator<font color="#000080">.


   </font>Channel        <font color="#800000">1   2   3   4   5   6   7   8   9
   </font>Operator <font color="#800000">1    00  01  02  08  09  0</font>A  <font color="#800000">10  11  12
   </font>Operator <font color="#800000">2    03  04  05  0</font>B  <font color="#800000">0</font>C  <font color="#800000">0</font>D  <font color="#800000">13  14  15

</font>Thus<font color="#000080">, </font>the addresses <font color="#FF0000"><b>of </b></font>the attack<font color="#000080">/</font>decay bytes <font color="#FF0000"><b>for </b></font>channel <font color="#800000">3 </font>are <font color="#800000">62 </font><font color="#FF0000"><b>for
</b></font>the first operator<font color="#000080">, </font><font color="#FF0000"><b>and </b></font><font color="#800000">65 </font><font color="#FF0000"><b>for </b></font>the second<font color="#000080">.  (</font>The address <font color="#FF0000"><b>of </b></font>the second
operator <font color="#FF0000"><b>is </b></font>always the address <font color="#FF0000"><b>of </b></font>the first operator plus three<font color="#000080">).

</font><font color="#FF0000"><b>To </b></font>further illustrate the relationship<font color="#000080">, </font>the addresses needed <font color="#FF0000"><b>to </b></font>control
channel <font color="#800000">5 </font>are<font color="#000080">:

    </font><font color="#800000">29 </font><font color="#000080">- </font>Operator <font color="#800000">1  </font>AM<font color="#000080">/</font>VIB<font color="#000080">/</font>EG<font color="#000080">/</font>KSR<font color="#000080">/</font>Multiplier
    <font color="#800000">2</font>C <font color="#000080">- </font>Operator <font color="#800000">2  </font>AM<font color="#000080">/</font>VIB<font color="#000080">/</font>EG<font color="#000080">/</font>KSR<font color="#000080">/</font>Multiplier
    <font color="#800000">49 </font><font color="#000080">- </font>Operator <font color="#800000">1  </font>KSL<font color="#000080">/</font>Output Level
    <font color="#800000">4</font>C <font color="#000080">- </font>Operator <font color="#800000">2  </font>KSL<font color="#000080">/</font>Output Level
    <font color="#800000">69 </font><font color="#000080">- </font>Operator <font color="#800000">1  </font>Attack<font color="#000080">/</font>Decay
    <font color="#800000">6</font>C <font color="#000080">- </font>Operator <font color="#800000">2  </font>Attack<font color="#000080">/</font>Decay
    <font color="#800000">89 </font><font color="#000080">- </font>Operator <font color="#800000">1  </font>Sustain<font color="#000080">/</font>Release
    <font color="#800000">8</font>C <font color="#000080">- </font>Operator <font color="#800000">2  </font>Sustain<font color="#000080">/</font>Release
    A4 <font color="#000080">-             </font>Frequency <font color="#000080">(</font>low <font color="#800000">8 </font>bits<font color="#000080">)
    </font>B4 <font color="#000080">-             </font>Key <font color="#FF0000"><b>On</b></font><font color="#000080">/</font>Octave<font color="#000080">/</font>Frequency <font color="#000080">(</font>high <font color="#800000">2 </font>bits<font color="#000080">)
    </font>C4 <font color="#000080">-             </font>Feedback<font color="#000080">/</font>Connection <font color="#FF0000"><b>Type
    </b></font>E9 <font color="#000080">- </font>Operator <font color="#800000">1  </font>Waveform
    EC <font color="#000080">- </font>Operator <font color="#800000">2  </font>Waveform



                       Explanations <font color="#FF0000"><b>of </b></font>Registers

Byte <font color="#800000">01 </font><font color="#000080">- </font>This byte <font color="#FF0000"><b>is </b></font>normally used <font color="#FF0000"><b>to </b></font>test the LSI device<font color="#000080">.  </font>All bits
          should normally be zero<font color="#000080">.  </font>Bit <font color="#800000">5</font><font color="#000080">, </font><font color="#FF0000"><b>if </b></font>enabled<font color="#000080">, </font>allows the FM
          chips <font color="#FF0000"><b>to </b></font>control the waveform <font color="#FF0000"><b>of </b></font>each operator<font color="#000080">.

             </font><font color="#800000">7     6     5     4     3     2     1     0
          </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
          |   </font>unused  <font color="#000080">| </font>WS  <font color="#000080">|            </font>unused           <font color="#000080">|
          +-----+-----+-----+-----+-----+-----+-----+-----+


</font>Byte <font color="#800000">02 </font><font color="#000080">- </font>Timer <font color="#800000">1 </font>Data<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>Timer <font color="#800000">1 </font><font color="#FF0000"><b>is </b></font>enabled<font color="#000080">, </font>the value <font color="#FF0000"><b>in </b></font>this
          <font color="#FF0000"><b>register </b></font>will be incremented <font color="#FF0000"><b>until </b></font>it overflows<font color="#000080">.  </font>Upon
          overflow<font color="#000080">, </font>the sound card will signal a TIMER interrupt
          <font color="#000080">(</font>INT <font color="#800000">08</font><font color="#000080">) </font><font color="#FF0000"><b>and set </b></font>bits <font color="#800000">7 </font><font color="#FF0000"><b>and </b></font><font color="#800000">6 </font><font color="#FF0000"><b>in </b></font>its status byte<font color="#000080">.  </font>The
          value <font color="#FF0000"><b>for </b></font>this timer <font color="#FF0000"><b>is </b></font>incremented every eighty <font color="#000080">(</font><font color="#800000">80</font><font color="#000080">)
          </font>microseconds<font color="#000080">.


</font>Byte <font color="#800000">03 </font><font color="#000080">- </font>Timer <font color="#800000">2 </font>Data<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>Timer <font color="#800000">2 </font><font color="#FF0000"><b>is </b></font>enabled<font color="#000080">, </font>the value <font color="#FF0000"><b>in </b></font>this
          <font color="#FF0000"><b>register </b></font>will be incremented <font color="#FF0000"><b>until </b></font>it overflows<font color="#000080">.  </font>Upon
          overflow<font color="#000080">, </font>the sound card will signal a TIMER interrupt
          <font color="#000080">(</font>INT <font color="#800000">08</font><font color="#000080">) </font><font color="#FF0000"><b>and set </b></font>bits <font color="#800000">7 </font><font color="#FF0000"><b>and </b></font><font color="#800000">5 </font><font color="#FF0000"><b>in </b></font>its status byte<font color="#000080">.  </font>The
          value <font color="#FF0000"><b>for </b></font>this timer <font color="#FF0000"><b>is </b></font>incremented every three hundred
          twenty <font color="#000080">(</font><font color="#800000">320</font><font color="#000080">) </font>microseconds<font color="#000080">.


</font>Byte <font color="#800000">04 </font><font color="#000080">- </font>Timer Control Byte

        <font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     | </font>IRQ <font color="#000080">| </font>T1  <font color="#000080">| </font>T2  <font color="#000080">|     </font>unused      <font color="#000080">| </font>T2  <font color="#000080">| </font>T1  <font color="#000080">|
     | </font>RST <font color="#000080">| </font>MSK <font color="#000080">| </font>MSK <font color="#000080">|                 | </font>CTL <font color="#000080">| </font>CTL <font color="#000080">|
     +-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bit <font color="#800000">7 </font><font color="#000080">- </font>Resets the flags <font color="#FF0000"><b>for </b></font>timers <font color="#800000">1 </font><font color="#000080">&amp; </font><font color="#800000">2.  </font><font color="#FF0000"><b>If set</b></font><font color="#000080">,
                  </font>all other bits are ignored<font color="#000080">.
          </font>bit <font color="#800000">6 </font><font color="#000080">- </font>Masks Timer <font color="#800000">1.  </font><font color="#FF0000"><b>If set</b></font><font color="#000080">, </font>bit <font color="#800000">0 </font><font color="#FF0000"><b>is </b></font>ignored<font color="#000080">.
          </font>bit <font color="#800000">5 </font><font color="#000080">- </font>Masks Timer <font color="#800000">2.  </font><font color="#FF0000"><b>If set</b></font><font color="#000080">, </font>bit <font color="#800000">1 </font><font color="#FF0000"><b>is </b></font>ignored<font color="#000080">.
          </font>bit <font color="#800000">1 </font><font color="#000080">- </font>When clear<font color="#000080">, </font>Timer <font color="#800000">2 </font>does <font color="#FF0000"><b>not </b></font>operate<font color="#000080">.
                  </font>When <font color="#FF0000"><b>set</b></font><font color="#000080">, </font>the value from byte <font color="#800000">03 </font><font color="#FF0000"><b>is </b></font>loaded into
                  Timer <font color="#800000">2</font><font color="#000080">, </font><font color="#FF0000"><b>and </b></font>incrementation begins<font color="#000080">.
          </font>bit <font color="#800000">0 </font><font color="#000080">- </font>When clear<font color="#000080">, </font>Timer <font color="#800000">1 </font>does <font color="#FF0000"><b>not </b></font>operate<font color="#000080">.
                  </font>When <font color="#FF0000"><b>set</b></font><font color="#000080">, </font>the value from byte <font color="#800000">02 </font><font color="#FF0000"><b>is </b></font>loaded into
                  Timer <font color="#800000">1</font><font color="#000080">, </font><font color="#FF0000"><b>and </b></font>incrementation begins<font color="#000080">.


</font>Byte <font color="#800000">08 </font><font color="#000080">- </font>CSM Mode <font color="#000080">/ </font>Keyboard Split<font color="#000080">.

        </font><font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     | </font>CSM <font color="#000080">| </font>Key <font color="#000080">|              </font>unused               <font color="#000080">|
     | </font>sel <font color="#000080">| </font>Spl <font color="#000080">|                                   |
     +-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bit <font color="#800000">7 </font><font color="#000080">- </font>When <font color="#FF0000"><b>set</b></font><font color="#000080">, </font>selects composite sine<font color="#000080">-</font>wave speech synthesis
                  mode <font color="#000080">(</font>all KEY<font color="#000080">-</font><font color="#FF0000"><b>ON </b></font>bits must be clear<font color="#000080">).  </font>When clear<font color="#000080">,
                  </font>selects FM music mode<font color="#000080">.

          </font>bit <font color="#800000">6 </font><font color="#000080">- </font>Selects the keyboard split point <font color="#000080">(</font><font color="#FF0000"><b>in </b></font>conjunction <font color="#FF0000"><b>with
                  </b></font>the F<font color="#000080">-</font>Number data<font color="#000080">).  </font>The documentation <font color="#FF0000"><b>in </b></font>the Sound
                  Blaster manual <font color="#FF0000"><b>is </b></font>utterly incomprehensible <font color="#FF0000"><b>on </b></font>this<font color="#000080">;
                  </font>I can<font color="#800000">'t reproduce it without violating their copyright.


</font>Bytes <font color="#800000">20</font><font color="#000080">-</font><font color="#800000">35 </font><font color="#000080">- </font>Amplitude Modulation <font color="#000080">/ </font>Vibrato <font color="#000080">/ </font>Envelope Generator <font color="#FF0000"><b>Type </b></font><font color="#000080">/
              </font>Keyboard Scaling Rate <font color="#000080">/ </font>Modulator Frequency Multiple

        <font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     | </font>Amp <font color="#000080">| </font>Vib <font color="#000080">| </font>EG  <font color="#000080">| </font>KSR <font color="#000080">|  </font>Modulator Frequency  <font color="#000080">|
     | </font><font color="#FF0000"><b>Mod </b></font><font color="#000080">|     | </font>Typ <font color="#000080">|     |       </font>Multiple        <font color="#000080">|
     +-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bit <font color="#800000">7 </font><font color="#000080">- </font>Apply amplitude modulation when <font color="#FF0000"><b>set</b></font><font color="#000080">; </font>AM depth <font color="#FF0000"><b>is
                  </b></font>controlled by the AM<font color="#000080">-</font>Depth flag <font color="#FF0000"><b>in </b></font>address BD<font color="#000080">.
          </font>bit <font color="#800000">6 </font><font color="#000080">- </font>Apply vibrato when <font color="#FF0000"><b>set</b></font><font color="#000080">;  </font>vibrato depth <font color="#FF0000"><b>is </b></font>controlled
                  by the Vib<font color="#000080">-</font>Depth flag <font color="#FF0000"><b>in </b></font>address BD<font color="#000080">.
          </font>bit <font color="#800000">5 </font><font color="#000080">- </font>When <font color="#FF0000"><b>set</b></font><font color="#000080">, </font>the sustain level <font color="#FF0000"><b>of </b></font>the voice <font color="#FF0000"><b>is </b></font>maintained
                  <font color="#FF0000"><b>until </b></font>released<font color="#000080">; </font>when clear<font color="#000080">, </font>the sound begins <font color="#FF0000"><b>to </b></font>decay
                  immediately after hitting the SUSTAIN phase<font color="#000080">.
          </font>bit <font color="#800000">4 </font><font color="#000080">- </font>Keyboard scaling rate<font color="#000080">.  </font>This <font color="#FF0000"><b>is </b></font>another incomprehensible
                  bit <font color="#FF0000"><b>in </b></font>the Sound Blaster manual<font color="#000080">.  </font>From experience<font color="#000080">, </font><font color="#FF0000"><b>if
                  </b></font>this bit <font color="#FF0000"><b>is set</b></font><font color="#000080">, </font>the sound<font color="#800000">'s envelope is foreshortened as
                  </font>it rises <font color="#FF0000"><b>in </b></font>pitch<font color="#000080">.
          </font>bits <font color="#800000">3</font><font color="#000080">-</font><font color="#800000">0 </font><font color="#000080">- </font>These bits indicate which harmonic the operator will
                  produce sound <font color="#000080">(</font><font color="#FF0000"><b>or </b></font>modulation<font color="#000080">) </font><font color="#FF0000"><b>in </b></font>relation <font color="#FF0000"><b>to </b></font>the voice<font color="#800000">'s
                  </font>specified frequency<font color="#000080">:

                      </font><font color="#800000">0 </font><font color="#000080">- </font>one octave below
                      <font color="#800000">1 </font><font color="#000080">- </font>at the voice<font color="#800000">'s specified frequency
                      2 </font><font color="#000080">- </font>one octave above
                      <font color="#800000">3 </font><font color="#000080">- </font>an octave <font color="#FF0000"><b>and </b></font>a fifth above
                      <font color="#800000">4 </font><font color="#000080">- </font>two octaves above
                      <font color="#800000">5 </font><font color="#000080">- </font>two octaves <font color="#FF0000"><b>and </b></font>a major third above
                      <font color="#800000">6 </font><font color="#000080">- </font>two octaves <font color="#FF0000"><b>and </b></font>a fifth above
                      <font color="#800000">7 </font><font color="#000080">- </font>two octaves <font color="#FF0000"><b>and </b></font>a minor seventh above
                      <font color="#800000">8 </font><font color="#000080">- </font>three octaves above
                      <font color="#800000">9 </font><font color="#000080">- </font>three octaves <font color="#FF0000"><b>and </b></font>a major second above
                      A <font color="#000080">- </font>three octaves <font color="#FF0000"><b>and </b></font>a major third above
                      B <font color="#000080">-  &quot;       &quot;     &quot;  &quot;   &quot;     &quot;     &quot;
                      </font>C <font color="#000080">- </font>three octaves <font color="#FF0000"><b>and </b></font>a fifth above
                      D <font color="#000080">-   &quot;      &quot;     &quot;  &quot;   &quot;     &quot;
                      </font>E <font color="#000080">- </font>three octaves <font color="#FF0000"><b>and </b></font>a major seventh above
                      F <font color="#000080">-   &quot;      &quot;     &quot;  &quot;   &quot;      &quot;      &quot;

</font>Bytes <font color="#800000">40</font><font color="#000080">-</font><font color="#800000">55 </font><font color="#000080">- </font>Level Key Scaling <font color="#000080">/ </font>Total Level

        <font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     |  </font>Scaling  <font color="#000080">|             </font>Total Level           <font color="#000080">|
     |   </font>Level   <font color="#000080">| </font><font color="#800000">24    12     6     3    1.5   </font><font color="#000080">.</font><font color="#800000">75 </font><font color="#000080">| &lt;-- </font>dB
     <font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bits <font color="#800000">7</font><font color="#000080">-</font><font color="#800000">6 </font><font color="#000080">- </font>causes output levels <font color="#FF0000"><b>to </b></font>decrease <font color="#FF0000"><b>as </b></font>the frequency
                     rises<font color="#000080">:

                          </font><font color="#800000">00   </font><font color="#000080">-  </font>no change
                          <font color="#800000">10   </font><font color="#000080">-  </font><font color="#800000">1.5 </font>dB<font color="#000080">/</font><font color="#800000">8</font>ve
                          <font color="#800000">01   </font><font color="#000080">-  </font><font color="#800000">3 </font>dB<font color="#000080">/</font><font color="#800000">8</font>ve
                          <font color="#800000">11   </font><font color="#000080">-  </font><font color="#800000">6 </font>dB<font color="#000080">/</font><font color="#800000">8</font>ve

          bits <font color="#800000">5</font><font color="#000080">-</font><font color="#800000">0 </font><font color="#000080">- </font>controls the total output level <font color="#FF0000"><b>of </b></font>the operator<font color="#000080">.
                     </font>all bits CLEAR <font color="#FF0000"><b>is </b></font>loudest<font color="#000080">; </font>all bits <font color="#FF0000"><b>SET is </b></font>the
                     softest<font color="#000080">.  </font>Don<font color="#800000">'t ask me why.


</font>Bytes <font color="#800000">60</font><font color="#000080">-</font><font color="#800000">75 </font><font color="#000080">- </font>Attack Rate <font color="#000080">/ </font>Decay Rate

        <font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     |         </font>Attack        <font color="#000080">|          </font>Decay        <font color="#000080">|
     |          </font>Rate         <font color="#000080">|          </font>Rate         <font color="#000080">|
     +-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bits <font color="#800000">7</font><font color="#000080">-</font><font color="#800000">4 </font><font color="#000080">- </font>Attack rate<font color="#000080">.  </font><font color="#800000">0 </font><font color="#FF0000"><b>is </b></font>the slowest<font color="#000080">, </font>F <font color="#FF0000"><b>is </b></font>the fastest<font color="#000080">.
          </font>bits <font color="#800000">3</font><font color="#000080">-</font><font color="#800000">0 </font><font color="#000080">- </font>Decay rate<font color="#000080">.  </font><font color="#800000">0 </font><font color="#FF0000"><b>is </b></font>the slowest<font color="#000080">, </font>F <font color="#FF0000"><b>is </b></font>the fastest<font color="#000080">.


</font>Bytes <font color="#800000">80</font><font color="#000080">-</font><font color="#800000">95 </font><font color="#000080">- </font>Sustain Level <font color="#000080">/ </font>Release Rate

        <font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     |     </font>Sustain Level     <font color="#000080">|         </font>Release       <font color="#000080">|
     | </font><font color="#800000">24    12     6     3  </font><font color="#000080">|          </font>Rate         <font color="#000080">|
     +-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bits <font color="#800000">7</font><font color="#000080">-</font><font color="#800000">4 </font><font color="#000080">- </font>Sustain Level<font color="#000080">.  </font><font color="#800000">0 </font><font color="#FF0000"><b>is </b></font>the loudest<font color="#000080">, </font>F <font color="#FF0000"><b>is </b></font>the softest<font color="#000080">.
          </font>bits <font color="#800000">3</font><font color="#000080">-</font><font color="#800000">0 </font><font color="#000080">- </font>Release Rate<font color="#000080">.  </font><font color="#800000">0 </font><font color="#FF0000"><b>is </b></font>the slowest<font color="#000080">, </font>F <font color="#FF0000"><b>is </b></font>the fastest<font color="#000080">.


</font>Bytes A0<font color="#000080">-</font>B8 <font color="#000080">- </font>Octave <font color="#000080">/ </font>F<font color="#000080">-</font>Number <font color="#000080">/ </font>Key<font color="#000080">-</font><font color="#FF0000"><b>On

        </b></font><font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     |        </font>F<font color="#000080">-</font>Number <font color="#000080">(</font>least significant byte<font color="#000080">)      |  (</font>A0<font color="#000080">-</font>A8<font color="#000080">)
     |                                               |
     +-----+-----+-----+-----+-----+-----+-----+-----+

        </font><font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     |  </font>Unused   <font color="#000080">| </font>Key <font color="#000080">|    </font>Octave       <font color="#000080">| </font>F<font color="#000080">-</font>Number  <font color="#000080">|  (</font>B0<font color="#000080">-</font>B8<font color="#000080">)
     |           | </font><font color="#FF0000"><b>On  </b></font><font color="#000080">|                 | </font>most sig<font color="#000080">. |
     +-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bit   <font color="#800000">5  </font><font color="#000080">- </font>Channel <font color="#FF0000"><b>is </b></font>voiced when <font color="#FF0000"><b>set</b></font><font color="#000080">, </font>silent when clear<font color="#000080">.
          </font>bits <font color="#800000">4</font><font color="#000080">-</font><font color="#800000">2 </font><font color="#000080">- </font>Octave <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">-</font><font color="#800000">7</font><font color="#000080">).  </font><font color="#800000">0 </font><font color="#FF0000"><b>is </b></font>lowest<font color="#000080">, </font><font color="#800000">7 </font><font color="#FF0000"><b>is </b></font>highest<font color="#000080">.
          </font>bits <font color="#800000">1</font><font color="#000080">-</font><font color="#800000">0 </font><font color="#000080">- </font>Most significant bits <font color="#FF0000"><b>of </b></font>F<font color="#000080">-</font>number<font color="#000080">.

     </font><font color="#FF0000"><b>In </b></font>octave <font color="#800000">4</font><font color="#000080">, </font>the F<font color="#000080">-</font>number values <font color="#FF0000"><b>for </b></font>the chromatic scale <font color="#FF0000"><b>and </b></font>their
     corresponding frequencies would be<font color="#000080">:

        </font>F Number     Frequency     Note
           <font color="#800000">16</font>B          <font color="#800000">277.2       </font>C<font color="#800000">#
           181          293.7       </font>D
           <font color="#800000">198          311.1       </font>D<font color="#800000">#
           1</font>B0          <font color="#800000">329.6       </font>E
           <font color="#800000">1</font>CA          <font color="#800000">349.2       </font>F
           <font color="#800000">1E5          370.0       </font>F<font color="#800000">#
           202          392.0       </font>G
           <font color="#800000">220          415.3       </font>G<font color="#800000">#
           241          440.0       </font>A
           <font color="#800000">263          466.2       </font>A<font color="#800000">#
           287          493.9       </font>B
           <font color="#800000">2</font>AE          <font color="#800000">523.3       </font>C


Bytes C0<font color="#000080">-</font>C8 <font color="#000080">- </font>Feedback <font color="#000080">/ </font>Algorithm

        <font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     |         </font>unused        <font color="#000080">|    </font>Feedback     <font color="#000080">| </font>Alg <font color="#000080">|
     |                       |                 |     |
     +-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bits <font color="#800000">3</font><font color="#000080">-</font><font color="#800000">1 </font><font color="#000080">- </font>Feedback strength<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>all three bits are <font color="#FF0000"><b>set to
                     </b></font>zero<font color="#000080">, </font>no feedback <font color="#FF0000"><b>is </b></font>present<font color="#000080">.  </font><font color="#FF0000"><b>With </b></font>values <font color="#800000">1</font><font color="#000080">-</font><font color="#800000">7</font><font color="#000080">,
                     </font>operator <font color="#800000">1 </font>will send a portion <font color="#FF0000"><b>of </b></font>its output back
                     into itself<font color="#000080">.  </font><font color="#800000">1 </font><font color="#FF0000"><b>is </b></font>the least amount <font color="#FF0000"><b>of </b></font>feedback<font color="#000080">,
                     </font><font color="#800000">7 </font><font color="#FF0000"><b>is </b></font>the most<font color="#000080">.
          </font>bit <font color="#800000">0    </font><font color="#000080">- </font><font color="#FF0000"><b>If set to </b></font><font color="#800000">0</font><font color="#000080">, </font>operator <font color="#800000">1 </font>modulates operator <font color="#800000">2.  </font><font color="#FF0000"><b>In </b></font>this
                     <font color="#FF0000"><b>case</b></font><font color="#000080">, </font>operator <font color="#800000">2 </font><font color="#FF0000"><b>is </b></font>the only one producing sound<font color="#000080">.
                     </font><font color="#FF0000"><b>If set to </b></font><font color="#800000">1</font><font color="#000080">, </font>both operators produce sound directly<font color="#000080">.
                     </font>Complex sounds are more easily created <font color="#FF0000"><b>if </b></font>the algorithm
                     <font color="#FF0000"><b>is set to </b></font><font color="#800000">0.


</font>Byte BD <font color="#000080">- </font>Amplitude Modulation Depth <font color="#000080">/ </font>Vibrato Depth <font color="#000080">/ </font>Rhythm

        <font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     | </font>AM  <font color="#000080">| </font>Vib <font color="#000080">| </font>Rhy <font color="#000080">| </font>BD  <font color="#000080">| </font>SD  <font color="#000080">| </font>TOM <font color="#000080">| </font>Top <font color="#000080">| </font>HH  <font color="#000080">|
     | </font>Dep <font color="#000080">| </font>Dep <font color="#000080">| </font>Ena <font color="#000080">|     |     |     | </font>Cym <font color="#000080">|     |
     +-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bit <font color="#800000">7 </font><font color="#000080">- </font><font color="#FF0000"><b>Set</b></font><font color="#000080">:    </font>AM depth <font color="#FF0000"><b>is </b></font><font color="#800000">4.8</font>dB
                  Clear<font color="#000080">:  </font>AM depth <font color="#FF0000"><b>is </b></font><font color="#800000">1 </font>dB
          bit <font color="#800000">6 </font><font color="#000080">- </font><font color="#FF0000"><b>Set</b></font><font color="#000080">:    </font>Vibrato depth <font color="#FF0000"><b>is </b></font><font color="#800000">14 </font>cent
                  Clear<font color="#000080">:  </font>Vibrato depth <font color="#FF0000"><b>is </b></font><font color="#800000">7 </font>cent
          bit <font color="#800000">5 </font><font color="#000080">- </font><font color="#FF0000"><b>Set</b></font><font color="#000080">:    </font>Rhythm enabled  <font color="#000080">(</font><font color="#800000">6 </font>melodic voices<font color="#000080">)
                  </font>Clear<font color="#000080">:  </font>Rhythm disabled <font color="#000080">(</font><font color="#800000">9 </font>melodic voices<font color="#000080">)
          </font>bit <font color="#800000">4 </font><font color="#000080">- </font>Bass drum <font color="#FF0000"><b>on</b></font><font color="#000080">/</font>off
          bit <font color="#800000">3 </font><font color="#000080">- </font>Snare drum <font color="#FF0000"><b>on</b></font><font color="#000080">/</font>off
          bit <font color="#800000">2 </font><font color="#000080">- </font>Tom tom <font color="#FF0000"><b>on</b></font><font color="#000080">/</font>off
          bit <font color="#800000">1 </font><font color="#000080">- </font>Cymbal <font color="#FF0000"><b>on</b></font><font color="#000080">/</font>off
          bit <font color="#800000">0 </font><font color="#000080">- </font>Hi Hat <font color="#FF0000"><b>on</b></font><font color="#000080">/</font>off

          Note<font color="#000080">:  </font>KEY<font color="#000080">-</font><font color="#FF0000"><b>ON </b></font>registers <font color="#FF0000"><b>for </b></font>channels <font color="#800000">06</font><font color="#000080">, </font><font color="#800000">07</font><font color="#000080">, </font><font color="#FF0000"><b>and </b></font><font color="#800000">08 </font>must be OFF
                 <font color="#FF0000"><b>in </b></font>order <font color="#FF0000"><b>to </b></font>use the rhythm section<font color="#000080">.  </font>Other parameters
                 such <font color="#FF0000"><b>as </b></font>attack<font color="#000080">/</font>decay<font color="#000080">/</font>sustain<font color="#000080">/</font>release must also be <font color="#FF0000"><b>set
                 </b></font>appropriately<font color="#000080">.


</font>Bytes E0<font color="#000080">-</font>F5 <font color="#000080">- </font>Waveform Select

        <font color="#800000">7     6     5     4     3     2     1     0
     </font><font color="#000080">+-----+-----+-----+-----+-----+-----+-----+-----+
     |               </font>unused              <font color="#000080">|  </font>Waveform <font color="#000080">|
     |                                   |  </font>Select   <font color="#000080">|
     +-----+-----+-----+-----+-----+-----+-----+-----+

          </font>bits <font color="#800000">1</font><font color="#000080">-</font><font color="#800000">0 </font><font color="#000080">- </font>When bit <font color="#800000">5 </font><font color="#FF0000"><b>of </b></font>address <font color="#800000">01 </font><font color="#FF0000"><b>is set</b></font><font color="#000080">, </font>the output waveform
                     will be distorted according <font color="#FF0000"><b>to </b></font>the waveform indicated
                     by these two bits<font color="#000080">.  </font>I<font color="#800000">'ll try to diagram them here,
                     </font>but this medium <font color="#FF0000"><b>is </b></font>fairly restrictive<font color="#000080">.

         </font>___              ___            ___    ___       _      _
        <font color="#000080">/   \            /   \          /   \  /   \     / |    / |
       /</font>_____<font color="#000080">\</font>_______   <font color="#000080">/</font>_____<font color="#000080">\</font>_____   <font color="#000080">/</font>_____<font color="#000080">\/</font>_____<font color="#000080">\   /</font>__<font color="#000080">|</font>___<font color="#000080">/</font>__<font color="#000080">|</font>___
              <font color="#000080">\     /
               \</font>___<font color="#000080">/

            </font><font color="#800000">00              01               10               11



 </font><font color="#000080">|                          </font>Detecting a Sound Card
 <font color="#000080">|
 |   </font>According <font color="#FF0000"><b>to </b></font>the AdLib manual<font color="#000080">, </font>the <font color="#800000">'official' </font>method <font color="#FF0000"><b>of </b></font>checking <font color="#FF0000"><b>for </b></font>a
 <font color="#000080">|   </font>sound card <font color="#FF0000"><b>is as </b></font>follows<font color="#000080">:
 |
 |      </font><font color="#800000">1</font><font color="#000080">)  </font>Reset both timers by writing <font color="#800000">60</font>h <font color="#FF0000"><b>to register </b></font><font color="#800000">4.
 </font><font color="#000080">|      </font><font color="#800000">2</font><font color="#000080">)  </font>Enable the interrupts by writing <font color="#800000">80</font>h <font color="#FF0000"><b>to register </b></font><font color="#800000">4.  </font>NOTE<font color="#000080">: </font>this
 <font color="#000080">|          </font>must be a separate step from number <font color="#800000">1.
 </font><font color="#000080">|      </font><font color="#800000">3</font><font color="#000080">)  </font>Read the status <font color="#FF0000"><b>register </b></font><font color="#000080">(</font>port <font color="#800000">388</font>h<font color="#000080">).  </font>Store the result<font color="#000080">.
 |      </font><font color="#800000">4</font><font color="#000080">)  </font>Write FFh <font color="#FF0000"><b>to register </b></font><font color="#800000">2 </font><font color="#000080">(</font>Timer <font color="#800000">1</font><font color="#000080">).
 |      </font><font color="#800000">5</font><font color="#000080">)  </font>Start timer <font color="#800000">1 </font>by writing <font color="#800000">21</font>h <font color="#FF0000"><b>to register </b></font><font color="#800000">4.
 </font><font color="#000080">|      </font><font color="#800000">6</font><font color="#000080">)  </font>Delay <font color="#FF0000"><b>for </b></font>at least <font color="#800000">80 </font>microseconds<font color="#000080">.
 |      </font><font color="#800000">7</font><font color="#000080">)  </font>Read the status <font color="#FF0000"><b>register </b></font><font color="#000080">(</font>port <font color="#800000">388</font>h<font color="#000080">).  </font>Store the result<font color="#000080">.
 |      </font><font color="#800000">8</font><font color="#000080">)  </font>Reset both timers <font color="#FF0000"><b>and </b></font>interrupts <font color="#000080">(</font>see steps <font color="#800000">1 </font><font color="#FF0000"><b>and </b></font><font color="#800000">2</font><font color="#000080">).
 |      </font><font color="#800000">9</font><font color="#000080">)  </font>Test the stored results <font color="#FF0000"><b>of </b></font>steps <font color="#800000">3 </font><font color="#FF0000"><b>and </b></font><font color="#800000">7 </font>by ANDing them
 <font color="#000080">|          </font><font color="#FF0000"><b>with </b></font>E0h<font color="#000080">.  </font>The result <font color="#FF0000"><b>of </b></font>step <font color="#800000">3 </font>should be <font color="#800000">00</font>h<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>the
 <font color="#000080">|          </font>result <font color="#FF0000"><b>of </b></font>step <font color="#800000">7 </font>should be C0h<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>both are correct<font color="#000080">, </font>an
 <font color="#000080">|          </font>AdLib<font color="#000080">-</font>compatible board <font color="#FF0000"><b>is </b></font>installed <font color="#FF0000"><b>in </b></font>the computer<font color="#000080">.
 |
 |
 |                              </font>Making a Sound
 <font color="#000080">|
 |   </font>Many people have asked me<font color="#000080">, </font>upon reading this document<font color="#000080">, </font>what the proper
 <font color="#000080">|   </font><font color="#FF0000"><b>register </b></font>values should be <font color="#FF0000"><b>to </b></font>make a simple sound<font color="#000080">.  </font>Well<font color="#000080">, </font>here they are<font color="#000080">.
 |
 |   </font>First<font color="#000080">, </font>clear <font color="#FF0000"><b>out </b></font>all <font color="#FF0000"><b>of </b></font>the registers by setting all <font color="#FF0000"><b>of </b></font>them <font color="#FF0000"><b>to </b></font>zero<font color="#000080">.
 |   </font>This <font color="#FF0000"><b>is </b></font>the quick<font color="#000080">-</font><font color="#FF0000"><b>and</b></font><font color="#000080">-</font>dirty method <font color="#FF0000"><b>of </b></font>resetting the sound card<font color="#000080">, </font>but it
 <font color="#000080">|   </font>works<font color="#000080">.  </font>Note that <font color="#FF0000"><b>if </b></font>you wish <font color="#FF0000"><b>to </b></font>use different waveforms<font color="#000080">, </font>you must <font color="#FF0000"><b>then
 </b></font><font color="#000080">|   </font>turn <font color="#FF0000"><b>on </b></font>bit <font color="#800000">5 </font><font color="#FF0000"><b>of register </b></font><font color="#800000">1.  </font><font color="#000080">(</font>This reset need be done only once<font color="#000080">, </font>at the
 <font color="#000080">|   </font>start <font color="#FF0000"><b>of </b></font>the <font color="#FF0000"><b>program</b></font><font color="#000080">, </font><font color="#FF0000"><b>and </b></font>optionally when the <font color="#FF0000"><b>program </b></font>exits<font color="#000080">, </font>just <font color="#FF0000"><b>to
 </b></font><font color="#000080">|   </font>make sure that your <font color="#FF0000"><b>program </b></font>doesn<font color="#800000">'t leave any notes on when it exits.)
 </font><font color="#000080">|
 |   </font>Now<font color="#000080">, </font><font color="#FF0000"><b>set </b></font>the following registers <font color="#FF0000"><b>to </b></font>the indicated value<font color="#000080">:
 |
 |     </font><font color="#FF0000"><b>REGISTER     </b></font>VALUE     DESCRIPTION
 <font color="#000080">|        </font><font color="#800000">20          01      </font><font color="#FF0000"><b>Set </b></font>the modulator<font color="#800000">'s multiple to 1
 </font><font color="#000080">|        </font><font color="#800000">40          10      </font><font color="#FF0000"><b>Set </b></font>the modulator<font color="#800000">'s level to about 40 dB
 </font><font color="#000080">|        </font><font color="#800000">60          </font>F0      Modulator attack<font color="#000080">:  </font>quick<font color="#000080">;   </font>decay<font color="#000080">:   </font>long
 <font color="#000080">|        </font><font color="#800000">80          77      </font>Modulator sustain<font color="#000080">: </font>medium<font color="#000080">;  </font>release<font color="#000080">: </font>medium
 <font color="#000080">|        </font>A0          <font color="#800000">98      </font><font color="#FF0000"><b>Set </b></font>voice frequency<font color="#800000">'s LSB (it'</font>ll be a D<font color="#800000">#</font><font color="#000080">)
 |        </font><font color="#800000">23          01      </font><font color="#FF0000"><b>Set </b></font>the carrier<font color="#800000">'s multiple to 1
 </font><font color="#000080">|        </font><font color="#800000">43          00      </font><font color="#FF0000"><b>Set </b></font>the carrier <font color="#FF0000"><b>to </b></font>maximum volume <font color="#000080">(</font>about <font color="#800000">47 </font>dB<font color="#000080">)
 |        </font><font color="#800000">63          </font>F0      Carrier attack<font color="#000080">:  </font>quick<font color="#000080">;   </font>decay<font color="#000080">:   </font>long
 <font color="#000080">|        </font><font color="#800000">83          77      </font>Carrier sustain<font color="#000080">: </font>medium<font color="#000080">;  </font>release<font color="#000080">: </font>medium
 <font color="#000080">|        </font>B0          <font color="#800000">31      </font>Turn the voice <font color="#FF0000"><b>on</b></font><font color="#000080">; </font><font color="#FF0000"><b>set </b></font>the octave <font color="#FF0000"><b>and </b></font>freq MSB
 <font color="#000080">|
 |   </font><font color="#FF0000"><b>To </b></font>turn the voice off<font color="#000080">, </font><font color="#FF0000"><b>set register </b></font>B0h <font color="#FF0000"><b>to </b></font><font color="#800000">11</font>h <font color="#000080">(</font><font color="#FF0000"><b>or</b></font><font color="#000080">, </font><font color="#FF0000"><b>in </b></font>fact<font color="#000080">, </font>any value
 <font color="#000080">|   </font>which leaves bit <font color="#800000">5 </font>clear<font color="#000080">).  </font>It<font color="#800000">'s generally preferable, of course, to
 </font><font color="#000080">|   </font>induce a delay before doing so<font color="#000080">.
 |
 |
 |                             </font>Acknowledgements
 <font color="#000080">|
 |   </font>Thanks are due <font color="#FF0000"><b>to </b></font>the following people<font color="#000080">:
 |
 |   </font>Ezra M<font color="#000080">. </font>Dreisbach <font color="#000080">(</font>ed10<font color="#000080">+@</font>andrew<font color="#000080">.</font>cmu<font color="#000080">.</font>edu<font color="#000080">), </font><font color="#FF0000"><b>for </b></font>providing the information
 <font color="#000080">|     </font>about the recommended port write delay from the AdLib manual<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>the
 <font color="#000080">|     </font><font color="#800000">'official' </font>method <font color="#FF0000"><b>of </b></font>detecting an AdLib<font color="#000080">-</font>compatible sound card<font color="#000080">.
 |
 |   </font>Nathan Isaac Laredo <font color="#000080">(</font>gt7080a<font color="#000080">@</font>prism<font color="#000080">.</font>gatech<font color="#000080">.</font>edu<font color="#000080">), </font><font color="#FF0000"><b>for </b></font>providing the
 <font color="#000080">|     </font>port numbers <font color="#FF0000"><b>for </b></font>stereo sound <font color="#FF0000"><b>on </b></font>the Sound Blaster Pro<font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to FAQ SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0052.PAS">Original</a><b>]</b></p></body>
</html>
