<html>
<head><title> "VGA-PTR.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0039.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{    Make a Pointer, make a Type of the data Type you are dealing with, make as
many Pointers as you will need data segments (or as commonly practiced amongst
the Programming elite, make an linked list of the data items), and call the
GETMEM Procedure using the Pointer in the Array... Here is an example I use to
copy VGA (320x200x256) screens...
}

</i></font><font color="#FF0000"><b>Type
    </b></font>ScreenSaveType <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>TheSize<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Var
   </b></font>TheScreen                    <font color="#000080">: </font>ScreenSaveType <font color="#FF0000"><b>Absolute </b></font><font color="#800000">$A000</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">;
   </font>Screen                       <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">100</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font><font color="#000080">^</font>ScreenSaveType<font color="#000080">;

</font><font color="#FF0000"><b>begin
     </b></font>InitGraphics<font color="#000080">;
     </font>Count <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;

     </font><font color="#FF0000"><b>Repeat
           </b></font>Count <font color="#000080">:= </font>Count <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
           </font>GetMem<font color="#000080">(</font>Screen<font color="#000080">[</font>Count<font color="#000080">],</font>Sizeof<font color="#000080">(</font>ScreenSaveType<font color="#000080">));
           </font>WriteLn<font color="#000080">(</font><font color="#800000">'Memory at Screen '</font><font color="#000080">,</font>Count<font color="#000080">,</font><font color="#800000">' : '</font><font color="#000080">,</font>MemAvail<font color="#000080">); </font><font color="#008000"><i>{THIS MAKES
                                                               THE PAGES}
     </i></font><font color="#FF0000"><b>Until </b></font>MemAvail <font color="#000080">&lt; </font><font color="#800000">70000</font><font color="#000080">;
     </font><font color="#FF0000"><b>For </b></font>X <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>Count <font color="#FF0000"><b>do
         For </b></font>A <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>TheSize <font color="#FF0000"><b>do                   </b></font><font color="#008000"><i>{THE MAKES A SCREEN}
             </i></font>Screen<font color="#000080">[</font>X<font color="#000080">]^[</font>A<font color="#000080">] := </font>Random<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">);
     </font>E <font color="#000080">:= </font>C<font color="#000080">;
     </font>X <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
     </font>GetTime<font color="#000080">(</font>A<font color="#000080">,</font>B<font color="#000080">,</font>C<font color="#000080">,</font>D<font color="#000080">);
     </font>C2 <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;

     </font><font color="#FF0000"><b>Repeat
           </b></font>X <font color="#000080">:= </font>X <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
           </font>GetTime<font color="#000080">(</font>A<font color="#000080">,</font>B<font color="#000080">,</font>C<font color="#000080">,</font>D<font color="#000080">);
           </font><font color="#FF0000"><b>if </b></font>C <font color="#000080">&lt;&gt; </font>E <font color="#FF0000"><b>then
              begin
              </b></font>C2 <font color="#000080">:= </font>C2 <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">;
              </font>testresults<font color="#000080">[</font>C2<font color="#000080">] := </font>X<font color="#000080">;
              </font>X <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
              </font>E <font color="#000080">:= </font>C<font color="#000080">;
              </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font>TheScreen <font color="#000080">:= </font>Screen<font color="#000080">[</font>X <font color="#FF0000"><b>mod </b></font>Count <font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">]^;
     </font>Move<font color="#000080">(</font>Scroll2<font color="#000080">,</font>Scroll1<font color="#000080">,</font>Sizeof<font color="#000080">(</font>Scroll2<font color="#000080">));
     </font><font color="#FF0000"><b>Until </b></font>KeyPressed<font color="#000080">;
     </font>WriteLn<font color="#000080">(</font>Test<font color="#000080">,</font><font color="#800000">'Number of Screens :'</font><font color="#000080">,</font>Count<font color="#000080">);
     </font><font color="#FF0000"><b>For </b></font>X <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>C2 <font color="#FF0000"><b>do
         </b></font>WriteLn<font color="#000080">(</font>Test<font color="#000080">,</font><font color="#800000">'Number of flips, second #'</font><font color="#000080">,</font>X<font color="#000080">,</font><font color="#800000">':'</font><font color="#000080">,</font>testresults<font color="#000080">[</font>x<font color="#000080">]);
     </font>Close<font color="#000080">(</font>Test<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#008000"><i>{    I didn't try and Compile that, I also edited out the Procedure
initGraphics because you aren't Really interested in that end. However where
it says &quot;THIS MAKES THE PAGES&quot; is what you want to do.. In this particular
version I made 4 Graphics pages under pascal and 5 outside of pascal, I could
have fit more but I have too many TSRS. Using Extended memory I can fit about
20 Graphics pages (I got about 2 megs ram), but you can extend that as Far as
ram may go. The MOVE command isn't a bad command either to know. I got when
running a Text mode, 213 Text pages per second. I was even impressed (PS
Graphics people, I got 16 Graphics pages per second in 320x200x256 mode!)...
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0039.PAS">Original</a><b>]</b></p></body>
</html>
