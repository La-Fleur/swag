<html>
<head><title> "fast ellips-drawing procedure" by WOUTER 'TEUS' VAN REEVEN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0286.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{Dear Gayle and Jeff,


since a longtime I have been looking for a Pascal-routine that draws
an ellips with axes in a random direction on the screen. Up to now I
only found routines that draw ellipses with horizontal and vertical
axes.
But last friday I searched the SWAG-archive and found some files that
helped me develop the routine myself.

I found a fast ellips-drawing procedure by Bernie Pallek and
arotation-procedure by Mike Brennan. I have combined these two and I
found them to draw the ellips I wanted!


So attached to this mail is a file which contains the sought-after
procedures to draw an ellips with random axes. I hope you'll put it 
in the archive.


Many thanks to you for keeping such an archive. Without your help I'd
still be searching now!


Regards,


Wouter van Reeven




 Greetings                               *    *               *
 from Wouter van Reeven             *               *
 alias &quot;Teus&quot;                                                 *
                                                       *
 WReeven@ISD-Server.leidenuniv.nl      &quot;Alone in the clouds all blue....&quot;

 Only users lose drugs.        Clear skies!!!

{original 'Procedure Rotate' by Mike Brennan}
</i></font><font color="#FF0000"><b>Procedure </b></font>Rotate<font color="#000080">(</font>cent1<font color="#000080">,</font>cent2<font color="#000080">,</font>angle<font color="#000080">:</font>Integer<font color="#000080">;</font>coord1<font color="#000080">,</font>coord2<font color="#000080">:</font>Real<font color="#000080">;</font>clr<font color="#000080">:</font>word<font color="#000080">);
</font><font color="#FF0000"><b>Var </b></font>coord1t<font color="#000080">, </font>coord2t <font color="#000080">: </font>Real<font color="#000080">;
    </font>c1<font color="#000080">, </font>c2 <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>coord1t <font color="#000080">:= </font>coord1 <font color="#000080">- </font>cent1<font color="#000080">;
  </font>coord2t <font color="#000080">:= </font>coord2 <font color="#000080">- </font>cent2<font color="#000080">;
  </font>coord1 <font color="#000080">:= </font>coord1t <font color="#000080">* </font>cos<font color="#000080">(</font>angle <font color="#000080">* </font>pi <font color="#000080">/ </font><font color="#800000">180</font><font color="#000080">) - </font>coord2t <font color="#000080">* </font>sin<font color="#000080">(</font>angle <font color="#000080">* </font>pi <font color="#000080">/ </font><font color="#800000">180</font><font color="#000080">);
  </font>coord2 <font color="#000080">:= </font>coord1t <font color="#000080">* </font>sin<font color="#000080">(</font>angle <font color="#000080">* </font>pi <font color="#000080">/ </font><font color="#800000">180</font><font color="#000080">) + </font>coord2t <font color="#000080">* </font>cos<font color="#000080">(</font>angle <font color="#000080">* </font>pi <font color="#000080">/ </font><font color="#800000">180</font><font color="#000080">);
  </font>coord1 <font color="#000080">:= </font>coord1 <font color="#000080">+ </font>cent1<font color="#000080">;
  </font>coord2 <font color="#000080">:= </font>coord2 <font color="#000080">+ </font>cent2<font color="#000080">;
  </font>c1 <font color="#000080">:= </font>round<font color="#000080">(</font>coord1<font color="#000080">);
  </font>c2 <font color="#000080">:= </font>round<font color="#000080">(</font>coord2<font color="#000080">);
  </font>putpixel<font color="#000080">(</font>c1<font color="#000080">,</font>c2<font color="#000080">,</font>clr<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#008000"><i>{original 'Procedure Ellipse2' by Bernie Pallek. Original code by Sean Palmer}
{but, and I quote, Bernie 'mangled it'}
</i></font><font color="#FF0000"><b>PROCEDURE </b></font>Ellipse2<font color="#000080">(</font>exc<font color="#000080">, </font>eyc<font color="#000080">, </font>ea<font color="#000080">, </font>eb<font color="#000080">, </font>i<font color="#000080">, </font>clr <font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>VAR
  </b></font>elx<font color="#000080">, </font>ely <font color="#000080">: </font>Integer<font color="#000080">;
  </font>aa<font color="#000080">, </font>aa2<font color="#000080">, </font>bb<font color="#000080">, </font>bb2<font color="#000080">, </font>d<font color="#000080">, </font>dx<font color="#000080">, </font>dy <font color="#000080">: </font>LongInt<font color="#000080">;
  </font>x<font color="#000080">,</font>y <font color="#000080">: </font>real<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>elx <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>ely <font color="#000080">:= </font>eb<font color="#000080">; </font>aa <font color="#000080">:= </font>LongInt<font color="#000080">(</font>ea<font color="#000080">) * </font>ea<font color="#000080">; </font>aa2 <font color="#000080">:= </font><font color="#800000">2 </font><font color="#000080">* </font>aa<font color="#000080">;
  </font>bb <font color="#000080">:= </font>LongInt<font color="#000080">(</font>eb<font color="#000080">) * </font>eb<font color="#000080">; </font>bb2 <font color="#000080">:= </font><font color="#800000">2 </font><font color="#000080">* </font>bb<font color="#000080">;
  </font>d <font color="#000080">:= </font>bb <font color="#000080">- </font>aa <font color="#000080">* </font>eb <font color="#000080">+ </font>aa <font color="#FF0000"><b>DIV </b></font><font color="#800000">4</font><font color="#000080">; </font>dx <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>dy <font color="#000080">:= </font>aa2 <font color="#000080">* </font>eb<font color="#000080">;
  </font>x <font color="#000080">:= </font>exc<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">- </font>ely<font color="#000080">;
  </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
  </font>x <font color="#000080">:= </font>exc<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">+ </font>ely<font color="#000080">;
  </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
  </font>x <font color="#000080">:= </font>exc <font color="#000080">- </font>ea<font color="#000080">; </font>y <font color="#000080">:= </font>eyc<font color="#000080">;
  </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
  </font>x <font color="#000080">:= </font>exc <font color="#000080">+ </font>ea<font color="#000080">; </font>y <font color="#000080">:= </font>eyc<font color="#000080">;
  </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
  </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>dx <font color="#000080">&lt; </font>dy<font color="#000080">) </font><font color="#FF0000"><b>DO BEGIN
    IF </b></font><font color="#000080">(</font>d <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>THEN BEGIN </b></font>Dec<font color="#000080">(</font>ely<font color="#000080">); </font>Dec<font color="#000080">(</font>dy<font color="#000080">, </font>aa2<font color="#000080">); </font>Dec<font color="#000080">(</font>d<font color="#000080">, </font>dy<font color="#000080">); </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font>Inc<font color="#000080">(</font>elx<font color="#000080">); </font>Inc<font color="#000080">(</font>dx<font color="#000080">, </font>bb2<font color="#000080">); </font>Inc<font color="#000080">(</font>d<font color="#000080">, </font>bb <font color="#000080">+ </font>dx<font color="#000080">);
    </font>x <font color="#000080">:= </font>exc <font color="#000080">+ </font>elx<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">+ </font>ely<font color="#000080">;
    </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
    </font>x <font color="#000080">:= </font>exc <font color="#000080">- </font>elx<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">+ </font>ely<font color="#000080">;
    </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
    </font>x <font color="#000080">:= </font>exc <font color="#000080">+ </font>elx<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">- </font>ely<font color="#000080">;
    </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
    </font>x <font color="#000080">:= </font>exc <font color="#000080">- </font>elx<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">- </font>ely<font color="#000080">;
    </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
  </font>Inc<font color="#000080">(</font>d<font color="#000080">, (</font><font color="#800000">3 </font><font color="#000080">* (</font>aa <font color="#000080">- </font>bb<font color="#000080">) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">2 </font><font color="#000080">- (</font>dx <font color="#000080">+ </font>dy<font color="#000080">)) </font><font color="#FF0000"><b>DIV </b></font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>WHILE </b></font><font color="#000080">(</font>ely <font color="#000080">&gt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>DO BEGIN
    IF </b></font><font color="#000080">(</font>d <font color="#000080">&lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>THEN BEGIN </b></font>Inc<font color="#000080">(</font>elx<font color="#000080">); </font>Inc<font color="#000080">(</font>dx<font color="#000080">, </font>bb2<font color="#000080">); </font>Inc<font color="#000080">(</font>d<font color="#000080">, </font>bb <font color="#000080">+ </font>dx<font color="#000080">); </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font>Dec<font color="#000080">(</font>ely<font color="#000080">); </font>Dec<font color="#000080">(</font>dy<font color="#000080">, </font>aa2<font color="#000080">); </font>Inc<font color="#000080">(</font>d<font color="#000080">, </font>aa <font color="#000080">- </font>dy<font color="#000080">);
    </font>x <font color="#000080">:= </font>exc <font color="#000080">+ </font>elx<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">+ </font>ely<font color="#000080">;
    </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
    </font>x <font color="#000080">:= </font>exc <font color="#000080">- </font>elx<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">+ </font>ely<font color="#000080">;
    </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
    </font>x <font color="#000080">:= </font>exc <font color="#000080">+ </font>elx<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">- </font>ely<font color="#000080">;
    </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
    </font>x <font color="#000080">:= </font>exc <font color="#000080">- </font>elx<font color="#000080">; </font>y <font color="#000080">:= </font>eyc <font color="#000080">- </font>ely<font color="#000080">;
    </font>rotate<font color="#000080">(</font>exc<font color="#000080">,</font>eyc<font color="#000080">,</font>i<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">,</font>clr<font color="#000080">);
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0286.PAS">Original</a><b>]</b></p></body>
</html>
