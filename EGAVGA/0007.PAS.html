<html>
<head><title> "Text fading on a VGA" by SEAN PALMER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
 Here is some code to try For Text fading on a vga...
 by Sean Palmer
}

</i></font><font color="#FF0000"><b>Const
  </b></font>tableReadIndex    <font color="#000080">= </font><font color="#800000">$3C7</font><font color="#000080">;
  </font>tableWriteIndex   <font color="#000080">= </font><font color="#800000">$3C8</font><font color="#000080">;
  </font>tableDataRegister <font color="#000080">= </font><font color="#800000">$3C9</font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>setColor<font color="#000080">(</font>color<font color="#000080">, </font>r<font color="#000080">, </font>g<font color="#000080">, </font>b <font color="#000080">: </font>Byte<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm </b></font><font color="#008000"><i>{set DAC color}
  </i></font><font color="#FF00FF">mov dx, tableWriteIndex;
  mov al, color;
  out dx, al;
  inc dx;
  mov al, r;
  out dx, al;
  mov al, g;
  out dx, al;
  mov al, b;
  out dx, al;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{Write index now points to next color}

</i></font><font color="#FF0000"><b>Function </b></font>getColor<font color="#000080">(</font>color <font color="#000080">: </font>Byte<font color="#000080">) : </font>LongInt<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm </b></font><font color="#008000"><i>{get DAC color}
  </i></font><font color="#FF00FF">mov dx, tableReadIndex;
  mov al, color;
  out dx, al;
  add dx, 2;
  cld;
  xor bh, bh;
  in al, dx;
  mov bl, al;
  in al, dx;
  mov ah, al;
  in al, dx;
  mov dx, bx;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{read index now points to next color}

</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p></body>
</html>
