<html>
<head><title> "Copper Bar Effects" by THILO WAGNER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0146.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; I'm trying to do a copper bars effect in Turbo Pascal. At
&gt; the moment, I have three different coloured _LINES_ which go
&gt; up and down etc. etc.

Here is a copper-car-routine which I found in an old issue of an german
computer-magazine. Maybe it helps you..:
}
{$A+,B-,D-,E-,F-,G+,I-,L-,N-,O-,R-,S-,V-,X-}       { For TP 6.0 }
</i></font><font color="#FF0000"><b>Program </b></font>RedBar<font color="#000080">;
</font><font color="#FF0000"><b>Uses
  </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>C       <font color="#000080">: </font>Byte<font color="#000080">;
  </font>C2<font color="#000080">,
  </font>C3<font color="#000080">,
  </font>C4      <font color="#000080">: </font>Word<font color="#000080">;
  </font>SinTab  <font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">127</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Word<font color="#000080">;
  </font>HeadPtr <font color="#000080">: </font>Word <font color="#FF0000"><b>Absolute </b></font><font color="#800000">$0040</font><font color="#000080">:</font><font color="#800000">$001A</font><font color="#000080">;
  </font>TailPtr <font color="#000080">: </font>Word <font color="#FF0000"><b>Absolute </b></font><font color="#800000">$0040</font><font color="#000080">:</font><font color="#800000">$001C</font><font color="#000080">;
  </font>Zaehler <font color="#000080">: </font>Word<font color="#000080">;

</font><font color="#FF0000"><b>Begin
  For </b></font>C <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">127 </font><font color="#FF0000"><b>do
    </b></font>SinTab<font color="#000080">[</font>C<font color="#000080">] := </font>Trunc<font color="#000080">((</font>Sin<font color="#000080">((</font><font color="#800000">2 </font><font color="#000080">* </font>Pi <font color="#000080">/ </font><font color="#800000">128</font><font color="#000080">) * </font>C<font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">135</font><font color="#000080">);

  </font>C3 <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;

  </font><font color="#FF0000"><b>Repeat
    Inline</b></font><font color="#000080">(</font><font color="#800000">$FA</font><font color="#000080">);   </font><font color="#008000"><i>{CLI}

    </i></font><font color="#FF0000"><b>Repeat Until </b></font><font color="#000080">(</font>Port<font color="#000080">[</font><font color="#800000">$3DA</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8</font><font color="#000080">) &gt; </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>Repeat Until </b></font><font color="#000080">(</font>Port<font color="#000080">[</font><font color="#800000">$3DA</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8</font><font color="#000080">) = </font><font color="#800000">0</font><font color="#000080">;

    </font><font color="#FF0000"><b>For </b></font>C4 <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>SinTab<font color="#000080">[</font>C3 <font color="#FF0000"><b>and </b></font><font color="#800000">127</font><font color="#000080">] </font><font color="#FF0000"><b>do
    Begin
      Repeat Until </b></font><font color="#000080">(</font>Port<font color="#000080">[</font><font color="#800000">$3DA</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">) = </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>Repeat Until </b></font><font color="#000080">(</font>Port<font color="#000080">[</font><font color="#800000">$3DA</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">) &gt; </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>For </b></font>C <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
    Begin
      Repeat Until </b></font><font color="#000080">(</font>Port<font color="#000080">[</font><font color="#800000">$3DA</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">) &gt; </font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>C<font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">63</font><font color="#000080">-</font>C<font color="#000080">;
      </font><font color="#FF0000"><b>Repeat Until </b></font><font color="#000080">(</font>Port<font color="#000080">[</font><font color="#800000">$3DA</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">) = </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>For </b></font>C <font color="#000080">:= </font><font color="#800000">63 </font><font color="#FF0000"><b>downTo </b></font><font color="#800000">0 </font><font color="#FF0000"><b>do
    Begin
      Repeat Until </b></font><font color="#000080">(</font>Port<font color="#000080">[</font><font color="#800000">$3DA</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">) &gt; </font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>C<font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">63</font><font color="#000080">-</font>C<font color="#000080">;
      </font><font color="#FF0000"><b>Repeat Until </b></font><font color="#000080">(</font>Port<font color="#000080">[</font><font color="#800000">$3DA</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">) = </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

    </font>Inc<font color="#000080">(</font>C3<font color="#000080">);
    </font><font color="#FF0000"><b>Inline</b></font><font color="#000080">(</font><font color="#800000">$FB</font><font color="#000080">); </font><font color="#008000"><i>{STI}

  </i></font><font color="#FF0000"><b>Until </b></font>HeadPtr <font color="#000080">&lt;&gt; </font>TailPtr<font color="#000080">;

  </font>HeadPtr <font color="#000080">:= </font>TailPtr<font color="#000080">;
  </font>Port<font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
  </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
  </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
  </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0146.PAS">Original</a><b>]</b></p></body>
</html>
