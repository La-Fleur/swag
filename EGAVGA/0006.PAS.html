<html>
<head><title> "Another Fader Program" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0006.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Would anyone have a Procedure of Function to do a fadein or
fadeout CLXXof a bitmapped image.  if I understand correctly, these
CLXXfadeins are perFormed by changing the DAC Registers of the CLXXVGA
Cards.  Can anyone enlighten me on this as I have CLXXsearched many
books on how to do this and have not found CLXXit.  I know that there is
a utility out there called CLXXFastGraph by Teg Gruber which can do
this, but short of CLXXbuying it For $200.00 Would one of you good folks
have a CLXXroutint in Asm or BAsm to do this. CLXXI thank you all in
advance For your assistance. CLXXChristian Laferriere.
}

</i></font><font color="#FF0000"><b>Procedure </b></font>Pageswitch<font color="#000080">(</font>X<font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
  Asm
    </b></font><font color="#FF00FF">mov ah,5
    mov al,x
    int 10h
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ Pageswitch }

{********************************************}
</i></font><font color="#FF0000"><b>Procedure </b></font>FadeIn<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>oldp<font color="#000080">,
  </font>oldp2<font color="#000080">,
  </font>oldp3       <font color="#000080">: </font>Byte<font color="#000080">;
  </font>Palette     <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">255 </font><font color="#000080">* </font><font color="#800000">4</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
  </font>FAKEPalette <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">255 </font><font color="#000080">* </font><font color="#800000">4</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
  </font>I<font color="#000080">, </font>J <font color="#000080">: </font>Integer<font color="#000080">;

</font><font color="#FF0000"><b>begin
  For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>do
  begin
    </b></font>Port<font color="#000080">[</font><font color="#800000">$3C7</font><font color="#000080">] := </font>I<font color="#000080">;
    </font>Palette<font color="#000080">[(</font>I <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">4 </font><font color="#000080">+ </font><font color="#800000">1</font><font color="#000080">] := </font>I<font color="#000080">;
    </font>Palette<font color="#000080">[(</font>I <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">4 </font><font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">] := </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">];
    </font>Palette<font color="#000080">[(</font>I <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">4 </font><font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">] := </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">];
    </font>Palette<font color="#000080">[(</font>I <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">4 </font><font color="#000080">+ </font><font color="#800000">4</font><font color="#000080">] := </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">];
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>do
  begin
    </b></font>Port<font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">] := </font>I<font color="#000080">;
    </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
    </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
    </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>Pageswitch<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);

  </font><font color="#FF0000"><b>For </b></font>J <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
  begin

    For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>do
    begin
      </b></font>Port<font color="#000080">[</font><font color="#800000">$3C7</font><font color="#000080">] := </font>I<font color="#000080">;
      </font>oldp  <font color="#000080">:= </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">];
      </font>oldp2 <font color="#000080">:= </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">];
      </font>oldp3 <font color="#000080">:= </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">];
      </font>Port<font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">] :=</font>I<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>oldp <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">&lt;= </font>Palette<font color="#000080">[(</font>I <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">4 </font><font color="#000080">+ </font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>then
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>oldp<font color="#000080">+</font><font color="#800000">1
      </font><font color="#FF0000"><b>else
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>Oldp<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>oldp2 <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">&lt;= </font>Palette<font color="#000080">[(</font>I <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">4 </font><font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>then
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>oldp2<font color="#000080">+</font><font color="#800000">1
      </font><font color="#FF0000"><b>else
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>Oldp2<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>oldp3 <font color="#000080">+ </font><font color="#800000">1 </font><font color="#000080">&lt;= </font>Palette<font color="#000080">[(</font>I <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">) * </font><font color="#800000">4 </font><font color="#000080">+ </font><font color="#800000">4</font><font color="#000080">] </font><font color="#FF0000"><b>then
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>oldp3<font color="#000080">+</font><font color="#800000">1
      </font><font color="#FF0000"><b>else
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>Oldp3<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">30000 </font><font color="#FF0000"><b>do
    begin
    end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{end of FadeIn}


</i></font><font color="#FF0000"><b>Procedure </b></font>FadeOut<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>uoldp<font color="#000080">,
  </font>uoldp2<font color="#000080">,
  </font>uoldp3  <font color="#000080">: </font>Byte<font color="#000080">;
  </font>I<font color="#000080">, </font>J <font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Pageswitch<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);

  </font><font color="#FF0000"><b>For </b></font>J <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
  begin

    For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>do
    begin
      </b></font>Port<font color="#000080">[</font><font color="#800000">$3C7</font><font color="#000080">] := </font>I<font color="#000080">;
      </font>uoldp  <font color="#000080">:= </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">];
      </font>uoldp2 <font color="#000080">:= </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">];
      </font>uoldp3 <font color="#000080">:= </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">];
      </font>Port<font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">] := </font>I<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>uoldp <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">&gt;= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>uoldp <font color="#000080">- </font><font color="#800000">1
      </font><font color="#FF0000"><b>else
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>uOldp<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>uoldp2 <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">&gt;= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>uoldp2 <font color="#000080">- </font><font color="#800000">1
      </font><font color="#FF0000"><b>else
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>uOldp2<font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>uoldp3 <font color="#000080">- </font><font color="#800000">1 </font><font color="#000080">&gt;= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>uoldp3 <font color="#000080">- </font><font color="#800000">1
      </font><font color="#FF0000"><b>else
        </b></font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">] := </font>uOldp3<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">30000 </font><font color="#FF0000"><b>do
    begin
    end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{end of FadeOut}

{
That Procedure can FadIn and FadeOut any Text screen or any
Graphics in Mode $13 With no problems.. Just make sure that you
switch the video pages at the right time between fadeIns and
Fadeouts.. Hope that helped.. LATER
}

</i></font><font color="#FF0000"><b>begin
  </b></font>FadeOut<font color="#000080">;
  </font>FadeIn<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0006.PAS">Original</a><b>]</b></p></body>
</html>
