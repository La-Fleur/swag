<html>
<head><title> "Proportional Fade" by REYNIR STEFANSSON</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
REYNIR STEFANSSON

     Here is yet another fade-in routine. This one does a proportional fade
of all colours.
}

</i></font><font color="#FF0000"><b>Program </b></font>FadeDemo<font color="#000080">;

</font><font color="#FF0000"><b>Uses
  </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>PelAddrRgR  <font color="#000080">= </font><font color="#800000">$3C7</font><font color="#000080">;
  </font>PelAddrRgW  <font color="#000080">= </font><font color="#800000">$3C8</font><font color="#000080">;
  </font>PelDataReg  <font color="#000080">= </font><font color="#800000">$3C9</font><font color="#000080">;

</font><font color="#FF0000"><b>Type
  </b></font>rgb <font color="#000080">= </font><font color="#FF0000"><b>Record
    </b></font>r<font color="#000080">, </font>g<font color="#000080">, </font>b <font color="#000080">: </font>Byte<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>i   <font color="#000080">: </font>Integer<font color="#000080">;
  </font>ch  <font color="#000080">: </font>Char<font color="#000080">;
  </font>col <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">63</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>rgb<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>GetCol<font color="#000080">(</font>C <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>R<font color="#000080">, </font>G<font color="#000080">, </font>B <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
  </b></font>Port<font color="#000080">[</font>PelAddrRgR<font color="#000080">] := </font>C<font color="#000080">;
  </font>R <font color="#000080">:= </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">];
  </font>G <font color="#000080">:= </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">];
  </font>B <font color="#000080">:= </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetCol<font color="#000080">(</font>C<font color="#000080">, </font>R<font color="#000080">, </font>G<font color="#000080">, </font>B <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
  </b></font>Port<font color="#000080">[</font>PelAddrRgW<font color="#000080">] := </font>C<font color="#000080">;
  </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">] := </font>R<font color="#000080">;
  </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">] := </font>G<font color="#000080">;
  </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">] := </font>B<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetInten<font color="#000080">(</font>b <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Var
  </b></font>i  <font color="#000080">: </font>Integer<font color="#000080">;
  </font>fr<font color="#000080">,
  </font>fg<font color="#000080">,
  </font>fb <font color="#000080">: </font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
  For </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>DO
  begin
    </b></font>fr <font color="#000080">:= </font>col<font color="#000080">[</font>i<font color="#000080">].</font>r <font color="#000080">* </font>b <font color="#FF0000"><b>div </b></font><font color="#800000">63</font><font color="#000080">;
    </font>fg <font color="#000080">:= </font>col<font color="#000080">[</font>i<font color="#000080">].</font>g <font color="#000080">* </font>b <font color="#FF0000"><b>div </b></font><font color="#800000">63</font><font color="#000080">;
    </font>fb <font color="#000080">:= </font>col<font color="#000080">[</font>i<font color="#000080">].</font>b <font color="#000080">* </font>b <font color="#FF0000"><b>div </b></font><font color="#800000">63</font><font color="#000080">;
    </font>SetCol<font color="#000080">(</font>i<font color="#000080">, </font>fr<font color="#000080">, </font>fg<font color="#000080">, </font>fb<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>TextMode<font color="#000080">(</font>LastMode<font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>DO
    </b></font>GetCol<font color="#000080">(</font>i<font color="#000080">, </font>col<font color="#000080">[</font>i<font color="#000080">].</font>r<font color="#000080">, </font>col<font color="#000080">[</font>i<font color="#000080">].</font>g<font color="#000080">, </font>col<font color="#000080">[</font>i<font color="#000080">].</font>b<font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">15 </font><font color="#FF0000"><b>DO
  begin
    </b></font>TextAttr <font color="#000080">:= </font>i<font color="#000080">;
    </font>WriteLn<font color="#000080">(</font><font color="#800000">'Foreground colour = '</font><font color="#000080">, </font>i <font color="#000080">: </font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>ch <font color="#000080">:= </font>ReadKey<font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">63 </font><font color="#FF0000"><b>DOWNTO </b></font><font color="#800000">0 </font><font color="#FF0000"><b>DO
  begin
    </b></font>SetInten<font color="#000080">(</font>i<font color="#000080">);
    </font>Delay<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>GotoXY<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">15 </font><font color="#FF0000"><b>DOWNTO </b></font><font color="#800000">1 </font><font color="#FF0000"><b>DO
  begin
    </b></font>TextAttr <font color="#000080">:= </font>i<font color="#000080">;
    </font>WriteLn<font color="#000080">(</font><font color="#800000">'Foreground colour = '</font><font color="#000080">, </font>i <font color="#000080">: </font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>DO
  begin
    </b></font>SetInten<font color="#000080">(</font>i<font color="#000080">);
    </font>Delay<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>ch <font color="#000080">:= </font>ReadKey<font color="#000080">;
  </font>TextMode<font color="#000080">(</font>LastMode<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p></body>
</html>
