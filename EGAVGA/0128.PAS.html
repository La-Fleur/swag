<html>
<head><title> "VGA-TEXT-FONT-EDITOR" by LEW ROMNEY</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0128.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
DL&gt; When i redefine a character as &quot;&Auml;&quot;, i don't get a smooth line, but one
DL&gt; pixel left blank between every character, so &quot;---&quot; instead of &quot;&Auml;&Auml;&Auml;&quot;.

With EGA, everything used to be so simple: all characters are 8x16 bits.

With VGA, there's an odd difference; you'll love this story.  Somebody in
IBM once said, &quot;Why not do our share in making this universe a complete
chaos, and thus implement an infuriating and highly illogical technological
mess in this new system we're calling VGA?&quot;  Of course.  The brilliant new
invetion, ladies and germs, was the 9th vertical line.  It's all gone into
the history books by now; it tooks months and truckloads of money just to
think it up but as always, IBM succeeded.

Now, all characters in the VGA font set are 8 bits, or pixels, wide.
Except for 24 characters, 192 through 216 in ASCII.  These characters have
an additional vertical line; no problem.  The truly ingenious touch (as the
lesser-known Harry Stottle of the celebrated IBM Vertical Line Team said,
&quot;Eureka!&quot;) is how this addition line is actually a copy of the 8th.

Ie., to make a horizontal line ('&Auml;'), use any of the characters 192-216 and
activate 8 bits from left to right.  The 8th bit is copied to the 9th, and
you've got a horizontal line.

And here the tale endeth.  Almost.  For it leaves to each hapless
programmer to figure this out and now I told you.  Pass the tale on as the
last oral tradition of the cybernetic age.

Lest we forget.

DL&gt;      1 2 3 4 5 6 7 8    I believe the way to get this right, is to
DL&gt;     &Uacute;&Auml;&Acirc;&Auml;&Acirc;&Auml;&Acirc;&Auml;&Acirc;&Auml;&Acirc;&Auml;&Acirc;&Auml;&Acirc;&Auml;&iquest;   repeat column 8 (x).
DL&gt;    1&sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3;x&sup3;   However, i don't know how to do this...
DL&gt;    2&sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3;x&sup3;
DL&gt;    3&sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3;x&sup3;
DL&gt;    4&sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3;x&sup3;
DL&gt;     : : : : : : : : :
DL&gt;   15&sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3;x&sup3;
DL&gt;   16&sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3; &sup3;x&sup3;   Please help,
DL&gt;     &Agrave;&Auml;&Aacute;&Auml;&Aacute;&Auml;&Aacute;&Auml;&Aacute;&Auml;&Aacute;&Auml;&Aacute;&Auml;&Aacute;&Auml;&Ugrave;   Dirk Loeckx. [@]

Don't forget, too: use IN/OUT or Port/PortW to program the video card.  If
you use the BIOS routines, you'll generate flicker (even on a VGA card) and
stress that poor old card.  In case you missed those routines in SWAG, here
are my versions:

        procedure PutFontC (C : Char; var Data);
          {-Define font character bitmap}
        </i></font><font color="#FF0000"><b>begin
          inline</b></font><font color="#000080">(</font><font color="#800000">$FA</font><font color="#000080">);
          </font>PortW<font color="#000080">[</font><font color="#800000">$3C4</font><font color="#000080">]:=</font><font color="#800000">$0402</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3C4</font><font color="#000080">]:=</font><font color="#800000">$0704</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0204</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0005</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0006</font><font color="#000080">;
          </font>Move<font color="#000080">(</font>Data<font color="#000080">, </font>Mem<font color="#000080">[</font>SegA000<font color="#000080">:</font>Byte<font color="#000080">(</font>C<font color="#000080">) * </font><font color="#800000">32</font><font color="#000080">], </font><font color="#800000">16</font><font color="#000080">);
          </font>PortW<font color="#000080">[</font><font color="#800000">$3C4</font><font color="#000080">]:=</font><font color="#800000">$0302</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3C4</font><font color="#000080">]:=</font><font color="#800000">$0304</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0004</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$1005</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0E06</font><font color="#000080">;
          </font><font color="#FF0000"><b>inline</b></font><font color="#000080">(</font><font color="#800000">$FB</font><font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

        </font><font color="#FF0000"><b>procedure </b></font>GetFontC <font color="#000080">(</font>C <font color="#000080">: </font>Char<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>Data<font color="#000080">);
          </font><font color="#008000"><i>{-Retrieve font character bitmap}
        </i></font><font color="#FF0000"><b>begin
          inline</b></font><font color="#000080">(</font><font color="#800000">$FA</font><font color="#000080">);
          </font>PortW<font color="#000080">[</font><font color="#800000">$3C4</font><font color="#000080">]:=</font><font color="#800000">$0402</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3C4</font><font color="#000080">]:=</font><font color="#800000">$0704</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0204</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0005</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0006</font><font color="#000080">;
          </font>Move<font color="#000080">(</font>Mem<font color="#000080">[</font>SegA000<font color="#000080">:</font>Byte<font color="#000080">(</font>C<font color="#000080">) * </font><font color="#800000">32</font><font color="#000080">], </font>Data<font color="#000080">, </font><font color="#800000">16</font><font color="#000080">);
          </font>PortW<font color="#000080">[</font><font color="#800000">$3C4</font><font color="#000080">]:=</font><font color="#800000">$0302</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3C4</font><font color="#000080">]:=</font><font color="#800000">$0304</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0004</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$1005</font><font color="#000080">;
          </font>PortW<font color="#000080">[</font><font color="#800000">$3CE</font><font color="#000080">]:=</font><font color="#800000">$0E06</font><font color="#000080">;
          </font><font color="#FF0000"><b>inline</b></font><font color="#000080">(</font><font color="#800000">$FB</font><font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

(</font><font color="#FF0000"><b>If </b></font>you are using TP versions earlier than <font color="#800000">7.0</font><font color="#000080">, </font>replace <font color="#000080">&quot;</font>SegA000<font color="#000080">&quot; </font><font color="#FF0000"><b>with
</b></font><font color="#000080">&quot;</font><font color="#800000">$A000</font><font color="#000080">&quot;... </font>but you knew that<font color="#000080">.)

                    </font>ttyl<font color="#000080">, </font>Lew<font color="#000080">.
                    </font>lew<font color="#000080">.</font>romney<font color="#000080">@</font>thcave<font color="#000080">.</font>bbs<font color="#000080">.</font>no

</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0128.PAS">Original</a><b>]</b></p></body>
</html>
