<html>
<head><title> "Sphere Mapping in 3D" by WIL BARATH</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0228.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>program </b></font>SphereMap<font color="#000080">;

</font><font color="#008000"><i>{Demo of approximate sphere mapping presented in stereoscopic 3D!}
{January 31/1995 by Wil Barath.  Released to Public Domain}

</i></font><font color="#FF0000"><b>Uses </b></font>Hardware<font color="#000080">;

</font><font color="#FF0000"><b>Const </b></font>Size<font color="#000080">=</font><font color="#800000">90</font><font color="#000080">;
</font>Wait<font color="#000080">:</font>Word<font color="#000080">=</font>Size<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>Flambe<font color="#000080">:</font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>Size<font color="#000080">*</font>size<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
  </font>Sec<font color="#000080">:</font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
  </font>Par<font color="#000080">:</font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>const </b></font>palette <font color="#000080">: </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">768</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte <font color="#000080">= (
   </font><font color="#800000">8</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">12</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">17</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">22</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">27</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">31</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">36</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">41</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">45</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">50</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">54</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">59</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">64</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">68</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">73</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">77</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">82</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">86</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">90</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">95</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">99</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">103</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">108</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">112</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">116</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">124</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">128</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">132</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">136</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">140</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">144</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">148</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">152</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">155</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">159</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">162</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">166</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">169</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">173</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">176</font><font color="#000080">,   </font><font color="#800000">8</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">179</font><font color="#000080">,  </font><font color="#800000">12</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">182</font><font color="#000080">,  </font><font color="#800000">17</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">185</font><font color="#000080">,  </font><font color="#800000">22</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">188</font><font color="#000080">,  </font><font color="#800000">27</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">191</font><font color="#000080">,  </font><font color="#800000">31</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">194</font><font color="#000080">,  </font><font color="#800000">36</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">197</font><font color="#000080">,  </font><font color="#800000">41</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">200</font><font color="#000080">,  </font><font color="#800000">45</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">202</font><font color="#000080">,  </font><font color="#800000">50</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">205</font><font color="#000080">,  </font><font color="#800000">54</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">208</font><font color="#000080">,  </font><font color="#800000">59</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">210</font><font color="#000080">,  </font><font color="#800000">64</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">212</font><font color="#000080">,  </font><font color="#800000">68</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">215</font><font color="#000080">,  </font><font color="#800000">73</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">217</font><font color="#000080">,  </font><font color="#800000">77</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">219</font><font color="#000080">,  </font><font color="#800000">82</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">221</font><font color="#000080">,  </font><font color="#800000">86</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">223</font><font color="#000080">,  </font><font color="#800000">90</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">225</font><font color="#000080">,  </font><font color="#800000">95</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">226</font><font color="#000080">,  </font><font color="#800000">99</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">228</font><font color="#000080">, </font><font color="#800000">103</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">230</font><font color="#000080">, </font><font color="#800000">108</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">231</font><font color="#000080">, </font><font color="#800000">112</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">233</font><font color="#000080">, </font><font color="#800000">116</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">234</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">235</font><font color="#000080">, </font><font color="#800000">124</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">236</font><font color="#000080">, </font><font color="#800000">128</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">,
 </font><font color="#800000">237</font><font color="#000080">, </font><font color="#800000">132</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">238</font><font color="#000080">, </font><font color="#800000">136</font><font color="#000080">,   </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">239</font><font color="#000080">, </font><font color="#800000">140</font><font color="#000080">,   </font><font color="#800000">8</font><font color="#000080">, </font><font color="#800000">240</font><font color="#000080">, </font><font color="#800000">144</font><font color="#000080">,  </font><font color="#800000">12</font><font color="#000080">,
 </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">148</font><font color="#000080">,  </font><font color="#800000">17</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">152</font><font color="#000080">,  </font><font color="#800000">22</font><font color="#000080">, </font><font color="#800000">242</font><font color="#000080">, </font><font color="#800000">155</font><font color="#000080">,  </font><font color="#800000">27</font><font color="#000080">, </font><font color="#800000">242</font><font color="#000080">, </font><font color="#800000">159</font><font color="#000080">,  </font><font color="#800000">31</font><font color="#000080">,
 </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">162</font><font color="#000080">,  </font><font color="#800000">36</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">166</font><font color="#000080">,  </font><font color="#800000">41</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">169</font><font color="#000080">,  </font><font color="#800000">45</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">173</font><font color="#000080">,  </font><font color="#800000">50</font><font color="#000080">,
 </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">176</font><font color="#000080">,  </font><font color="#800000">54</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">179</font><font color="#000080">,  </font><font color="#800000">59</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">182</font><font color="#000080">,  </font><font color="#800000">64</font><font color="#000080">, </font><font color="#800000">242</font><font color="#000080">, </font><font color="#800000">185</font><font color="#000080">,  </font><font color="#800000">68</font><font color="#000080">,
 </font><font color="#800000">242</font><font color="#000080">, </font><font color="#800000">188</font><font color="#000080">,  </font><font color="#800000">73</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">191</font><font color="#000080">,  </font><font color="#800000">77</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">194</font><font color="#000080">,  </font><font color="#800000">82</font><font color="#000080">, </font><font color="#800000">240</font><font color="#000080">, </font><font color="#800000">197</font><font color="#000080">,  </font><font color="#800000">86</font><font color="#000080">,
 </font><font color="#800000">239</font><font color="#000080">, </font><font color="#800000">200</font><font color="#000080">,  </font><font color="#800000">90</font><font color="#000080">, </font><font color="#800000">238</font><font color="#000080">, </font><font color="#800000">202</font><font color="#000080">,  </font><font color="#800000">95</font><font color="#000080">, </font><font color="#800000">237</font><font color="#000080">, </font><font color="#800000">205</font><font color="#000080">,  </font><font color="#800000">99</font><font color="#000080">, </font><font color="#800000">236</font><font color="#000080">, </font><font color="#800000">208</font><font color="#000080">, </font><font color="#800000">103</font><font color="#000080">,
 </font><font color="#800000">235</font><font color="#000080">, </font><font color="#800000">210</font><font color="#000080">, </font><font color="#800000">108</font><font color="#000080">, </font><font color="#800000">234</font><font color="#000080">, </font><font color="#800000">212</font><font color="#000080">, </font><font color="#800000">112</font><font color="#000080">, </font><font color="#800000">233</font><font color="#000080">, </font><font color="#800000">215</font><font color="#000080">, </font><font color="#800000">116</font><font color="#000080">, </font><font color="#800000">231</font><font color="#000080">, </font><font color="#800000">217</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">230</font><font color="#000080">, </font><font color="#800000">219</font><font color="#000080">, </font><font color="#800000">124</font><font color="#000080">, </font><font color="#800000">228</font><font color="#000080">, </font><font color="#800000">221</font><font color="#000080">, </font><font color="#800000">128</font><font color="#000080">, </font><font color="#800000">227</font><font color="#000080">, </font><font color="#800000">223</font><font color="#000080">, </font><font color="#800000">132</font><font color="#000080">, </font><font color="#800000">225</font><font color="#000080">, </font><font color="#800000">225</font><font color="#000080">, </font><font color="#800000">136</font><font color="#000080">,
 </font><font color="#800000">223</font><font color="#000080">, </font><font color="#800000">226</font><font color="#000080">, </font><font color="#800000">140</font><font color="#000080">, </font><font color="#800000">221</font><font color="#000080">, </font><font color="#800000">228</font><font color="#000080">, </font><font color="#800000">144</font><font color="#000080">, </font><font color="#800000">219</font><font color="#000080">, </font><font color="#800000">230</font><font color="#000080">, </font><font color="#800000">148</font><font color="#000080">, </font><font color="#800000">217</font><font color="#000080">, </font><font color="#800000">231</font><font color="#000080">, </font><font color="#800000">152</font><font color="#000080">,
 </font><font color="#800000">215</font><font color="#000080">, </font><font color="#800000">233</font><font color="#000080">, </font><font color="#800000">155</font><font color="#000080">, </font><font color="#800000">213</font><font color="#000080">, </font><font color="#800000">234</font><font color="#000080">, </font><font color="#800000">159</font><font color="#000080">, </font><font color="#800000">210</font><font color="#000080">, </font><font color="#800000">235</font><font color="#000080">, </font><font color="#800000">162</font><font color="#000080">, </font><font color="#800000">208</font><font color="#000080">, </font><font color="#800000">236</font><font color="#000080">, </font><font color="#800000">166</font><font color="#000080">,
 </font><font color="#800000">205</font><font color="#000080">, </font><font color="#800000">237</font><font color="#000080">, </font><font color="#800000">169</font><font color="#000080">, </font><font color="#800000">203</font><font color="#000080">, </font><font color="#800000">238</font><font color="#000080">, </font><font color="#800000">173</font><font color="#000080">, </font><font color="#800000">200</font><font color="#000080">, </font><font color="#800000">239</font><font color="#000080">, </font><font color="#800000">176</font><font color="#000080">, </font><font color="#800000">197</font><font color="#000080">, </font><font color="#800000">240</font><font color="#000080">, </font><font color="#800000">179</font><font color="#000080">,
 </font><font color="#800000">195</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">182</font><font color="#000080">, </font><font color="#800000">192</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">185</font><font color="#000080">, </font><font color="#800000">189</font><font color="#000080">, </font><font color="#800000">242</font><font color="#000080">, </font><font color="#800000">188</font><font color="#000080">, </font><font color="#800000">186</font><font color="#000080">, </font><font color="#800000">242</font><font color="#000080">, </font><font color="#800000">191</font><font color="#000080">,
 </font><font color="#800000">183</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">194</font><font color="#000080">, </font><font color="#800000">179</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">197</font><font color="#000080">, </font><font color="#800000">176</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">200</font><font color="#000080">, </font><font color="#800000">173</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">202</font><font color="#000080">,
 </font><font color="#800000">170</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">205</font><font color="#000080">, </font><font color="#800000">166</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">208</font><font color="#000080">, </font><font color="#800000">163</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">210</font><font color="#000080">, </font><font color="#800000">159</font><font color="#000080">, </font><font color="#800000">242</font><font color="#000080">, </font><font color="#800000">212</font><font color="#000080">,
 </font><font color="#800000">155</font><font color="#000080">, </font><font color="#800000">242</font><font color="#000080">, </font><font color="#800000">215</font><font color="#000080">, </font><font color="#800000">152</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">217</font><font color="#000080">, </font><font color="#800000">148</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">219</font><font color="#000080">, </font><font color="#800000">144</font><font color="#000080">, </font><font color="#800000">240</font><font color="#000080">, </font><font color="#800000">221</font><font color="#000080">,
  </font><font color="#800000">22</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">27</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">32</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">37</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
  </font><font color="#800000">41</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">46</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">51</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">55</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
  </font><font color="#800000">60</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">64</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">69</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">74</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
  </font><font color="#800000">78</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">83</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">87</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">92</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
  </font><font color="#800000">96</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">100</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">105</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">109</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">113</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">118</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">122</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">126</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">130</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">134</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">138</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">142</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">146</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">150</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">154</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">158</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">162</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">165</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">169</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">172</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">176</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">179</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">183</font><font color="#000080">,  </font><font color="#800000">10</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">186</font><font color="#000080">,  </font><font color="#800000">18</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">189</font><font color="#000080">,  </font><font color="#800000">22</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">192</font><font color="#000080">,  </font><font color="#800000">27</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">195</font><font color="#000080">,  </font><font color="#800000">32</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">198</font><font color="#000080">,  </font><font color="#800000">37</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">201</font><font color="#000080">,  </font><font color="#800000">41</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">204</font><font color="#000080">,  </font><font color="#800000">46</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">207</font><font color="#000080">,  </font><font color="#800000">51</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">210</font><font color="#000080">,  </font><font color="#800000">55</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">212</font><font color="#000080">,  </font><font color="#800000">60</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">215</font><font color="#000080">,  </font><font color="#800000">64</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">218</font><font color="#000080">,  </font><font color="#800000">69</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">220</font><font color="#000080">,  </font><font color="#800000">74</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">222</font><font color="#000080">,  </font><font color="#800000">78</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">225</font><font color="#000080">,  </font><font color="#800000">83</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">227</font><font color="#000080">,  </font><font color="#800000">87</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">229</font><font color="#000080">,  </font><font color="#800000">92</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">231</font><font color="#000080">,  </font><font color="#800000">96</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">233</font><font color="#000080">, </font><font color="#800000">100</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">235</font><font color="#000080">, </font><font color="#800000">105</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">236</font><font color="#000080">, </font><font color="#800000">109</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">238</font><font color="#000080">, </font><font color="#800000">113</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">240</font><font color="#000080">, </font><font color="#800000">118</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">122</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">126</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">244</font><font color="#000080">, </font><font color="#800000">130</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">245</font><font color="#000080">, </font><font color="#800000">134</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">246</font><font color="#000080">, </font><font color="#800000">138</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">247</font><font color="#000080">, </font><font color="#800000">142</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">248</font><font color="#000080">, </font><font color="#800000">146</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">249</font><font color="#000080">, </font><font color="#800000">150</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">250</font><font color="#000080">, </font><font color="#800000">154</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">251</font><font color="#000080">, </font><font color="#800000">158</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">251</font><font color="#000080">, </font><font color="#800000">162</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">252</font><font color="#000080">, </font><font color="#800000">165</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">252</font><font color="#000080">, </font><font color="#800000">169</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">172</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">176</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">179</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">183</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">186</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">189</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">192</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">252</font><font color="#000080">, </font><font color="#800000">195</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">252</font><font color="#000080">, </font><font color="#800000">198</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">251</font><font color="#000080">, </font><font color="#800000">201</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">251</font><font color="#000080">, </font><font color="#800000">204</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">250</font><font color="#000080">, </font><font color="#800000">207</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">249</font><font color="#000080">, </font><font color="#800000">210</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">248</font><font color="#000080">, </font><font color="#800000">212</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">247</font><font color="#000080">, </font><font color="#800000">215</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">246</font><font color="#000080">, </font><font color="#800000">218</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">245</font><font color="#000080">, </font><font color="#800000">220</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">244</font><font color="#000080">, </font><font color="#800000">222</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">225</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">227</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">240</font><font color="#000080">, </font><font color="#800000">229</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">238</font><font color="#000080">, </font><font color="#800000">231</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">237</font><font color="#000080">, </font><font color="#800000">233</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">235</font><font color="#000080">, </font><font color="#800000">235</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">233</font><font color="#000080">, </font><font color="#800000">236</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">231</font><font color="#000080">, </font><font color="#800000">238</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">229</font><font color="#000080">, </font><font color="#800000">240</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">227</font><font color="#000080">, </font><font color="#800000">241</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">225</font><font color="#000080">, </font><font color="#800000">243</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">223</font><font color="#000080">, </font><font color="#800000">244</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">220</font><font color="#000080">, </font><font color="#800000">245</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">218</font><font color="#000080">, </font><font color="#800000">246</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">215</font><font color="#000080">, </font><font color="#800000">247</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">213</font><font color="#000080">, </font><font color="#800000">248</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">210</font><font color="#000080">, </font><font color="#800000">249</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">207</font><font color="#000080">, </font><font color="#800000">250</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">205</font><font color="#000080">, </font><font color="#800000">251</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">202</font><font color="#000080">, </font><font color="#800000">251</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">199</font><font color="#000080">, </font><font color="#800000">252</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">196</font><font color="#000080">, </font><font color="#800000">252</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">193</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">189</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">186</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">183</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">180</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">176</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">173</font><font color="#000080">, </font><font color="#800000">253</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">169</font><font color="#000080">, </font><font color="#800000">252</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">165</font><font color="#000080">, </font><font color="#800000">252</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,
 </font><font color="#800000">162</font><font color="#000080">, </font><font color="#800000">251</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">158</font><font color="#000080">, </font><font color="#800000">251</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">, </font><font color="#800000">154</font><font color="#000080">, </font><font color="#800000">250</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">,  </font><font color="#800000">32</font><font color="#000080">,  </font><font color="#800000">20</font><font color="#000080">, </font><font color="#800000">120</font><font color="#000080">);

  </font>a<font color="#000080">:</font>Word<font color="#000080">=</font><font color="#800000">$0123</font><font color="#000080">;
  </font>b<font color="#000080">:</font>Word<font color="#000080">=</font><font color="#800000">$4567</font><font color="#000080">;
  </font>c<font color="#000080">:</font>Word<font color="#000080">=</font><font color="#800000">$89ab</font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>Qrand<font color="#000080">:</font>Word<font color="#000080">; </font><font color="#FF0000"><b>Near </b></font><font color="#000080">;</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
 </b></font><font color="#FF00FF">Mov ax,a                </font><font color="#008000"><i>{ generate a pseudorandom   }
  </i></font><font color="#FF00FF">Shl ax,1                </font><font color="#008000"><i>{ sequence to seed the base }
  </i></font><font color="#FF00FF">Adc ax,2904             </font><font color="#008000"><i>{ of our great pyre with  }
  </i></font><font color="#FF00FF">Xor ax,$aaaa
  Mov a,ax
 Adc ax,b
  Mov b,ax
  Adc ax,c
  Mov c,ax
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Function </b></font>QRandom<font color="#000080">(</font>n<font color="#000080">:</font>Word<font color="#000080">):</font>Word<font color="#000080">;</font><font color="#FF0000"><b>near</b></font><font color="#000080">;</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">call Qrand
  Mul  n
  Mov  ax,dx
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetCGA256Clear<font color="#000080">;</font><font color="#FF0000"><b>near</b></font><font color="#000080">;</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">CLD
  mov   ax,13h            </font><font color="#008000"><i>{ AX:= 13h                  }
  </i></font><font color="#FF00FF">int   10h              </font><font color="#008000"><i>{ Set Mode 13h (320x200x256)}
  </i></font><font color="#FF00FF">xor   ax,ax             </font><font color="#008000"><i>{ AX:= 0                    }
  </i></font><font color="#FF00FF">mov   cx,768            </font><font color="#008000"><i>{ CX:= # of palette entries }
  </i></font><font color="#FF00FF">mov   dx,03C8h          </font><font color="#008000"><i>{ DX:= VGA Port             }
  </i></font><font color="#FF00FF">mov   si,offset palette </font><font color="#008000"><i>{ SI:= palette[0]           }
  </i></font><font color="#FF00FF">out   dx,al             </font><font color="#008000"><i>{ send zero to index port   }
  </i></font><font color="#FF00FF">inc   dx                </font><font color="#008000"><i>{ inc to write port         }
</i></font><font color="#FF00FF">@l1:
  mov   bl,[si]           </font><font color="#008000"><i>{ set palette entry         }
  </i></font><font color="#FF00FF">shr   bl,2              </font><font color="#008000"><i>{ divide by 4               }
  </i></font><font color="#FF00FF">mov   [si],bl           </font><font color="#008000"><i>{ save entry                }
  </i></font><font color="#FF00FF">outsb                   </font><font color="#008000"><i>{ and write to port         }
  </i></font><font color="#FF00FF">dec   cx                </font><font color="#008000"><i>{ CX:= CX - 1               }
  </i></font><font color="#FF00FF">jnz   @l1               </font><font color="#008000"><i>{ if not done then loop     }
  </i></font><font color="#FF00FF">mov   ax,0a000h       </font><font color="#008000"><i>{ AX:= segment of VGA base  }
  </i></font><font color="#FF00FF">mov   es,ax             </font><font color="#008000"><i>{ ES:= AX                   }
  </i></font><font color="#FF00FF">mov   di,0         </font><font color="#008000"><i>{ DI:= 0  
             }
  </i></font><font color="#FF00FF">mov   cx,32000          </font><font color="#008000"><i>{ CX:= sizeof(Screen) div 2 }
  </i></font><font color="#FF00FF">xor  ax,ax           </font><font color="#008000"><i>{ AX:= 0                   
 }
  </i></font><font color="#FF00FF">rep   stosw             </font><font color="#008000"><i>{ clear every byte on screen to zero  }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>DoInferno<font color="#000080">;
</font><font color="#FF0000"><b>Var </b></font>p<font color="#000080">,</font>d<font color="#000080">:</font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  If </b></font>wait<font color="#000080">&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>Dec<font color="#000080">(</font>Wait<font color="#000080">) </font><font color="#FF0000"><b>else
  Begin
    For </b></font>p<font color="#000080">:=</font><font color="#800000">2 </font><font color="#FF0000"><b>to </b></font>Size<font color="#000080">*</font>Pred<font color="#000080">(</font>size<font color="#000080">) </font><font color="#FF0000"><b>do
    Begin
      </b></font>d<font color="#000080">:=</font>Flambe<font color="#000080">[</font>p<font color="#000080">]</font><font color="#FF0000"><b>shl </b></font><font color="#800000">1</font><font color="#000080">+</font>Flambe<font color="#000080">[</font>p<font color="#000080">+</font>Pred<font color="#000080">(</font>size<font color="#000080">)]+</font>Flambe<font color="#000080">[</font>p<font color="#000080">+</font>Succ<font color="#000080">(</font>size<font color="#000080">)]+
      </font>Flambe<font color="#000080">[</font>p<font color="#000080">+</font>Size<font color="#000080">]</font><font color="#FF0000"><b>shl </b></font><font color="#800000">2</font><font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>d<font color="#000080">&gt;</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>flambe<font color="#000080">[</font>p<font color="#000080">-</font><font color="#800000">2</font><font color="#000080">]:=</font>Pred<font color="#000080">(</font>d<font color="#000080">) </font><font color="#FF0000"><b>shr </b></font><font color="#800000">3</font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>d<font color="#000080">:=</font>QRand <font color="#FF0000"><b>AND </b></font><font color="#800000">$7f </font><font color="#FF0000"><b>or </b></font><font color="#800000">$20</font><font color="#000080">;
    </font><font color="#FF0000"><b>For </b></font>p<font color="#000080">:=</font>Size<font color="#000080">*</font>Pred<font color="#000080">(</font>size<font color="#000080">) </font><font color="#FF0000"><b>to </b></font>Size<font color="#000080">*</font>size <font color="#FF0000"><b>do
    Begin
      If </b></font>Qrand<font color="#000080">&gt;</font><font color="#800000">$f000 </font><font color="#FF0000"><b>then </b></font>d<font color="#000080">:= </font>QRand <font color="#FF0000"><b>AND </b></font><font color="#800000">$7f </font><font color="#FF0000"><b>or </b></font><font color="#800000">$20</font><font color="#000080">;
      </font>FLambe<font color="#000080">[</font>p<font color="#000080">]:=</font>d<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>CalcCircle<font color="#000080">(</font>r<font color="#000080">:</font>Word<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>rr<font color="#000080">,</font>xx<font color="#000080">,</font>yy<font color="#000080">,</font>x<font color="#000080">,</font>y<font color="#000080">:</font>Integer<font color="#000080">; </font><font color="#008000"><i>{r *must* be &lt;= 128}
</i></font><font color="#FF0000"><b>begin
  </b></font>rr<font color="#000080">:=</font>r<font color="#000080">;</font>y<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;</font>x<font color="#000080">:=</font>r<font color="#000080">;</font>rr<font color="#000080">:=</font>r<font color="#000080">*</font>r<font color="#000080">;</font>xx<font color="#000080">:=</font>rr<font color="#000080">-</font>x<font color="#000080">;</font>yy<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>Repeat
    </b></font>Sec<font color="#000080">[</font>r<font color="#000080">-</font>y<font color="#000080">]:=</font>x<font color="#000080">;
    </font>Sec<font color="#000080">[</font>r<font color="#000080">-</font>x<font color="#000080">]:=</font>y<font color="#000080">;
    </font>Sec<font color="#000080">[</font>r<font color="#000080">+</font>x<font color="#000080">]:=</font>y<font color="#000080">;
    </font>Sec<font color="#000080">[</font>r<font color="#000080">+</font>y<font color="#000080">]:=</font>x<font color="#000080">;        </font><font color="#008000"><i>{chord lengths per sector}
    </i></font><font color="#FF0000"><b>if </b></font>xx<font color="#000080">&gt;(</font>rr<font color="#000080">-</font>yy<font color="#000080">) </font><font color="#FF0000"><b>then
    Begin
      </b></font>Inc<font color="#000080">(</font>xx<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">-</font>x<font color="#000080">-</font>x<font color="#000080">);</font>dec<font color="#000080">(</font>x<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>Inc<font color="#000080">(</font>yy<font color="#000080">,</font>y<font color="#000080">+</font>y<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);</font>inc<font color="#000080">(</font>y<font color="#000080">);
  </font><font color="#FF0000"><b>Until </b></font>x<font color="#000080">&lt;</font>y<font color="#000080">;            </font><font color="#008000"><i>{sneaky mix of secant and scaling}
  </i></font><font color="#FF0000"><b>For </b></font>x<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>r <font color="#FF0000"><b>do </b></font>Par<font color="#000080">[</font>x <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">]:=(</font>x<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">+</font>sec<font color="#000080">[</font>x<font color="#000080">]*</font><font color="#800000">3</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">5</font><font color="#000080">;
  </font><font color="#FF0000"><b>For </b></font>x<font color="#000080">:=</font>r <font color="#FF0000"><b>to </b></font>r<font color="#000080">+</font>r <font color="#FF0000"><b>do </b></font>Par<font color="#000080">[</font>x <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">]:=(</font>r<font color="#000080">*</font><font color="#800000">6</font><font color="#000080">-</font>sec<font color="#000080">[</font>x<font color="#000080">]*</font><font color="#800000">3</font><font color="#000080">+</font>x<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">+</font><font color="#800000">3</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">5</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;</font><font color="#008000"><i>{}


</i></font><font color="#FF0000"><b>Procedure </b></font>SphereMap2<font color="#000080">(</font>PMAP<font color="#000080">:</font>Pointer<font color="#000080">;</font>sx<font color="#000080">,</font>sy<font color="#000080">,</font>cx<font color="#000080">,</font>cy<font color="#000080">,</font>Shift<font color="#000080">:</font>Word<font color="#000080">);
</font><font color="#FF0000"><b>Type </b></font>SNeaky <font color="#000080">= </font><font color="#FF0000"><b>Record </b></font>part1<font color="#000080">:</font>Byte<font color="#000080">; </font>Data<font color="#000080">:</font>Word<font color="#000080">; </font>Part2<font color="#000080">:</font>Byte<font color="#000080">;</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font>A <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">64000</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
</font>PA <font color="#000080">=^</font>a<font color="#000080">;

</font><font color="#FF0000"><b>Var </b></font>loop<font color="#000080">:</font>Integer<font color="#000080">;</font>Width<font color="#000080">,</font>Scale<font color="#000080">,</font>Image<font color="#000080">:</font>LongInt<font color="#000080">;</font>p<font color="#000080">,</font>x<font color="#000080">:</font>Word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
  </b></font>Inc<font color="#000080">(</font>LongInt<font color="#000080">(</font>pMap<font color="#000080">),</font>Shift<font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>Loop<font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>sy <font color="#FF0000"><b>do
    Begin
      </b></font>Width<font color="#000080">:=</font>Sec<font color="#000080">[</font>Loop<font color="#000080">]+</font><font color="#800000">1</font><font color="#000080">;
      </font>Image<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
      </font>p<font color="#000080">:=(</font>cy<font color="#000080">-</font>sy <font color="#FF0000"><b>shr </b></font><font color="#800000">1 </font><font color="#000080">+</font>Loop<font color="#000080">)*</font><font color="#800000">320</font><font color="#000080">+</font>cx<font color="#000080">-</font>width<font color="#000080">;
      </font>Inc<font color="#000080">(</font>width<font color="#000080">,</font>width<font color="#000080">);
      </font>scale<font color="#000080">:=</font>sx<font color="#000080">;</font>scale<font color="#000080">:=</font>scale<font color="#000080">*</font><font color="#800000">128 </font><font color="#FF0000"><b>div </b></font>width<font color="#000080">;
      </font><font color="#FF0000"><b>For </b></font>x<font color="#000080">:=</font>p <font color="#FF0000"><b>to </b></font>p<font color="#000080">+</font>width <font color="#FF0000"><b>do
        Begin
          </b></font>Mem<font color="#000080">[</font><font color="#800000">$a000</font><font color="#000080">:</font>x<font color="#000080">]:=</font>PA<font color="#000080">(</font>PMap<font color="#000080">)^[</font>Par<font color="#000080">[</font>Sneaky<font color="#000080">(</font>image<font color="#000080">).</font>data<font color="#000080">]];
          </font>Inc<font color="#000080">(</font>Image<font color="#000080">,</font>Scale<font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>Inc<font color="#000080">(</font>Longint<font color="#000080">(</font>pMap<font color="#000080">),</font>sx<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Var </b></font>lp<font color="#000080">:</font>Integer<font color="#000080">;

</font><font color="#FF0000"><b>Begin </b></font><font color="#008000"><i>{Program}
  </i></font>SetCGA256Clear<font color="#000080">;
  </font>CalcCircle<font color="#000080">(</font>Size <font color="#FF0000"><b>Div </b></font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>lp<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>size <font color="#000080">* </font>size <font color="#FF0000"><b>do </b></font>Flambe<font color="#000080">[</font>lp<font color="#000080">]:=(((</font>lp <font color="#FF0000"><b>div </b></font>size<font color="#000080">) </font><font color="#FF0000"><b>mod </b></font><font color="#800000">10</font><font color="#000080">) + (</font>lp <font color="#FF0000"><b>mod 
</b></font><font color="#800000">10</font><font color="#000080">))</font><font color="#FF0000"><b>shl </b></font><font color="#800000">2</font><font color="#000080">;
 </font><font color="#FF0000"><b>Repeat
   </b></font>DoInferno<font color="#000080">;
   </font>SphereMap2<font color="#000080">(@</font>Flambe<font color="#000080">,</font>Size<font color="#000080">,</font>Size<font color="#000080">,</font><font color="#800000">100</font><font color="#000080">,</font><font color="#800000">100</font><font color="#000080">,</font>size<font color="#000080">-(</font>Wait <font color="#FF0000"><b>Mod </b></font>Size<font color="#000080">));
   </font>SphereMap2<font color="#000080">(@</font>Flambe<font color="#000080">,</font>Size<font color="#000080">,</font>Size<font color="#000080">,</font><font color="#800000">220</font><font color="#000080">,</font><font color="#800000">100</font><font color="#000080">,</font>size<font color="#000080">-(</font>Wait <font color="#FF0000"><b>Mod </b></font>Size<font color="#000080">)-</font><font color="#800000">10</font><font color="#000080">);
  </font><font color="#FF0000"><b>until </b></font>keypressed<font color="#000080">;
</font><font color="#FF0000"><b>asm
  </b></font><font color="#FF00FF">mov ax,03h              </font><font color="#008000"><i>{ AX := 3h                  }
  </i></font><font color="#FF00FF">int 10h                 </font><font color="#008000"><i>{ restore text mode         }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0228.PAS">Original</a><b>]</b></p></body>
</html>
