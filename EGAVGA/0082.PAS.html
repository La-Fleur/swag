<html>
<head><title> "Font Size" by DARRELL STEWART</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0082.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
How does Norton defeat the one vertical scan line dividing its
characters in order to write their alphanumeric menu screens?  I have a
&quot;user-font&quot; which loads successfully into vga display memory using tp7:
}
</i></font><font color="#FF0000"><b>type
  </b></font>bytearray <font color="#000080">= </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>maxbytes<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
</font><font color="#FF0000"><b>var
  </b></font>fontarray <font color="#000080">: </font>bytearray<font color="#000080">;  </font><font color="#008000"><i>{ character byte array }
</i></font><font color="#FF0000"><b>procedure </b></font>wrfont<font color="#000080">(</font>input <font color="#000080">: </font>bytearray<font color="#000080">; </font>blknum<font color="#000080">, </font>numline <font color="#000080">: </font>byte<font color="#000080">);  </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#008000"><i>{ &quot;input&quot; is an array containing character bit patterns (8x16 character)
  &quot;blknum&quot; is the block number
  &quot;numline&quot; is the number of scanlines per character }
  </i></font><font color="#FF0000"><b>asm
    </b></font><font color="#FF00FF">push    bp            </font><font color="#008000"><i>{ save the base point register }
    </i></font><font color="#FF00FF">mov     bl, blknum    </font><font color="#008000"><i>{ get block number }
    </i></font><font color="#FF00FF">and     bl, 07        </font><font color="#008000"><i>{ limit to 0-7 block number }
    </i></font><font color="#FF00FF">les     ax, input     </font><font color="#008000"><i>{ point to &quot;C&quot; buffer es:ax }
    </i></font><font color="#FF00FF">mov     bh, numline   </font><font color="#008000"><i>{ number of bytes per characters }
    </i></font><font color="#FF00FF">mov     bp, ax        </font><font color="#008000"><i>{ load offset to &quot;C&quot; buffer es:bp }
    </i></font><font color="#FF00FF">mov     cx, 100h      </font><font color="#008000"><i>{ do for 256 characters }
    </i></font><font color="#FF00FF">xor     dx, dx        </font><font color="#008000"><i>{ begin at 0 }
    </i></font><font color="#FF00FF">mov     ax, 1110h     </font><font color="#008000"><i>{ load font }
    </i></font><font color="#FF00FF">int     10h           </font><font color="#008000"><i>{ call interrupt }
    </i></font><font color="#FF00FF">pop     bp            </font><font color="#008000"><i>{ restore the base point register }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{
    This procedure loads my user-font correctly into display memory;
however, I still have one verical scanline between my horizontal line
characters making them basically worthless for my purposes (it &quot;draws&quot;
a dashed line like above).  I thought when alphanumeric characters are
mapped, you need to leave a bit pattern open along the right and bottom
edges in order to separate the characters.  Closing up the right and
bottom edges should &quot;connect&quot; the characters, yet I've found it does
not.  I have tried replacing the original ASCII horizontal line
characters and this also fails.
    What information do I need?  How can I connect my font characters
to display Norton-like menus in alphanumeric 8x16 vga font format (or
for that matter, any two primitive graphic fonts)?  Does it make any
difference with which ASCII characters I replace in my table?
    By the way, I noticed that Norton's alternate font does have a
small (anal retentively) defect.  Their upper right box characters
do not have a &quot;crisp&quot; corner.  Each one has a pixel &quot;nub&quot; to the right.
I have a feeling this is a clue to answer my problem but I still
haven't gotten it right.  Anyone know?
}</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0082.PAS">Original</a><b>]</b></p></body>
</html>
