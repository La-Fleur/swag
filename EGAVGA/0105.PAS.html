<html>
<head><title> "VGA Detection" by GARETH BRAID</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0105.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
PF&gt; Can anyone give me the source code for a vga detection
PF&gt; routine taht doesnt use the bgi driver. Thanks in advance PF&gt; for your
help.

PF&gt; Patrick Fox

To detect a VGA card simply &lt;g&gt; call Interrupt 10h with ah set as 1Ah, if al is
now 1A then there is a VGA present - otherwise it must be something else...

i.e. ( regs is declared as of type registers from the DOS unit)
}

</i></font><font color="#FF0000"><b>begin
  with </b></font>regs <font color="#FF0000"><b>do
   begin
    </b></font>ah<font color="#000080">:=</font><font color="#800000">$1A</font><font color="#000080">;
    </font>al<font color="#000080">:=</font><font color="#800000">00</font><font color="#000080">;
    </font>intr <font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">, </font>regs<font color="#000080">);
    </font><font color="#FF0000"><b>If </b></font>al<font color="#000080">=</font><font color="#800000">$1A </font><font color="#FF0000"><b>then </b></font>Writeln <font color="#000080">(</font><font color="#800000">'VGA Detected...'</font><font color="#000080">); </font><font color="#008000"><i>{or whatever...}
   </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#FF0000"><b>or in </b></font>the built<font color="#000080">-</font><font color="#FF0000"><b>in assembler </b></font>something like this<font color="#000080">...

</font><font color="#FF0000"><b>Function </b></font>isVGA<font color="#000080">:</font>Boolean<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;

</font><font color="#FF0000"><b>asm
   </b></font><font color="#FF00FF">mov AH, $1A
   mov al, $00
   Int $10
   cmp al, $1A
   jne @@NOVGABIOS
   mov al, 1
   jmp @@EXIT
  @@NOVGABIOS:
   mov al, 0
  @@EXIT:
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0105.PAS">Original</a><b>]</b></p></body>
</html>
