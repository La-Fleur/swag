<html>
<head><title> "Cube" by YVES HETZER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0113.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>program </b></font>cube<font color="#000080">;      </font><font color="#008000"><i>{ Author: Yves Hetzer   2:248/1003.8  }
</i></font><font color="#FF0000"><b>uses </b></font>crt<font color="#000080">;                   </font><font color="#008000"><i>{     Erfurt, Germany }

</i></font><font color="#FF0000"><b>const </b></font>gCrtc          <font color="#000080">= </font><font color="#800000">$3d4</font><font color="#000080">; </font>gScreensize    <font color="#000080">= </font><font color="#800000">400</font><font color="#000080">*</font><font color="#800000">80</font><font color="#000080">;
      </font>gscreenPage0   <font color="#000080">= </font><font color="#800000">$0000</font><font color="#000080">; </font>gScreenpage1   <font color="#000080">= </font>gscreensize<font color="#000080">;
      </font>gscreensegment <font color="#000080">= </font><font color="#800000">$0a000</font><font color="#000080">; </font>gscrwidth <font color="#000080">= </font><font color="#800000">80</font><font color="#000080">; </font>scal<font color="#000080">= </font><font color="#800000">20</font><font color="#000080">;
      </font>sintab <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">90</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte <font color="#000080">= (</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">9</font><font color="#000080">,</font><font color="#800000">13</font><font color="#000080">,</font><font color="#800000">18</font><font color="#000080">,</font><font color="#800000">22</font><font color="#000080">,</font><font color="#800000">27</font><font color="#000080">,</font><font color="#800000">31</font><font color="#000080">,</font><font color="#800000">36</font><font color="#000080">,</font><font color="#800000">40</font><font color="#000080">,</font><font color="#800000">44</font><font color="#000080">,</font><font color="#800000">49</font><font color="#000080">,</font><font color="#800000">53</font><font color="#000080">,</font><font color="#800000">58</font><font color="#000080">,</font><font color="#800000">62</font><font color="#000080">,</font><font color="#800000">66</font><font color="#000080">,</font><font color="#800000">71</font><font color="#000080">,</font><font color="#800000">75</font><font color="#000080">,</font><font color="#800000">79</font><font color="#000080">,</font><font color="#800000">83</font><font color="#000080">,</font><font color="#800000">88</font><font color="#000080">,
                                       </font><font color="#800000">92</font><font color="#000080">,</font><font color="#800000">96</font><font color="#000080">,</font><font color="#800000">100</font><font color="#000080">,</font><font color="#800000">104</font><font color="#000080">,</font><font color="#800000">108</font><font color="#000080">,</font><font color="#800000">112</font><font color="#000080">,</font><font color="#800000">116</font><font color="#000080">,</font><font color="#800000">120</font><font color="#000080">,</font><font color="#800000">124</font><font color="#000080">,</font><font color="#800000">128</font><font color="#000080">,</font><font color="#800000">132</font><font color="#000080">,</font><font color="#800000">136</font><font color="#000080">,</font><font color="#800000">139</font><font color="#000080">,</font><font color="#800000">143</font><font color="#000080">,</font><font color="#800000">147</font><font color="#000080">,</font><font color="#800000">150</font><font color="#000080">,</font><font color="#800000">154</font><font color="#000080">,</font><font color="#800000">158</font><font color="#000080">,</font><font color="#800000">161</font><font color="#000080">,</font><font color="#800000">165</font><font color="#000080">,
                                       </font><font color="#800000">168</font><font color="#000080">,</font><font color="#800000">171</font><font color="#000080">,</font><font color="#800000">175</font><font color="#000080">,</font><font color="#800000">178</font><font color="#000080">,</font><font color="#800000">181</font><font color="#000080">,</font><font color="#800000">184</font><font color="#000080">,</font><font color="#800000">187</font><font color="#000080">,</font><font color="#800000">190</font><font color="#000080">,</font><font color="#800000">193</font><font color="#000080">,</font><font color="#800000">196</font><font color="#000080">,</font><font color="#800000">199</font><font color="#000080">,</font><font color="#800000">202</font><font color="#000080">,</font><font color="#800000">204</font><font color="#000080">,</font><font color="#800000">207</font><font color="#000080">,</font><font color="#800000">210</font><font color="#000080">,</font><font color="#800000">212</font><font color="#000080">,</font><font color="#800000">215</font><font color="#000080">,</font><font color="#800000">217</font><font color="#000080">,</font><font color="#800000">219</font><font color="#000080">,</font><font color="#800000">222</font><font color="#000080">,
                                       </font><font color="#800000">224</font><font color="#000080">,</font><font color="#800000">226</font><font color="#000080">,</font><font color="#800000">228</font><font color="#000080">,</font><font color="#800000">230</font><font color="#000080">,</font><font color="#800000">232</font><font color="#000080">,</font><font color="#800000">234</font><font color="#000080">,</font><font color="#800000">236</font><font color="#000080">,</font><font color="#800000">237</font><font color="#000080">,</font><font color="#800000">239</font><font color="#000080">,</font><font color="#800000">241</font><font color="#000080">,</font><font color="#800000">242</font><font color="#000080">,</font><font color="#800000">243</font><font color="#000080">,</font><font color="#800000">245</font><font color="#000080">,</font><font color="#800000">246</font><font color="#000080">,</font><font color="#800000">247</font><font color="#000080">,</font><font color="#800000">248</font><font color="#000080">,</font><font color="#800000">249</font><font color="#000080">,</font><font color="#800000">250</font><font color="#000080">,</font><font color="#800000">251</font><font color="#000080">,</font><font color="#800000">252</font><font color="#000080">,
                                       </font><font color="#800000">253</font><font color="#000080">,</font><font color="#800000">254</font><font color="#000080">,</font><font color="#800000">254</font><font color="#000080">,</font><font color="#800000">254</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">);

</font><font color="#FF0000"><b>type </b></font>tupel <font color="#000080">= </font><font color="#FF0000"><b>record
             </b></font>x<font color="#000080">,</font>y<font color="#000080">,</font>z <font color="#000080">: </font>integer<font color="#000080">;
             </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font>rtupel <font color="#000080">= </font><font color="#FF0000"><b>record
              </b></font>x<font color="#000080">,</font>y<font color="#000080">,</font>z <font color="#000080">: </font>real<font color="#000080">;
              </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font>PointType <font color="#000080">= </font><font color="#FF0000"><b>record
              </b></font>X<font color="#000080">, </font>Y <font color="#000080">: </font>integer<font color="#000080">;
              </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font>bild_point <font color="#000080">= </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">12</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>rtupel<font color="#000080">;
     </font>kehrtab <font color="#000080">= </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">10000</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>real<font color="#000080">;

</font><font color="#FF0000"><b>const </b></font>pk <font color="#000080">: </font>bild_point <font color="#000080">=((</font>x<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">;</font>y<font color="#000080">:</font><font color="#800000">6</font><font color="#000080">;</font>z<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">),(</font>x<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">;</font>y<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">;</font>z<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">;</font>y<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">;</font>z<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">),
           (</font>x<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">;</font>y<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">;</font>z<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">;</font>y<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">;</font>z<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">),(</font>x<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">;</font>y<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">;</font>z<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">;</font>y<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">;</font>z<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">),
           (</font>x<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">;</font>y<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">;</font>z<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">),(</font>x<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">;</font>y<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">;</font>z<font color="#000080">:-</font><font color="#800000">2</font><font color="#000080">),(</font>x<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">;</font>y<font color="#000080">:-</font><font color="#800000">6</font><font color="#000080">;</font>z<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">),(</font>x<font color="#000080">:</font><font color="#800000">6</font><font color="#000080">;</font>y<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">;</font>z<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">),
           (</font>x<font color="#000080">:-</font><font color="#800000">6</font><font color="#000080">;</font>y<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">;</font>z<font color="#000080">:</font><font color="#800000">0</font><font color="#000080">));

</font><font color="#FF0000"><b>var </b></font>scrofs<font color="#000080">, </font>hlength<font color="#000080">, </font>scrmemoff<font color="#000080">,</font>offs<font color="#000080">,</font>gscreen <font color="#000080">: </font>word<font color="#000080">;
    </font>bit_maske <font color="#000080">:</font>byte<font color="#000080">;
    </font>rp   <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>real<font color="#000080">;
    </font>pd  <font color="#000080">: </font>bild_point<font color="#000080">;
    </font>u<font color="#000080">,</font>v<font color="#000080">:   </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">12</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>integer<font color="#000080">;
    </font>lauf<font color="#000080">,</font>al<font color="#000080">,</font>ga<font color="#000080">,</font>f<font color="#000080">,</font>leftb<font color="#000080">,</font>rightb<font color="#000080">,</font>upb<font color="#000080">,</font>downb<font color="#000080">,</font>help <font color="#000080">: </font>integer<font color="#000080">;
    </font>eck <font color="#000080">: </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">4</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>pointtype<font color="#000080">;
    </font>kehrt<font color="#000080">:^</font>kehrtab<font color="#000080">;
    </font>rmask<font color="#000080">,</font>lmask<font color="#000080">:</font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">639</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>waitblank<font color="#000080">;
</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm</b></font><font color="#FF00FF">;
mov dx,gCRTC+6;@g_r: in al,dx;test al,8;jz @g_r;@g_d: in al,dx;
test al,8;jnz @g_d
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>calcxy<font color="#000080">;
</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm</b></font><font color="#FF00FF">;
 mov cx,ax;mov ax,80;mul bx;mov dx,0a000h;push dx;mov dx,ax;
 mov ax,cx;shr ax,1;shr ax,1;shr ax,1;add dx,ax;mov di,dx;
 and cl,7;mov dl,80h;shr dl,cl;pop es;mov ax,gscreen;add di,ax;
 mov ds:[offs], di;mov ds:[bit_maske],dl
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>set_dot<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>farbe <font color="#000080">: </font>word<font color="#000080">);
</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm</b></font><font color="#FF00FF">;
 mov ax,x;mov bx,y;mov cx,farbe;call calcxy;mov ah,bit_maske;
 mov dx,3ceh;mov al,08h;out dx,ax;mov ax,0a000h;mov es,ax;
 mov di,offs;mov cx,farbe;mov ch,[es:di];mov [es:di], cl;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>graph_init<font color="#000080">;
</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm</b></font><font color="#FF00FF">;
 mov ax,0012h;int 10h;mov dx,3ceh;mov ax,0205h;out dx,ax;mov ax,1003h;
 out dx,ax;   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Draw<font color="#000080">(</font>xA<font color="#000080">,</font>yA<font color="#000080">,</font>xB<font color="#000080">,</font>yB<font color="#000080">,</font>col<font color="#000080">:</font>Integer<font color="#000080">);     </font><font color="#008000"><i>{ DRAWALL.INC }
</i></font><font color="#FF0000"><b>VAR
  </b></font>x<font color="#000080">,</font>y<font color="#000080">,</font>kriterium<font color="#000080">,</font>dX<font color="#000080">,</font>dY<font color="#000080">,</font>stepX<font color="#000080">,</font>stepY<font color="#000080">:</font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
  </b></font>dX<font color="#000080">:=</font>Abs<font color="#000080">(</font>xB<font color="#000080">-</font>xA<font color="#000080">);
  </font>dY<font color="#000080">:=</font>Abs<font color="#000080">(</font>yB<font color="#000080">-</font>yA<font color="#000080">);
  </font><font color="#FF0000"><b>IF </b></font>dX<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>kriterium<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>ELSE  </b></font>kriterium<font color="#000080">:=</font>Round<font color="#000080">(-</font>dX<font color="#000080">/</font><font color="#800000">2</font><font color="#000080">);
  </font><font color="#FF0000"><b>IF </b></font>xB<font color="#000080">&gt;</font>xA <font color="#FF0000"><b>THEN </b></font>stepX<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>ELSE </b></font>stepX<font color="#000080">:=-</font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>IF </b></font>yB<font color="#000080">&gt;</font>yA <font color="#FF0000"><b>THEN </b></font>stepY<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>ELSE </b></font>stepY<font color="#000080">:=-</font><font color="#800000">1</font><font color="#000080">;
  </font>x<font color="#000080">:=</font>xA<font color="#000080">;</font>y<font color="#000080">:=</font>yA<font color="#000080">;
  </font>set_dot<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>col<font color="#000080">);
  </font><font color="#FF0000"><b>WHILE Not </b></font><font color="#000080">((</font>x<font color="#000080">=</font>xB<font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">(</font>y<font color="#000080">=</font>yB<font color="#000080">)) </font><font color="#FF0000"><b>DO
  BEGIN
    IF </b></font>kriterium <font color="#000080">&lt;</font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
    BEGIN
      </b></font>x<font color="#000080">:=</font>x<font color="#000080">+</font>stepX<font color="#000080">; </font>kriterium<font color="#000080">:=</font>kriterium<font color="#000080">+</font>dY<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>kriterium<font color="#000080">&gt;=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>And </b></font><font color="#000080">( </font>y<font color="#000080">&lt;&gt;</font>yB<font color="#000080">) </font><font color="#FF0000"><b>THEN
    BEGIN
      </b></font>y<font color="#000080">:=</font>y<font color="#000080">+</font>stepY<font color="#000080">; </font>kriterium<font color="#000080">:=</font>kriterium<font color="#000080">-</font>dX<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
    </font>set_dot<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">,</font>col<font color="#000080">);
  </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>hline<font color="#000080">(</font>x1<font color="#000080">,</font>x2<font color="#000080">:</font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>y <font color="#000080">: </font>word<font color="#000080">;
</font><font color="#FF0000"><b>Begin
 if </b></font>x1<font color="#000080">&gt;</font>x2 <font color="#FF0000"><b>then Begin </b></font>help <font color="#000080">:= </font>x2<font color="#000080">;</font>x2<font color="#000080">:=</font>x1<font color="#000080">;</font>x1<font color="#000080">:=</font>help<font color="#000080">;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font>help <font color="#000080">:= </font>x1 <font color="#FF0000"><b>shr </b></font><font color="#800000">3</font><font color="#000080">;
 </font>scrofs <font color="#000080">:= </font>help <font color="#000080">+ </font>scrmemoff<font color="#000080">;
 </font>hlength <font color="#000080">:= </font>x2 <font color="#FF0000"><b>shr </b></font><font color="#800000">3 </font><font color="#000080">- </font>help<font color="#000080">;
 </font><font color="#FF0000"><b>if </b></font>hlength <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
 Begin
  </b></font>port<font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font>lmask<font color="#000080">[</font>x1<font color="#000080">] </font><font color="#FF0000"><b>and </b></font>rmask<font color="#000080">[</font>x2<font color="#000080">];
  </font>inc <font color="#000080">(</font>mem<font color="#000080">[</font><font color="#800000">$a000</font><font color="#000080">:</font>scrofs<font color="#000080">]);
 </font><font color="#FF0000"><b>end else
 if </b></font>hlength <font color="#000080">&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>then
 Begin
  </b></font>port<font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font>lmask<font color="#000080">[</font>x1<font color="#000080">];
  </font>inc <font color="#000080">(</font>mem<font color="#000080">[</font><font color="#800000">$a000</font><font color="#000080">:</font>scrofs<font color="#000080">]);
  </font>port <font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font><font color="#800000">$ff</font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>lauf <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>hlength<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>do </b></font>inc<font color="#000080">(</font>mem<font color="#000080">[</font><font color="#800000">$a000</font><font color="#000080">:</font>scrofs<font color="#000080">+</font>lauf<font color="#000080">]);
  </font>port <font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font>rmask<font color="#000080">[</font>x2<font color="#000080">];
  </font>inc <font color="#000080">(</font>mem<font color="#000080">[</font><font color="#800000">$a000</font><font color="#000080">:</font>scrofs<font color="#000080">+</font>hlength<font color="#000080">]);
 </font><font color="#FF0000"><b>end else
 Begin
  </b></font>port <font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font>lmask <font color="#000080">[</font>x1<font color="#000080">];
  </font>inc <font color="#000080">(</font>mem<font color="#000080">[</font><font color="#800000">$a000</font><font color="#000080">:</font>scrofs<font color="#000080">]);
  </font>port <font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font>rmask <font color="#000080">[</font>x2<font color="#000080">];
  </font>inc <font color="#000080">(</font>mem<font color="#000080">[</font><font color="#800000">$a000</font><font color="#000080">:</font>scrofs<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">]);
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>fillfourangle<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>x1<font color="#000080">,</font>y1<font color="#000080">,</font>x2<font color="#000080">,</font>y2<font color="#000080">,</font>x3<font color="#000080">,</font>y3<font color="#000080">,</font>x4<font color="#000080">,</font>y4<font color="#000080">,</font>ficol<font color="#000080">:</font>integer<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>ho1<font color="#000080">,</font>ho2<font color="#000080">,</font>ho3<font color="#000080">,</font>ho4<font color="#000080">,</font>ypos<font color="#000080">,</font>start<font color="#000080">,</font>ende<font color="#000080">,</font>diff<font color="#000080">,</font>counter1<font color="#000080">,</font>counter2<font color="#000080">,</font>polyho<font color="#000080">,
    </font>ya<font color="#000080">,</font>ye<font color="#000080">,</font>yr<font color="#000080">,</font>yl<font color="#000080">,</font>dy <font color="#000080">: </font>integer<font color="#000080">;
    </font>stepx1<font color="#000080">,</font>stepx2<font color="#000080">,</font>stepx3<font color="#000080">,</font>stepx4<font color="#000080">,</font>links<font color="#000080">,</font>rechts<font color="#000080">,</font>xa<font color="#000080">,</font>xe<font color="#000080">,</font>xr<font color="#000080">,</font>xl <font color="#000080">: </font>longint<font color="#000080">;
    </font>sre<font color="#000080">,</font>ore<font color="#000080">,</font>sl<font color="#000080">,</font>ol <font color="#000080">: </font>word<font color="#000080">;
    </font>trapez<font color="#000080">,</font>clip <font color="#000080">: </font>boolean<font color="#000080">;
    </font>stepx <font color="#000080">: </font>real<font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>height <font color="#000080">(</font><font color="#FF0000"><b>var </b></font>h <font color="#000080">: </font>integer<font color="#000080">);
</font><font color="#FF0000"><b>Begin
 if </b></font>h <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>h <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>else if </b></font>h <font color="#000080">&gt; </font><font color="#800000">5000 </font><font color="#FF0000"><b>then </b></font>h <font color="#000080">:= </font><font color="#800000">5000</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Begin
asm</b></font><font color="#FF00FF">;mov dx,3ceh;mov ax,0005h;out dx,ax;mov ax,1003h;out dx,ax;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>if </b></font><font color="#000080">((</font>x1<font color="#000080">&lt;</font>leftb<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>x2<font color="#000080">&lt;</font>leftb<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>x3<font color="#000080">&lt;</font>leftb<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>x4<font color="#000080">&lt;</font>leftb<font color="#000080">)) </font><font color="#FF0000"><b>or
 </b></font><font color="#000080">((</font>x1<font color="#000080">&gt;</font>rightb<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>x2<font color="#000080">&gt;</font>rightb<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>x3<font color="#000080">&gt;</font>rightb<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>x4<font color="#000080">&gt; </font>rightb<font color="#000080">)) </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
 </font>clip <font color="#000080">:= </font>false<font color="#000080">;
 </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>x1<font color="#000080">&lt;=</font>leftb<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>x2<font color="#000080">&lt;=</font>leftb<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>x3<font color="#000080">&lt;=</font>leftb<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>x4<font color="#000080">&lt;=</font>leftb<font color="#000080">) </font><font color="#FF0000"><b>or
 </b></font><font color="#000080">(</font>x1<font color="#000080">&gt;=</font>rightb<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>x2 <font color="#000080">&gt;= </font>rightb<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>x3 <font color="#000080">&gt;= </font>rightb<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>x4<font color="#000080">&gt;=</font>rightb<font color="#000080">) </font><font color="#FF0000"><b>then </b></font>clip <font color="#000080">:=
</font>true<font color="#000080">;
 </font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x <font color="#000080">:= </font>x1<font color="#000080">;</font>eck<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>x <font color="#000080">:= </font>x2<font color="#000080">;</font>eck<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>x <font color="#000080">:= </font>x3<font color="#000080">;</font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x <font color="#000080">:= </font>x4<font color="#000080">;
 </font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y <font color="#000080">:= </font>y1<font color="#000080">;</font>eck<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>y <font color="#000080">:= </font>y2<font color="#000080">;</font>eck<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>y <font color="#000080">:= </font>y3<font color="#000080">;</font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y <font color="#000080">:= </font>y4<font color="#000080">;
 </font><font color="#FF0000"><b>for </b></font>start <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do
 for </b></font>ende <font color="#000080">:= </font><font color="#800000">4 </font><font color="#FF0000"><b>downto </b></font>start <font color="#FF0000"><b>do
 if </b></font>eck<font color="#000080">[</font>start<font color="#000080">].</font>y <font color="#000080">&gt; </font>eck<font color="#000080">[</font>ende<font color="#000080">].</font>y <font color="#FF0000"><b>then begin
 </b></font>eck<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font>eck<font color="#000080">[</font>start<font color="#000080">];
 </font>eck<font color="#000080">[</font>start<font color="#000080">] := </font>eck<font color="#000080">[</font>ende<font color="#000080">];
 </font>eck<font color="#000080">[</font>ende<font color="#000080">] := </font>eck<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">];
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font>polyho <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y<font color="#000080">-</font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">;
 </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y <font color="#000080">&gt; </font>downb<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y <font color="#000080">&lt; </font>upb<font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>polyho <font color="#000080">&lt; </font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>exit<font color="#000080">;
 </font>dy <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y <font color="#000080">- </font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">;
 </font><font color="#FF0000"><b>if </b></font>dy <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>dy <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
 </font><font color="#FF0000"><b>if </b></font>dy <font color="#000080">&lt; </font><font color="#800000">5000 </font><font color="#FF0000"><b>then </b></font>stepx <font color="#000080">:= (</font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x<font color="#000080">-</font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">)*</font>kehrt<font color="#000080">^[</font>dy<font color="#000080">] </font><font color="#FF0000"><b>else
    </b></font>stepx <font color="#000080">:= (</font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x<font color="#000080">-</font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">)/</font>dy<font color="#000080">;
 </font>xa <font color="#000080">:= </font>trunc <font color="#000080">((</font>eck<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>y<font color="#000080">-</font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">)*</font>stepx<font color="#000080">+</font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">);
 </font>xe <font color="#000080">:= </font>trunc <font color="#000080">(</font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x<font color="#000080">-(</font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y<font color="#000080">-</font>eck<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>y<font color="#000080">)*</font>stepx<font color="#000080">);
 </font><font color="#FF0000"><b>if </b></font><font color="#000080">((</font>xa<font color="#000080">&lt;</font>eck<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>x<font color="#000080">)</font><font color="#FF0000"><b>and</b></font><font color="#000080">(</font>xe<font color="#000080">&lt;</font>eck<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>x<font color="#000080">)) </font><font color="#FF0000"><b>or </b></font><font color="#000080">((</font>xa<font color="#000080">&gt;</font>eck<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>x<font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>xe<font color="#000080">&gt;</font>eck<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>x<font color="#000080">))
    </font><font color="#FF0000"><b>then </b></font>trapez <font color="#000080">:= </font>true <font color="#FF0000"><b>else </b></font>trapez <font color="#000080">:= </font>false<font color="#000080">;
 </font>xa <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>x<font color="#000080">; </font>xa <font color="#000080">:= </font>xa <font color="#000080">* </font><font color="#800000">256</font><font color="#000080">;</font>ya <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>y<font color="#000080">; </font>xe <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>x<font color="#000080">;
 </font>xe <font color="#000080">:= </font>xe <font color="#000080">* </font><font color="#800000">256</font><font color="#000080">; </font>ye <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>y<font color="#000080">;</font>xl <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>x<font color="#000080">; </font>xl <font color="#000080">:= </font>xl <font color="#000080">* </font><font color="#800000">256</font><font color="#000080">;
 </font>yl <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>y<font color="#000080">; </font>xr <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>x<font color="#000080">;</font>xr <font color="#000080">:= </font>xr <font color="#000080">* </font><font color="#800000">256</font><font color="#000080">; </font>yr <font color="#000080">:= </font>eck<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>y<font color="#000080">;
</font><font color="#FF0000"><b>if not </b></font>trapez <font color="#FF0000"><b>then
Begin
 </b></font>ho1 <font color="#000080">:= </font>abs<font color="#000080">(</font>yr<font color="#000080">-</font>ya<font color="#000080">);</font>ho2 <font color="#000080">:= </font>abs<font color="#000080">(</font>ye<font color="#000080">-</font>yr<font color="#000080">);</font>height <font color="#000080">(</font>ho1<font color="#000080">);</font>height <font color="#000080">(</font>ho2<font color="#000080">);
 </font>stepx1 <font color="#000080">:= </font>trunc<font color="#000080">((</font>xr<font color="#000080">-</font>xa<font color="#000080">)*</font>kehrt<font color="#000080">^[</font>ho1<font color="#000080">]);</font>stepx2 <font color="#000080">:= </font>trunc<font color="#000080">((</font>xe<font color="#000080">-</font>xr<font color="#000080">)*</font>kehrt<font color="#000080">^[</font>ho2<font color="#000080">]);
 </font>ho4 <font color="#000080">:= </font>abs<font color="#000080">(</font>yl<font color="#000080">-</font>ya<font color="#000080">);</font>ho3 <font color="#000080">:= </font>abs<font color="#000080">(</font>ye<font color="#000080">-</font>yl<font color="#000080">);</font>height <font color="#000080">(</font>ho4<font color="#000080">);</font>height <font color="#000080">(</font>ho3<font color="#000080">);
 </font>stepx4 <font color="#000080">:= </font>trunc<font color="#000080">((</font>xl<font color="#000080">-</font>xa<font color="#000080">)*</font>kehrt<font color="#000080">^[</font>ho4<font color="#000080">]);</font>stepx3 <font color="#000080">:= </font>trunc<font color="#000080">((</font>xe<font color="#000080">-</font>xl<font color="#000080">)*</font>kehrt<font color="#000080">^[</font>ho3<font color="#000080">]);
</font><font color="#FF0000"><b>end else
Begin
 </b></font>ho1 <font color="#000080">:= </font>abs<font color="#000080">(</font>yl<font color="#000080">-</font>ya<font color="#000080">);</font>ho2 <font color="#000080">:= </font>abs<font color="#000080">(</font>yr<font color="#000080">-</font>yl<font color="#000080">);</font>height <font color="#000080">(</font>ho1<font color="#000080">);</font>height <font color="#000080">(</font>ho2<font color="#000080">);
 </font>stepx1 <font color="#000080">:= </font>trunc<font color="#000080">((</font>xl<font color="#000080">-</font>xa<font color="#000080">)*</font>kehrt<font color="#000080">^[</font>ho1<font color="#000080">]);</font>stepx2 <font color="#000080">:= </font>trunc<font color="#000080">((</font>xr<font color="#000080">-</font>xl<font color="#000080">)*</font>kehrt<font color="#000080">^[</font>ho2<font color="#000080">]);
 </font>ho4 <font color="#000080">:= </font>abs<font color="#000080">(</font>ye<font color="#000080">-</font>ya<font color="#000080">);</font>ho3 <font color="#000080">:= </font>abs<font color="#000080">(</font>ye<font color="#000080">-</font>yr<font color="#000080">);</font>height <font color="#000080">(</font>ho4<font color="#000080">);</font>height <font color="#000080">(</font>ho3<font color="#000080">);
 </font>stepx4 <font color="#000080">:= </font>trunc<font color="#000080">((</font>xe<font color="#000080">-</font>xa<font color="#000080">)*</font>kehrt<font color="#000080">^[</font>ho4<font color="#000080">]);</font>stepx3 <font color="#000080">:= </font>trunc<font color="#000080">((</font>xe<font color="#000080">-</font>xr<font color="#000080">)*</font>kehrt<font color="#000080">^[</font>ho3<font color="#000080">]);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font>port<font color="#000080">[</font><font color="#800000">$3ce</font><font color="#000080">] := </font><font color="#800000">1</font><font color="#000080">; </font>port<font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font><font color="#800000">$0f</font><font color="#000080">;</font>port<font color="#000080">[</font><font color="#800000">$3ce</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">; </font>port<font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">]:=</font>ficol<font color="#000080">;
 </font>port<font color="#000080">[</font><font color="#800000">$3ce</font><font color="#000080">] := </font><font color="#800000">8</font><font color="#000080">;
 </font>links <font color="#000080">:= </font>xa<font color="#000080">; </font>rechts <font color="#000080">:= </font>links<font color="#000080">; </font>start <font color="#000080">:= </font>ya<font color="#000080">; </font>ende <font color="#000080">:= </font>start <font color="#000080">+ </font>polyho <font color="#000080">- </font><font color="#800000">1</font><font color="#000080">;
 </font>counter1<font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>counter2 <font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
 </font><font color="#FF0000"><b>if </b></font>start <font color="#000080">&lt; </font>upb <font color="#FF0000"><b>then Begin
     </b></font>diff <font color="#000080">:= </font>upb <font color="#000080">- </font>start<font color="#000080">;</font>inc <font color="#000080">(</font>start<font color="#000080">,</font>diff<font color="#000080">);</font>inc <font color="#000080">(</font>counter1<font color="#000080">,</font>diff<font color="#000080">);
     </font><font color="#FF0000"><b>if not </b></font>trapez <font color="#FF0000"><b>then Begin
         </b></font>inc <font color="#000080">(</font>counter2<font color="#000080">,</font>diff<font color="#000080">);
         </font><font color="#FF0000"><b>if </b></font>counter2<font color="#000080">&lt;</font>ho4 <font color="#FF0000"><b>then </b></font>inc <font color="#000080">(</font>links<font color="#000080">,</font>diff<font color="#000080">*</font>stepx4<font color="#000080">)
         </font><font color="#FF0000"><b>else </b></font>links <font color="#000080">:= </font>xl <font color="#000080">+ (</font>upb<font color="#000080">-</font>yl<font color="#000080">)*</font>stepx3<font color="#000080">;
         </font><font color="#FF0000"><b>if </b></font>counter1<font color="#000080">&lt;</font>ho1 <font color="#FF0000"><b>then </b></font>inc<font color="#000080">(</font>rechts<font color="#000080">,</font>diff<font color="#000080">*</font>stepx1<font color="#000080">)
         </font><font color="#FF0000"><b>else </b></font>rechts <font color="#000080">:= </font>xr <font color="#000080">+ (</font>upb<font color="#000080">-</font>yr<font color="#000080">)*</font>stepx2<font color="#000080">;
     </font><font color="#FF0000"><b>end else Begin
         </b></font>inc<font color="#000080">(</font>links<font color="#000080">,</font>diff<font color="#000080">*</font>stepx4<font color="#000080">);
         </font><font color="#FF0000"><b>if </b></font>counter1<font color="#000080">&lt;</font>ho1 <font color="#FF0000"><b>then </b></font>inc<font color="#000080">(</font>rechts<font color="#000080">,</font>diff<font color="#000080">*</font>stepx1<font color="#000080">)
         </font><font color="#FF0000"><b>else Begin
           </b></font>inc <font color="#000080">(</font>counter2<font color="#000080">,</font>diff<font color="#000080">-</font>ho1<font color="#000080">);
           </font><font color="#FF0000"><b>if </b></font>counter2 <font color="#000080">&lt; </font>ho2 <font color="#FF0000"><b>then </b></font>rechts <font color="#000080">:= </font>xl <font color="#000080">+ (</font>upb<font color="#000080">-</font>yl<font color="#000080">)*</font>stepx2
           <font color="#FF0000"><b>else </b></font>rechts <font color="#000080">:= </font>xr <font color="#000080">+ (</font>upb<font color="#000080">-</font>yr<font color="#000080">)*</font>stepx3<font color="#000080">;
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font>scrmemoff <font color="#000080">:= </font>gscreen<font color="#000080">+</font>start<font color="#000080">*</font>gscrwidth<font color="#000080">;
 </font><font color="#FF0000"><b>if </b></font>ende <font color="#000080">&gt; </font>downb <font color="#FF0000"><b>then </b></font>ende <font color="#000080">:= </font>downb<font color="#000080">;
 </font>sl <font color="#000080">:= </font>seg<font color="#000080">(</font>links<font color="#000080">);</font>ol <font color="#000080">:= </font>ofs<font color="#000080">(</font>links<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">;</font>sre <font color="#000080">:= </font>seg<font color="#000080">(</font>rechts<font color="#000080">);</font>ore <font color="#000080">:= </font>ofs<font color="#000080">(</font>rechts<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">;
  </font><font color="#FF0000"><b>if not </b></font>trapez <font color="#FF0000"><b>then
  begin
   for </b></font>ypos <font color="#000080">:= </font>start <font color="#FF0000"><b>to </b></font>ende <font color="#FF0000"><b>do
    begin
     if </b></font>counter2<font color="#000080">&lt; </font>ho4 <font color="#FF0000"><b>then
     Begin
      </b></font>inc<font color="#000080">(</font>links<font color="#000080">,</font>stepx4<font color="#000080">);</font>inc<font color="#000080">(</font>counter2<font color="#000080">);
     </font><font color="#FF0000"><b>end else </b></font>inc<font color="#000080">(</font>links<font color="#000080">,</font>stepx3<font color="#000080">);
     </font><font color="#FF0000"><b>if </b></font>counter1<font color="#000080">&lt;</font>ho1 <font color="#FF0000"><b>then
     begin
      </b></font>inc<font color="#000080">(</font>rechts<font color="#000080">,</font>stepx1<font color="#000080">);</font>inc<font color="#000080">(</font>counter1<font color="#000080">);
     </font><font color="#FF0000"><b>end else </b></font>inc <font color="#000080">(</font>rechts<font color="#000080">,</font>stepx2<font color="#000080">);
     </font>hline<font color="#000080">(</font>memw<font color="#000080">[</font>sl<font color="#000080">:</font>ol<font color="#000080">],</font>memw<font color="#000080">[</font>sre<font color="#000080">:</font>ore<font color="#000080">]);
     </font>inc<font color="#000080">(</font>scrmemoff<font color="#000080">,</font>gscrwidth<font color="#000080">);
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end else
  begin
  for </b></font>ypos <font color="#000080">:= </font>start <font color="#FF0000"><b>to </b></font>ende <font color="#FF0000"><b>do
  begin
   </b></font>inc<font color="#000080">(</font>links<font color="#000080">,</font>stepx4<font color="#000080">);
   </font><font color="#FF0000"><b>if </b></font>counter1<font color="#000080">&lt;</font>ho1 <font color="#FF0000"><b>then
   begin
    </b></font>inc<font color="#000080">(</font>rechts<font color="#000080">,</font>stepx1<font color="#000080">);</font>inc<font color="#000080">(</font>counter1<font color="#000080">);
   </font><font color="#FF0000"><b>end else
   if </b></font>counter2<font color="#000080">&lt;</font>ho2 <font color="#FF0000"><b>then
   begin
    </b></font>inc<font color="#000080">(</font>rechts<font color="#000080">,</font>stepx2<font color="#000080">);</font>inc<font color="#000080">(</font>counter2<font color="#000080">);
   </font><font color="#FF0000"><b>end else </b></font>inc<font color="#000080">(</font>rechts<font color="#000080">,</font>stepx3<font color="#000080">);
   </font>hline<font color="#000080">(</font>memw<font color="#000080">[</font>sl<font color="#000080">:</font>ol<font color="#000080">],</font>memw<font color="#000080">[</font>sre<font color="#000080">:</font>ore<font color="#000080">]);
   </font>inc<font color="#000080">(</font>scrmemoff<font color="#000080">,</font>gscrwidth<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>port <font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font><font color="#800000">$ff</font><font color="#000080">; </font>port<font color="#000080">[</font><font color="#800000">$3ce</font><font color="#000080">] := </font><font color="#800000">1</font><font color="#000080">;</font>port <font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">; </font>port <font color="#000080">[</font><font color="#800000">$3ce</font><font color="#000080">] := </font><font color="#800000">0</font><font color="#000080">;
</font>port <font color="#000080">[</font><font color="#800000">$3cf</font><font color="#000080">] := </font><font color="#800000">15</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>setrgbpalette<font color="#000080">(</font>i<font color="#000080">,</font>r<font color="#000080">,</font>g<font color="#000080">,</font>b <font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
asm</b></font><font color="#FF00FF">;mov dx,3c8h;mov al,i;out dx,al;inc dx;mov al,r;out dx,ax;mov al,g;
out dx,al;mov al,b;out dx,al;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>csin<font color="#000080">(</font>winkel <font color="#000080">:</font>integer<font color="#000080">): </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
while </b></font>winkel <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>do </b></font>winkel <font color="#000080">:= </font>winkel <font color="#000080">+ </font><font color="#800000">360</font><font color="#000080">;
</font>winkel <font color="#000080">:= </font>winkel <font color="#FF0000"><b>mod </b></font><font color="#800000">360</font><font color="#000080">;
</font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>winkel <font color="#000080">&gt;= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>winkel <font color="#000080">&lt;= </font><font color="#800000">90</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>csin <font color="#000080">:= </font>sintab<font color="#000080">[</font>winkel<font color="#000080">];
</font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>winkel <font color="#000080">&gt; </font><font color="#800000">90</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>winkel <font color="#000080">&lt;= </font><font color="#800000">180</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>csin <font color="#000080">:= </font>sintab<font color="#000080">[</font><font color="#800000">180</font><font color="#000080">-</font>winkel<font color="#000080">];
</font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>winkel <font color="#000080">&gt; </font><font color="#800000">180</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>winkel <font color="#000080">&lt;= </font><font color="#800000">270</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>csin <font color="#000080">:= -</font>sintab<font color="#000080">[</font>winkel<font color="#000080">-</font><font color="#800000">180</font><font color="#000080">];
</font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>winkel <font color="#000080">&gt; </font><font color="#800000">270</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>winkel <font color="#000080">&lt;= </font><font color="#800000">360</font><font color="#000080">) </font><font color="#FF0000"><b>then </b></font>csin <font color="#000080">:= -</font>sintab<font color="#000080">[</font><font color="#800000">360</font><font color="#000080">-</font>winkel<font color="#000080">];
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>ccos<font color="#000080">(</font>winkel <font color="#000080">:</font>integer<font color="#000080">): </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>winkel <font color="#000080">:= </font>winkel<font color="#000080">+ </font><font color="#800000">90</font><font color="#000080">;
</font><font color="#FF0000"><b>while </b></font>winkel <font color="#000080">&lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>do </b></font>winkel <font color="#000080">:= </font>winkel <font color="#000080">+ </font><font color="#800000">360</font><font color="#000080">;
</font>winkel <font color="#000080">:= </font>winkel <font color="#FF0000"><b>mod </b></font><font color="#800000">360</font><font color="#000080">;
</font>ccos <font color="#000080">:= </font>csin<font color="#000080">(</font>winkel<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>gstartaddr<font color="#000080">(</font>addr <font color="#000080">: </font>word<font color="#000080">);
</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm</b></font><font color="#FF00FF">;
mov bx,addr;push ds;mov dx,gCRTC;mov ah,bh;mov al,0ch;out dx,ax;
mov ah,bl;mov al,0dh;out dx,ax;mov cx,0040h;mov ds,cx;
mov word ptr ds:[004eh],bx;pop ds;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>waehle_seite <font color="#000080">(</font>seite <font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>gscreen <font color="#000080">:= </font>seite <font color="#000080">* </font>gscreensize<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>zeige_seite<font color="#000080">(</font>seite <font color="#000080">: </font>byte<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>adr <font color="#000080">: </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>adr <font color="#000080">:= </font>seite <font color="#000080">* </font>gscreensize<font color="#000080">;
 </font>gstartaddr <font color="#000080">(</font>adr<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>wechsel5<font color="#000080">;

</font><font color="#FF0000"><b>begin
if </b></font>gscreen <font color="#000080">= </font>gscreenpage0 <font color="#FF0000"><b>then begin
                                </b></font>zeige_seite<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">); </font>waehle_seite<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">); </font><font color="#FF0000"><b>end
                               else begin
                                </b></font>zeige_seite<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">); </font>waehle_seite<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
                               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>gclear<font color="#000080">;
</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm</b></font><font color="#FF00FF">;
mov ax,gscreensegment;mov es,ax;mov al,es:[0];mov di,gscreen;mov dx,3ceh;
mov ax,0205h;out dx,ax;mov ax,0003h;out dx,ax;mov ax,0ffffh;out dx,ax;
mov ax,$00;mov cx,gscreensize/2;rep stosw;mov dx,3ceh;mov ax,0205h;out dx,ax;
mov ax,1003h;out dx,ax;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>dreh_m<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>x<font color="#000080">,</font>y<font color="#000080">,</font>u<font color="#000080">,</font>v <font color="#000080">: </font>real<font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>x<font color="#000080">:=</font>csin<font color="#000080">(</font>ga<font color="#000080">)/</font><font color="#800000">256</font><font color="#000080">; </font>y<font color="#000080">:=</font>ccos<font color="#000080">(</font>al<font color="#000080">)/</font><font color="#800000">256</font><font color="#000080">; </font>u<font color="#000080">:=</font>csin<font color="#000080">(</font>al<font color="#000080">)/</font><font color="#800000">256</font><font color="#000080">; </font>v<font color="#000080">:=</font>ccos<font color="#000080">(</font>ga<font color="#000080">)/</font><font color="#800000">256</font><font color="#000080">;
 </font>rp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">]:=</font>v<font color="#000080">; </font>rp<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">]:=</font>x<font color="#000080">; </font>rp<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">; </font>rp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">]:=</font>y<font color="#000080">*</font>x<font color="#000080">; </font>rp<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">]:=</font>y<font color="#000080">*</font>v<font color="#000080">; </font>rp<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">]:=-</font>u<font color="#000080">;
 </font>rp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">]:=</font>u<font color="#000080">*</font>x<font color="#000080">; </font>rp<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">]:=</font>u<font color="#000080">*</font>v<font color="#000080">; </font>rp<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">]:=</font>y<font color="#000080">;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>dreh<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>x<font color="#000080">:</font>rtupel<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>temp<font color="#000080">:</font>rtupel<font color="#000080">;
</font><font color="#FF0000"><b>begin
 </b></font>temp<font color="#000080">.</font>x<font color="#000080">:=(</font>x<font color="#000080">.</font>x<font color="#000080">*</font>rp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">]+</font>x<font color="#000080">.</font>y<font color="#000080">*</font>rp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">]+</font>x<font color="#000080">.</font>z<font color="#000080">*</font>rp<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">]) * </font>scal<font color="#000080">;
 </font>temp<font color="#000080">.</font>y<font color="#000080">:=(</font>x<font color="#000080">.</font>x<font color="#000080">*</font>rp<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">]+</font>x<font color="#000080">.</font>y<font color="#000080">*</font>rp<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">]+</font>x<font color="#000080">.</font>z<font color="#000080">*</font>rp<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">])*</font>scal<font color="#000080">;
 </font>temp<font color="#000080">.</font>z<font color="#000080">:=(</font>x<font color="#000080">.</font>y<font color="#000080">*</font>rp<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">]+</font>x<font color="#000080">.</font>z<font color="#000080">*</font>rp<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">])*</font>scal<font color="#000080">;
 </font>x<font color="#000080">:=</font>temp<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>zeichnen<font color="#000080">;
</font><font color="#FF0000"><b>begin
for </b></font>lauf <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">12 </font><font color="#FF0000"><b>do begin
</b></font>u<font color="#000080">[</font>lauf<font color="#000080">] := </font>round<font color="#000080">(</font>pd<font color="#000080">[</font>lauf<font color="#000080">].</font>x<font color="#000080">)+</font><font color="#800000">320</font><font color="#000080">;</font>v<font color="#000080">[</font>lauf<font color="#000080">] := </font>round<font color="#000080">(</font>pd<font color="#000080">[</font>lauf<font color="#000080">].</font>z<font color="#000080">)+</font><font color="#800000">200</font><font color="#000080">;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);
</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">);</font>draw<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font><font color="#800000">1</font><font color="#000080">); </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>initkehrtaB<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>a<font color="#000080">: </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin </b></font>new <font color="#000080">(</font>kehrt<font color="#000080">); </font><font color="#FF0000"><b>for </b></font>a<font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">10000 </font><font color="#FF0000"><b>do </b></font>kehrt<font color="#000080">^[</font>a<font color="#000080">] := </font><font color="#800000">1</font><font color="#000080">/</font>a<font color="#000080">; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>initmasktab<font color="#000080">;
</font><font color="#FF0000"><b>var </b></font>a<font color="#000080">,</font>wert <font color="#000080">: </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
 for </b></font>a<font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">639 </font><font color="#FF0000"><b>do
 begin
  </b></font>lmask<font color="#000080">[</font>a<font color="#000080">]:=</font><font color="#800000">$ff </font><font color="#FF0000"><b>shr </b></font><font color="#000080">(</font>a <font color="#FF0000"><b>and </b></font><font color="#800000">7</font><font color="#000080">);</font>wert <font color="#000080">:= </font><font color="#800000">$ff </font><font color="#FF0000"><b>shl </b></font><font color="#000080">(</font><font color="#800000">7</font><font color="#000080">-(</font>a <font color="#FF0000"><b>and </b></font><font color="#800000">7</font><font color="#000080">));
  </font>rmask<font color="#000080">[</font>a<font color="#000080">] := </font>lo<font color="#000080">(</font>wert<font color="#000080">); </font><font color="#FF0000"><b>end</b></font><font color="#000080">;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>gexit<font color="#000080">;
</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">; </font><font color="#FF0000"><b>asm</b></font><font color="#FF00FF">;push ax;xor ah,ah;mov al,3h;int 10h;pop ax;</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>begin
  </b></font>graph_init<font color="#000080">;
  </font>setrgbpalette<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">); </font>setrgbpalette<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">); </font>setrgbpalette<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
  </font>setrgbpalette<font color="#000080">(</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">); </font>setrgbpalette<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);</font>setrgbpalette<font color="#000080">(</font><font color="#800000">6</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">21</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
  </font>setrgbpalette<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">,</font><font color="#800000">42</font><font color="#000080">);
  </font>gscreen <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>initkehrtab<font color="#000080">; </font>initmasktab<font color="#000080">;
  </font>al <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">; </font>ga <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;</font>leftb <font color="#000080">:= </font><font color="#800000">10</font><font color="#000080">;</font>upb <font color="#000080">:= </font><font color="#800000">10</font><font color="#000080">;</font>rightb <font color="#000080">:= </font><font color="#800000">600</font><font color="#000080">;</font>downb <font color="#000080">:= </font><font color="#800000">400</font><font color="#000080">;
  </font><font color="#FF0000"><b>repeat
   </b></font>dec<font color="#000080">(</font>al<font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);</font>ga <font color="#000080">:= </font>ga <font color="#000080">+ </font>csin<font color="#000080">(</font>al<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">25</font><font color="#000080">+</font>csin<font color="#000080">(</font>ga<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">50</font><font color="#000080">;</font>pd <font color="#000080">:= </font>pk<font color="#000080">;
   </font>dreh_m<font color="#000080">;</font><font color="#FF0000"><b>for </b></font>lauf <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">12 </font><font color="#FF0000"><b>do </b></font>dreh<font color="#000080">(</font>pd<font color="#000080">[</font>lauf<font color="#000080">]);
  </font>zeichnen<font color="#000080">;</font>f <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">],</font>f<font color="#000080">);</font>f <font color="#000080">:= </font><font color="#800000">4</font><font color="#000080">;
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">11</font><font color="#000080">],</font>f<font color="#000080">);</font>f <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">;
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">6</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">8</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">10</font><font color="#000080">],</font>f<font color="#000080">);</font>f <font color="#000080">:= </font><font color="#800000">4</font><font color="#000080">;
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>f<font color="#000080">);
  </font>fillfourangle<font color="#000080">(</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">7</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">9</font><font color="#000080">],</font>u<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>v<font color="#000080">[</font><font color="#800000">12</font><font color="#000080">],</font>f<font color="#000080">);
  </font>wechsel5<font color="#000080">; </font>waitblank<font color="#000080">; </font>gclear<font color="#000080">;
 </font><font color="#FF0000"><b>until </b></font>keypressed<font color="#000080">;
</font>dispose<font color="#000080">(</font>kehrt<font color="#000080">);</font>gexit<font color="#000080">;</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0113.PAS">Original</a><b>]</b></p></body>
</html>
