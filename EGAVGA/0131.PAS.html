<html>
<head><title> "CatMull-Rom spline source" by LEON DEBOER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0131.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
From: ldeboer@cougar.multiline.com.au (Leon DeBoer)

{------------------------------------------------------------------------}
{          Catmull_Rom and BSpline Parametric Spline Program             }
{                                                                        }
{       All source written and devised by Leon de Boer, (c)1994          }
{       E-Mail:   ldeboer@cougar.multiline.com.au                        }
{                                                                        }
{       After many request and talk about spline techniques on the       }
{   internet I decided to break out my favourite spline programs and     }
{   donate to the discussion.                                            }
{                                                                        }
{     Each of splines is produced using it's parametric basis matrix     }
{                                                                        }
{   B-Spline:                                                            }
{              -1   3  -3   1           /                                }
{               3  -6   3   0          /                                 }
{              -3   0   3   0         /  6                               }
{               1   4   1   0        /                                   }
{                                                                        }
{   CatMull-Rom:                                                         }
{              -1   3  -3   1           /                                }
{               2  -5   4  -1          /                                 }
{              -1   0   1   0         /   2                              }
{               0   2   0   0        /                                   }
{                                                                        }
{    The basic differences between the splines:                          }
{                                                                        }
{       B-Splines only passes through the first and last point in the    }
{   list of control points, the other points merely provide degrees of   }
{   influence over parts of the curve (BSpline in green shows this).     }
{                                                                        }
{       Catmull-Rom splines is one of a few splines that actually pass   }
{   through each and every control point the tangent of the curve as     }
{   it passes P1 is the tangent of the slope between P0 and P2 (The      }
{   curve is shown in red)                                               }
{                                                                        }
{       There is another spline type that passes through all the         }
{   control points which was developed by Kochanek and Bartels and if    }
{   anybody knows the basis matrix could they E-Mail to me ASAP.         }
{                                                                        }
{      In the example shown the program produces 5 random points and     }
{   displays the 2 spline as well as the control points. You can alter   }
{   the number of points as well as the drawing resolution via the       }
{   appropriate parameters.                                              }
{------------------------------------------------------------------------}

</i></font><font color="#FF0000"><b>PROGRAM </b></font>Spline<font color="#000080">;

</font><font color="#FF0000"><b>USES </b></font>Graph<font color="#000080">;

</font><font color="#FF0000"><b>TYPE
   </b></font>Point3D <font color="#000080">= </font><font color="#FF0000"><b>Record
     </b></font>X<font color="#000080">, </font>Y<font color="#000080">, </font>Z<font color="#000080">: </font>Real<font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>VAR  </b></font>CtrlPt<font color="#000080">: </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[-</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">80</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Point3D<font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Spline_Calc <font color="#000080">(</font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">: </font>Point3D<font color="#000080">; </font>T<font color="#000080">, </font>D<font color="#000080">: </font>Real<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>X<font color="#000080">, </font>Y<font color="#000080">: </font>Real<font color="#000080">);
</font><font color="#FF0000"><b>VAR </b></font>T2<font color="#000080">, </font>T3<font color="#000080">: </font>Real<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
   </b></font>T2 <font color="#000080">:= </font>T <font color="#000080">* </font>T<font color="#000080">;                                       </font><font color="#008000"><i>{ Square of t }
   </i></font>T3 <font color="#000080">:= </font>T2 <font color="#000080">* </font>T<font color="#000080">;                                      </font><font color="#008000"><i>{ Cube of t }
   </i></font>X <font color="#000080">:= ((</font>Ap<font color="#000080">.</font>X<font color="#000080">*</font>T3<font color="#000080">) + (</font>Bp<font color="#000080">.</font>X<font color="#000080">*</font>T2<font color="#000080">) + (</font>Cp<font color="#000080">.</font>X<font color="#000080">*</font>T<font color="#000080">) + </font>Dp<font color="#000080">.</font>X<font color="#000080">)/</font>D<font color="#000080">;  </font><font color="#008000"><i>{ Calc x value }
   </i></font>Y <font color="#000080">:= ((</font>Ap<font color="#000080">.</font>Y<font color="#000080">*</font>T3<font color="#000080">) + (</font>Bp<font color="#000080">.</font>Y<font color="#000080">*</font>T2<font color="#000080">) + (</font>Cp<font color="#000080">.</font>Y<font color="#000080">*</font>T<font color="#000080">) + </font>Dp<font color="#000080">.</font>Y<font color="#000080">)/</font>D<font color="#000080">;  </font><font color="#008000"><i>{ Calc y value }
</i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>BSpline_ComputeCoeffs <font color="#000080">(</font>N<font color="#000080">: </font>Integer<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">: </font>Point3D<font color="#000080">);
</font><font color="#FF0000"><b>BEGIN
   </b></font>Ap<font color="#000080">.</font>X <font color="#000080">:= -</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>X <font color="#000080">- </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">+ </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">].</font>X<font color="#000080">;
   </font>Bp<font color="#000080">.</font>X <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">- </font><font color="#800000">6</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>X <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>X<font color="#000080">;
   </font>Cp<font color="#000080">.</font>X <font color="#000080">:= -</font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>X<font color="#000080">;
   </font>Dp<font color="#000080">.</font>X <font color="#000080">:= </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">+ </font><font color="#800000">4</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>X <font color="#000080">+ </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>X<font color="#000080">;
   </font>Ap<font color="#000080">.</font>Y <font color="#000080">:= -</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>Y <font color="#000080">- </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">+ </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">].</font>Y<font color="#000080">;
   </font>Bp<font color="#000080">.</font>Y <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">- </font><font color="#800000">6</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>Y <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>Y<font color="#000080">;
   </font>Cp<font color="#000080">.</font>Y <font color="#000080">:= -</font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>Y<font color="#000080">;
   </font>Dp<font color="#000080">.</font>Y <font color="#000080">:= </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">+ </font><font color="#800000">4</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>Y <font color="#000080">+ </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>Y<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Catmull_Rom_ComputeCoeffs <font color="#000080">(</font>N<font color="#000080">: </font>Integer<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">: </font>Point3D<font color="#000080">);
</font><font color="#FF0000"><b>BEGIN
   </b></font>Ap<font color="#000080">.</font>X <font color="#000080">:= -</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>X <font color="#000080">- </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">+ </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">].</font>X<font color="#000080">;
   </font>Bp<font color="#000080">.</font>X <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">- </font><font color="#800000">5</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>X <font color="#000080">+ </font><font color="#800000">4</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">- </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">].</font>X<font color="#000080">;
   </font>Cp<font color="#000080">.</font>X <font color="#000080">:= -</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">+ </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>X<font color="#000080">;
   </font>Dp<font color="#000080">.</font>X <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>X<font color="#000080">;
   </font>Ap<font color="#000080">.</font>Y <font color="#000080">:= -</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">+ </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>Y <font color="#000080">- </font><font color="#800000">3</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">+ </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">].</font>Y<font color="#000080">;
   </font>Bp<font color="#000080">.</font>Y <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">- </font><font color="#800000">5</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>Y <font color="#000080">+ </font><font color="#800000">4</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">- </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">].</font>Y<font color="#000080">;
   </font>Cp<font color="#000080">.</font>Y <font color="#000080">:= -</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">+ </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">].</font>Y<font color="#000080">;
   </font>Dp<font color="#000080">.</font>Y <font color="#000080">:= </font><font color="#800000">2</font><font color="#000080">*</font>CtrlPt<font color="#000080">[</font>N<font color="#000080">].</font>Y<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>BSpline <font color="#000080">(</font>N<font color="#000080">, </font>Resolution<font color="#000080">, </font>Colour<font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>VAR </b></font>I<font color="#000080">, </font>J<font color="#000080">: </font>Integer<font color="#000080">; </font>X<font color="#000080">, </font>Y<font color="#000080">, </font>Lx<font color="#000080">, </font>Ly<font color="#000080">: </font>Real<font color="#000080">; </font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">: </font>Point3D<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
   </b></font>SetColor<font color="#000080">(</font>Colour<font color="#000080">);
   </font>CtrlPt<font color="#000080">[-</font><font color="#800000">1</font><font color="#000080">] := </font>CtrlPt<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
   </font>CtrlPt<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font>CtrlPt<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
   </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">];
   </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">] := </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">];
   </font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font>N <font color="#FF0000"><b>Do Begin
     </b></font>BSpline_ComputeCoeffs<font color="#000080">(</font>I<font color="#000080">, </font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">);
     </font>Spline_Calc<font color="#000080">(</font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">6</font><font color="#000080">, </font>Lx<font color="#000080">, </font>Ly<font color="#000080">);
     </font><font color="#FF0000"><b>For </b></font>J <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>Resolution <font color="#FF0000"><b>Do Begin
       </b></font>Spline_Calc<font color="#000080">(</font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">, </font>J<font color="#000080">/</font>Resolution<font color="#000080">, </font><font color="#800000">6</font><font color="#000080">, </font>X<font color="#000080">, </font>Y<font color="#000080">);
       </font>Line<font color="#000080">(</font>Round<font color="#000080">(</font>Lx<font color="#000080">), </font>Round<font color="#000080">(</font>Ly<font color="#000080">), </font>Round<font color="#000080">(</font>X<font color="#000080">), </font>Round<font color="#000080">(</font>Y<font color="#000080">));
       </font>Lx <font color="#000080">:= </font>X<font color="#000080">; </font>Ly <font color="#000080">:= </font>Y<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>Catmull_Rom_Spline <font color="#000080">(</font>N<font color="#000080">, </font>Resolution<font color="#000080">, </font>Colour<font color="#000080">: </font>Integer<font color="#000080">);
</font><font color="#FF0000"><b>VAR </b></font>I<font color="#000080">, </font>J<font color="#000080">: </font>Integer<font color="#000080">; </font>X<font color="#000080">, </font>Y<font color="#000080">, </font>Lx<font color="#000080">, </font>Ly<font color="#000080">: </font>Real<font color="#000080">; </font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">: </font>Point3D<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
   </b></font>SetColor<font color="#000080">(</font>Colour<font color="#000080">);
   </font>CtrlPt<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font>CtrlPt<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">];
   </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">] := </font>CtrlPt<font color="#000080">[</font>N<font color="#000080">];
   </font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>N<font color="#000080">-</font><font color="#800000">1 </font><font color="#FF0000"><b>Do Begin
     </b></font>Catmull_Rom_ComputeCoeffs<font color="#000080">(</font>I<font color="#000080">, </font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">);
     </font>Spline_Calc<font color="#000080">(</font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">, </font><font color="#800000">0</font><font color="#000080">, </font><font color="#800000">2</font><font color="#000080">, </font>Lx<font color="#000080">, </font>Ly<font color="#000080">);
     </font><font color="#FF0000"><b>For </b></font>J <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>Resolution <font color="#FF0000"><b>Do Begin
       </b></font>Spline_Calc<font color="#000080">(</font>Ap<font color="#000080">, </font>Bp<font color="#000080">, </font>Cp<font color="#000080">, </font>Dp<font color="#000080">, </font>J<font color="#000080">/</font>Resolution<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">, </font>X<font color="#000080">, </font>Y<font color="#000080">);
       </font>Line<font color="#000080">(</font>Round<font color="#000080">(</font>Lx<font color="#000080">), </font>Round<font color="#000080">(</font>Ly<font color="#000080">), </font>Round<font color="#000080">(</font>X<font color="#000080">), </font>Round<font color="#000080">(</font>Y<font color="#000080">));
       </font>Lx <font color="#000080">:= </font>X<font color="#000080">; </font>Ly <font color="#000080">:= </font>Y<font color="#000080">;
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>VAR </b></font>I<font color="#000080">, </font>J<font color="#000080">, </font>Res<font color="#000080">, </font>NumPts<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
   </b></font>I <font color="#000080">:= </font>Detect<font color="#000080">;
   </font>InitGraph<font color="#000080">(</font>I<font color="#000080">, </font>J<font color="#000080">, </font><font color="#800000">'e:\bp\bgi'</font><font color="#000080">);
   </font>I <font color="#000080">:= </font>GetMaxX<font color="#000080">; </font>J <font color="#000080">:= </font>GetMaxY<font color="#000080">;
   </font>Randomize<font color="#000080">;
   </font>CtrlPt<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>X <font color="#000080">:= </font>Random<font color="#000080">(</font>I<font color="#000080">); </font>CtrlPt<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">].</font>Y <font color="#000080">:= </font>Random<font color="#000080">(</font>J<font color="#000080">);
   </font>CtrlPt<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>X <font color="#000080">:= </font>Random<font color="#000080">(</font>I<font color="#000080">); </font>CtrlPt<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">].</font>Y <font color="#000080">:= </font>Random<font color="#000080">(</font>J<font color="#000080">);
   </font>CtrlPt<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>X <font color="#000080">:= </font>Random<font color="#000080">(</font>I<font color="#000080">); </font>CtrlPt<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">].</font>Y <font color="#000080">:= </font>Random<font color="#000080">(</font>J<font color="#000080">);
   </font>CtrlPt<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>X <font color="#000080">:= </font>Random<font color="#000080">(</font>I<font color="#000080">); </font>CtrlPt<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">].</font>Y <font color="#000080">:= </font>Random<font color="#000080">(</font>J<font color="#000080">);
   </font>CtrlPt<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>X <font color="#000080">:= </font>Random<font color="#000080">(</font>I<font color="#000080">); </font>CtrlPt<font color="#000080">[</font><font color="#800000">5</font><font color="#000080">].</font>Y <font color="#000080">:= </font>Random<font color="#000080">(</font>J<font color="#000080">);
   </font>Res <font color="#000080">:= </font><font color="#800000">20</font><font color="#000080">;
   </font>NumPts <font color="#000080">:= </font><font color="#800000">5</font><font color="#000080">;
   </font>BSpline<font color="#000080">(</font>NumPts<font color="#000080">, </font>Res<font color="#000080">, </font>LightGreen<font color="#000080">);
   </font>CatMull_Rom_Spline<font color="#000080">(</font>NumPts<font color="#000080">, </font>Res<font color="#000080">, </font>LightRed<font color="#000080">);
   </font>SetColor<font color="#000080">(</font>Yellow<font color="#000080">);
   </font><font color="#FF0000"><b>For </b></font>I <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>To </b></font>NumPts <font color="#FF0000"><b>Do Begin
     </b></font>Line<font color="#000080">(</font>Round<font color="#000080">(</font>CtrlPt<font color="#000080">[</font>I<font color="#000080">].</font>X<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">), </font>Round<font color="#000080">(</font>CtrlPt<font color="#000080">[</font>I<font color="#000080">].</font>Y<font color="#000080">),
       </font>Round<font color="#000080">(</font>CtrlPt<font color="#000080">[</font>I<font color="#000080">].</font>X<font color="#000080">+</font><font color="#800000">3</font><font color="#000080">), </font>Round<font color="#000080">(</font>CtrlPt<font color="#000080">[</font>I<font color="#000080">].</font>Y<font color="#000080">));
     </font>Line<font color="#000080">(</font>Round<font color="#000080">(</font>CtrlPt<font color="#000080">[</font>I<font color="#000080">].</font>X<font color="#000080">), </font>Round<font color="#000080">(</font>CtrlPt<font color="#000080">[</font>I<font color="#000080">].</font>Y<font color="#000080">-</font><font color="#800000">3</font><font color="#000080">),
       </font>Round<font color="#000080">(</font>CtrlPt<font color="#000080">[</font>I<font color="#000080">].</font>X<font color="#000080">), </font>Round<font color="#000080">(</font>CtrlPt<font color="#000080">[</font>I<font color="#000080">].</font>Y<font color="#000080">+</font><font color="#800000">3</font><font color="#000080">));
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
   </font>ReadLn<font color="#000080">;
   </font>CloseGraph<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0131.PAS">Original</a><b>]</b></p></body>
</html>
