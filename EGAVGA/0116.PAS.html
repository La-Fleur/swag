<html>
<head><title> "More Text Fading." by JUSTIN KING</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0116.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ In Procdures FADEIN &amp; FADEOUT, the (X) is the delay between
  screen darkenings. }

 </i></font><font color="#FF0000"><b>Unit </b></font>Fade<font color="#000080">;
 </font><font color="#FF0000"><b>Interface

   Uses </b></font>Crt<font color="#000080">;

   </font><font color="#FF0000"><b>Const
     </b></font>PelAddrRgR  <font color="#000080">= </font><font color="#800000">$3C7</font><font color="#000080">;       
     </font>PelAddrRgW  <font color="#000080">= </font><font color="#800000">$3C8</font><font color="#000080">;            
     </font>PelDataReg  <font color="#000080">= </font><font color="#800000">$3C9</font><font color="#000080">;

   </font><font color="#FF0000"><b>Type
     </b></font>RGB <font color="#000080">= </font><font color="#FF0000"><b>Record                   
             </b></font>R<font color="#000080">,                     
             </font>G<font color="#000080">,
             </font>B <font color="#000080">: </font>Byte<font color="#000080">;
           </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
   </font>Color <font color="#000080">= </font><font color="#FF0000"><b>Array </b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">63</font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>RGB<font color="#000080">;   

   </font><font color="#FF0000"><b>Var
     </b></font>Col <font color="#000080">: </font>Color<font color="#000080">;           


   </font><font color="#FF0000"><b>Procedure </b></font>GetCol<font color="#000080">(</font>C <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>R<font color="#000080">, </font>G<font color="#000080">, </font>B <font color="#000080">: </font>Byte<font color="#000080">);
   </font><font color="#FF0000"><b>Procedure </b></font>SetCol<font color="#000080">(</font>C<font color="#000080">, </font>R<font color="#000080">, </font>G<font color="#000080">, </font>B <font color="#000080">: </font>Byte<font color="#000080">);
   </font><font color="#FF0000"><b>Procedure </b></font>SetInten<font color="#000080">(</font>B <font color="#000080">: </font>Byte<font color="#000080">);
   </font><font color="#FF0000"><b>Procedure </b></font>FadeIn <font color="#000080">(</font>X<font color="#000080">:</font>Integer<font color="#000080">);
   </font><font color="#FF0000"><b>Procedure </b></font>FadeOut <font color="#000080">(</font>X<font color="#000080">:</font>Integer<font color="#000080">);

 </font><font color="#FF0000"><b>Implementation

 

Procedure </b></font>GetCol<font color="#000080">(</font>C <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#FF0000"><b>Var </b></font>R<font color="#000080">, </font>G<font color="#000080">, </font>B <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
  </b></font>Port<font color="#000080">[</font>PelAddrRgR<font color="#000080">] := </font>C<font color="#000080">;
  </font>R <font color="#000080">:= </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">];
  </font>G <font color="#000080">:= </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">];
  </font>B <font color="#000080">:= </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">];
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;
   
</font><font color="#FF0000"><b>Procedure </b></font>SetCol<font color="#000080">(</font>C<font color="#000080">, </font>R<font color="#000080">, </font>G<font color="#000080">, </font>B <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#FF0000"><b>Begin
  </b></font>Port<font color="#000080">[</font>PelAddrRgW<font color="#000080">] := </font>C<font color="#000080">;
  </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">] := </font>R<font color="#000080">;
  </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">] := </font>G<font color="#000080">;
  </font>Port<font color="#000080">[</font>PelDataReg<font color="#000080">] := </font>B<font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SetInten<font color="#000080">(</font>b <font color="#000080">: </font>Byte<font color="#000080">);
 </font><font color="#FF0000"><b>Var
   </b></font>I <font color="#000080">: </font>Integer<font color="#000080">;
   </font>FR<font color="#000080">, </font>FG<font color="#000080">, </font>FB <font color="#000080">: </font>Byte<font color="#000080">;
 </font><font color="#FF0000"><b>Begin
   For </b></font>I<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">63 </font><font color="#FF0000"><b>Do
   Begin
     </b></font>FR<font color="#000080">:=</font>Col<font color="#000080">[</font>I<font color="#000080">].</font>R<font color="#000080">*</font>B <font color="#FF0000"><b>Div </b></font><font color="#800000">63</font><font color="#000080">;
     </font>FG<font color="#000080">:=</font>Col<font color="#000080">[</font>I<font color="#000080">].</font>G<font color="#000080">*</font>B <font color="#FF0000"><b>Div </b></font><font color="#800000">63</font><font color="#000080">;
     </font>FB<font color="#000080">:=</font>Col<font color="#000080">[</font>I<font color="#000080">].</font>B<font color="#000080">*</font>B <font color="#FF0000"><b>Div </b></font><font color="#800000">63</font><font color="#000080">;
     </font>SetCol<font color="#000080">(</font>I<font color="#000080">, </font>FR<font color="#000080">, </font>FG<font color="#000080">, </font>FB<font color="#000080">);
   </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>FadeIn <font color="#000080">(</font>X<font color="#000080">:</font>Integer<font color="#000080">);
 </font><font color="#FF0000"><b>Var
   </b></font>Y<font color="#000080">:</font>Integer<font color="#000080">;           </font><font color="#008000"><i>(* Y is the LCV *)
 </i></font><font color="#FF0000"><b>Begin
   For </b></font>Y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">63 </font><font color="#FF0000"><b>Do
     Begin
       </b></font>SetInten<font color="#000080">(</font>Y<font color="#000080">);
       </font>Delay<font color="#000080">(</font>X<font color="#000080">);
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>FadeOut <font color="#000080">(</font>X<font color="#000080">:</font>Integer<font color="#000080">);
 </font><font color="#FF0000"><b>Var
   </b></font>Y<font color="#000080">:</font>Integer<font color="#000080">;    </font><font color="#008000"><i>(* Y is the LCV *)
 </i></font><font color="#FF0000"><b>Begin
   For </b></font>Y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>To </b></font><font color="#800000">63 </font><font color="#FF0000"><b>Do
     </b></font>GetCol<font color="#000080">(</font>Y<font color="#000080">, </font>Col<font color="#000080">[</font>Y<font color="#000080">].</font>R<font color="#000080">, </font>Col<font color="#000080">[</font>Y<font color="#000080">].</font>G<font color="#000080">, </font>Col<font color="#000080">[</font>Y<font color="#000080">].</font>B<font color="#000080">);
   </font><font color="#FF0000"><b>For </b></font>Y<font color="#000080">:=</font><font color="#800000">63 </font><font color="#FF0000"><b>DownTo </b></font><font color="#800000">0 </font><font color="#FF0000"><b>Do
     Begin
       </b></font>SetInten<font color="#000080">(</font>Y<font color="#000080">);
       </font>Delay<font color="#000080">(</font>X<font color="#000080">);
     </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0116.PAS">Original</a><b>]</b></p></body>
</html>
