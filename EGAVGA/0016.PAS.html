<html>
<head><title> "Get/Put Image functions" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0016.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{Here is a small Program that illustrates the features of GetImage/PutImage that
you would like to use:
}
 {$A+,B-,D+,E-,F-,G+,I-,L+,N-,O-,R-,S+,V-,X+}
 {$M 16384,0,655360}
 </i></font><font color="#FF0000"><b>Uses </b></font>Graph<font color="#000080">;
 </font><font color="#008000"><i>(* Turbo Pascal, Width= 20 Height= 23 Colors= 16 *)
 </i></font><font color="#FF0000"><b>Const
   </b></font>Pac<font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">282</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte <font color="#000080">= (
          </font><font color="#800000">$13</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$16</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,
          </font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$01</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$03</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$03</font><font color="#000080">,
          </font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$03</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$FC</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$07</font><font color="#000080">,</font><font color="#800000">$8F</font><font color="#000080">,
          </font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$07</font><font color="#000080">,</font><font color="#800000">$8F</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$07</font><font color="#000080">,</font><font color="#800000">$8F</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$F8</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$3F</font><font color="#000080">,
          </font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$77</font><font color="#000080">,</font><font color="#800000">$F0</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$17</font><font color="#000080">,</font><font color="#800000">$F0</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$17</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,
          </font><font color="#800000">$70</font><font color="#000080">,</font><font color="#800000">$0F</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$77</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$37</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$37</font><font color="#000080">,
          </font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,</font><font color="#800000">$70</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$3F</font><font color="#000080">,</font><font color="#800000">$77</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$3F</font><font color="#000080">,</font><font color="#800000">$17</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,
          </font><font color="#800000">$3F</font><font color="#000080">,</font><font color="#800000">$17</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$70</font><font color="#000080">,</font><font color="#800000">$3F</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$8F</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,
          </font><font color="#800000">$8F</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$8F</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,
          </font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,
          </font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FC</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,
          </font><font color="#800000">$01</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FC</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FC</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F8</font><font color="#000080">,
          </font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$03</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F8</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F8</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,
          </font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F0</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$07</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F0</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,
          </font><font color="#800000">$F0</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$0F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F8</font><font color="#000080">,
          </font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F8</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F0</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$07</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,
          </font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FC</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FC</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F8</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,
          </font><font color="#800000">$03</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$FC</font><font color="#000080">,
          </font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$01</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,
          </font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,
          </font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$3F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,
          </font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$3F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$3F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$3F</font><font color="#000080">,
          </font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,
          </font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F0</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$F0</font><font color="#000080">,</font><font color="#800000">$1F</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,
          </font><font color="#800000">$E0</font><font color="#000080">,</font><font color="#800000">$E0</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$0F</font><font color="#000080">,</font><font color="#800000">$07</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$07</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,
          </font><font color="#800000">$07</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$C0</font><font color="#000080">,</font><font color="#800000">$F8</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$3F</font><font color="#000080">,</font><font color="#800000">$03</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$03</font><font color="#000080">,
          </font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$03</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$80</font><font color="#000080">,</font><font color="#800000">$FC</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$7F</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,
          </font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FE</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,</font><font color="#800000">$01</font><font color="#000080">,</font><font color="#800000">$FF</font><font color="#000080">,
          </font><font color="#800000">$00</font><font color="#000080">,</font><font color="#800000">$00</font><font color="#000080">);
 </font><font color="#FF0000"><b>Var </b></font>Size<font color="#000080">,</font>Result<font color="#000080">: </font>Word<font color="#000080">;
     </font>Gd<font color="#000080">, </font>Gm<font color="#000080">: </font>Integer<font color="#000080">;
     </font>P<font color="#000080">: </font>Pointer<font color="#000080">;
     </font>F<font color="#000080">: </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
 </font><font color="#FF0000"><b>begin
 </b></font><font color="#008000"><i>{ Find correct display/card-Type and initiallize stuff }
   </i></font>Gd <font color="#000080">:= </font>Detect<font color="#000080">;
   </font>InitGraph<font color="#000080">(</font>Gd<font color="#000080">, </font>Gm<font color="#000080">, </font><font color="#800000">'d:\bp\bgi'</font><font color="#000080">);
   </font><font color="#FF0000"><b>if </b></font>GraphResult <font color="#000080">&lt;&gt; </font>grOk <font color="#FF0000"><b>then </b></font>Halt<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">); </font><font color="#008000"><i>{ Error initialize }
   </i></font>ClearDevice<font color="#000080">;

   </font>SetFillStyle<font color="#000080">(</font>SolidFill<font color="#000080">,</font>Blue<font color="#000080">);
   </font>Bar<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">639</font><font color="#000080">,</font><font color="#800000">479</font><font color="#000080">);
   </font>P <font color="#000080">:= @</font>Pac<font color="#000080">;                                </font><font color="#008000"><i>(* Pass the address of the   *)
                                             (* Pac Constant to a Pointer *)
   </i></font>PutImage<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>P<font color="#000080">^,</font>NormalPut<font color="#000080">);               </font><font color="#008000"><i>(* Display image             *)

   </i></font>Size <font color="#000080">:= </font>ImageSize<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">23</font><font color="#000080">) </font><font color="#008000"><i>{ Get size of your picture }</i></font><font color="#000080">;
   </font>GetMem<font color="#000080">(</font>P<font color="#000080">, </font>Size<font color="#000080">); </font><font color="#008000"><i>{ Get memory from heap }
   </i></font>GetImage<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">20</font><font color="#000080">,</font><font color="#800000">23</font><font color="#000080">,</font>P<font color="#000080">^) </font><font color="#008000"><i>{ Capture picture itself in P^ }</i></font><font color="#000080">;

   </font>ClearDevice<font color="#000080">;

   </font>Assign<font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">'IMAGE'</font><font color="#000080">);
   </font>reWrite<font color="#000080">(</font>F<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
   </font>BlockWrite<font color="#000080">(</font>F<font color="#000080">,</font>P<font color="#000080">^,</font>Size<font color="#000080">,</font>Result<font color="#000080">) </font><font color="#008000"><i>{ Put picture (from P^) in File F }</i></font><font color="#000080">;
   </font><font color="#FF0000"><b>if </b></font>Ioresult <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>Halt<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">) </font><font color="#008000"><i>{ Error during BlockWrite I/O }</i></font><font color="#000080">;
   </font><font color="#FF0000"><b>if </b></font>Result <font color="#000080">&lt;&gt; </font>Size <font color="#FF0000"><b>then </b></font>Halt<font color="#000080">(</font><font color="#800000">3</font><font color="#000080">) </font><font color="#008000"><i>{ not enough data written to F }</i></font><font color="#000080">;
   </font>close<font color="#000080">(</font>F<font color="#000080">);
   </font><font color="#FF0000"><b>if </b></font>Ioresult <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>Halt<font color="#000080">(</font><font color="#800000">4</font><font color="#000080">) </font><font color="#008000"><i>{ Error during Close of F }</i></font><font color="#000080">;

   </font>PutImage<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>P<font color="#000080">^,</font>NormalPut<font color="#000080">);
   </font>FreeMem<font color="#000080">(</font>P<font color="#000080">,</font>Size<font color="#000080">) </font><font color="#008000"><i>{ Free memory. This is GPP. }</i></font><font color="#000080">;
   </font>ReadLn <font color="#008000"><i>{ Hit any key to continue }</i></font><font color="#000080">;
   </font>ClearDevice<font color="#000080">;
   </font>CloseGraph<font color="#000080">;
 </font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0016.PAS">Original</a><b>]</b></p></body>
</html>
