<html>
<head><title> "256 VGA Colors" by WILBER VAN LEIJEN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0050.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000080">==============================================================================
 </font>BBS<font color="#000080">: &reg;&reg; </font>The Information <font color="#FF0000"><b>and </b></font>Technology Exchan
  <font color="#FF0000"><b>To</b></font><font color="#000080">: </font>DOUGLAS BAKER                Date<font color="#000080">: </font><font color="#800000">11</font><font color="#000080">-</font><font color="#800000">11</font><font color="#000080">&Auml;</font><font color="#800000">91 </font><font color="#000080">(</font><font color="#800000">20</font><font color="#000080">:</font><font color="#800000">18</font><font color="#000080">)
</font>From<font color="#000080">: </font>WILBERT VAN<font color="#000080">.</font>LEIJEN         Number<font color="#000080">: </font><font color="#800000">2147   </font><font color="#000080">[</font><font color="#800000">101</font><font color="#000080">] </font><font color="#FF0000"><b>PASCAL
</b></font>Subj<font color="#000080">: </font><font color="#800000">256 </font>TEXT COLORS<font color="#000080">?           </font>Status<font color="#000080">: </font><font color="#FF0000"><b>Public
</b></font><font color="#000080">------------------------------------------------------------------------------
</font>Hi Doug<font color="#000080">,

 &gt; </font>I was wondering <font color="#FF0000"><b>if </b></font>anyone knows <font color="#FF0000"><b>if </b></font><font color="#800000">256 </font>text colors can be accessed
 <font color="#000080">&gt; </font><font color="#FF0000"><b>with </b></font>a VGA adaptor<font color="#000080">. </font>I figured that since such programs <font color="#FF0000"><b>as </b></font>VGADimmer
 <font color="#000080">&gt; </font>exist<font color="#000080">, (</font><font color="#FF0000"><b>to </b></font>change the brightness<font color="#000080">) </font>I should be able <font color="#FF0000"><b>to </b></font>change the
 <font color="#000080">&gt; </font>intensity ofd each color <font color="#FF0000"><b>to </b></font>simulate the <font color="#800000">256 </font>colors<font color="#000080">. </font>Any help <font color="#FF0000"><b>and </b></font>TP
 <font color="#000080">&gt; </font><font color="#800000">5.5 </font><font color="#FF0000"><b>or </b></font><font color="#800000">6.0 </font>routines would be appreciated<font color="#000080">.

</font>You can have no more than <font color="#800000">16 </font>colours <font color="#FF0000"><b>in </b></font>text mode<font color="#000080">.  </font>These colours can be
selected <font color="#FF0000"><b>on </b></font>the VGA from <font color="#800000">255 </font>registers <font color="#FF0000"><b>and </b></font>changed at will<font color="#000080">.  </font>Each <font color="#FF0000"><b>register </b></font>can
also be programmed <font color="#FF0000"><b>to </b></font>hold a specific Red<font color="#000080">, </font>Blue <font color="#FF0000"><b>and </b></font>Green value ranging from
<font color="#800000">0</font><font color="#000080">..</font><font color="#800000">63</font><font color="#000080">, </font>giving <font color="#800000">64</font><font color="#000080">*</font><font color="#800000">64</font><font color="#000080">*</font><font color="#800000">64 </font><font color="#000080">= </font><font color="#800000">262</font><font color="#000080">,</font><font color="#800000">144 </font>unique colours<font color="#000080">.
</font>The registers are referred <font color="#FF0000"><b>to as </b></font>the <font color="#800000">'DAC registers'</font><font color="#000080">.

</font><font color="#FF0000"><b>Program </b></font>ShowDoug<font color="#000080">;

</font><font color="#008000"><i>{$X+ }

</i></font><font color="#FF0000"><b>uses </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>MinIntensity <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
  </font>MaxIntensity <font color="#000080">= </font><font color="#800000">63</font><font color="#000080">;

</font><font color="#FF0000"><b>Type
  </b></font>ColourRange  <font color="#000080">= </font>MinIntensity<font color="#000080">..</font>MaxIntensity<font color="#000080">;
  </font>RGBType      <font color="#000080">= </font><font color="#FF0000"><b>Record
                   </b></font>r<font color="#000080">, </font>g<font color="#000080">, </font>b   <font color="#000080">: </font>ColourRange<font color="#000080">;
                 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{ Store colour information to DAC register }

</i></font><font color="#FF0000"><b>Procedure </b></font>SetRegister<font color="#000080">(</font><font color="#FF0000"><b>register </b></font><font color="#000080">: </font>Byte<font color="#000080">; </font>colour <font color="#000080">: </font>ColourRange<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;

</font><font color="#FF0000"><b>ASM
        </b></font><font color="#FF00FF">MOV     BH, colour
        MOV     BL, register
        MOV     AX, 1000h
        INT     10h
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;  </font><font color="#008000"><i>{ SetRegister }

{ Store the Red, Green and Blue intensity into a DAC register }

</i></font><font color="#FF0000"><b>Procedure </b></font>SetRGBValue<font color="#000080">(</font><font color="#FF0000"><b>register </b></font><font color="#000080">: </font>Byte<font color="#000080">; </font>RGB <font color="#000080">: </font>RGBType<font color="#000080">); </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;

</font><font color="#FF0000"><b>ASM
        </b></font><font color="#FF00FF">PUSH    DS
        LDS     SI, RGB
        XOR     BX, BX
        MOV     BL, register
        LODSB
        MOV     DH, AL
        LODSW
        XCHG    CX, AX
        XCHG    CH, CL
        MOV     AX, 1010h
        INT     10h
        POP     DS
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;  </font><font color="#008000"><i>{ SetRGBValue }

</i></font><font color="#FF0000"><b>Var
  </b></font>i<font color="#000080">, </font>j<font color="#000080">, </font>t <font color="#000080">: </font>Integer<font color="#000080">;
  </font>RGB <font color="#000080">: </font>RGBType<font color="#000080">;

</font><font color="#FF0000"><b>Begin
  </b></font>ClrScr<font color="#000080">;
  </font>Randomize<font color="#000080">;
  </font>TextBackground<font color="#000080">(</font>black<font color="#000080">);
  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">25 </font><font color="#FF0000"><b>Do
    Begin
      </b></font>t <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>For </b></font>j <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">80 </font><font color="#FF0000"><b>Do
        Begin
          </b></font>TextColor<font color="#000080">(</font>t<font color="#000080">);
          </font><font color="#FF0000"><b>If </b></font>j <font color="#FF0000"><b>mod </b></font><font color="#800000">5 </font><font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>Then
            </b></font>Inc<font color="#000080">(</font>t<font color="#000080">);
          </font><font color="#FF0000"><b>If not </b></font><font color="#000080">((</font>j <font color="#000080">= </font><font color="#800000">80</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>i <font color="#000080">= </font><font color="#800000">25</font><font color="#000080">)) </font><font color="#FF0000"><b>Then
            </b></font>Write<font color="#000080">(</font><font color="#800000">#219</font><font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>Repeat                          </b></font><font color="#008000"><i>{ fiddle with the registers }
    </i></font>SetRegister<font color="#000080">(</font>Random<font color="#000080">(</font><font color="#800000">16</font><font color="#000080">), </font>Random<font color="#000080">(</font><font color="#800000">64</font><font color="#000080">));
    </font>Delay<font color="#000080">(</font><font color="#800000">200</font><font color="#000080">);
  </font><font color="#FF0000"><b>Until </b></font>KeyPressed<font color="#000080">;
  </font>ReadKey<font color="#000080">;
  </font><font color="#FF0000"><b>Repeat                           </b></font><font color="#008000"><i>{ fiddle with the R, G, B values }
    </i></font>RGB<font color="#000080">.</font>r <font color="#000080">:= </font>Random<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">);
    </font>RGB<font color="#000080">.</font>g <font color="#000080">:= </font>Random<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">);
    </font>RGB<font color="#000080">.</font>b <font color="#000080">:= </font>Random<font color="#000080">(</font><font color="#800000">255</font><font color="#000080">);
    </font>SetRGBValue<font color="#000080">(</font>Random<font color="#000080">(</font><font color="#800000">64</font><font color="#000080">), </font>RGB<font color="#000080">);
  </font><font color="#FF0000"><b>Until </b></font>KeyPressed<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.


--- </font>Dutchie V2<font color="#000080">.</font><font color="#800000">91</font>d
 <font color="#000080">* </font>Origin<font color="#000080">: </font>Point Wilbert <font color="#000080">| </font><font color="#800000">'I think, therefore I ASM'</font><font color="#000080">. (</font><font color="#800000">2</font><font color="#000080">:</font><font color="#800000">500</font><font color="#000080">/</font><font color="#800000">12.10956</font><font color="#000080">)
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0050.PAS">Original</a><b>]</b></p></body>
</html>
