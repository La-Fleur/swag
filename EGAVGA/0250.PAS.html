<html>
<head><title> "Another Flame Program" by IAN LIN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0250.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; What are plasmas or fire (I know they are graphics
&gt; displays, but what do they look like and what is the theory
&gt; behind them?

It's just graphics stuff. Fun stuff. Theory? None. Not everything has
theory to it. Here is a flame program.
}
{$G+}

</i></font><font color="#FF0000"><b>program </b></font>flames<font color="#000080">;

</font><font color="#FF0000"><b>uses </b></font>crt<font color="#000080">;
</font><font color="#FF0000"><b>const </b></font>palette <font color="#000080">: </font><font color="#FF0000"><b>array </b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">768</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte <font color="#000080">= (

    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">24</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">24</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">28</font><font color="#000080">,
    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">32</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">32</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">36</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">40</font><font color="#000080">,
    </font><font color="#800000">8</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">40</font><font color="#000080">,   </font><font color="#800000">16</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">36</font><font color="#000080">,   </font><font color="#800000">24</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">36</font><font color="#000080">,   </font><font color="#800000">32</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">32</font><font color="#000080">,
   </font><font color="#800000">40</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">28</font><font color="#000080">,   </font><font color="#800000">48</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">28</font><font color="#000080">,   </font><font color="#800000">56</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">24</font><font color="#000080">,   </font><font color="#800000">64</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">20</font><font color="#000080">,
   </font><font color="#800000">72</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,   </font><font color="#800000">20</font><font color="#000080">,   </font><font color="#800000">80</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">16</font><font color="#000080">,   </font><font color="#800000">88</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">16</font><font color="#000080">,   </font><font color="#800000">96</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">12</font><font color="#000080">,
  </font><font color="#800000">104</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">8</font><font color="#000080">,  </font><font color="#800000">112</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">8</font><font color="#000080">,  </font><font color="#800000">120</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">4</font><font color="#000080">,  </font><font color="#800000">128</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">128</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">132</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">136</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">140</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">144</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">144</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">148</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">152</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">156</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">160</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">160</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">164</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">168</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">172</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">176</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">180</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">184</font><font color="#000080">,    </font><font color="#800000">4</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">188</font><font color="#000080">,    </font><font color="#800000">4</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">192</font><font color="#000080">,    </font><font color="#800000">8</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">196</font><font color="#000080">,    </font><font color="#800000">8</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">200</font><font color="#000080">,   </font><font color="#800000">12</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">204</font><font color="#000080">,   </font><font color="#800000">12</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">208</font><font color="#000080">,   </font><font color="#800000">16</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">212</font><font color="#000080">,   </font><font color="#800000">16</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">216</font><font color="#000080">,   </font><font color="#800000">20</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">220</font><font color="#000080">,   </font><font color="#800000">20</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">224</font><font color="#000080">,   </font><font color="#800000">24</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">228</font><font color="#000080">,   </font><font color="#800000">24</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">232</font><font color="#000080">,   </font><font color="#800000">28</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">236</font><font color="#000080">,   </font><font color="#800000">28</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">240</font><font color="#000080">,   </font><font color="#800000">32</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">244</font><font color="#000080">,   </font><font color="#800000">32</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">36</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">36</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">40</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">40</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">44</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">44</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">48</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">48</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">52</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">52</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">56</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">56</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">60</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">60</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">64</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">64</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">68</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">68</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">72</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">72</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">76</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">76</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">80</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">80</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">84</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">84</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">88</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">88</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">92</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">96</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">96</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">100</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">100</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">104</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">104</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">108</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">108</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">112</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">112</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">116</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">116</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">120</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">120</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">124</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">124</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">128</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">128</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">132</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">132</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">136</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">136</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">140</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">140</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">144</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">144</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">148</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">152</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">152</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">156</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">156</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">160</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">160</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">164</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">164</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">168</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">168</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">172</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">172</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">176</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">176</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">180</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">180</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">184</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">184</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">188</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">188</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">192</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">192</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">196</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">196</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">200</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">200</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">204</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">208</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">208</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">208</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">208</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">208</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">212</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">212</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">212</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">212</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">216</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">216</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">216</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">216</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">216</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">220</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">220</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">220</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">220</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">224</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">224</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">224</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">224</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">228</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">228</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">228</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">228</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">228</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">232</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">232</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">232</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">232</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">236</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">236</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">236</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">236</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">240</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">240</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">244</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">244</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">244</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">248</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">248</font><font color="#000080">,    </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">248</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">248</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,     </font><font color="#800000">0</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">4</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,     </font><font color="#800000">8</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">12</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">16</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">20</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">24</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">28</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">32</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">36</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">40</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">40</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">44</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">48</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">52</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">56</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">60</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">64</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">68</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">72</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">76</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">80</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">84</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">84</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">88</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">92</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,    </font><font color="#800000">96</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">100</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">104</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">108</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">112</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">116</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">120</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">124</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">124</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">128</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">132</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">136</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">140</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">144</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">148</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">152</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">156</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">160</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">164</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">168</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">168</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">172</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">176</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">180</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">184</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">188</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">192</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">196</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">200</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">204</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">208</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">208</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">212</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">216</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">220</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">224</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">228</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">232</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">236</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">240</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">244</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">248</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">252</font><font color="#000080">,
  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">240</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">244</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">248</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,  </font><font color="#800000">252</font><font color="#000080">,   </font><font color="#800000">252</font><font color="#000080">);

   </font>radius    <font color="#000080">= </font><font color="#800000">1.9</font><font color="#000080">;
   </font>frequency <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;
   </font>angleinc  <font color="#000080">= </font><font color="#800000">3 </font><font color="#000080">* </font>pi <font color="#000080">/ </font>frequency<font color="#000080">;

</font><font color="#FF0000"><b>var
   </b></font>count       <font color="#000080">: </font>word<font color="#000080">;
   </font>delta       <font color="#000080">: </font>integer<font color="#000080">;
   </font>path        <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">199</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>word<font color="#000080">;
   </font>buffer      <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">102</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">159</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>integer<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>buildpath<font color="#000080">;
   </font><font color="#FF0000"><b>var
      </b></font>count     <font color="#000080">: </font>byte<font color="#000080">;
      </font>currangle <font color="#000080">: </font>real<font color="#000080">;
   </font><font color="#FF0000"><b>begin
      </b></font>currangle <font color="#000080">:= </font>pi<font color="#000080">;
      </font><font color="#FF0000"><b>for </b></font>count <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">199 </font><font color="#FF0000"><b>do
         begin
            </b></font>path<font color="#000080">[</font>count<font color="#000080">] := </font><font color="#800000">320 </font><font color="#000080">+ </font>round<font color="#000080">(</font>radius<font color="#000080">*</font>sin<font color="#000080">(</font>currangle<font color="#000080">));

            </font><font color="#008000"><i>{ the sin path _must_ lie on an even number }
            { otherwise the picture will be garbage     }

            </i></font><font color="#FF0000"><b>if </b></font>path<font color="#000080">[</font>count<font color="#000080">] </font><font color="#FF0000"><b>mod </b></font><font color="#800000">2 </font><font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
               if </b></font>path<font color="#000080">[</font>count<font color="#000080">] &gt; </font><font color="#800000">320 </font><font color="#FF0000"><b>then
                  </b></font>dec<font color="#000080">(</font>path<font color="#000080">[</font>count<font color="#000080">])            </font><font color="#008000"><i>{ round down }
               </i></font><font color="#FF0000"><b>else
                  </b></font>inc<font color="#000080">(</font>path<font color="#000080">[</font>count<font color="#000080">]);           </font><font color="#008000"><i>{ round up   }

            { the path is rounded to the closest even number to 320 }

            </i></font>currangle <font color="#000080">:= </font>currangle <font color="#000080">+ </font>angleinc<font color="#000080">;
         </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>randomize<font color="#000080">;
  </font>buildpath<font color="#000080">;

  </font><font color="#FF0000"><b>asm
     </b></font><font color="#FF00FF">mov   ax,13h              </font><font color="#008000"><i>{ ; AX := 13h                            }
     </i></font><font color="#FF00FF">int   10h                 </font><font color="#008000"><i>{ ; Set Mode 13h (320x200x256)           }

     </i></font><font color="#FF00FF">xor   ax,ax               </font><font color="#008000"><i>{ ; AX := 0                              }
     </i></font><font color="#FF00FF">mov   cx,768              </font><font color="#008000"><i>{ ; CX := # of palette entries           }
     </i></font><font color="#FF00FF">mov   dx,03C8h            </font><font color="#008000"><i>{ ; DX := VGA Port                       }
     </i></font><font color="#FF00FF">mov   si,offset palette   </font><font color="#008000"><i>{ ; SI := palette[0]                     }

     </i></font><font color="#FF00FF">out   dx,al               </font><font color="#008000"><i>{ ; send zero to index port              }
     </i></font><font color="#FF00FF">inc   dx                  </font><font color="#008000"><i>{ ; inc to write port                    }

   </i></font><font color="#FF00FF">@l1:

     mov   bl,[si]             </font><font color="#008000"><i>{ ; set palette entry                    }
     </i></font><font color="#FF00FF">shr   bl,2                </font><font color="#008000"><i>{ ; divide by 4                          }
     </i></font><font color="#FF00FF">mov   [si],bl             </font><font color="#008000"><i>{ ; save entry                           }
     </i></font><font color="#FF00FF">outsb                     </font><font color="#008000"><i>{ ; and write to port                    }
     </i></font><font color="#FF00FF">dec   cx                  </font><font color="#008000"><i>{ ; CX := CX - 1                         }
     </i></font><font color="#FF00FF">jnz   @l1                 </font><font color="#008000"><i>{ ; if not done then loop                }

     </i></font><font color="#FF00FF">mov   ax,seg buffer       </font><font color="#008000"><i>{ ; AX := segment of buffer              }
     </i></font><font color="#FF00FF">mov   es,ax               </font><font color="#008000"><i>{ ; ES := AX                             }
     </i></font><font color="#FF00FF">mov   di,offset buffer    </font><font color="#008000"><i>{ ; DI := buffer[0]                      }
     </i></font><font color="#FF00FF">mov   cx,8109             </font><font color="#008000"><i>{ ; CX := sizeof(buffer) div 2           }
     </i></font><font color="#FF00FF">xor   ax,ax               </font><font color="#008000"><i>{ ; AX := 0                              }
     </i></font><font color="#FF00FF">rep   stosw               </font><font color="#008000"><i>{ ; clear every element in buffer to zero}
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>repeat

     asm
        </b></font><font color="#FF00FF">mov   bx,1             </font><font color="#008000"><i>{ ; BX := 1                              }
        </i></font><font color="#FF00FF">mov   si,offset path   </font><font color="#008000"><i>{ ; SI := path[0]                        }

        </i></font><font color="#FF00FF">mov   cx,16160         </font><font color="#008000"><i>{ ; CX := # of elements to change        }
        </i></font><font color="#FF00FF">mov   di,offset buffer </font><font color="#008000"><i>{ ; DI := buffer[0]                      }
        </i></font><font color="#FF00FF">add   di,320           </font><font color="#008000"><i>{ ; DI := buffer[320] (0,1)              }

     </i></font><font color="#FF00FF">@l2:

        mov   ax,ds:[di-2]     </font><font color="#008000"><i>{ ; AX := buffer[DI-2]    (x-1,y)        }
        </i></font><font color="#FF00FF">add   ax,ds:[di]       </font><font color="#008000"><i>{ ; AX += buffer[DI]      (x  ,y)        }
        </i></font><font color="#FF00FF">add   ax,ds:[di+2]     </font><font color="#008000"><i>{ ; AX += buffer[DI+2]    (x+1,y)        }
        </i></font><font color="#FF00FF">add   ax,ds:[di+320]   </font><font color="#008000"><i>{ ; AX += buffer[DI+320]  (x,y+1)        }
        </i></font><font color="#FF00FF">shr   ax,2             </font><font color="#008000"><i>{ ; AX := AX div 4 (calc average)        }

        </i></font><font color="#FF00FF">jz    @l3              </font><font color="#008000"><i>{ ; if AX = 0 then skip next line        }
        </i></font><font color="#FF00FF">dec   ax               </font><font color="#008000"><i>{ ; else AX--                            }

     </i></font><font color="#FF00FF">@l3:

        push  di               </font><font color="#008000"><i>{ ; save DI                              }
        </i></font><font color="#FF00FF">sub   di,ds:[si]       </font><font color="#008000"><i>{ ; DI := (x + or - sin,y-1)             }
        </i></font><font color="#FF00FF">mov   word ptr ds:[di],ax </font><font color="#008000"><i>{ store AX somewhere one line up      }
        </i></font><font color="#FF00FF">pop   di               </font><font color="#008000"><i>{ ; restore DI                           }

        </i></font><font color="#FF00FF">inc   di               </font><font color="#008000"><i>{ ; DI++                                 }
        </i></font><font color="#FF00FF">inc   di               </font><font color="#008000"><i>{ ; DI++ (move to next word)             }

        </i></font><font color="#FF00FF">inc   bx               </font><font color="#008000"><i>{ ; BX++                                 }
        </i></font><font color="#FF00FF">cmp   bx,320           </font><font color="#008000"><i>{ ; if bx &lt;&gt; 320                         }
        </i></font><font color="#FF00FF">jle   @l4              </font><font color="#008000"><i>{ ; then jump to @l4                     }
        </i></font><font color="#FF00FF">mov   bx,1             </font><font color="#008000"><i>{ ; else BX := 1 (we're on a new line)   }
        </i></font><font color="#FF00FF">inc   si               </font><font color="#008000"><i>{ ; point SI to next element in path     }
        </i></font><font color="#FF00FF">inc   si               </font><font color="#008000"><i>{ ;                                      }

     </i></font><font color="#FF00FF">@l4:
        dec   cx               </font><font color="#008000"><i>{ ; CX--                                 }
        </i></font><font color="#FF00FF">jnz   @l2              </font><font color="#008000"><i>{ ; if CX &lt;&gt; 0 then loop                 }
     </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font><font color="#FF0000"><b>for </b></font>count <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">159 </font><font color="#FF0000"><b>do </b></font><font color="#008000"><i>{set new bottom line}
        </i></font><font color="#FF0000"><b>begin
           if </b></font>random <font color="#000080">&lt; </font><font color="#800000">0.4 </font><font color="#FF0000"><b>then
              </b></font>delta <font color="#000080">:= </font>random<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">)*</font><font color="#800000">255</font><font color="#000080">;
           </font>buffer<font color="#000080">[</font><font color="#800000">101</font><font color="#000080">,</font>count<font color="#000080">] := </font>delta<font color="#000080">;
           </font>buffer<font color="#000080">[</font><font color="#800000">102</font><font color="#000080">,</font>count<font color="#000080">] := </font>delta<font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font><font color="#FF0000"><b>asm
        </b></font><font color="#FF00FF">mov   si,offset buffer </font><font color="#008000"><i>{ ; SI := buffer[0]                      }
        </i></font><font color="#FF00FF">mov   ax,0A000h        </font><font color="#008000"><i>{ ; AX := 0A000h (vga segment)           }
        </i></font><font color="#FF00FF">mov   es,ax            </font><font color="#008000"><i>{ ; ES := AX                             }
        </i></font><font color="#FF00FF">xor   di,di            </font><font color="#008000"><i>{ ; DI := 0                              }
        </i></font><font color="#FF00FF">mov   dx,100           </font><font color="#008000"><i>{ ; DX := 100 (# of rows div 2)          }

     </i></font><font color="#FF00FF">@l5:
        mov   bx,2             </font><font color="#008000"><i>{ ; BX := 2                              }

     </i></font><font color="#FF00FF">@l6:
        mov   cx,160           </font><font color="#008000"><i>{ ; CX := 160 (# of cols div 2)          }

     </i></font><font color="#FF00FF">@l7:
        mov   al,ds:[si]       </font><font color="#008000"><i>{ ; AL := buffer[si]                     }
        </i></font><font color="#FF00FF">mov   ah,al            </font><font color="#008000"><i>{ ; AH := AL (replicate byte)            }
        </i></font><font color="#FF00FF">mov   es:[di],ax       </font><font color="#008000"><i>{ ; store two bytes into video memory    }
        </i></font><font color="#FF00FF">inc   di               </font><font color="#008000"><i>{ ; move to next word in VRAM            }
        </i></font><font color="#FF00FF">inc   di               </font><font color="#008000"><i>{ ;                                      }
        </i></font><font color="#FF00FF">inc   si               </font><font color="#008000"><i>{ ; move to next word in buffer          }
        </i></font><font color="#FF00FF">inc   si               </font><font color="#008000"><i>{ ;                                      }
        </i></font><font color="#FF00FF">dec   cx               </font><font color="#008000"><i>{ ; CX--                                 }
        </i></font><font color="#FF00FF">jnz   @l7              </font><font color="#008000"><i>{ ; repeat until done with column        }

        </i></font><font color="#FF00FF">sub   si,320           </font><font color="#008000"><i>{ ; go back to start of line in buffer   }
        </i></font><font color="#FF00FF">dec   bx               </font><font color="#008000"><i>{ ; BX--                                 }
        </i></font><font color="#FF00FF">jnz   @l6              </font><font color="#008000"><i>{ ; repeat until two columns filled      }

        </i></font><font color="#FF00FF">add   si,320           </font><font color="#008000"><i>{ ; restore position in buffer           }
        </i></font><font color="#FF00FF">dec   dx               </font><font color="#008000"><i>{ ; DX--                                 }
        </i></font><font color="#FF00FF">jnz   @l5              </font><font color="#008000"><i>{ ; repeat until 100 rows filled         }
     </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>until </b></font>keypressed<font color="#000080">;

  </font><font color="#FF0000"><b>asm
     </b></font><font color="#FF00FF">mov   ax,03h              </font><font color="#008000"><i>{ ; AX := 3h                             }
     </i></font><font color="#FF00FF">int   10h                 </font><font color="#008000"><i>{ ; restore text mode                    }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0250.PAS">Original</a><b>]</b></p></body>
</html>
