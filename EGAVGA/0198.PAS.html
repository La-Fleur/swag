<html>
<head><title> "Fast Sierpinski Triangle" by JEFF MOLOFEE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0198.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
I'm not to sure what the rule is for posting code on here but I figured
a few of the new programmer, maybe even some of the older ones would
enjoy this little program I whipped up.  (finally got my screen 12
putpixel working... grrrrr).  Annoying when every odd color rotates the
bits and doesn't carry. :)  Anyone have a smaller routine :)
}

</i></font><font color="#FF0000"><b>var
  </b></font>k<font color="#000080">:</font>byte<font color="#000080">;
  </font>j<font color="#000080">:</font>word<font color="#000080">;
  </font>oddeven<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">639</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Boolean<font color="#000080">;
  </font>gasket <font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">639</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Boolean<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>keypressed <font color="#000080">: </font>boolean<font color="#000080">; </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
 </b></font><font color="#FF00FF">mov ah,$b
 int $21
 and al,$fe
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>put<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>word<font color="#000080">; </font>c<font color="#000080">:</font>byte<font color="#000080">); </font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
 </b></font><font color="#FF00FF">mov dx,$3c4
 mov al,2
 out dx,al
 add dx,2
 mov al,[c]
 out dx,al
 mov bx,80
 mov es,sega000
 mov ax,[y]
 mul bx
 mov di,[x]
 shr di,3
 add di,ax
 mov dl,[es:di]
 mov ch,byte(x)
 and ch,7
 mov cl,7
 sub cl,ch
 mov ch,1
 shl ch,cl
 or dl,ch
 mov [es:di],dl
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  asm </b></font><font color="#FF00FF">mov ax,$12; int $10; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">639 </font><font color="#FF0000"><b>do </b></font>gasket<font color="#000080">[</font>j<font color="#000080">]:=</font>false<font color="#000080">;
  </font>gasket<font color="#000080">[</font><font color="#800000">319</font><font color="#000080">]:=</font>true<font color="#000080">;
  </font>put<font color="#000080">(</font><font color="#800000">319</font><font color="#000080">,</font><font color="#800000">100</font><font color="#000080">,</font><font color="#800000">10</font><font color="#000080">);
  </font><font color="#FF0000"><b>for </b></font>k<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>do begin
    for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">639 </font><font color="#FF0000"><b>do begin
      </b></font>oddeven<font color="#000080">[</font>j<font color="#000080">]:=</font>gasket<font color="#000080">[</font>j<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>xor </b></font>gasket<font color="#000080">[</font>j<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">];
      </font><font color="#FF0000"><b>if </b></font>oddeven<font color="#000080">[</font>j<font color="#000080">]=</font>true <font color="#FF0000"><b>then </b></font>put<font color="#000080">(</font>j<font color="#000080">,</font><font color="#800000">100</font><font color="#000080">+</font>k<font color="#000080">,</font><font color="#800000">5</font><font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>move<font color="#000080">(</font>oddeven<font color="#000080">,</font>gasket<font color="#000080">,</font><font color="#800000">639</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>repeat
  until </b></font>keypressed<font color="#000080">;
  </font><font color="#FF0000"><b>asm </b></font><font color="#FF00FF">mov ax,$3; int $10; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font>writeln<font color="#000080">(</font><font color="#800000">'&quot;Gasket&quot; from low-res to HI-RES by Nitro &amp; SeKs...'</font><font color="#000080">);
</font><font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">2000 </font><font color="#FF0000"><b>do begin </b></font>mem<font color="#000080">[</font><font color="#800000">$b800</font><font color="#000080">:</font><font color="#800000">1</font><font color="#000080">+</font>j<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">]:=</font>random<font color="#000080">(</font><font color="#800000">7</font><font color="#000080">)+</font><font color="#800000">9</font><font color="#000080">; </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0198.PAS">Original</a><b>]</b></p></body>
</html>
