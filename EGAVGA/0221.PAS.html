<html>
<head><title> "Phong Shading Algorithm" by JEROEN BOUWENS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0221.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Well, I finally managed to get my hands on this book describing an algorithm
for phong shading using only two additions. I'll use &ugrave; for the dot-product (I
assume you know how to calculate a dot-product :-)

Here goes:

For the intensity at a certain point in a triangle with normals N1, N2 and N3
at the vertices, and with a vector L pointing to the light-source:

                       ax+by+c
  I(x,y) = &Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;
           &ucirc;(d*x&yacute; + e*x*y + f*y&yacute; + gx + hy + i)

where:
         a = Lu  &ugrave; N1
         b = Lu  &ugrave; N2
         c = Lu  &ugrave; N3
         d = N1  &ugrave; N1
         e = 2N1 &ugrave; N2
         f = N2  &ugrave; N2
         g = 2N1 &ugrave; N3
         h = 2N2 &ugrave; N3
         i = N3  &ugrave; N3
              L
        Lu = &Auml;&Auml;&Auml;
             &sup3;L&sup3;

I hope the extended characters come thru :-).

This can be simplified (?) to:

  I(x,y) = &ecirc;5*x&yacute; + &ecirc;4*x*y + &ecirc;3*y&yacute; + &ecirc;2*x + &ecirc;1*y + &ecirc;0 

with:       c 
      &ecirc;0 = &Auml;&Auml;&Auml;
           &ucirc;i

           2*b*i - c*h
      &ecirc;1 = &Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;
             2*i*&ucirc;i

           2*a*i - c*g
      &ecirc;2 = &Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;
             2*i*&ucirc;i

           3*c*h&yacute; - 4*c*f*i - 4*b*h*i
      &ecirc;3 = &Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;
                   8*i&yacute;*&ucirc;i 

           3*c*g*h - 2*c*e*i - 2*b*g*i - 2*a*h*i
      &ecirc;4 = &Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;
                         4*i&yacute;*&ucirc;i

           3*i*g&yacute; - 4*c*d*i - 4*a*g*i
      &ecirc;5 = &Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;
                   8*i&yacute;*&ucirc;i


Which can be rewritten as:

  I(x,y) = &ecirc;5*x&yacute; + x(&ecirc;4*y + &ecirc;2) + &ecirc;3*y&yacute; + &ecirc;1*y + &ecirc;0

Thus needing only 2 additions per pixel.
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0221.PAS">Original</a><b>]</b></p></body>
</html>
