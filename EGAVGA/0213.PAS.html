<html>
<head><title> "Fire Code V" by HILKO BENGEN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0213.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt;   All this posting about programming flame and which 3x3 grid thing gives
&gt; the best results has got me interested.  Can anyone post some _FAST_ flame
&gt; code?
Here is a routine I wrote a while ago. It is PAS with a lot of ASM for
speed, but we are still on topic :-). It draws a fire from the right side
of the screen to the left. I was going to use this as a scroller type
thing but didn't get around to it so far.
}

</i></font><font color="#FF0000"><b>program </b></font>fire01<font color="#000080">; </font><font color="#008000"><i>{$g+,x+}
</i></font><font color="#FF0000"><b>uses </b></font>crt<font color="#000080">;
</font><font color="#FF0000"><b>type
 </b></font>pal<font color="#000080">=</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">255</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">]</font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
 </font>color<font color="#000080">=</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
 </font>pplanes<font color="#000080">=^</font>tplanes<font color="#000080">;
 </font>tplanes<font color="#000080">=</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">3</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">199</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">79</font><font color="#000080">]</font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
 </font>pfire<font color="#000080">=^</font>tfire<font color="#000080">;
 </font>tfire<font color="#000080">=</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">99</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">159</font><font color="#000080">]</font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;

</font><font color="#FF0000"><b>var
 </b></font>i<font color="#000080">,</font>j<font color="#000080">,</font>origmode<font color="#000080">:</font>integer<font color="#000080">;
 </font>palette<font color="#000080">,</font>firepal<font color="#000080">,</font>zeropal<font color="#000080">:</font>pal<font color="#000080">;
 </font>planes<font color="#000080">:</font>pplanes<font color="#000080">;
 </font>fire<font color="#000080">:</font>pfire<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>WaitRetrace<font color="#000080">; </font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>Asm
 </b></font><font color="#FF00FF">Mov DX,3DAh
@L1:
 In   AL,DX
 Test AL,08
 Jne  @L1
@L2:
 In   AL,DX
 Test AL,08
 Je   @L2
</font><font color="#FF0000"><b>End</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>vmode13h<font color="#000080">;</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
</b></font><font color="#FF00FF">mov ax,0013h
int 10h
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>vmodeuc<font color="#000080">;</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
 </b></font><font color="#FF00FF">call vmode13h
 mov  ax,0604h
 mov  dx,3c4h
 out  dx,ax
 mov  dx,3d4h
 mov  ax,0e317h
 out  dx,ax
 mov  ax,0014h
 out  dx,ax
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>vselectbitplanes<font color="#000080">(</font>i<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
 </b></font><font color="#FF00FF">mov ah,i
 mov al,2
 mov dx,3c4h
 out dx,ax
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>vputpix<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">:</font>word<font color="#000080">;</font>color<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
 </b></font><font color="#FF00FF">mov cx,x
 shl cx,6
 shr cl,6

 mov ax,102h
 shl ah,cl
 mov dx,3c4h
 out dx,ax

 mov ax, $a000
 mov es,ax

 shr cx,8

 mov ax,y
 mov bx,ax
 shl bx,4
 shl ax,6
 add ax,bx
 mov di,ax
 add di,cx
 mov bl,color

 mov [es:di],bl
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>writeplanes<font color="#000080">(</font>planes<font color="#000080">:</font>pplanes<font color="#000080">);</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
 </b></font><font color="#FF00FF">cld
 push ds
 mov cx,4
 mov ax,$a000
 mov es,ax
@loop1:
 push cx
  neg cl
  add cl,4

  mov ax,0102h
  shl ah,cl
  mov dx,3c4h
  out dx,ax

</font>		<font color="#FF00FF">mov di,0
</font>		<font color="#FF00FF">mov ax,word ptr planes[2]
</font>		<font color="#FF00FF">mov ds,ax
</font>		<font color="#FF00FF">mov ax,word ptr planes
</font>		<font color="#FF00FF">or cl,cl

</font>		<font color="#FF00FF">jz @1
@2:
</font>		<font color="#FF00FF">add ax,16000
</font>		<font color="#FF00FF">loop @2
@1:
</font>		<font color="#FF00FF">mov si,ax
</font>		<font color="#FF00FF">mov cx,16000
</font>		<font color="#FF00FF">rep movsb
</font>	<font color="#FF00FF">pop cx
</font>	<font color="#FF00FF">loop @loop1
</font>	<font color="#FF00FF">pop ds
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font><font color="#FF0000"><b>procedure </b></font>vclrscr<font color="#000080">(</font>i<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>begin
</b></font>	vselectbitplanes<font color="#000080">(</font><font color="#800000">15</font><font color="#000080">);
</font>	fillchar<font color="#000080">(</font>ptr<font color="#000080">(</font><font color="#800000">$a000</font><font color="#000080">,</font><font color="#800000">0000</font><font color="#000080">)^,</font><font color="#800000">65535</font><font color="#000080">,</font>i<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>getpal<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>l<font color="#000080">:</font>pal<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>i<font color="#000080">,</font>j<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>do begin
</b></font>		port<font color="#000080">[</font><font color="#800000">$3c7</font><font color="#000080">]:=</font>i<font color="#000080">;
</font>		<font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do </b></font>l<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">]:=</font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">];
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>setpal<font color="#000080">(</font>l<font color="#000080">:</font>pal<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>i<font color="#000080">,</font>j<font color="#000080">:</font>byte<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>do begin
</b></font>		port<font color="#000080">[</font><font color="#800000">$3c8</font><font color="#000080">]:=</font>i<font color="#000080">;
</font>		<font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do </b></font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font>l<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">];
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>loadpal<font color="#000080">(</font>s<font color="#000080">:</font><font color="#FF0000"><b>string</b></font><font color="#000080">;</font><font color="#FF0000"><b>var </b></font>palette<font color="#000080">:</font>pal<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>f<font color="#000080">:</font><font color="#FF0000"><b>file</b></font><font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	assign<font color="#000080">(</font>f<font color="#000080">,</font>s<font color="#000080">);
</font>	reset<font color="#000080">(</font>f<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
</font>	blockread<font color="#000080">(</font>f<font color="#000080">,</font>palette<font color="#000080">,</font><font color="#800000">768</font><font color="#000080">);
</font>	close<font color="#000080">(</font>f<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>fadeto<font color="#000080">(</font>start<font color="#000080">,</font>stop<font color="#000080">:</font>byte<font color="#000080">;</font>dest<font color="#000080">:</font>pal<font color="#000080">);
</font><font color="#FF0000"><b>var
</b></font>	i<font color="#000080">,</font>j<font color="#000080">:</font>byte<font color="#000080">;
</font>	c<font color="#000080">:</font>color<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font>start <font color="#FF0000"><b>to </b></font>stop <font color="#FF0000"><b>do begin
</b></font>		port<font color="#000080">[</font><font color="#800000">$3c7</font><font color="#000080">]:=</font>i<font color="#000080">;
</font>		<font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do begin
</b></font>			c<font color="#000080">[</font>j<font color="#000080">]:=</font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">];
</font>			<font color="#FF0000"><b>if </b></font>c<font color="#000080">[</font>j<font color="#000080">]&gt;</font>dest<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">] </font><font color="#FF0000"><b>then </b></font>dec<font color="#000080">(</font>c<font color="#000080">[</font>j<font color="#000080">]);
</font>			<font color="#FF0000"><b>if </b></font>c<font color="#000080">[</font>j<font color="#000080">]&lt;</font>dest<font color="#000080">[</font>i<font color="#000080">,</font>j<font color="#000080">] </font><font color="#FF0000"><b>then </b></font>inc<font color="#000080">(</font>c<font color="#000080">[</font>j<font color="#000080">]);
</font>		<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>		port<font color="#000080">[</font><font color="#800000">$3c8</font><font color="#000080">]:=</font>i<font color="#000080">;
</font>		<font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do </b></font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font>c<font color="#000080">[</font>j<font color="#000080">];
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>fadeout<font color="#000080">(</font>start<font color="#000080">,</font>stop<font color="#000080">:</font>byte<font color="#000080">);
</font><font color="#FF0000"><b>var </b></font>i<font color="#000080">,</font>j<font color="#000080">:</font>byte<font color="#000080">;
</font>	c<font color="#000080">:</font>color<font color="#000080">;
</font><font color="#FF0000"><b>begin
</b></font>	<font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font>start <font color="#FF0000"><b>to </b></font>stop <font color="#FF0000"><b>do begin
</b></font>		port<font color="#000080">[</font><font color="#800000">$3c7</font><font color="#000080">]:=</font>i<font color="#000080">;
</font>		<font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do begin
</b></font>			c<font color="#000080">[</font>j<font color="#000080">]:=</font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">];
</font>			<font color="#FF0000"><b>if </b></font>c<font color="#000080">[</font>j<font color="#000080">]&gt;</font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>dec<font color="#000080">(</font>c<font color="#000080">[</font>j<font color="#000080">]) </font><font color="#FF0000"><b>else </b></font>c<font color="#000080">[</font>j<font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
</font>		<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>		port<font color="#000080">[</font><font color="#800000">$3c8</font><font color="#000080">]:=</font>i<font color="#000080">;
</font>		<font color="#FF0000"><b>for </b></font>j<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">3 </font><font color="#FF0000"><b>do </b></font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font>c<font color="#000080">[</font>j<font color="#000080">];
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>calcfire<font color="#000080">(</font>fire<font color="#000080">:</font>pfire<font color="#000080">);</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
</b></font>	<font color="#FF00FF">les di,fire
</font>	<font color="#FF00FF">mov cx,159
</font>	<font color="#FF00FF">add di,1
</font>	<font color="#FF00FF">xor ax,ax
</font>	<font color="#FF00FF">xor bx,bx
</font>	<font color="#FF00FF">xor dx,dx
@loop1:
</font>	<font color="#FF00FF">push cx
</font>	<font color="#FF00FF">mov cx,98
@loop2:
</font>	<font color="#FF00FF">add di,159
</font>	<font color="#FF00FF">xor ax,ax
</font>	<font color="#FF00FF">mov al,[es:di+2]
</font>	<font color="#FF00FF">add al,[es:di+1]
</font>	<font color="#FF00FF">adc ah,0
</font>	<font color="#FF00FF">add al,[es:di-159]
</font>	<font color="#FF00FF">adc ah,0
</font>	<font color="#FF00FF">add al,[es:di+161]
</font>	<font color="#FF00FF">adc ah,0

</font>	<font color="#FF00FF">add ax,1
</font>	<font color="#FF00FF">shr ax,2
</font>	<font color="#FF00FF">stosb
</font>	<font color="#FF00FF">loop @loop2
</font>	<font color="#FF00FF">sub di,160*98-1
</font>	<font color="#FF00FF">pop cx
</font>	<font color="#FF00FF">loop @loop1

</font>	<font color="#FF00FF">mov cx,80
</font>	<font color="#FF00FF">mov ax,0
</font>	<font color="#FF00FF">mov di,0
</font>	<font color="#FF00FF">rep stosw
</font>	<font color="#FF00FF">mov cx,80
</font>	<font color="#FF00FF">mov di,16000-160
</font>	<font color="#FF00FF">rep stosw

</font>	<font color="#FF00FF">mov cx,100
</font>	<font color="#FF00FF">mov di,0
@loop3:
</font>	<font color="#FF00FF">add di,159
</font>	<font color="#FF00FF">stosb
</font>	<font color="#FF00FF">loop @loop3
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>writefire<font color="#000080">(</font>fire<font color="#000080">:</font>pfire<font color="#000080">);</font><font color="#FF0000"><b>assembler</b></font><font color="#000080">;
</font><font color="#FF0000"><b>asm
</b></font>	<font color="#FF00FF">push ds
</font>	<font color="#FF00FF">lds si,fire
</font>	<font color="#FF00FF">add si,160
</font>	<font color="#FF00FF">mov ax,$a000
</font>	<font color="#FF00FF">mov es,ax
</font>	<font color="#FF00FF">mov di,160

</font>	<font color="#FF00FF">mov ax,0302h
</font>	<font color="#FF00FF">mov dx,3c4h
</font>	<font color="#FF00FF">out dx,ax
</font>	<font color="#FF00FF">mov cx,98
@loopa:
</font>	<font color="#FF00FF">push cx
</font>	<font color="#FF00FF">mov cx,80
@loop1:
</font>	<font color="#FF00FF">lodsw
</font>	<font color="#FF00FF">stosb
</font>	<font color="#FF00FF">loop @loop1

</font>	<font color="#FF00FF">sub si,160
</font>	<font color="#FF00FF">mov cx,80
@loop2:
</font>	<font color="#FF00FF">lodsw
</font>	<font color="#FF00FF">stosb
</font>	<font color="#FF00FF">loop @loop2
</font>	<font color="#FF00FF">pop cx
</font>	<font color="#FF00FF">loop @loopa

</font>	<font color="#FF00FF">lds si,fire
</font>	<font color="#FF00FF">add si,160
</font>	<font color="#FF00FF">mov ax,$a000
</font>	<font color="#FF00FF">mov es,ax
</font>	<font color="#FF00FF">mov di,160
</font>	<font color="#FF00FF">mov ax,0c02h
</font>	<font color="#FF00FF">out dx,ax
</font>	<font color="#FF00FF">mov cx,98
@loopb:
</font>	<font color="#FF00FF">push cx
</font>	<font color="#FF00FF">mov cx,80
@loop3:
</font>	<font color="#FF00FF">lodsw
</font>	<font color="#FF00FF">shr ax,8
</font>	<font color="#FF00FF">stosb
</font>	<font color="#FF00FF">loop @loop3

</font>	<font color="#FF00FF">sub si,160
</font>	<font color="#FF00FF">mov cx,80
@loop4:
</font>	<font color="#FF00FF">lodsw
</font>	<font color="#FF00FF">shr ax,8
</font>	<font color="#FF00FF">stosb
</font>	<font color="#FF00FF">loop @loop4
</font>	<font color="#FF00FF">pop cx
</font>	<font color="#FF00FF">loop @loopb

</font>	<font color="#FF00FF">pop ds
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
</b></font>	origmode<font color="#000080">:=</font>lastmode<font color="#000080">;
</font>	getpal<font color="#000080">(</font>palette<font color="#000080">);
</font>	fillchar<font color="#000080">(</font>zeropal<font color="#000080">,</font><font color="#800000">768</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
</font>	<font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">64 </font><font color="#FF0000"><b>do begin
</b></font>		fadeto<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">,</font>zeropal<font color="#000080">);
</font>		delay<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">);
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;

</font>	loadpal<font color="#000080">(</font><font color="#800000">'pal1.pal'</font><font color="#000080">,</font>firepal<font color="#000080">);

</font>	vmodeuc<font color="#000080">;
</font>	vclrscr<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">);
</font>	randomize<font color="#000080">;


</font>	setpal<font color="#000080">(</font>firepal<font color="#000080">);
</font>	new<font color="#000080">(</font>fire<font color="#000080">);
</font>	fillchar<font color="#000080">(</font>fire<font color="#000080">^,</font><font color="#800000">16000</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);
</font>	writefire<font color="#000080">(</font>fire<font color="#000080">);
</font>	readkey<font color="#000080">;
</font>	<font color="#FF0000"><b>repeat
</b></font>		<font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">20 </font><font color="#FF0000"><b>to </b></font><font color="#800000">70 </font><font color="#FF0000"><b>do </b></font>fire<font color="#000080">^[</font>i<font color="#000080">,</font><font color="#800000">159</font><font color="#000080">]:=</font>random<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">);
</font>		<font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">20 </font><font color="#FF0000"><b>do </b></font>fire<font color="#000080">^[</font><font color="#800000">20</font><font color="#000080">+</font>random<font color="#000080">(</font><font color="#800000">50</font><font color="#000080">),</font><font color="#800000">159</font><font color="#000080">]:=</font><font color="#800000">255</font><font color="#000080">;
</font>		calcfire<font color="#000080">(</font>fire<font color="#000080">);
</font>		writefire<font color="#000080">(</font>fire<font color="#000080">);
</font>	<font color="#FF0000"><b>until </b></font>keypressed<font color="#000080">;

</font>	readkey<font color="#000080">;
</font>	<font color="#FF0000"><b>for </b></font>i<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">64 </font><font color="#FF0000"><b>do begin
</b></font>		fadeto<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">255</font><font color="#000080">,</font>zeropal<font color="#000080">);
</font>		delay<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">);
</font>	<font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>	textmode <font color="#000080">(</font>origmode<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.


-------------------------------------------
</font><font color="#FF0000"><b>And </b></font>here <font color="#FF0000"><b>is </b></font>pal1<font color="#000080">.</font>pal which <font color="#FF0000"><b>is </b></font>needed by the <font color="#FF0000"><b>program</b></font><font color="#000080">. </font>Well<font color="#000080">, </font>you could
include it <font color="#FF0000"><b>in </b></font>the code<font color="#000080">, </font>but what the heck<font color="#000080">...
----------------------------------------------
</font>section <font color="#800000">1 </font><font color="#FF0000"><b>of </b></font>uuencode <font color="#800000">4.02 </font><font color="#FF0000"><b>of file </b></font>pal1<font color="#000080">.</font>pal    by R<font color="#000080">.</font>E<font color="#000080">.</font>M<font color="#000080">.

</font><font color="#FF0000"><b>begin </b></font><font color="#800000">644 </font>pal1<font color="#000080">.</font>pal
M<font color="#000080">```````!`</font><font color="#800000">0</font><font color="#000080">`&quot;`</font><font color="#800000">0</font><font color="#000080">`</font><font color="#800000">#</font><font color="#000080">`@</font><font color="#800000">$$</font><font color="#000080">`</font>P<font color="#800000">$</font><font color="#000080">&amp;!`</font><font color="#800000">$'!0$(!@$*!P(+&quot;`(-&quot;0(.&quot;@,/&quot;@,1&quot;P,2O
</font>M<font color="#800000">#</font><font color="#000080">`</font><font color="#800000">03#005#</font><font color="#000080">@</font><font color="#800000">06#</font>P48<font color="#800000">$</font><font color="#000080">`</font><font color="#800000">49$04</font><font color="#000080">:</font><font color="#800000">$</font><font color="#000080">@</font><font color="#800000">8</font><font color="#000080">&lt;</font><font color="#800000">$</font>P8<font color="#000080">&lt;%</font><font color="#800000">08</font><font color="#000080">=%@</font><font color="#800000">8</font><font color="#000080">&gt;&amp;`</font><font color="#800000">8</font><font color="#000080">&gt;&amp;@</font><font color="#800000">8</font><font color="#000080">?</font><font color="#800000">'`8@'08</font><font color="#000080">@</font><font color="#800000">'P&lt;AY
</font>M<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">&lt;</font>A<font color="#000080">(@&lt;</font>A<font color="#000080">(</font>P<font color="#000080">&lt;@(</font>P<font color="#000080">&lt;?)`&lt;?)</font><font color="#800000">0</font><font color="#000080">&lt;&gt;)</font><font color="#800000">0</font><font color="#000080">&lt;=)@&lt;&lt;)</font>P<font color="#000080">&lt;;)</font>P<font color="#000080">@:*`@</font><font color="#800000">8</font><font color="#000080">*</font><font color="#800000">0</font><font color="#000080">@</font><font color="#800000">7</font><font color="#000080">*</font><font color="#800000">0</font><font color="#000080">@</font><font color="#800000">6</font><font color="#000080">*@@</font><font color="#800000">5</font><font color="#000080">*</font>P<font color="#000080">@</font><font color="#800000">3</font><font color="#000080">]
</font>M<font color="#000080">*</font>P<font color="#000080">@</font><font color="#800000">2</font><font color="#000080">+`@</font><font color="#800000">0</font><font color="#000080">+`@/+</font><font color="#800000">0</font><font color="#000080">@-+@@++@</font>D<font color="#000080">*+</font>PD<font color="#000080">(,`</font>L<font color="#000080">),`</font>X<font color="#000080">),</font><font color="#800000">0</font><font color="#000080">\),</font>A<font color="#000080">(),</font>Q<font color="#000080">,),</font>Q<font color="#000080">,),</font>Q<font color="#000080">,),</font>Q<font color="#000080">,)</font>T
M<font color="#000080">,</font>Q<font color="#000080">,),</font>Q0<font color="#000080">),</font>Q0<font color="#000080">),</font>Q0<font color="#000080">*,</font>Q0<font color="#000080">*,</font>Q0<font color="#000080">*,</font>Q4<font color="#000080">*,</font>Q4<font color="#000080">*,</font>Q4<font color="#000080">*,</font>Q4<font color="#000080">*,</font>Q4<font color="#000080">+,</font>Q8<font color="#000080">+,</font>Q8<font color="#000080">+,</font>Q8<font color="#000080">+,</font>Q8<font color="#000080">++
</font>M<font color="#000080">,</font>Q8<font color="#000080">+,</font>Q<font color="#000080">&lt;+,</font>Q<font color="#000080">&lt;+,</font>Q<font color="#000080">&lt;+,</font>Q<font color="#000080">&lt;,,</font>Q<font color="#000080">&lt;,,</font>Q<font color="#000080">@,,</font>Q<font color="#000080">@,,</font>Q<font color="#000080">@,-!@,-!@,-!</font>D<font color="#000080">,-!</font>D<font color="#000080">,-!</font>D<font color="#000080">--!</font>D<font color="#000080">-</font>_
M<font color="#000080">-!</font>D<font color="#000080">--!</font>D<font color="#000080">--!</font>H<font color="#000080">--!</font>H<font color="#000080">--!</font>H<font color="#000080">--!</font>H<font color="#000080">.-!</font>H<font color="#000080">.-!</font>H<font color="#000080">.-!</font>L<font color="#000080">.-!</font>L<font color="#000080">.-!</font>L<font color="#000080">.-!</font>L<font color="#000080">.-!</font>L<font color="#000080">/-!</font>P<font color="#000080">/-!</font>P<font color="#000080">/</font><font color="#800000">6
</font>M<font color="#000080">-!</font>P<font color="#000080">/-!</font>P<font color="#000080">/-!</font>P<font color="#000080">/-!</font>P<font color="#000080">/-!</font>T<font color="#000080">/-!</font>T<font color="#000080">/-!</font>T0<font color="#000080">-!</font>T0<font color="#000080">-!</font>T0<font color="#000080">-!</font>X0<font color="#000080">-</font><font color="#800000">1</font>X0<font color="#000080">-</font><font color="#800000">1</font>X0<font color="#000080">-</font><font color="#800000">1</font>X0<font color="#000080">-</font><font color="#800000">1</font>X1<font color="#000080">-</font><font color="#800000">1</font>X1B
M<font color="#000080">-</font><font color="#800000">1</font>X1<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">\</font><font color="#800000">1</font><font color="#000080">-</font><font color="#800000">1</font><font color="#000080">\</font><font color="#800000">1</font><font color="#000080">-</font><font color="#800000">1</font><font color="#000080">\</font><font color="#800000">1</font><font color="#000080">-</font><font color="#800000">1</font><font color="#000080">\</font><font color="#800000">1</font><font color="#000080">-</font><font color="#800000">1</font><font color="#000080">\</font><font color="#800000">1</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">`</font><font color="#800000">1</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">`</font><font color="#800000">2</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">`</font><font color="#800000">2</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">`</font><font color="#800000">2</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">`</font><font color="#800000">2</font><font color="#000080">-</font><font color="#800000">2$2</font><font color="#000080">-</font><font color="#800000">2$2</font><font color="#000080">-</font><font color="#800000">2$2</font><font color="#000080">-</font><font color="#800000">2$3'
</font>M<font color="#000080">-</font><font color="#800000">2$3</font><font color="#000080">-</font><font color="#800000">2$3</font><font color="#000080">-</font><font color="#800000">2$3</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">(</font><font color="#800000">3</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">(</font><font color="#800000">3</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">(</font><font color="#800000">3</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">(</font><font color="#800000">4</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">(</font><font color="#800000">4</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">(</font><font color="#800000">4</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">-</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">4</font><font color="#000080">-</font>B<font color="#000080">,</font><font color="#800000">4</font><font color="#000080">-</font>B<font color="#000080">,</font><font color="#800000">5</font><font color="#000080">-</font>B<font color="#000080">,</font><font color="#800000">5</font>M
M<font color="#000080">-</font>B05<font color="#000080">-</font>B05<font color="#000080">-</font>B06<font color="#000080">-</font>B06<font color="#000080">-</font>B46<font color="#000080">-</font>B46<font color="#000080">-</font>B47<font color="#000080">-</font>B47<font color="#000080">-</font>B88<font color="#000080">-</font>B88<font color="#000080">-</font>B88<font color="#000080">-</font>R89<font color="#000080">-</font>R89<font color="#000080">-</font>R<font color="#000080">&lt;</font><font color="#800000">9</font><font color="#000080">-</font>R<font color="#000080">&lt;:&gt;
</font>M<font color="#000080">-</font>R<font color="#000080">&lt;:-</font>R<font color="#000080">&lt;:-</font>R<font color="#000080">@;-</font>R<font color="#000080">@;-</font>R<font color="#000080">@&lt;-</font>R<font color="#000080">@&lt;-</font>R<font color="#000080">@&lt;.&quot;</font>D<font color="#000080">=.&quot;</font>D<font color="#000080">=.&quot;</font>D<font color="#000080">=.&quot;</font>H<font color="#000080">&gt;.&quot;</font>H<font color="#000080">&gt;.&quot;</font>H<font color="#000080">&gt;.&quot;</font>H<font color="#000080">?.&quot;</font>H<font color="#000080">?</font>R
M<font color="#000080">.&quot;</font>L<font color="#000080">?.&quot;</font>L<font color="#000080">@.&quot;</font>L<font color="#000080">@.&quot;</font>LA<font color="#000080">.</font><font color="#800000">2</font>PA<font color="#000080">.</font><font color="#800000">2</font>PB<font color="#000080">.</font><font color="#800000">2</font>PB<font color="#000080">.</font><font color="#800000">2</font>TB<font color="#000080">.</font><font color="#800000">2</font>TC<font color="#000080">.</font><font color="#800000">2</font>TC<font color="#000080">.</font><font color="#800000">2</font>TC<font color="#000080">.</font><font color="#800000">2</font>TD<font color="#000080">.</font><font color="#800000">2</font>XD<font color="#000080">.</font><font color="#800000">2</font>XD<font color="#000080">.</font><font color="#800000">2</font>XE<font color="#000080">-
</font>M<font color="#000080">.</font><font color="#800000">2</font>XE<font color="#000080">.</font>B<font color="#000080">\</font>F<font color="#000080">.</font>B<font color="#000080">\</font>F<font color="#000080">.</font>B<font color="#000080">\</font>F<font color="#000080">.</font>B<font color="#000080">\</font>G<font color="#000080">.</font>C<font color="#000080">`</font>G<font color="#000080">.</font>C<font color="#000080">`</font>H<font color="#000080">.</font>C<font color="#000080">`</font>H<font color="#000080">.</font>C<font color="#000080">`</font>H<font color="#000080">.</font>C<font color="#800000">$</font>I<font color="#000080">.</font>C<font color="#800000">$</font>I<font color="#000080">.</font>C<font color="#800000">$</font>J<font color="#000080">.</font>S<font color="#000080">(</font>J<font color="#000080">.</font>S<font color="#000080">(</font>J<font color="#000080">.</font>S<font color="#000080">(</font>K<font color="#000080">&gt;
</font>M<font color="#000080">.</font>S<font color="#000080">(</font>K<font color="#000080">.</font>S<font color="#000080">,</font>L<font color="#000080">.</font>S<font color="#000080">,</font>L<font color="#000080">.</font>S<font color="#000080">,</font>L<font color="#000080">.</font>S<font color="#000080">,</font>M<font color="#000080">.</font>S<font color="#000080">,</font>M<font color="#000080">.</font>S0N<font color="#000080">.</font>S0N<font color="#000080">.</font>S0N<font color="#000080">/</font><font color="#800000">#4</font>O<font color="#000080">/</font><font color="#800000">#4</font>O<font color="#000080">/</font><font color="#800000">#4</font>P<font color="#000080">/</font><font color="#800000">#4</font>P<font color="#000080">/</font><font color="#800000">#8</font>Q<font color="#000080">/</font><font color="#800000">#8</font>Q<font color="#000080">&lt;
</font>M<font color="#000080">/</font><font color="#800000">#8</font>R<font color="#000080">/</font><font color="#800000">#8</font>R<font color="#000080">/</font><font color="#800000">#</font><font color="#000080">&lt;</font>R<font color="#000080">/</font><font color="#800000">#</font><font color="#000080">&lt;</font>S<font color="#000080">/</font><font color="#800000">#</font><font color="#000080">&lt;</font>S<font color="#000080">/</font><font color="#800000">#</font><font color="#000080">&lt;</font>S<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">@</font>T<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">@</font>T<font color="#000080">/</font><font color="#800000">3</font><font color="#000080">@</font>U<font color="#000080">/</font><font color="#800000">3</font>DU<font color="#000080">/</font><font color="#800000">3</font>DV<font color="#000080">/</font><font color="#800000">3</font>DV<font color="#000080">/</font><font color="#800000">3</font>HW<font color="#000080">/</font><font color="#800000">3</font>HW<font color="#000080">/</font><font color="#800000">3</font>HW4
M<font color="#000080">/</font><font color="#800000">3</font>HX<font color="#000080">/</font><font color="#800000">3</font>LX<font color="#000080">/</font>CLY<font color="#000080">/</font>CLY<font color="#000080">/</font>CLY<font color="#000080">/</font>CPZ<font color="#000080">/</font>CPZ<font color="#000080">/</font>CP<font color="#000080">[/</font>CT<font color="#000080">[/</font>CT<font color="#000080">\/</font>CT<font color="#000080">\/</font>CT<font color="#000080">]/</font>CX<font color="#000080">]/</font>CX<font color="#000080">]/</font>SX<font color="#000080">^</font>P
<font color="#800000">#</font><font color="#000080">/</font>S<font color="#000080">\</font>_<font color="#000080">]
``
</font><font color="#FF0000"><b>end
</b></font>sum <font color="#000080">-</font>r<font color="#000080">/</font>size <font color="#800000">33571</font><font color="#000080">/</font><font color="#800000">1104 </font>section <font color="#000080">(</font>from <font color="#000080">&quot;</font><font color="#FF0000"><b>begin</b></font><font color="#000080">&quot; </font><font color="#FF0000"><b>to </b></font><font color="#000080">&quot;</font><font color="#FF0000"><b>end</b></font><font color="#000080">&quot;)
</font>sum <font color="#000080">-</font>r<font color="#000080">/</font>size <font color="#800000">13047</font><font color="#000080">/</font><font color="#800000">768 </font>entire input <font color="#FF0000"><b>file
</b></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0213.PAS">Original</a><b>]</b></p></body>
</html>
