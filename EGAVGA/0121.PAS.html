<html>
<head><title> "Text in mode 13h?" by IAN LIN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0121.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{ When you change modes, you lose the contents of the screen
(cleared). It's all IBM's fault. You see, there is also a change in
resolution and available colors and how video is used. It totally changes
and that's a way of life on the PC. Sorry, no way around it but to use
full graphics mode.

 FA&gt; use, of course...) (I can't do it on a IBM, but ask me for C64-sources,
 FA&gt; if you want to have a look &lt;grin&gt;)

320 x 200 x 256c, 13h, isn't the same as the resolution required for 80x50
text (640 x 400 x 256). In that case, I have seen graphics (simple) under
text in text mode. If you're forced to change resolution, kiss it all good
bye.

Run this under text: }

{$A+,B-,E-,F-,G+,I-,L-,N-,O-,R-,S-,V-,X-}

</i></font><font color="#FF0000"><b>program </b></font>RedBar<font color="#000080">;

</font><font color="#FF0000"><b>VAR
  </b></font>C<font color="#000080">:</font>Byte<font color="#000080">;
  </font>C2<font color="#000080">,</font>C3<font color="#000080">,</font>C4<font color="#000080">:</font>Word<font color="#000080">;
  </font>SINTAB<font color="#000080">:</font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">127</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Word<font color="#000080">;
  </font>HeadPtr<font color="#000080">:</font>Word <font color="#FF0000"><b>absolute </b></font><font color="#800000">$40</font><font color="#000080">:</font><font color="#800000">$1A</font><font color="#000080">;
  </font>TailPtr<font color="#000080">:</font>Word <font color="#FF0000"><b>absolute </b></font><font color="#800000">$40</font><font color="#000080">:</font><font color="#800000">$1C</font><font color="#000080">;

</font><font color="#FF0000"><b>begin</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>for </b></font>c<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">127 </font><font color="#FF0000"><b>do
    </b></font>sintab<font color="#000080">[</font>c<font color="#000080">]:=</font>Trunc<font color="#000080">((</font>Sin<font color="#000080">((</font><font color="#800000">2</font><font color="#000080">*</font>Pi<font color="#000080">/</font><font color="#800000">128</font><font color="#000080">)*</font>C<font color="#000080">)+</font><font color="#800000">1</font><font color="#000080">)*</font><font color="#800000">135</font><font color="#000080">);
  </font>C3<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
  </font><font color="#FF0000"><b>REPEAT
    INLINE</b></font><font color="#000080">(</font><font color="#800000">$FA</font><font color="#000080">);

    </font><font color="#FF0000"><b>repeat until </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8</font><font color="#000080">)&gt;</font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>repeat until </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">8</font><font color="#000080">)=</font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>for </b></font>c4<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>sintab<font color="#000080">[</font>c3 <font color="#FF0000"><b>and </b></font><font color="#800000">127</font><font color="#000080">] </font><font color="#FF0000"><b>do begin
      repeat until </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>repeat until </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">)&gt;</font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>for </b></font>c<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do begin
      repeat until </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">)&gt;</font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">]:=</font>C<font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>repeat until </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3Da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>for </b></font>c<font color="#000080">:=</font><font color="#800000">63 </font><font color="#FF0000"><b>downto </b></font><font color="#800000">0 </font><font color="#FF0000"><b>do begin</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>repeat until </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3Da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">)&gt;</font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">]:=</font>C<font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
      </font>Port<font color="#000080">[</font><font color="#800000">$3C9</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
      </font><font color="#FF0000"><b>Repeat until </b></font><font color="#000080">(</font>port<font color="#000080">[</font><font color="#800000">$3da</font><font color="#000080">] </font><font color="#FF0000"><b>and </b></font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font>port<font color="#000080">[</font><font color="#800000">$3C8</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
    </font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;</font>port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;</font>Port<font color="#000080">[</font><font color="#800000">$3c9</font><font color="#000080">]:=</font><font color="#800000">0</font><font color="#000080">;
    </font>Inc<font color="#000080">(</font>C3<font color="#000080">);
    </font><font color="#FF0000"><b>inline</b></font><font color="#000080">(</font><font color="#800000">$FB</font><font color="#000080">);
  </font><font color="#FF0000"><b>until </b></font>headptr<font color="#000080">&lt;&gt;</font>tailptr<font color="#000080">;
  </font>headptr<font color="#000080">:=</font>tailptr<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0121.PAS">Original</a><b>]</b></p></body>
</html>
