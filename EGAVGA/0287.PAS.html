<html>
<head><title> "A small graph unit using BGI" by EUGENEWA@MS8HNET.NET</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0287.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>UNIT </b></font>GI<font color="#000080">;

</font><font color="#FF0000"><b>INTERFACE
</b></font><font color="#008000"><i>{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>USES </b></font>CRT<font color="#000080">,</font>GRAPH<font color="#000080">;
</font><font color="#008000"><i>{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>CONST
    </b></font>XMax<font color="#000080">=</font><font color="#800000">640</font><font color="#000080">;
    </font>YMax<font color="#000080">=</font><font color="#800000">480</font><font color="#000080">;
</font><font color="#008000"><i>{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>TYPE
    </b></font>Location <font color="#000080">= </font><font color="#FF0000"><b>OBJECT
      </b></font>X<font color="#000080">:</font><font color="#800000">1</font><font color="#000080">..</font>XMax<font color="#000080">;
      </font>Y<font color="#000080">:</font><font color="#800000">1</font><font color="#000080">..</font>YMax<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{Location}
    </i></font>GUI<font color="#000080">=</font><font color="#FF0000"><b>OBJECT</b></font><font color="#000080">(</font>Location<font color="#000080">)
      </font>Coor<font color="#000080">:</font>Location<font color="#000080">;
      </font><font color="#FF0000"><b>PROCEDURE </b></font>SetupScreen<font color="#000080">(</font>Path<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">);
        </font><font color="#008000"><i>{initialize the screen to graphic mode
         Parameter: in: path
                    Out: none
         precondtion: none
         postconditon: screen initialize in graphic mode
                       or print error msg}
      </i></font><font color="#FF0000"><b>PROCEDURE </b></font>WriteInt<font color="#000080">( </font>Num<font color="#000080">:</font>LongInt<font color="#000080">;
                          </font>Field<font color="#000080">:</font>Integer<font color="#000080">);
        </font><font color="#008000"><i>{write integer data in graphic mode at x,y and with field
         parameter: IN: num,field
                    OUT: none
         pre: in graphic mode
         Post: num displayed with field }
      </i></font><font color="#FF0000"><b>PROCEDURE </b></font>WriteReal<font color="#000080">( </font>Num<font color="#000080">:</font>Real<font color="#000080">;
                           </font>DecField<font color="#000080">:</font>Integer<font color="#000080">);
        </font><font color="#008000"><i>{write integer data in graphic mode at x,y and with Integer field
         and decimal field
         parameter: IN: num,Intfield,Decfield
                    OUT: none
         pre: in graphic mode
         Post: num displayed with integer field and decimal field }
      </i></font><font color="#FF0000"><b>PROCEDURE </b></font>Init<font color="#000080">( </font>NewX<font color="#000080">,</font>NewY<font color="#000080">:</font>Integer<font color="#000080">;
                      </font>Path<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">);
        </font><font color="#008000"><i>{initialize the parameters
         Parameter: IN: NewX,NewY
                    OUT: None
         Pre: none
         Post: NewX=&gt; X NewY=&gt; Y}
      </i></font><font color="#FF0000"><b>PROCEDURE </b></font>GWrite<font color="#000080">( </font>Prompt<font color="#000080">: </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">);
        </font><font color="#008000"><i>{write a text string on the screen
         Parameter: IN: Prompt
                    OUT: none
         Pre: 0&lt;Coor.X&lt;640, 0&lt;Coor.Y&lt;480
         Post: Prompt outputed on screen}
      </i></font><font color="#FF0000"><b>PROCEDURE </b></font>NxtLn<font color="#000080">;
        </font><font color="#008000"><i>{put the cursor at the beginning of the next line
         Parameter: IN: none
                    OUT: none
         Pre: None
         Post: Coor.Y incremented }
      </i></font><font color="#FF0000"><b>PROCEDURE </b></font>ChkPos<font color="#000080">( </font>Prompt<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">);
        </font><font color="#008000"><i>{put the cursor at the end of the msg
         Parameter: IN: Prompt
                    OUT: none
         Pre: none
         Post: Coor.X incremented }
    </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#008000"><i>{---------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>IMPLEMENTATION
</b></font><font color="#008000"><i>{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>GUI<font color="#000080">.</font>SetupScreen<font color="#000080">;
    </font><font color="#008000"><i>{initialize the screen to graphic mode
     Parameter: in: path
                Out: none
     precondtion: none
     postconditon: screen initialize in graphic mode
                   or print error msg}
    </i></font><font color="#FF0000"><b>VAR
     </b></font>GDriver<font color="#000080">,</font>GMes<font color="#000080">,</font>GError<font color="#000080">:</font>Integer<font color="#000080">;
    </font><font color="#FF0000"><b>BEGIN</b></font><font color="#008000"><i>{SetupScreen}
      </i></font><font color="#FF0000"><b>REPEAT
        </b></font>GDriver<font color="#000080">:=</font>Detect<font color="#000080">;
        </font>InitGraph<font color="#000080">(</font>GDriver<font color="#000080">,</font>GMes<font color="#000080">, </font>Path<font color="#000080">);
        </font>GError<font color="#000080">:=</font>GraphResult<font color="#000080">;
        </font><font color="#FF0000"><b>IF </b></font>GError <font color="#000080">&lt;&gt;</font>GrOK <font color="#FF0000"><b>THEN
          BEGIN
            </b></font>Writeln <font color="#000080">(</font><font color="#800000">'Graphics error: '</font><font color="#000080">,</font>GraphErrorMsg<font color="#000080">(</font>GError<font color="#000080">));
            </font>Readln<font color="#000080">;
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>UNTIL </b></font>GError<font color="#000080">=</font>grOK<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{SetupScreen}
{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>GUI<font color="#000080">.</font>Init<font color="#000080">;
    </font><font color="#008000"><i>{initialize the parameters
     Parameter: IN: NewX,NewY,Patn
                OUT: None
     Pre: none
     Post: NewX=&gt; X NewY=&gt; Y screen in graphic mode}
    </i></font><font color="#FF0000"><b>BEGIN</b></font><font color="#008000"><i>{Init}
      </i></font>X<font color="#000080">:=</font>NewX<font color="#000080">;
      </font>Y<font color="#000080">:=</font>NewY<font color="#000080">;
      </font>Coor<font color="#000080">.</font>X<font color="#000080">:=</font>NewX<font color="#000080">;
      </font>Coor<font color="#000080">.</font>Y<font color="#000080">:=</font>NewY<font color="#000080">;
      </font>SetupScreen<font color="#000080">(</font><font color="#800000">'C:\TP\BGI'</font><font color="#000080">);
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#008000"><i>{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>GUI<font color="#000080">.</font>ChkPos<font color="#000080">;
    </font><font color="#008000"><i>{put the cursor at the end of the msg
     Parameter: IN: none
                OUT: none
     Pre: none
     Post: Coor.X incremented or Coor.X:=X }
    </i></font><font color="#FF0000"><b>BEGIN</b></font><font color="#008000"><i>{NxtPos}
      </i></font><font color="#FF0000"><b>IF </b></font>Coor<font color="#000080">.</font>X<font color="#000080">&lt;(</font><font color="#800000">640</font><font color="#000080">-</font>TextWidth<font color="#000080">(</font>Prompt<font color="#000080">+</font><font color="#800000">'x'</font><font color="#000080">)) </font><font color="#FF0000"><b>THEN
        </b></font>INC<font color="#000080">(</font>Coor<font color="#000080">.</font>X<font color="#000080">,</font>TextWidth<font color="#000080">(</font>Prompt<font color="#000080">))
      </font><font color="#FF0000"><b>ELSE
        </b></font>NxtLn<font color="#000080">;
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{NxtPos}
{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>GUI<font color="#000080">.</font>GWrite<font color="#000080">;
    </font><font color="#008000"><i>{write a text string on the screen
     Parameter: IN: Prompt
                OUT: none
     Pre: 0&lt;Coor.X&lt;640, 0&lt;Coor.Y&lt;480
     Post: Prompt outputed on screen}
    </i></font><font color="#FF0000"><b>VAR
      </b></font>K<font color="#000080">:</font>Integer<font color="#000080">;
    </font><font color="#FF0000"><b>BEGIN</b></font><font color="#008000"><i>{GWrite}
      </i></font><font color="#FF0000"><b>FOR </b></font>K<font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>Length<font color="#000080">(</font>Prompt<font color="#000080">) </font><font color="#FF0000"><b>DO
        BEGIN</b></font><font color="#008000"><i>{K}
          </i></font>OutTextXY<font color="#000080">(</font>Coor<font color="#000080">.</font>X<font color="#000080">,</font>Coor<font color="#000080">.</font>Y<font color="#000080">,</font>Prompt<font color="#000080">[</font>K<font color="#000080">]);
          </font>ChkPos<font color="#000080">(</font>Prompt<font color="#000080">[</font>K<font color="#000080">]);
        </font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{K}
    </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{GWrite}
{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>GUI<font color="#000080">.</font>NxtLn<font color="#000080">;
    </font><font color="#008000"><i>{put the cursor at the beginning of the next line
     Parameter: IN: none
                OUT: none
     Pre: None
     Post: Coor.Y incremented }
    </i></font><font color="#FF0000"><b>BEGIN</b></font><font color="#008000"><i>{NxtLn}
      </i></font>Coor<font color="#000080">.</font>X<font color="#000080">:=</font>X<font color="#000080">;
      </font><font color="#FF0000"><b>IF </b></font>Coor<font color="#000080">.</font>Y<font color="#000080">&lt;(</font><font color="#800000">480</font><font color="#000080">-</font><font color="#800000">3</font><font color="#000080">*</font>TextHeight<font color="#000080">(</font><font color="#800000">'X'</font><font color="#000080">)) </font><font color="#FF0000"><b>THEN
        </b></font>INC<font color="#000080">(</font>Coor<font color="#000080">.</font>Y<font color="#000080">,</font>TextHeight<font color="#000080">(</font><font color="#800000">'X'</font><font color="#000080">))
      </font><font color="#FF0000"><b>ELSE
        BEGIN</b></font><font color="#008000"><i>{ELSE}
          </i></font>INC<font color="#000080">(</font>Coor<font color="#000080">.</font>Y<font color="#000080">,</font>TextHeight<font color="#000080">(</font><font color="#800000">'X'</font><font color="#000080">));
          </font>Write<font color="#000080">(</font><font color="#800000">#7</font><font color="#000080">);
          </font>OutTextXY<font color="#000080">(</font>Coor<font color="#000080">.</font>X<font color="#000080">,</font>Coor<font color="#000080">.</font>Y<font color="#000080">,</font><font color="#800000">'Press Enter to continue...'</font><font color="#000080">);
          </font>Readln<font color="#000080">;
          </font>ClearDevice<font color="#000080">;
          </font>Coor<font color="#000080">.</font>Y<font color="#000080">:=</font>Y<font color="#000080">;
        </font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{ELSE}
    </i></font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{NxtLn}
{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>GUI<font color="#000080">.</font>WriteInt<font color="#000080">;
    </font><font color="#008000"><i>{write integer data in graphic mode at x,y and with field
     parameter: IN: x,y,num,field
                OUT: none
     pre: in graphic mode
     Post: num displayed with field at x,y}
    </i></font><font color="#FF0000"><b>VAR
      </b></font>Temp<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>BEGIN</b></font><font color="#008000"><i>{WriteInt}
      </i></font>Str<font color="#000080">(</font>Num<font color="#000080">:</font>Field<font color="#000080">,</font>Temp<font color="#000080">);
      </font>GWrite<font color="#000080">(</font>Temp<font color="#000080">);
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{WriteInt}
{---------------------------------------------------------------------------}
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>GUI<font color="#000080">.</font>WriteReal<font color="#000080">;
    </font><font color="#008000"><i>{write integer data in graphic mode at x,y and with Integer field
     and decimal field
     parameter: IN: x,y,num,Decfield
                OUT: none
     pre: in graphic mode,DecField&lt;9
     Post: num displayed with decimal field at x,y}
    </i></font><font color="#FF0000"><b>VAR
      </b></font>K<font color="#000080">,</font>TempNum1<font color="#000080">:</font>Integer<font color="#000080">;
      </font>TempNum2<font color="#000080">:</font>Real<font color="#000080">;
      </font>TempInt<font color="#000080">,</font>TempDec<font color="#000080">:</font><font color="#FF0000"><b>STRING</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>BEGIN</b></font><font color="#008000"><i>{WriteReal}
      </i></font>TempNum1<font color="#000080">:=</font>Abs<font color="#000080">(</font>Trunc<font color="#000080">(</font>Num<font color="#000080">));
      </font>Str<font color="#000080">(</font>TempNum1<font color="#000080">,</font>TempInt<font color="#000080">);
      </font>TempNum2<font color="#000080">:=</font>Abs<font color="#000080">(</font>Num<font color="#000080">)-</font>TempNum1<font color="#000080">;
      </font><font color="#FF0000"><b>FOR </b></font>K<font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>TO </b></font>DecField <font color="#FF0000"><b>DO
        BEGIN
          </b></font>TempNum2<font color="#000080">:=</font>TempNum2<font color="#000080">*</font><font color="#800000">10</font><font color="#000080">;
          </font>Str<font color="#000080">(</font>Trunc<font color="#000080">(</font>TempNum2<font color="#000080">),</font>TempDec<font color="#000080">);
        </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>IF </b></font>Num<font color="#000080">&lt;</font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
        </b></font>GWrite<font color="#000080">(</font><font color="#800000">'-'</font><font color="#000080">+</font>TempInt<font color="#000080">+</font><font color="#800000">'.'</font><font color="#000080">+</font>TempDec<font color="#000080">)
      </font><font color="#FF0000"><b>ELSE
        </b></font>GWrite<font color="#000080">(</font>TempInt<font color="#000080">+</font><font color="#800000">'.'</font><font color="#000080">+</font>TempDec<font color="#000080">);
    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;</font><font color="#008000"><i>{WriteReal}
{---------------------------------------------------------------------------}
</i></font><font color="#FF0000"><b>BEGIN
END</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0287.PAS">Original</a><b>]</b></p></body>
</html>
