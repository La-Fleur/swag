<html>
<head><title> "VESA Info" by PEDRO MIGUEL BORGES</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0190.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{ Updated EGAVGA.SWG on May 26, 1995 }

{
  From: Pedro Miguel Borges

&gt; Wow.  You sent me a lot of stuff there - thanks!
&gt; Now I know how to get into to VESA modes, but I still can't seem to
&gt; draw anywhere but the first 64k of memory. I don't understand how you
&gt; would, say, draw a pixel at the way bottom, which when you calculate
&gt; the offset, is much higher than 65536.  I greatly appreciate all the
&gt; work you did putting in that code.

 One card with 1MB = 1024KB = 64h*16.
 Witch means that you have 16 Pages of 64Kb in RAM video.
 Your card, for example has 2 MB, so, you have 32 Pages of 64Kb.

 You code in Pascal, so see this code:
}
   </i></font><font color="#FF0000"><b>case </b></font>memmode <font color="#FF0000"><b>of
     </b></font>_p8<font color="#000080">:</font><font color="#FF0000"><b>begin    </b></font><font color="#008000"><i>{ 256 Colors }
    </i></font>l<font color="#000080">:=</font>y<font color="#000080">*</font>bytes<font color="#000080">+</font>x<font color="#000080">;
    </font>setbank<font color="#000080">(</font>l <font color="#FF0000"><b>shr </b></font><font color="#800000">16</font><font color="#000080">);
    </font>mem<font color="#000080">[</font>vseg<font color="#000080">:</font>word<font color="#000080">(</font>l<font color="#000080">)]:=</font>col<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;


   </font>_p15<font color="#000080">,</font>_p16<font color="#000080">:    </font><font color="#008000"><i>{ 32K, 64K Colors }
  </i></font><font color="#FF0000"><b>begin
    </b></font>l<font color="#000080">:=</font>y<font color="#000080">*</font>bytes<font color="#000080">+(</font>x <font color="#FF0000"><b>shl </b></font><font color="#800000">1</font><font color="#000080">);
    </font>setbank<font color="#000080">(</font>l <font color="#FF0000"><b>shr </b></font><font color="#800000">16</font><font color="#000080">);
    </font>memw<font color="#000080">[</font>vseg<font color="#000080">:</font>word<font color="#000080">(</font>l<font color="#000080">)]:=</font>col<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font>_p24<font color="#000080">:</font><font color="#FF0000"><b>begin    </b></font><font color="#008000"><i>{ 16M Colors }
    </i></font>l<font color="#000080">:=</font>y<font color="#000080">*</font>bytes<font color="#000080">+(</font>x<font color="#000080">*</font><font color="#800000">3</font><font color="#000080">);
    </font>z<font color="#000080">:=</font>word<font color="#000080">(</font>l<font color="#000080">);
    </font>m<font color="#000080">:=</font>l <font color="#FF0000"><b>shr </b></font><font color="#800000">16</font><font color="#000080">;
    </font>setbank<font color="#000080">(</font>m<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>z<font color="#000080">&lt;</font><font color="#800000">$fffe </font><font color="#FF0000"><b>then </b></font>move<font color="#000080">(</font>col<font color="#000080">,</font>mem<font color="#000080">[</font>vseg<font color="#000080">:</font>z<font color="#000080">],</font><font color="#800000">3</font><font color="#000080">)
    </font><font color="#FF0000"><b>else begin
      </b></font>mem<font color="#000080">[</font>vseg<font color="#000080">:</font>z<font color="#000080">]:=</font>lo<font color="#000080">(</font>col<font color="#000080">);
      </font><font color="#FF0000"><b>if </b></font>z<font color="#000080">=</font><font color="#800000">$ffff </font><font color="#FF0000"><b>then </b></font>setbank<font color="#000080">(</font>m<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
      </font>mem<font color="#000080">[</font>vseg<font color="#000080">:</font>z<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">]:=</font>lo<font color="#000080">(</font>col <font color="#FF0000"><b>shr </b></font><font color="#800000">8</font><font color="#000080">);
      </font><font color="#FF0000"><b>if </b></font>z<font color="#000080">=</font><font color="#800000">$fffe </font><font color="#FF0000"><b>then </b></font>setbank<font color="#000080">(</font>m<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">);
      </font>mem<font color="#000080">[</font>vseg<font color="#000080">:</font>z<font color="#000080">+</font><font color="#800000">2</font><font color="#000080">]:=</font>col <font color="#FF0000"><b>shr </b></font><font color="#800000">16</font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font>_p32<font color="#000080">:</font><font color="#FF0000"><b>begin    </b></font><font color="#008000"><i>{ 16M Colors + Brigth }
    </i></font>l<font color="#000080">:=</font>y<font color="#000080">*</font>bytes<font color="#000080">+(</font>x <font color="#FF0000"><b>shl </b></font><font color="#800000">2</font><font color="#000080">);
    </font>setbank<font color="#000080">(</font>l <font color="#FF0000"><b>shr </b></font><font color="#800000">16</font><font color="#000080">);
    </font>meml<font color="#000080">[</font>vseg<font color="#000080">:</font>word<font color="#000080">(</font>l<font color="#000080">)]:=</font>col<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
This way you can call a procedure that change your PAG RAM.

like this:
==========
}
        </i></font>rp<font color="#000080">.</font>bx<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
        </font>bank<font color="#000080">:=</font>bank<font color="#000080">*</font>longint<font color="#000080">(</font><font color="#800000">64</font><font color="#000080">) </font><font color="#FF0000"><b>div </b></font>vgran<font color="#000080">;
        </font>rp<font color="#000080">.</font>dx<font color="#000080">:=</font>bank<font color="#000080">;
        </font>vio<font color="#000080">(</font><font color="#800000">$4f05</font><font color="#000080">);
        </font>rp<font color="#000080">.</font>bx<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
        </font>rp<font color="#000080">.</font>dx<font color="#000080">:=</font>bank<font color="#000080">;
        </font>vio<font color="#000080">(</font><font color="#800000">$4f05</font><font color="#000080">);
</font><font color="#008000"><i>{

 JW&gt; I did a call to interrupt 10h with AX set to 4F00h, to get the VESA
 JW&gt; information. It worked and all &lt;from what it says, I have VESA version
 1.2&gt;, and the initialization worked &lt;I could get into all those VESA
 JW&gt; modes okay&gt;, too, but I just can't draw outside the first 64k window.
 JW&gt; How do you change pages &lt;I think you change pages&gt; to draw there?

 Yes thats it.

 You can use this code to change MODE:
 =====================================
}
  </i></font>rp<font color="#000080">.</font>bx<font color="#000080">:=</font>md<font color="#000080">;
                </font>vio<font color="#000080">(</font><font color="#800000">$4f02</font><font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font>rp<font color="#000080">.</font>ax<font color="#000080">&lt;&gt;</font><font color="#800000">$4f </font><font color="#FF0000"><b>then </b></font>setmode<font color="#000080">:=</font>false
                <font color="#FF0000"><b>else begin
                  </b></font>vesamodeinfo<font color="#000080">(</font>md<font color="#000080">,</font><font color="#FF0000"><b>NIL</b></font><font color="#000080">);
    </font>chip<font color="#000080">:=</font>__vesa<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{
whwre VIO is:
=============
}
</i></font><font color="#FF0000"><b>procedure </b></font>vio<font color="#000080">(</font>ax<font color="#000080">:</font>word<font color="#000080">);         </font><font color="#008000"><i>{INT 10h reg ax=AX. other reg. set from RP
                                 on return rp.ax=reg AX}
</i></font><font color="#FF0000"><b>begin
  </b></font>rp<font color="#000080">.</font>ax<font color="#000080">:=</font>ax<font color="#000080">;
  </font>intr<font color="#000080">(</font><font color="#800000">$10</font><font color="#000080">,</font>rp<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>{
You can see info on that by:
============================
}
</i></font><font color="#FF0000"><b>procedure </b></font>vesamodeinfo<font color="#000080">(</font>md<font color="#000080">:</font>word<font color="#000080">;</font>vbe1<font color="#000080">:</font>_vbe1p<font color="#000080">);
</font><font color="#FF0000"><b>const
  </b></font>width <font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">$100</font><font color="#000080">..</font><font color="#800000">$11b</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>word<font color="#000080">=
      (</font><font color="#800000">640</font><font color="#000080">,</font><font color="#800000">640</font><font color="#000080">,</font><font color="#800000">800</font><font color="#000080">,</font><font color="#800000">800</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">,</font><font color="#800000">1280</font><font color="#000080">,</font><font color="#800000">1280</font><font color="#000080">,</font><font color="#800000">80</font><font color="#000080">,</font><font color="#800000">132</font><font color="#000080">,</font><font color="#800000">132</font><font color="#000080">,</font><font color="#800000">132</font><font color="#000080">,</font><font color="#800000">132
      </font><font color="#000080">,</font><font color="#800000">320</font><font color="#000080">,</font><font color="#800000">320</font><font color="#000080">,</font><font color="#800000">320</font><font color="#000080">,</font><font color="#800000">640</font><font color="#000080">,</font><font color="#800000">640</font><font color="#000080">,</font><font color="#800000">640</font><font color="#000080">,</font><font color="#800000">800</font><font color="#000080">,</font><font color="#800000">800</font><font color="#000080">,</font><font color="#800000">800</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">,</font><font color="#800000">1280</font><font color="#000080">,</font><font color="#800000">1280</font><font color="#000080">,</font><font color="#800000">1280</font><font color="#000080">);
  </font>height<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">$100</font><font color="#000080">..</font><font color="#800000">$11b</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>word<font color="#000080">=
      (</font><font color="#800000">400</font><font color="#000080">,</font><font color="#800000">480</font><font color="#000080">,</font><font color="#800000">600</font><font color="#000080">,</font><font color="#800000">600</font><font color="#000080">, </font><font color="#800000">768</font><font color="#000080">, </font><font color="#800000">768</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">,</font><font color="#800000">60</font><font color="#000080">, </font><font color="#800000">25</font><font color="#000080">, </font><font color="#800000">43</font><font color="#000080">, </font><font color="#800000">50</font><font color="#000080">, </font><font color="#800000">60
      </font><font color="#000080">,</font><font color="#800000">200</font><font color="#000080">,</font><font color="#800000">200</font><font color="#000080">,</font><font color="#800000">200</font><font color="#000080">,</font><font color="#800000">480</font><font color="#000080">,</font><font color="#800000">480</font><font color="#000080">,</font><font color="#800000">480</font><font color="#000080">,</font><font color="#800000">600</font><font color="#000080">,</font><font color="#800000">600</font><font color="#000080">,</font><font color="#800000">600</font><font color="#000080">, </font><font color="#800000">768</font><font color="#000080">, </font><font color="#800000">768</font><font color="#000080">, </font><font color="#800000">768</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">,</font><font color="#800000">1024</font><font color="#000080">);
  </font>bits  <font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">$100</font><font color="#000080">..</font><font color="#800000">$11b</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">=
      (  </font><font color="#800000">8</font><font color="#000080">,  </font><font color="#800000">8</font><font color="#000080">,  </font><font color="#800000">4</font><font color="#000080">,  </font><font color="#800000">8</font><font color="#000080">,   </font><font color="#800000">4</font><font color="#000080">,   </font><font color="#800000">8</font><font color="#000080">,   </font><font color="#800000">4</font><font color="#000080">,   </font><font color="#800000">8</font><font color="#000080">, </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0</font><font color="#000080">,  </font><font color="#800000">0
      </font><font color="#000080">, </font><font color="#800000">15</font><font color="#000080">, </font><font color="#800000">16</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">, </font><font color="#800000">15</font><font color="#000080">, </font><font color="#800000">16</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">, </font><font color="#800000">15</font><font color="#000080">, </font><font color="#800000">16</font><font color="#000080">, </font><font color="#800000">24</font><font color="#000080">,  </font><font color="#800000">15</font><font color="#000080">,  </font><font color="#800000">16</font><font color="#000080">,  </font><font color="#800000">24</font><font color="#000080">,  </font><font color="#800000">15</font><font color="#000080">,  </font><font color="#800000">16</font><font color="#000080">,  </font><font color="#800000">24</font><font color="#000080">);


</font><font color="#FF0000"><b>var
  </b></font>vbxx<font color="#000080">:</font>_vbe1<font color="#000080">;
</font><font color="#FF0000"><b>begin
  if </b></font>vbe1<font color="#000080">=</font><font color="#FF0000"><b>NIL then </b></font>vbe1<font color="#000080">:=@</font>vbxx<font color="#000080">;
  </font>fillchar<font color="#000080">(</font>vbe1<font color="#000080">^,</font>sizeof<font color="#000080">(</font>_vbe1<font color="#000080">),</font><font color="#800000">0</font><font color="#000080">);
  </font>viop<font color="#000080">(</font><font color="#800000">$4f01</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>md<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>vbe1<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font><font color="#000080">((</font>vbe1<font color="#000080">^.</font>attr <font color="#FF0000"><b>and </b></font><font color="#800000">2</font><font color="#000080">)=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>md<font color="#000080">&gt;=</font><font color="#800000">$100</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>md<font color="#000080">&lt;=</font><font color="#800000">$11b</font><font color="#000080">)
   </font><font color="#FF0000"><b>then  </b></font><font color="#008000"><i>(* optional info missing *)
  </i></font><font color="#FF0000"><b>begin
    </b></font>vbe1<font color="#000080">^.</font>width <font color="#000080">:=</font>width<font color="#000080">[</font>md<font color="#000080">];
    </font>vbe1<font color="#000080">^.</font>height<font color="#000080">:=</font>height<font color="#000080">[</font>md<font color="#000080">];
    </font>vbe1<font color="#000080">^.</font>bits  <font color="#000080">:=</font>bits<font color="#000080">[</font>md<font color="#000080">];
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>vgran <font color="#000080">:=</font>vbe1<font color="#000080">^.</font>gran<font color="#000080">;
  </font>bytes <font color="#000080">:=</font>vbe1<font color="#000080">^.</font>bytes<font color="#000080">;
  </font>pixels<font color="#000080">:=</font>vbe1<font color="#000080">^.</font>width<font color="#000080">;
  </font>lins  <font color="#000080">:=</font>vbe1<font color="#000080">^.</font>height<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;


</font>Here <font color="#FF0000"><b>is </b></font>the TYPES<font color="#000080">:
==================

</font><font color="#FF0000"><b>type
  </b></font>intarr<font color="#000080">=</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">100</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>word<font color="#000080">;

  </font>_vbe0<font color="#000080">=</font><font color="#FF0000"><b>record
          </b></font>sign  <font color="#000080">:</font>longint<font color="#000080">;       </font><font color="#008000"><i>{Must be 'VESA'}
          </i></font>vers  <font color="#000080">:</font>word<font color="#000080">;          </font><font color="#008000"><i>{VBE version.}
          </i></font>oemadr<font color="#000080">:</font>chptr<font color="#000080">;
          </font>capab <font color="#000080">:</font>longint<font color="#000080">;
          </font>model <font color="#000080">:^</font>intarr<font color="#000080">;       </font><font color="#008000"><i>{Ptr to list of modes}
          </i></font>mem   <font color="#000080">:</font>byte<font color="#000080">;          </font><font color="#008000"><i>{#64k blocks}
          </i></font>xx<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">499</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;   </font><font color="#008000"><i>{Buffer is too large, as some cards
                                         can return more than 256 bytes}

</i></font>l<font color="#000080">;

    </font><font color="#FF0000"><b>case </b></font>memmode <font color="#FF0000"><b>of
       </b></font>_pk2<font color="#000080">,
       </font>_pl2<font color="#000080">:</font><font color="#FF0000"><b>for </b></font>x<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
              for </b></font>y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
                </b></font>setpix<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">+</font>x<font color="#000080">,</font>yst<font color="#000080">+</font>y<font color="#000080">+</font><font color="#800000">50</font><font color="#000080">,</font>y <font color="#FF0000"><b>shr </b></font><font color="#800000">3</font><font color="#000080">);
      </font>_pk4<font color="#000080">,
       </font>_pl4<font color="#000080">:</font><font color="#FF0000"><b>for </b></font>x<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">127 </font><font color="#FF0000"><b>do
              if </b></font>lins<font color="#000080">&lt;</font><font color="#800000">250 </font><font color="#FF0000"><b>then
                for </b></font>y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
                  </b></font>setpix<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">+</font>x<font color="#000080">,</font>yst<font color="#000080">+</font>y<font color="#000080">+</font><font color="#800000">50</font><font color="#000080">,</font>y <font color="#FF0000"><b>shr </b></font><font color="#800000">2</font><font color="#000080">)
              </font><font color="#FF0000"><b>else
                for </b></font>y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">127 </font><font color="#FF0000"><b>do
                  </b></font>setpix<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">+</font>x<font color="#000080">,</font>yst<font color="#000080">+</font>y<font color="#000080">+</font><font color="#800000">50</font><font color="#000080">,</font>y <font color="#FF0000"><b>shr </b></font><font color="#800000">3</font><font color="#000080">);
        </font>_p8<font color="#000080">:</font><font color="#FF0000"><b>for </b></font>x<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">127 </font><font color="#FF0000"><b>do
              if </b></font>lins<font color="#000080">&lt;</font><font color="#800000">250 </font><font color="#FF0000"><b>then
                for </b></font>y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
                  </b></font>setpix<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">+</font>x<font color="#000080">,</font>yst<font color="#000080">+</font><font color="#800000">50</font><font color="#000080">+</font>y<font color="#000080">,((</font>y <font color="#FF0000"><b>shl </b></font><font color="#800000">2</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#800000">240</font><font color="#000080">) +(</font>x <font color="#FF0000"><b>shr </b></font><font color="#800000">3</font><font color="#000080">))
              </font><font color="#FF0000"><b>else
                for </b></font>y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">127 </font><font color="#FF0000"><b>do
                  </b></font>setpix<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">+</font>x<font color="#000080">,</font>yst<font color="#000080">+</font><font color="#800000">50</font><font color="#000080">+</font>y<font color="#000080">,((</font>y <font color="#FF0000"><b>shl </b></font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#800000">240</font><font color="#000080">)+(</font>x <font color="#FF0000"><b>shr </b></font><font color="#800000">3</font><font color="#000080">));
 
      </font>_p15<font color="#000080">,</font>_p16<font color="#000080">,</font>_p24<font color="#000080">,</font>_p32<font color="#000080">:
            </font><font color="#FF0000"><b>if </b></font>pixels<font color="#000080">&lt;</font><font color="#800000">600 </font><font color="#FF0000"><b>then
            begin
              for </b></font>x<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
              begin
                for </b></font>y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">63 </font><font color="#FF0000"><b>do
                begin
                  </b></font>setpix<font color="#000080">(</font><font color="#800000">30</font><font color="#000080">+</font>x<font color="#000080">,</font><font color="#800000">100</font><font color="#000080">+</font>y<font color="#000080">,</font>rgb<font color="#000080">(</font>x<font color="#000080">*</font><font color="#800000">4</font><font color="#000080">,</font>y<font color="#000080">*</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">));
                  </font>setpix<font color="#000080">(</font><font color="#800000">110</font><font color="#000080">+</font>x<font color="#000080">,</font><font color="#800000">100</font><font color="#000080">+</font>y<font color="#000080">,</font>rgb<font color="#000080">(</font>x<font color="#000080">*</font><font color="#800000">4</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>y<font color="#000080">*</font><font color="#800000">4</font><font color="#000080">));
                  </font>setpix<font color="#000080">(</font><font color="#800000">190</font><font color="#000080">+</font>x<font color="#000080">,</font><font color="#800000">100</font><font color="#000080">+</font>y<font color="#000080">,</font>rgb<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>x<font color="#000080">*</font><font color="#800000">4</font><font color="#000080">,</font>y<font color="#000080">*</font><font color="#800000">4</font><font color="#000080">));
                </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
              </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
              </font><font color="#FF0000"><b>for </b></font>x<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">255 </font><font color="#FF0000"><b>do
                for </b></font>y<font color="#000080">:=</font><font color="#800000">170 </font><font color="#FF0000"><b>to </b></font><font color="#800000">179 </font><font color="#FF0000"><b>do
                begin
                  </b></font>setpix<font color="#000080">(</font>x<font color="#000080">,</font>y   <font color="#000080">,</font>rgb<font color="#000080">(</font>x<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">));
                  </font>setpix<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">10</font><font color="#000080">,</font>rgb<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>x<font color="#000080">,</font><font color="#800000">0</font><font color="#000080">));
                  </font>setpix<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">20</font><font color="#000080">,</font>rgb<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>x<font color="#000080">));
                </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>end
            else begin
              for </b></font>x<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">127 </font><font color="#FF0000"><b>do
                for </b></font>y<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">127 </font><font color="#FF0000"><b>do
                begin
                  </b></font>setpix<font color="#000080">( </font><font color="#800000">30</font><font color="#000080">+</font>x<font color="#000080">,</font><font color="#800000">120</font><font color="#000080">+</font>y<font color="#000080">,</font>rgb<font color="#000080">(</font>x<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">));
                  </font>setpix<font color="#000080">(</font><font color="#800000">200</font><font color="#000080">+</font>x<font color="#000080">,</font><font color="#800000">120</font><font color="#000080">+</font>y<font color="#000080">,</font>rgb<font color="#000080">(</font>x<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>y<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">));
                  </font>setpix<font color="#000080">(</font><font color="#800000">370</font><font color="#000080">+</font>x<font color="#000080">,</font><font color="#800000">120</font><font color="#000080">+</font>y<font color="#000080">,</font>rgb<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>x<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">,</font>y<font color="#000080">*</font><font color="#800000">2</font><font color="#000080">));
                </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
              </font><font color="#FF0000"><b>for </b></font>x<font color="#000080">:=</font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font><font color="#800000">511 </font><font color="#FF0000"><b>do
                for </b></font>y<font color="#000080">:=</font><font color="#800000">260 </font><font color="#FF0000"><b>to </b></font><font color="#800000">269 </font><font color="#FF0000"><b>do
                begin
                  </b></font>setpix<font color="#000080">(</font>x<font color="#000080">,</font>y   <font color="#000080">,</font>rgb<font color="#000080">(</font>x <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">));
                  </font>setpix<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">10</font><font color="#000080">,</font>rgb<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>x <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">));
                  </font>setpix<font color="#000080">(</font>x<font color="#000080">,</font>y<font color="#000080">+</font><font color="#800000">20</font><font color="#000080">,</font>rgb<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font>x <font color="#FF0000"><b>shr </b></font><font color="#800000">1</font><font color="#000080">));
                </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
            </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
 
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;}
</i></font><font color="#FF0000"><b>Procedure </b></font>InitVesa<font color="#000080">;
</font><font color="#008000"><i>{&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;}
</i></font><font color="#FF0000"><b>var
</b></font>vesarec<font color="#000080">:</font>_vbe0<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>viop<font color="#000080">(</font><font color="#800000">$4f00</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,@</font>vesarec<font color="#000080">);
  </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>rp<font color="#000080">.</font>ax<font color="#000080">=</font><font color="#800000">$4f</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>vesarec<font color="#000080">.</font>sign<font color="#000080">=</font><font color="#800000">$41534556</font><font color="#000080">) </font><font color="#FF0000"><b>then
  begin
    </b></font>mm<font color="#000080">:=</font>vesarec<font color="#000080">.</font>mem<font color="#000080">*</font>longint<font color="#000080">(</font><font color="#800000">64</font><font color="#000080">);
    </font>name<font color="#000080">:=</font>gtstr<font color="#000080">(</font>vesarec<font color="#000080">.</font>oemadr<font color="#000080">);
    </font>version<font color="#000080">:=</font>vesarec<font color="#000080">.</font>vers
  <font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0190.PAS">Original</a><b>]</b></p></body>
</html>
