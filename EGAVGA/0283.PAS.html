<html>
<head><title> "Gotoxy in Assembler" by SALVATORE MESCHINI</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0283.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>(* Author: Salvatore Meschini - http://www.ermes.it/pws/mesk -
smeschini@ermes.it*)
(* This procedure can replace crt.gotoxy so your executables will be 1648
bytes    smaller !!!*)
(* Note: my gotoxy is fast AS crt.gotoxy -&gt; your benefit is in size not in
speed*)

</i></font><font color="#FF0000"><b>Procedure </b></font>GOtoXY<font color="#000080">(</font>X<font color="#000080">,</font>Y<font color="#000080">:</font>byte<font color="#000080">);</font><font color="#FF0000"><b>Assembler</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>var </b></font>currentpage<font color="#000080">,</font>rows<font color="#000080">,</font>cols<font color="#000080">:</font>byte<font color="#000080">;

 </font><font color="#FF0000"><b>ASM
   </b></font><font color="#FF00FF">MOV SI,40h
   MOV ES,SI
   MOV AL,ES:[0084h]   </font><font color="#008000"><i>{Get Rows}
   </i></font><font color="#FF00FF">INC AL
   MOV ROWS,AL
   MOV AL,ES:[004Ah]   </font><font color="#008000"><i>{Get Columns}
   </i></font><font color="#FF00FF">MOV COLS,AL
   MOV AL,ES:[0062h]
   MOV CURRENTPAGE,AL  </font><font color="#008000"><i>(* Get current page *)
   </i></font><font color="#FF00FF">MOV DL,X
   DEC DL
   CMP DL,0            </font><font color="#008000"><i>(* Safety checks *)
   </i></font><font color="#FF00FF">JB @OUTLIMITS       
   CMP DL,COLS
   JA @OUTLIMITS
   MOV DH,Y
   DEC DH
   CMP DH,0
   JB @OUTLIMITS
   CMP DH,ROWS
   JA @OUTLIMITS
   MOV AH,02h
   MOV BH,CURRENTPAGE
   INT 10h            </font><font color="#008000"><i>(* Call BIOS to change position *)  
  </i></font><font color="#FF00FF">@OUTLIMITS:
 </font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EGAVGA SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0283.PAS">Original</a><b>]</b></p></body>
</html>
