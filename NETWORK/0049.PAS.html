<html>
<head><title> "Who is logged into your station" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to NETWORK SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0049.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000"> <font color="#008000"><i>{
 Program Name : Logged.Pas
 Written By   : Anonymous
 E-Mail       : nothing
 Web Page     : nothing
 Program
 Compilation  : Turbo Pascal 5.0 or later

 Program Description :

 Program to check on WHO is logged to your superstation.
 }


</i></font><font color="#FF0000"><b>Program </b></font>Logged<font color="#000080">;
</font><font color="#FF0000"><b>Uses </b></font>CRT<font color="#000080">,</font>PRINTER<font color="#000080">,</font>DOS<font color="#000080">,</font>TENTOOLS<font color="#000080">;  </font><font color="#008000"><i>{ tentools is ALSO in NETWORK.SWG }

</i></font><font color="#FF0000"><b>TYPE
   </b></font>LTABRecIndex <font color="#000080">= </font>Word<font color="#000080">;
   </font>LTABRec <font color="#000080">= </font><font color="#FF0000"><b>Record
    </b></font>ChainPtr <font color="#000080">: </font>LTABRecIndex<font color="#000080">;
    </font>NodeName <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">15</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Char<font color="#000080">;
    </font>LoggedUser <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">8</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Char<font color="#000080">;
    </font>Filler <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">8</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Char<font color="#000080">;
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font>LTABHeader <font color="#000080">= </font><font color="#FF0000"><b>Record
    </b></font>ChainPtr <font color="#000080">: </font>LTABRecIndex<font color="#000080">;
    </font>NextFreeChain <font color="#000080">: </font>LTABRecIndex<font color="#000080">; </font><font color="#008000"><i>{Word Ptr}
   </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>VAR
   </b></font>OutScreen <font color="#000080">: </font>Text<font color="#000080">;
   </font>LTABOFS<font color="#000080">,</font>LTABSEG <font color="#000080">: </font>Word<font color="#000080">;
   </font>LTABPtr <font color="#000080">: ^</font>LTABRec<font color="#000080">;
   </font>LTAB <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">200</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font><font color="#000080">^</font>LTabRec<font color="#000080">;
   </font>Head <font color="#000080">: ^</font>LTABHeader<font color="#000080">;
   </font>I<font color="#000080">,</font>J<font color="#000080">,</font>LogTotal <font color="#000080">: </font>Integer<font color="#000080">;
   </font>NextChain<font color="#000080">,</font>Test <font color="#000080">: </font>Word<font color="#000080">;
   </font>ChatLine <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
   </font>ToNode <font color="#000080">: </font>S12<font color="#000080">;
</font><font color="#FF0000"><b>Begin
   </b></font>Assign<font color="#000080">(</font>OutScreen<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);
   </font>LTABOFS<font color="#000080">:=</font>PreConfig<font color="#000080">^.</font>PCT_LTAB<font color="#000080">;
   </font>LTABSEG<font color="#000080">:=</font>Seg<font color="#000080">(</font>PreConfig<font color="#000080">^);
   </font>LTABPtr<font color="#000080">:=</font>PTR<font color="#000080">(</font>LTABSEG<font color="#000080">,</font>LTABOFS<font color="#000080">);
   </font>Head<font color="#000080">:=</font>PTR<font color="#000080">(</font>LTABSEG<font color="#000080">,</font>LTABOFS<font color="#000080">-</font><font color="#800000">4</font><font color="#000080">);
</font><font color="#008000"><i>(*
   Writeln(Head^.ChainPtr);
   Writeln(Head^.NextFreeChain);
   For I:=1 to 4 do
    begin
       Writeln(SEG(LTabPtr^),':',OFS(LTabPtr^),'  ',LTabPtr^.ChainPtr);
       Writeln(SEG(LTabPtr^),':',OFS(LTabPtr^)+2,'  ',LTabPtr^.NodeName);
       Writeln(SEG(LTabPtr^),':',OFS(LTabPtr^)+17,'  ',LTabPtr^.LoggedUser);
       Writeln(SEG(LTabPtr^),':',OFS(LTabPtr^)+25,'  ',LTabPtr^.Filler);
       LTABPtr:=PTR(LTABSEG,LTABOFS+(I*Sizeof(LTABRec)));
    end;
*)
   </i></font>LogTotal<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
   </font>NextChain<font color="#000080">:=</font>Head<font color="#000080">^.</font>ChainPtr<font color="#000080">;
   </font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>NextChain<font color="#000080">&lt;&gt;</font><font color="#800000">$FFFF</font><font color="#000080">) </font><font color="#FF0000"><b>do
    begin
       </b></font>LTAB<font color="#000080">[</font>LogTotal<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">]:=</font>PTR<font color="#000080">(</font>LTABSEG<font color="#000080">,</font>NextChain<font color="#000080">);
       </font>Inc<font color="#000080">(</font>LogTotal<font color="#000080">);
       </font>NextChain<font color="#000080">:=</font>LTab<font color="#000080">[</font>LogTotal<font color="#000080">]^.</font>ChainPtr<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
   </font>ChatLine<font color="#000080">:=</font><font color="#800000">''</font><font color="#000080">;
   </font><font color="#FF0000"><b>If </b></font>LogTotal<font color="#000080">&gt;</font><font color="#800000">0
   </font><font color="#FF0000"><b>then
    begin
       If </b></font>ParamCount<font color="#000080">=</font><font color="#800000">0
       </font><font color="#FF0000"><b>then
        begin
           for </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>LogTotal <font color="#FF0000"><b>do with </b></font>LTAB<font color="#000080">[</font>I<font color="#000080">]^ </font><font color="#FF0000"><b>do
           </b></font>Writeln<font color="#000080">(</font>LoggedUser<font color="#000080">,</font><font color="#800000">' is Logged to you from '</font><font color="#000080">,</font>NodeName<font color="#000080">);
        </font><font color="#FF0000"><b>end
       else
        begin
           </b></font>ChatLine<font color="#000080">:=</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
           </font><font color="#FF0000"><b>If </b></font>ParamCount<font color="#000080">&gt;</font><font color="#800000">1 </font><font color="#FF0000"><b>then
           for </b></font>I<font color="#000080">:=</font><font color="#800000">2 </font><font color="#FF0000"><b>to </b></font>ParamCount <font color="#FF0000"><b>do </b></font>Chatline<font color="#000080">:=</font>Chatline<font color="#000080">+</font><font color="#800000">' '</font><font color="#000080">+</font>ParamStr<font color="#000080">(</font>I<font color="#000080">);
           </font><font color="#FF0000"><b>For </b></font>I<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>LogTotal <font color="#FF0000"><b>do with </b></font>LTAB<font color="#000080">[</font>I<font color="#000080">]^ </font><font color="#FF0000"><b>do
            begin
               For </b></font>J<font color="#000080">:=</font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">12 </font><font color="#FF0000"><b>do </b></font>ToNode<font color="#000080">[</font>J<font color="#000080">]:=</font>NodeName<font color="#000080">[</font>J<font color="#000080">];
                </font>ToNode<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]:=</font><font color="#800000">#12</font><font color="#000080">;
                </font>Write<font color="#000080">(</font><font color="#800000">'Sending message to '</font><font color="#000080">,</font>ToNode<font color="#000080">);
               </font>Test<font color="#000080">:=</font>Chat<font color="#000080">(</font>ToNode<font color="#000080">,</font>Chatline<font color="#000080">);
               </font><font color="#FF0000"><b>If </b></font>Test<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>then </b></font>writeln<font color="#000080">(</font><font color="#800000">' successfully!'</font><font color="#000080">)
               </font><font color="#FF0000"><b>else </b></font>writeln<font color="#000080">(</font><font color="#800000">' unsuccessfully (Error: '</font><font color="#000080">,</font>Test<font color="#000080">,</font><font color="#800000">')'</font><font color="#000080">);
            </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end
   else </b></font>Writeln<font color="#000080">(</font><font color="#800000">'No Users Currently Logged to you...'</font><font color="#000080">);
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to NETWORK SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0049.PAS">Original</a><b>]</b></p></body>
</html>
