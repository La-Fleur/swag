<html>
<head><title> "Copying and Deleteing DIRS" by KRESIMIR MIHALJ</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DIRS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0038.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#008000"><i>{ Here are programs for Copying and Deleting directories. }

</i></font><font color="#000080">}

</font><font color="#008000"><i>{****************************************************************************}

{                               Copy Directory                               }

{****************************************************************************}
{$S+}

{for large directories alocate some mem true $M compiler directive}
</i></font><font color="#FF0000"><b>PROGRAM </b></font>CopyDirectory<font color="#000080">;
</font><font color="#FF0000"><b>USES </b></font>DOS<font color="#000080">,</font>CRT<font color="#000080">;
</font><font color="#FF0000"><b>VAR </b></font>DI<font color="#000080">: </font>SearchRec<font color="#000080">;
    </font>N1<font color="#000080">,</font>WWW<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Coppy<font color="#000080">(</font>Source<font color="#000080">, </font>Target <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);

</font><font color="#FF0000"><b>Var </b></font>InFile<font color="#000080">, </font>OutFile <font color="#000080">: </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
    </font>Buffer          <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[ </font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">8192 </font><font color="#000080">] </font><font color="#FF0000"><b>Of </b></font>Char<font color="#000080">;
    </font>NumberRead<font color="#000080">,
    </font>NumberWritten   <font color="#000080">: </font>Word<font color="#000080">;
    </font>Attr<font color="#000080">: </font>Word<font color="#000080">;
    </font>Time<font color="#000080">: </font>LongInt<font color="#000080">;

</font><font color="#FF0000"><b>begin

   </b></font>Assign<font color="#000080">( </font>InFile<font color="#000080">, </font>Source <font color="#000080">);
   </font>Reset <font color="#000080">( </font>InFile<font color="#000080">, </font><font color="#800000">1 </font><font color="#000080">);     </font><font color="#008000"><i>{This is Reset For unTyped Files}
   </i></font>Assign  <font color="#000080">( </font>OutFile<font color="#000080">, </font>Target <font color="#000080">);
   </font>ReWrite <font color="#000080">( </font>OutFile<font color="#000080">, </font><font color="#800000">1 </font><font color="#000080">);  </font><font color="#008000"><i>{This is ReWrite For unTyped Files}
   </i></font><font color="#FF0000"><b>Repeat
      </b></font>BlockRead <font color="#000080">( </font>InFile<font color="#000080">, </font>Buffer<font color="#000080">, </font>Sizeof<font color="#000080">( </font>Buffer <font color="#000080">), </font>NumberRead <font color="#000080">);
      </font>BlockWrite<font color="#000080">( </font>OutFile<font color="#000080">, </font>Buffer<font color="#000080">, </font>NumberRead<font color="#000080">, </font>NumberWritten <font color="#000080">);
   </font><font color="#FF0000"><b>Until </b></font><font color="#000080">(</font>NumberRead <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">(</font>NumberRead <font color="#000080">&lt;&gt; </font>NumberWritten<font color="#000080">);
   </font>Close<font color="#000080">( </font>InFile <font color="#000080">);
   </font>Close<font color="#000080">( </font>OutFile <font color="#000080">);
   </font>Assign<font color="#000080">( </font>InFile<font color="#000080">, </font>Source<font color="#000080">);
   </font>GetFAttr<font color="#000080">(</font>InFile<font color="#000080">, </font>Attr<font color="#000080">);
   </font>GetFTime<font color="#000080">(</font>InFile<font color="#000080">, </font>Time<font color="#000080">);
   </font>Assign<font color="#000080">( </font>OutFile<font color="#000080">, </font>Target<font color="#000080">);
   </font>SetFAttr<font color="#000080">( </font>OutFile<font color="#000080">, </font>Attr<font color="#000080">);
   </font>SetFTime<font color="#000080">( </font>OutFile<font color="#000080">, </font>Time<font color="#000080">);

</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>FileExist<font color="#000080">(</font>FileName<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">) : </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>VAR </b></font>DirInfo<font color="#000080">: </font>SearchRec<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>FindFirst<font color="#000080">(</font>FileName<font color="#000080">, </font>AnyFile<font color="#000080">, </font>DirInfo<font color="#000080">);
     </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>DosError<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>THEN </b></font>FileExist<font color="#000080">:=</font>True
                     <font color="#FF0000"><b>ELSE </b></font>FileExist<font color="#000080">:=</font>False<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>PROCEDURE </b></font>CopyDir<font color="#000080">(</font>Name1<font color="#000080">,</font>Name2 <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
</font><font color="#FF0000"><b>VAR </b></font>GR<font color="#000080">,</font>GD<font color="#000080">: </font>SearchRec<font color="#000080">;
    </font>k<font color="#000080">,</font>j<font color="#000080">: </font>Integer<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>k<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
     </font>MkDir<font color="#000080">(</font>Name2<font color="#000080">);
     </font>Name2<font color="#000080">:=</font>FExpand<font color="#000080">(</font>Name2<font color="#000080">);
     </font>ChDir<font color="#000080">(</font>Name1<font color="#000080">);
     </font>FindFirst<font color="#000080">(</font><font color="#800000">'*.*'</font><font color="#000080">,</font>AnyFile<font color="#000080">,</font>GR<font color="#000080">);
     </font><font color="#FF0000"><b>WHILE </b></font>DosError <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>DO
     BEGIN
          IF </b></font>GR<font color="#000080">.</font>Attr <font color="#FF0000"><b>AND </b></font>Directory <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>k<font color="#000080">:=</font>k<font color="#000080">+</font><font color="#800000">1
          </font><font color="#FF0000"><b>ELSE </b></font>Coppy<font color="#000080">(</font>Name1<font color="#000080">+</font><font color="#800000">'\'</font><font color="#000080">+</font>GR<font color="#000080">.</font>Name<font color="#000080">, </font>Name2<font color="#000080">+</font><font color="#800000">'\'</font><font color="#000080">+</font>GR<font color="#000080">.</font>Name<font color="#000080">);
          </font>FindNext<font color="#000080">(</font>GR<font color="#000080">);
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>IF </b></font>k<font color="#000080">&gt;</font><font color="#800000">2 </font><font color="#FF0000"><b>THEN
     BEGIN
          </b></font>FindFirst<font color="#000080">(</font><font color="#800000">'*.*'</font><font color="#000080">, </font>AnyFile<font color="#000080">, </font>GR<font color="#000080">);
          </font><font color="#FF0000"><b>WHILE </b></font>DosError <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>DO
          BEGIN
               </b></font>j<font color="#000080">:=</font><font color="#800000">2</font><font color="#000080">;
               </font><font color="#FF0000"><b>REPEAT
                     IF </b></font><font color="#000080">(</font>GR<font color="#000080">.</font>Name <font color="#000080">&lt;&gt; </font><font color="#800000">'.'</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>GR<font color="#000080">.</font>Name <font color="#000080">&lt;&gt; </font><font color="#800000">'..'</font><font color="#000080">) </font><font color="#FF0000"><b>THEN
                     IF </b></font>GR<font color="#000080">.</font>Attr <font color="#FF0000"><b>AND </b></font>Directory <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
                     </b></font>CopyDir<font color="#000080">(</font>Name1<font color="#000080">+</font><font color="#800000">'\'</font><font color="#000080">+</font>GR<font color="#000080">.</font>Name<font color="#000080">, </font>Name2<font color="#000080">+</font><font color="#800000">'\'</font><font color="#000080">+</font>GR<font color="#000080">.</font>Name<font color="#000080">);
                     </font>FindNext<font color="#000080">(</font>GR<font color="#000080">);
                     </font>j<font color="#000080">:=</font>j<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
               </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>j<font color="#000080">=</font>k<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>DosError <font color="#000080">&lt;&gt; </font><font color="#800000">0</font><font color="#000080">);
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>BEGIN
     </b></font>WRITELN<font color="#000080">(</font><font color="#800000">'                   CopyDir Version 1.0 by AMATRIX Software'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font>Writeln<font color="#000080">(</font><font color="#800000">'     This is a freeware, you  can use it  and  distribute it as  you  wish.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'     CopyDir is part of Data Master Version 1.0 which is not yet releasted.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font>Writeln<font color="#000080">(</font><font color="#800000">'                            Programed by Kresimir Mihalj,  august, 1994.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'                            E-Mail:      piko@cromath.math.hr'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font>GetDir<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>www<font color="#000080">);
     </font>www<font color="#000080">:=</font>FExpand<font color="#000080">(</font>www<font color="#000080">);
     </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">'/h'</font><font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">'/H'</font><font color="#000080">) </font><font color="#FF0000"><b>THEN
     BEGIN
          </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  USAGE:'</font><font color="#000080">);
          </font>Writeln<font color="#000080">;
          </font>WRITELN<font color="#000080">(</font><font color="#800000">'     You mut enter name of directory you copying and  name  of  nonexist'</font><font color="#000080">);
          </font>WRITELN<font color="#000080">(</font><font color="#800000">'     directory where you copy.'</font><font color="#000080">);
          </font>Writeln<font color="#000080">(</font><font color="#800000">'     Example:      CopyDir source target'</font><font color="#000080">);
     </font><font color="#FF0000"><b>END
     ELSE
     IF </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">''</font><font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">)=</font><font color="#800000">''</font><font color="#000080">) </font><font color="#FF0000"><b>THEN
     BEGIN
          </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  ERROR:'</font><font color="#000080">);
          </font>Writeln<font color="#000080">;
          </font>WRITELN<font color="#000080">(</font><font color="#800000">'     Enter /h switch for help.'</font><font color="#000080">);
     </font><font color="#FF0000"><b>END
     ELSE
     IF </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)&lt;&gt;</font><font color="#800000">''</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">((</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)&lt;&gt;</font><font color="#800000">'/h'</font><font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)&lt;&gt;</font><font color="#800000">'/H'</font><font color="#000080">)) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">)=</font><font color="#800000">''</font><font color="#000080">) </font><font color="#FF0000"><b>THEN
     BEGIN
          </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  ERROR:'</font><font color="#000080">);
          </font>Writeln<font color="#000080">;
          </font>WRITELN<font color="#000080">(</font><font color="#800000">'     Enter /h switch for help.'</font><font color="#000080">);
     </font><font color="#FF0000"><b>END
     ELSE
     BEGIN
          IF </b></font>FileExist<font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)) </font><font color="#FF0000"><b>THEN
          BEGIN
               </b></font>FindFirst<font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">), </font>AnyFile<font color="#000080">, </font>DI<font color="#000080">);
               </font><font color="#FF0000"><b>IF </b></font>DI<font color="#000080">.</font>Attr <font color="#FF0000"><b>AND </b></font>Directory <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
               BEGIN
                    IF </b></font>FileExist<font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">)) </font><font color="#FF0000"><b>THEN
                    BEGIN
                         </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  ERROR:'</font><font color="#000080">);
                         </font>WRITELN<font color="#000080">;
                         </font>Writeln<font color="#000080">(</font><font color="#800000">'     '</font><font color="#000080">,</font>ParamStr<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">),</font><font color="#800000">' already exist.'</font><font color="#000080">);
                    </font><font color="#FF0000"><b>END
                    ELSE
                    BEGIN
                          </b></font>N1<font color="#000080">:=</font>FExpand<font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">));
                          </font>CopyDir<font color="#000080">(</font>N1<font color="#000080">,</font>ParamStr<font color="#000080">(</font><font color="#800000">2</font><font color="#000080">));
                    </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
               </font><font color="#FF0000"><b>END
               ELSE
               BEGIN
                    </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  ERROR:'</font><font color="#000080">);
                    </font>Writeln<font color="#000080">;
                    </font>Writeln<font color="#000080">(</font><font color="#800000">'     '</font><font color="#000080">,</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">),</font><font color="#800000">' is not a directory'</font><font color="#000080">)
               </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
          </font><font color="#FF0000"><b>END
          ELSE
          BEGIN
               </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  ERROR:'</font><font color="#000080">);
               </font>Writeln<font color="#000080">;
               </font>Writeln<font color="#000080">(</font><font color="#800000">'     '</font><font color="#000080">,</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">),</font><font color="#800000">' does not exist.'</font><font color="#000080">);
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font>ChDir<font color="#000080">(</font>www<font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.



</font><font color="#008000"><i>{****************************************************************************}

{                               Delete Directory                             }

{****************************************************************************}

</i></font><font color="#FF0000"><b>PROGRAM </b></font>DeleteDirectory<font color="#000080">;
</font><font color="#008000"><i>{for large directories alocate some mem true $M compiler directive}
</i></font><font color="#FF0000"><b>USES </b></font>DOS<font color="#000080">,</font>CRT<font color="#000080">;
</font><font color="#FF0000"><b>VAR </b></font>DI<font color="#000080">: </font>SearchRec<font color="#000080">;

</font><font color="#FF0000"><b>FUNCTION </b></font>FileExist<font color="#000080">(</font>FileName<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">) : </font>Boolean<font color="#000080">;
</font><font color="#FF0000"><b>VAR </b></font>DirInfo<font color="#000080">: </font>SearchRec<font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     </b></font>FindFirst<font color="#000080">(</font>FileName<font color="#000080">, </font>AnyFile<font color="#000080">, </font>DirInfo<font color="#000080">);
     </font><font color="#FF0000"><b>IF </b></font><font color="#000080">(</font>DosError<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>THEN </b></font>FileExist<font color="#000080">:=</font>True
                     <font color="#FF0000"><b>ELSE </b></font>FileExist<font color="#000080">:=</font>False<font color="#000080">;
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;


</font><font color="#FF0000"><b>PROCEDURE </b></font>DelDir<font color="#000080">(</font>Name<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">);
</font><font color="#FF0000"><b>VAR </b></font>k<font color="#000080">: </font>Integer<font color="#000080">;
    </font>DD<font color="#000080">: </font>SearchRec<font color="#000080">;
    </font>m<font color="#000080">,</font>w<font color="#000080">: </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
    </font>s<font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
</font><font color="#FF0000"><b>BEGIN
     REPEAT
           </b></font>ChDir<font color="#000080">(</font>Name<font color="#000080">);
           </font>k<font color="#000080">:=</font><font color="#800000">0</font><font color="#000080">;
           </font>FindFirst<font color="#000080">(</font><font color="#800000">'*.*'</font><font color="#000080">, </font>AnyFile<font color="#000080">, </font>DD<font color="#000080">);
           </font><font color="#FF0000"><b>While </b></font>DosError<font color="#000080">=</font><font color="#800000">0 </font><font color="#FF0000"><b>Do
           BEGIN
                IF </b></font>DD<font color="#000080">.</font>Attr <font color="#FF0000"><b>AND </b></font>ReadOnly <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
                BEGIN
                     </b></font>Assign<font color="#000080">(</font>m<font color="#000080">, </font>DD<font color="#000080">.</font>Name<font color="#000080">);
                     </font>SetFAttr<font color="#000080">(</font>m<font color="#000080">, </font>Archive<font color="#000080">);
                </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
                </font><font color="#FF0000"><b>IF </b></font>DD<font color="#000080">.</font>Attr <font color="#FF0000"><b>AND </b></font>Hidden <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
                BEGIN
                     </b></font>Assign<font color="#000080">(</font>m<font color="#000080">, </font>DD<font color="#000080">.</font>Name<font color="#000080">);
                     </font>SetFAttr<font color="#000080">(</font>m<font color="#000080">, </font>Archive<font color="#000080">);
                </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
                </font><font color="#FF0000"><b>IF </b></font>DD<font color="#000080">.</font>Attr <font color="#FF0000"><b>AND </b></font>SysFile <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
                BEGIN
                     </b></font>Assign<font color="#000080">(</font>m<font color="#000080">, </font>DD<font color="#000080">.</font>Name<font color="#000080">);
                     </font>SetFAttr<font color="#000080">(</font>m<font color="#000080">, </font>Archive<font color="#000080">);
                </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
                </font><font color="#FF0000"><b>IF </b></font>DD<font color="#000080">.</font>Attr <font color="#000080">&lt;&gt; </font>Directory <font color="#FF0000"><b>THEN
                BEGIN
                     </b></font>Assign<font color="#000080">(</font>m<font color="#000080">, </font>DD<font color="#000080">.</font>Name<font color="#000080">);
                     </font>Rename<font color="#000080">(</font>m<font color="#000080">, </font><font color="#800000">'$$$$$$$$.$$$'</font><font color="#000080">);
                     </font>REWRITE<font color="#000080">(</font>m<font color="#000080">);
                     </font>Close<font color="#000080">(</font>m<font color="#000080">);
                     </font>Erase<font color="#000080">(</font>m<font color="#000080">);
                     </font>Delay<font color="#000080">(</font><font color="#800000">100</font><font color="#000080">);
                </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
                </font>FindNext<font color="#000080">(</font>DD<font color="#000080">);
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
           </font>FindFirst<font color="#000080">(</font><font color="#800000">'*.*'</font><font color="#000080">, </font>AnyFile<font color="#000080">, </font>DD<font color="#000080">);
           </font><font color="#FF0000"><b>WHILE </b></font>DosError <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>DO
           BEGIN
                IF </b></font><font color="#000080">(</font>DD<font color="#000080">.</font>Name <font color="#000080">&lt;&gt; </font><font color="#800000">'.'</font><font color="#000080">) </font><font color="#FF0000"><b>AND </b></font><font color="#000080">(</font>DD<font color="#000080">.</font>Name <font color="#000080">&lt;&gt; </font><font color="#800000">'..'</font><font color="#000080">) </font><font color="#FF0000"><b>THEN
                BEGIN
                     IF </b></font>DD<font color="#000080">.</font>Attr <font color="#FF0000"><b>AND </b></font>Directory <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN
                     BEGIN
                          </b></font>DelDir<font color="#000080">(</font>DD<font color="#000080">.</font>Name<font color="#000080">);
                     </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
                </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
                </font>FindNext<font color="#000080">(</font>DD<font color="#000080">);
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
           </font>FindFirst<font color="#000080">(</font><font color="#800000">'*.*'</font><font color="#000080">, </font>AnyFile<font color="#000080">, </font>DD<font color="#000080">);
           </font><font color="#FF0000"><b>WHILE </b></font>DosError <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>DO
           BEGIN
                </b></font>FindNext<font color="#000080">(</font>DD<font color="#000080">);
                </font>k<font color="#000080">:=</font>k<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
           </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
           </font><font color="#FF0000"><b>IF </b></font>k<font color="#000080">=</font><font color="#800000">2 </font><font color="#FF0000"><b>THEN </b></font>ChDir<font color="#000080">(</font><font color="#800000">'..'</font><font color="#000080">);
           </font>RmDir<font color="#000080">(</font>Name<font color="#000080">);
           </font>GetDir<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">, </font>s<font color="#000080">);
     </font><font color="#FF0000"><b>UNTIL </b></font><font color="#000080">(</font>k<font color="#000080">=</font><font color="#800000">2</font><font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">;

</font><font color="#FF0000"><b>BEGIN
     </b></font>WRITELN<font color="#000080">(</font><font color="#800000">'                   DelDir Version 1.0 by AMATRIX Software'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font>Writeln<font color="#000080">(</font><font color="#800000">'     This is a freeware, you  can use it  and  distribute it as you  wish.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'     DelDir is part of Data Master Version 1.0 which is not yet releasted.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font>Writeln<font color="#000080">(</font><font color="#800000">'                                WARNING !!!'</font><font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'     DelDir erase &amp; wipe ALL files in specified directory and all subdirs,'</font><font color="#000080">);
     </font>WRITELN<font color="#000080">(</font><font color="#800000">'     no metter on attribute sets, so you cannot undelete erased files.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font>Writeln<font color="#000080">(</font><font color="#800000">'                            Programed by Kresimir Mihalj,  august, 1994.'</font><font color="#000080">);
     </font>Writeln<font color="#000080">(</font><font color="#800000">'                            E-Mail:      piko@cromath.math.hr'</font><font color="#000080">);
     </font>Writeln<font color="#000080">;
     </font><font color="#FF0000"><b>IF </b></font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">'' </font><font color="#FF0000"><b>THEN
     BEGIN
          </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  ERROR:'</font><font color="#000080">);
          </font>Writeln<font color="#000080">;
          </font>Writeln<font color="#000080">(</font><font color="#800000">'     Enter /h switch for help.'</font><font color="#000080">);
     </font><font color="#FF0000"><b>END
     ELSE
     IF </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">'.'</font><font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">'..'</font><font color="#000080">) </font><font color="#FF0000"><b>THEN
     BEGIN
          </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  ERROR:'</font><font color="#000080">);
          </font>Writeln<font color="#000080">;
          </font>Writeln<font color="#000080">(</font><font color="#800000">'     Cannot erase courent directory.'</font><font color="#000080">);
     </font><font color="#FF0000"><b>END
     ELSE
     IF </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">'/h'</font><font color="#000080">) </font><font color="#FF0000"><b>OR </b></font><font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)=</font><font color="#800000">'/H'</font><font color="#000080">) </font><font color="#FF0000"><b>THEN
     BEGIN
          </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  USAGE: '</font><font color="#000080">);
          </font>Writeln<font color="#000080">(</font><font color="#800000">'     You must specify directory name which you wonna erase.'</font><font color="#000080">);
          </font>Writeln<font color="#000080">(</font><font color="#800000">'     EXAMPLE:     DelDir batfiles'</font><font color="#000080">);
     </font><font color="#FF0000"><b>END
     ELSE
     IF </b></font>FileExist<font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)) </font><font color="#FF0000"><b>THEN
     BEGIN
          </b></font>FindFirst<font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">), </font>AnyFile<font color="#000080">, </font>DI<font color="#000080">);
          </font><font color="#FF0000"><b>IF </b></font>DI<font color="#000080">.</font>Attr <font color="#FF0000"><b>AND </b></font>Directory <font color="#000080">&lt;&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>THEN </b></font>DelDir<font color="#000080">(</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)) </font><font color="#FF0000"><b>ELSE
          BEGIN
                </b></font>Writeln<font color="#000080">(</font><font color="#800000">'  ERROR:'</font><font color="#000080">);
                </font>Writeln<font color="#000080">;
                </font>Writeln<font color="#000080">(</font><font color="#800000">'     '</font><font color="#000080">,</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">),</font><font color="#800000">' is not a directory.'</font><font color="#000080">)
          </font><font color="#FF0000"><b>END</b></font><font color="#000080">;
     </font><font color="#FF0000"><b>END
     ELSE </b></font>WRITELN<font color="#000080">(</font><font color="#800000">'     '</font><font color="#000080">,</font>ParamStr<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">),</font><font color="#800000">' does not exist.'</font><font color="#000080">);
</font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DIRS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0038.PAS">Original</a><b>]</b></p></body>
</html>
