<html>
<head><title> "Another DIR Tree" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DIRS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0009.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>Program </b></font>Vtree2<font color="#000080">;

</font><font color="#008000"><i>{$B-,D+,R-,S-,V-}
{
   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Uses and GLOBAL VarIABLES &amp; ConstANTS              &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>Uses
  </b></font>Crt<font color="#000080">, </font>Dos<font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>NL        <font color="#000080">= </font><font color="#800000">#13#10</font><font color="#000080">;
  </font>NonVLabel <font color="#000080">= </font>ReadOnly <font color="#000080">+ </font>Hidden <font color="#000080">+ </font>SysFile <font color="#000080">+ </font>Directory <font color="#000080">+ </font>Archive<font color="#000080">;

</font><font color="#FF0000"><b>Type

  </b></font>FPtr      <font color="#000080">= ^</font>Dir_Rec<font color="#000080">;

  </font>Dir_Rec   <font color="#000080">= </font><font color="#FF0000"><b>Record                             </b></font><font color="#008000"><i>{ Double Pointer Record    }
    </i></font>DirName <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">12</font><font color="#000080">];
    </font>DirNum  <font color="#000080">: </font>Integer<font color="#000080">;
    </font>Next    <font color="#000080">: </font>Fptr<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>Str_Type  <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">65</font><font color="#000080">];

</font><font color="#FF0000"><b>Var
  </b></font>Version   <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>Dir       <font color="#000080">: </font>str_Type<font color="#000080">;
  </font>Loop      <font color="#000080">: </font>Boolean<font color="#000080">;
  </font>Level     <font color="#000080">: </font>Integer<font color="#000080">;
  </font>Flag      <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">5</font><font color="#000080">] </font><font color="#FF0000"><b>of String</b></font><font color="#000080">[</font><font color="#800000">20</font><font color="#000080">];
  </font>TreeOnly  <font color="#000080">: </font>Boolean<font color="#000080">;
  </font>Filetotal <font color="#000080">: </font>LongInt<font color="#000080">;
  </font>Bytetotal <font color="#000080">: </font>LongInt<font color="#000080">;
  </font>Dirstotal <font color="#000080">: </font>LongInt<font color="#000080">;
  </font>tooDeep   <font color="#000080">: </font>Boolean<font color="#000080">;
  </font>ColorCnt  <font color="#000080">: </font>Byte<font color="#000080">;

</font><font color="#008000"><i>{
   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Procedure Beepit                                   &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>Procedure </b></font>Beepit<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>Sound <font color="#000080">(</font><font color="#800000">760</font><font color="#000080">);                                          </font><font color="#008000"><i>{ Beep the speaker }
  </i></font>Delay <font color="#000080">(</font><font color="#800000">80</font><font color="#000080">);
  </font>NoSound<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Procedure Usage                                    &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>Procedure </b></font>Usage<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>BEEPIT<font color="#000080">;
  </font>Write <font color="#000080">(</font>NL<font color="#000080">,
    </font><font color="#800000">'Like the Dos TREE command, and similar to PC Magazine''s VTREE, but gives'</font><font color="#000080">,</font>NL<font color="#000080">,
    </font><font color="#800000">'you a Graphic representation of your disk hierarchical tree structure and'</font><font color="#000080">,</font>NL<font color="#000080">,
    </font><font color="#800000">'the number of Files and total Bytes in each tree node (optionally can be'</font><font color="#000080">,</font>NL<font color="#000080">,
    </font><font color="#800000">'omitted).  Also allows starting at a particular subdirectory rather than'</font><font color="#000080">,</font>NL<font color="#000080">,
    </font><font color="#800000">'displaying the entire drive''s tree structure.  Redirection of output and'</font><font color="#000080">,</font>NL<font color="#000080">,
    </font><font color="#800000">'input is an option.'</font><font color="#000080">,</font>NL<font color="#000080">,</font>NL<font color="#000080">, </font><font color="#800000">'USAGE:     VTREE2 {path} {/t} {/r}'</font><font color="#000080">,</font>NL<font color="#000080">,</font>NL<font color="#000080">,
    </font><font color="#800000">'/t or /T omits the number of Files and total Bytes inFormation.'</font><font color="#000080">,</font>NL<font color="#000080">,
    </font><font color="#800000">'/r or /R activates redirection of input and output.'</font><font color="#000080">,</font>NL<font color="#000080">,</font>NL<font color="#000080">, </font>Version<font color="#000080">);
  </font>Halt<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
&Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
&sup3; Function Format                                    &sup3;
&Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>Function </b></font>Format <font color="#000080">(</font>Num <font color="#000080">: </font>LongInt<font color="#000080">) : </font><font color="#FF0000"><b>String</b></font><font color="#000080">;   </font><font color="#008000"><i>{converts Integer to String}
                                            {with commas inserted      }
</i></font><font color="#FF0000"><b>Var
  </b></font>NumStr <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">12</font><font color="#000080">];
  </font>Place  <font color="#000080">: </font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>Place <font color="#000080">:= </font><font color="#800000">3</font><font color="#000080">;
  </font>STR <font color="#000080">(</font>Num<font color="#000080">, </font>NumStr<font color="#000080">);
  </font>Num <font color="#000080">:= </font>Length <font color="#000080">(</font>NumStr<font color="#000080">);                  </font><font color="#008000"><i>{re-use Num For Length value }

  </i></font><font color="#FF0000"><b>While </b></font>Num <font color="#000080">&gt; </font>Place <font color="#FF0000"><b>do                     </b></font><font color="#008000"><i>{insert comma every 3rd place}
  </i></font><font color="#FF0000"><b>begin
    </b></font>inSERT <font color="#000080">(</font><font color="#800000">','</font><font color="#000080">,</font>NumStr<font color="#000080">, </font>Num <font color="#000080">- (</font>Place <font color="#000080">-</font><font color="#800000">1</font><font color="#000080">));
    </font>inC <font color="#000080">(</font>Place<font color="#000080">, </font><font color="#800000">3</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>Format <font color="#000080">:= </font>NumStr<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Procedure DisplayDir                               &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>Procedure </b></font>DisplayDir <font color="#000080">(</font>DirP <font color="#000080">: </font>str_Type<font color="#000080">; </font>DirN <font color="#000080">: </font>str_Type<font color="#000080">; </font>Levl <font color="#000080">: </font>Integer<font color="#000080">;
                     </font>NumSubsVar2 <font color="#000080">: </font>Integer<font color="#000080">; </font>SubNumVar2 <font color="#000080">: </font>Integer<font color="#000080">;
                     </font>NumSubsVar3 <font color="#000080">: </font>Integer<font color="#000080">;
                     </font>NmbrFil <font color="#000080">: </font>Integer<font color="#000080">; </font>FilLen <font color="#000080">: </font>LongInt<font color="#000080">);

</font><font color="#008000"><i>{NumSubsVar2 is the # of subdirs. in previous level;
 NumSumsVar3 is the # of subdirs. in the current level.
 DirN is the current subdir.; DirP is the previous path}

</i></font><font color="#FF0000"><b>Const
  </b></font>LevelMax <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;
</font><font color="#FF0000"><b>Var
  </b></font>BegLine <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>MidLine <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>Blank   <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>WrtStr  <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin

  if </b></font>Levl <font color="#000080">&gt; </font><font color="#800000">5 </font><font color="#FF0000"><b>then
  begin
    </b></font>BEEPIT<font color="#000080">;
    </font>tooDeep <font color="#000080">:= </font>True<font color="#000080">;
    </font>Exit<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>Blank   <font color="#000080">:= </font><font color="#800000">'               '</font><font color="#000080">;                  </font><font color="#008000"><i>{ Init. Variables          }
  </i></font>BegLine <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
  </font>MidLine <font color="#000080">:= </font><font color="#800000">' &Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;'</font><font color="#000080">;

  </font><font color="#FF0000"><b>if </b></font>Levl <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then                               </b></font><font color="#008000"><i>{ Special handling For     }
    </i></font><font color="#FF0000"><b>if </b></font>Dir <font color="#000080">= </font><font color="#800000">'' </font><font color="#FF0000"><b>then                             </b></font><font color="#008000"><i>{ initial (0) dir. level   }
      </i></font><font color="#FF0000"><b>if not </b></font>TreeOnly <font color="#FF0000"><b>then
        </b></font>WrtStr <font color="#000080">:= </font><font color="#800000">'ROOT &Auml;&Auml;'
      </font><font color="#FF0000"><b>else
        </b></font>WrtStr <font color="#000080">:= </font><font color="#800000">'ROOT'
    </font><font color="#FF0000"><b>else
      if not </b></font>TreeOnly <font color="#FF0000"><b>then
        </b></font>WrtStr <font color="#000080">:= </font>DirP <font color="#000080">+ </font><font color="#800000">' &Auml;&Auml;'
      </font><font color="#FF0000"><b>else
        </b></font>WrtStr <font color="#000080">:= </font>DirP
  <font color="#FF0000"><b>else
  begin                                        </b></font><font color="#008000"><i>{ Level 1+ routines        }
    </i></font><font color="#FF0000"><b>if </b></font>SubNumVar2 <font color="#000080">= </font>NumSubsVar2 <font color="#FF0000"><b>then           </b></font><font color="#008000"><i>{ if last node in subtree, }
    </i></font><font color="#FF0000"><b>begin                                    </b></font><font color="#008000"><i>{ use &Agrave;&Auml; symbol &amp; set flag }
      </i></font>BegLine  <font color="#000080">:= </font><font color="#800000">'&Agrave;&Auml;'</font><font color="#000080">;                      </font><font color="#008000"><i>{ padded With blanks       }
      </i></font>Flag<font color="#000080">[</font>Levl<font color="#000080">] := </font><font color="#800000">' ' </font><font color="#000080">+ </font>Blank<font color="#000080">;
    </font><font color="#FF0000"><b>end
    else                                       </b></font><font color="#008000"><i>{ otherwise, use &Atilde;&Auml; symbol }
    </i></font><font color="#FF0000"><b>begin                                    </b></font><font color="#008000"><i>{ &amp; set flag padded With   }
      </i></font>BegLine    <font color="#000080">:= </font><font color="#800000">'&Atilde;&Auml;'</font><font color="#000080">;                    </font><font color="#008000"><i>{ blanks                   }
      </i></font>Flag<font color="#000080">[</font>Levl<font color="#000080">] := </font><font color="#800000">'&sup3;' </font><font color="#000080">+ </font>Blank<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font><font color="#FF0000"><b>Case </b></font>Levl <font color="#FF0000"><b>of                               </b></font><font color="#008000"><i>{ Insert &sup3; &amp; blanks as     }
      </i></font><font color="#800000">1</font><font color="#000080">: </font>BegLine <font color="#000080">:= </font>BegLine<font color="#000080">;                  </font><font color="#008000"><i>{ needed, based on level   }
      </i></font><font color="#800000">2</font><font color="#000080">: </font>Begline <font color="#000080">:= </font>Flag<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] + </font>BegLine<font color="#000080">;
      </font><font color="#800000">3</font><font color="#000080">: </font>Begline <font color="#000080">:= </font>Flag<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] + </font>Flag<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] + </font>BegLine<font color="#000080">;
      </font><font color="#800000">4</font><font color="#000080">: </font>Begline <font color="#000080">:= </font>Flag<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] + </font>Flag<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] + </font>Flag<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">] + </font>BegLine<font color="#000080">;
      </font><font color="#800000">5</font><font color="#000080">: </font>Begline <font color="#000080">:= </font>Flag<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] + </font>Flag<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] + </font>Flag<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">] + </font>Flag<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">] + </font>BegLine<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{end Case}

    </i></font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>NumSubsVar3 <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then                  </b></font><font color="#008000"><i>{ if cur. level has no     }
      </i></font>WrtStr <font color="#000080">:= </font>BegLine <font color="#000080">+ </font>DirN                 <font color="#008000"><i>{ subdirs., leave end blank}
    </i></font><font color="#FF0000"><b>else
    begin
      </b></font>WrtStr <font color="#000080">:= </font>BegLine <font color="#000080">+ </font>DirN <font color="#000080">+ </font>COPY<font color="#000080">(</font>Midline<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,(</font><font color="#800000">13</font><font color="#000080">-</font>Length<font color="#000080">(</font>DirN<font color="#000080">)));
      </font><font color="#FF0000"><b>if </b></font>Levl <font color="#000080">&lt; </font>LevelMax <font color="#FF0000"><b>then
        </b></font>WrtStr <font color="#000080">:= </font>WrtStr <font color="#000080">+ </font><font color="#800000">'&Auml;&iquest;'
      </font><font color="#FF0000"><b>else                                   </b></font><font color="#008000"><i>{ if level 5, special      }
      </i></font><font color="#FF0000"><b>begin                                </b></font><font color="#008000"><i>{ end to indicate more     }
        </i></font>DELETE <font color="#000080">(</font>WrtStr<font color="#000080">,</font>Length<font color="#000080">(</font>WrtStr<font color="#000080">),</font><font color="#800000">1</font><font color="#000080">);  </font><font color="#008000"><i>{ levels                   }
        </i></font>WrtStr <font color="#000080">:= </font>WrtStr <font color="#000080">+ </font><font color="#800000">'&macr;'</font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;                                         </font><font color="#008000"><i>{ end level 1+ routines    }

  </i></font><font color="#FF0000"><b>if </b></font>ODD<font color="#000080">(</font>ColorCnt<font color="#000080">) </font><font color="#FF0000"><b>then
    </b></font>TextColor <font color="#000080">(</font><font color="#800000">3</font><font color="#000080">)
  </font><font color="#FF0000"><b>else
    </b></font>TextColor <font color="#000080">(</font><font color="#800000">11</font><font color="#000080">);
  </font>inC <font color="#000080">(</font>ColorCnt<font color="#000080">);

  </font><font color="#FF0000"><b>if </b></font><font color="#000080">((</font>Levl <font color="#000080">&lt; </font><font color="#800000">4</font><font color="#000080">) </font><font color="#FF0000"><b>or </b></font><font color="#000080">((</font>Levl <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>NumSubsVar3<font color="#000080">=</font><font color="#800000">0</font><font color="#000080">))) </font><font color="#FF0000"><b>and not </b></font>TreeOnly <font color="#FF0000"><b>then
    </b></font>WriteLn <font color="#000080">(</font>WrtStr<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">:(</font><font color="#800000">65</font><font color="#000080">-</font>Length<font color="#000080">(</font>WrtStr<font color="#000080">)), </font>Format<font color="#000080">(</font>NmbrFil<font color="#000080">):</font><font color="#800000">3</font><font color="#000080">,
             </font>Format<font color="#000080">(</font>FilLen<font color="#000080">):</font><font color="#800000">11</font><font color="#000080">)
  </font><font color="#FF0000"><b>else
    </b></font>WriteLn <font color="#000080">(</font>WrtStr<font color="#000080">);                            </font><font color="#008000"><i>{ Write # of Files &amp; Bytes  }
                                                 { only if it fits, else     }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;                                             </font><font color="#008000"><i>{ Write only tree outline   }


{
   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Procedure DisplayHeader                            &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>Procedure </b></font>DisplayHeader<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>WriteLn <font color="#000080">(</font><font color="#800000">'DIRECtoRIES'</font><font color="#000080">,</font><font color="#800000">''</font><font color="#000080">:</font><font color="#800000">52</font><font color="#000080">,</font><font color="#800000">'FileS'</font><font color="#000080">,</font><font color="#800000">'      ByteS'</font><font color="#000080">);
  </font>WriteLn <font color="#000080">(</font><font color="#800000">'&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;'</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Procedure DisplayTally                             &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>Procedure </b></font>DisplayTally<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>WriteLn<font color="#000080">(</font><font color="#800000">''</font><font color="#000080">:</font><font color="#800000">63</font><font color="#000080">,</font><font color="#800000">'&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;'</font><font color="#000080">);
  </font>WriteLn<font color="#000080">(</font><font color="#800000">'NUMBER of DIRECtoRIES: '</font><font color="#000080">, </font>Dirstotal<font color="#000080">:</font><font color="#800000">3</font><font color="#000080">, </font><font color="#800000">''</font><font color="#000080">:</font><font color="#800000">29</font><font color="#000080">,
          </font><font color="#800000">'toTALS: '</font><font color="#000080">, </font>Format <font color="#000080">(</font>Filetotal<font color="#000080">):</font><font color="#800000">5</font><font color="#000080">, </font>Format <font color="#000080">(</font>Bytetotal<font color="#000080">):</font><font color="#800000">11</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Procedure ReadFiles                                &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>Procedure </b></font>ReadFiles <font color="#000080">(</font>DirPrev <font color="#000080">: </font>str_Type<font color="#000080">; </font>DirNext <font color="#000080">: </font>str_Type<font color="#000080">;
                     </font>SubNumVar1 <font color="#000080">: </font>Integer<font color="#000080">; </font>NumSubsVar1 <font color="#000080">: </font>Integer<font color="#000080">);

</font><font color="#FF0000"><b>Var
  </b></font>FileInfo  <font color="#000080">: </font>SearchRec<font color="#000080">;
  </font>FileBytes <font color="#000080">: </font>LongInt<font color="#000080">;
  </font>NumFiles  <font color="#000080">: </font>Integer<font color="#000080">;
  </font>NumSubs   <font color="#000080">: </font>Integer<font color="#000080">;
  </font>Dir_Ptr   <font color="#000080">: </font>FPtr<font color="#000080">;
  </font>CurPtr    <font color="#000080">: </font>FPtr<font color="#000080">;
  </font>FirstPtr  <font color="#000080">: </font>FPtr<font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font>FileBytes <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>NumFiles  <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>NumSubs   <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>Dir_Ptr   <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
  </font>CurPtr    <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
  </font>FirstPtr  <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>if </b></font>Loop <font color="#FF0000"><b>then
    </b></font>FindFirst <font color="#000080">(</font>DirPrev <font color="#000080">+ </font>DirNext <font color="#000080">+ </font><font color="#800000">'\*.*'</font><font color="#000080">, </font>NonVLabel<font color="#000080">, </font>FileInfo<font color="#000080">);
  </font>Loop      <font color="#000080">:= </font>False<font color="#000080">;                            </font><font color="#008000"><i>{ Get 1st File             }

  </i></font><font color="#FF0000"><b>While </b></font>DosError <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>do                          </b></font><font color="#008000"><i>{ Loop Until no more Files }
  </i></font><font color="#FF0000"><b>begin
    if </b></font><font color="#000080">(</font>FileInfo<font color="#000080">.</font>Name <font color="#000080">&lt;&gt; </font><font color="#800000">'.'</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>FileInfo<font color="#000080">.</font>Name <font color="#000080">&lt;&gt; </font><font color="#800000">'..'</font><font color="#000080">) </font><font color="#FF0000"><b>then
    begin
      if </b></font><font color="#000080">(</font>FileInfo<font color="#000080">.</font>attr <font color="#000080">= </font>directory<font color="#000080">) </font><font color="#FF0000"><b>then    </b></font><font color="#008000"><i>{ if fetched File is dir., }
      </i></font><font color="#FF0000"><b>begin                                </b></font><font color="#008000"><i>{ store a Record With dir. }
        </i></font>NEW <font color="#000080">(</font>Dir_Ptr<font color="#000080">);                     </font><font color="#008000"><i>{ name &amp; occurence number, }
        </i></font>Dir_Ptr<font color="#000080">^.</font>DirName  <font color="#000080">:= </font>FileInfo<font color="#000080">.</font>name<font color="#000080">;</font><font color="#008000"><i>{ and set links to         }
        </i></font>inC <font color="#000080">(</font>NumSubs<font color="#000080">);                     </font><font color="#008000"><i>{ other Records if any     }
        </i></font>Dir_Ptr<font color="#000080">^.</font>DirNum   <font color="#000080">:= </font>NumSubs<font color="#000080">;
        </font><font color="#FF0000"><b>if </b></font>CurPtr <font color="#000080">= </font><font color="#FF0000"><b>nil then
        begin
          </b></font>Dir_Ptr<font color="#000080">^.</font>Next <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
          </font>CurPtr        <font color="#000080">:= </font>Dir_Ptr<font color="#000080">;
          </font>FirstPtr      <font color="#000080">:= </font>Dir_Ptr<font color="#000080">;
        </font><font color="#FF0000"><b>end
        else
        begin
          </b></font>Dir_Ptr<font color="#000080">^.</font>Next <font color="#000080">:= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;
          </font>CurPtr<font color="#000080">^.</font>Next  <font color="#000080">:= </font>Dir_Ptr<font color="#000080">;
          </font>CurPtr        <font color="#000080">:= </font>Dir_Ptr<font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end
      else
      begin                                </b></font><font color="#008000"><i>{ Tally # of Bytes in File }
        </i></font>FileBytes <font color="#000080">:= </font>FileBytes <font color="#000080">+ </font>FileInfo<font color="#000080">.</font>size<font color="#000080">;
        </font>inC <font color="#000080">(</font>NumFiles<font color="#000080">);                    </font><font color="#008000"><i>{ Increment # of Files,    }
      </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;                                 </font><font color="#008000"><i>{ excluding # of subdirs.  }
    </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>FindNext <font color="#000080">(</font>FileInfo<font color="#000080">);                       </font><font color="#008000"><i>{ Get next File            }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;    </font><font color="#008000"><i>{end While}

  </i></font>Bytetotal <font color="#000080">:= </font>Bytetotal <font color="#000080">+ </font>FileBytes<font color="#000080">;
  </font>Filetotal <font color="#000080">:= </font>Filetotal <font color="#000080">+ </font>NumFiles<font color="#000080">;
  </font>Dirstotal <font color="#000080">:= </font>Dirstotal <font color="#000080">+ </font>NumSubs<font color="#000080">;

  </font>DisplayDir <font color="#000080">(</font>DirPrev<font color="#000080">, </font>DirNext<font color="#000080">, </font>Level<font color="#000080">, </font>NumSubsVar1<font color="#000080">, </font>SubNumVar1<font color="#000080">, </font>NumSubs<font color="#000080">,
              </font>NumFiles<font color="#000080">, </font>FileBytes<font color="#000080">);            </font><font color="#008000"><i>{ Pass info to &amp; call      }
  </i></font>inC <font color="#000080">(</font>Level<font color="#000080">);                                 </font><font color="#008000"><i>{ display routine, &amp; inc.  }
                                               { level number             }


  </i></font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>FirstPtr <font color="#000080">&lt;&gt; </font><font color="#FF0000"><b>nil</b></font><font color="#000080">) </font><font color="#FF0000"><b>do                   </b></font><font color="#008000"><i>{ if any subdirs., then    }
  </i></font><font color="#FF0000"><b>begin                                      </b></font><font color="#008000"><i>{ recursively loop thru    }
    </i></font>Loop     <font color="#000080">:= </font>True<font color="#000080">;                        </font><font color="#008000"><i>{ ReadFiles proc. til done }
    </i></font>ReadFiles <font color="#000080">((</font>DirPrev <font color="#000080">+ </font>DirNext <font color="#000080">+ </font><font color="#800000">'\'</font><font color="#000080">),</font>FirstPtr<font color="#000080">^.</font>DirName<font color="#000080">,
                </font>FirstPtr<font color="#000080">^.</font>DirNum<font color="#000080">, </font>NumSubs<font color="#000080">);
    </font>FirstPtr <font color="#000080">:= </font>FirstPtr<font color="#000080">^.</font>Next<font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>DEC <font color="#000080">(</font>Level<font color="#000080">);                                 </font><font color="#008000"><i>{ Decrement level when     }
                                               { finish a recursive loop  }
                                               { call to lower level of   }
                                               { subdir.                  }
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; Procedure Read_Parm                                &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>Procedure </b></font>Read_Parm<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>Cur_Dir <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>Param   <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font>i       <font color="#000080">: </font>Integer<font color="#000080">;

</font><font color="#FF0000"><b>begin

  if </b></font>ParamCount <font color="#000080">&gt; </font><font color="#800000">3 </font><font color="#FF0000"><b>then
    </b></font>Usage<font color="#000080">;
  </font>Param <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;

  </font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>ParamCount <font color="#FF0000"><b>do                    </b></font><font color="#008000"><i>{ if either param. is a T, }
  </i></font><font color="#FF0000"><b>begin                                        </b></font><font color="#008000"><i>{ set TreeOnly flag            }
    </i></font>Param <font color="#000080">:= </font>ParamStr<font color="#000080">(</font>i<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>Param<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] = </font><font color="#800000">'/' </font><font color="#FF0000"><b>then
      Case </b></font>Param<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>of
        </b></font><font color="#800000">'t'</font><font color="#000080">,</font><font color="#800000">'T'</font><font color="#000080">: </font><font color="#FF0000"><b>begin
                   </b></font>TreeOnly <font color="#000080">:= </font>True<font color="#000080">;
                   </font><font color="#FF0000"><b>if </b></font>ParamCount <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>then
                     </b></font>Exit<font color="#000080">;
                 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;                          </font><font color="#008000"><i>{ Exit if only one param   }

        </i></font><font color="#800000">'r'</font><font color="#000080">,</font><font color="#800000">'R'</font><font color="#000080">: </font><font color="#FF0000"><b>begin
                   </b></font>ASSIGN <font color="#000080">(</font>Input<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);          </font><font color="#008000"><i>{ Override Crt Unit, &amp;     }
                   </i></font>RESET <font color="#000080">(</font>Input<font color="#000080">);              </font><font color="#008000"><i>{ make input &amp; output      }
                   </i></font>ASSIGN <font color="#000080">(</font>Output<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">);         </font><font color="#008000"><i>{ redirectable             }
                   </i></font>REWrite <font color="#000080">(</font>Output<font color="#000080">);
                   </font><font color="#FF0000"><b>if </b></font>ParamCount <font color="#000080">= </font><font color="#800000">1 </font><font color="#FF0000"><b>then
                     </b></font>Exit<font color="#000080">;
                 </font><font color="#FF0000"><b>end</b></font><font color="#000080">;                          </font><font color="#008000"><i>{ Exit if only one param   }
        </i></font><font color="#800000">'?'    </font><font color="#000080">: </font>Usage<font color="#000080">;

        </font><font color="#FF0000"><b>else
          </b></font>Usage<font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{Case}
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font>GETDIR <font color="#000080">(</font><font color="#800000">0</font><font color="#000080">,</font>Cur_Dir<font color="#000080">);                            </font><font color="#008000"><i>{ Save current dir         }
  </i></font><font color="#FF0000"><b>For </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>ParamCount <font color="#FF0000"><b>do
  begin
    </b></font>Param <font color="#000080">:= </font>ParamStr<font color="#000080">(</font>i<font color="#000080">);                      </font><font color="#008000"><i>{ Set Var to param. String }
    </i></font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>POS <font color="#000080">(</font><font color="#800000">'/'</font><font color="#000080">,</font>Param<font color="#000080">) = </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
    begin
      </b></font>Dir <font color="#000080">:= </font>Param<font color="#000080">;
</font><font color="#008000"><i>{$I-} </i></font>CHDIR <font color="#000080">(</font>Dir<font color="#000080">);                           </font><font color="#008000"><i>{ Try to change to input   }
      </i></font><font color="#FF0000"><b>if </b></font>Ioresult <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then                   </b></font><font color="#008000"><i>{ dir.; if it exists, go   }
      </i></font><font color="#FF0000"><b>begin                                </b></font><font color="#008000"><i>{ back to orig. dir.       }
{$I+}   </i></font>CHDIR <font color="#000080">(</font>Cur_Dir<font color="#000080">);
        </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>POS <font color="#000080">(</font><font color="#800000">'\'</font><font color="#000080">,</font>Dir<font color="#000080">) = </font>Length <font color="#000080">(</font>Dir<font color="#000080">)) </font><font color="#FF0000"><b>then
          </b></font>DELETE <font color="#000080">(</font>Dir<font color="#000080">,</font>Length<font color="#000080">(</font>Dir<font color="#000080">),</font><font color="#800000">1</font><font color="#000080">);       </font><font color="#008000"><i>{ Change root symbol back  }
        </i></font>Exit<font color="#000080">;                                </font><font color="#008000"><i>{ to null, 'cause \ added  }
      </i></font><font color="#FF0000"><b>end                                  </b></font><font color="#008000"><i>{ in later                 }
      </i></font><font color="#FF0000"><b>else
      begin
        </b></font>BEEPIT<font color="#000080">;
        </font>WriteLn <font color="#000080">(</font><font color="#800000">'No such directory -- please try again.'</font><font color="#000080">);
        </font>HALT<font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
   &Uacute;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&iquest;
   &sup3; MAin Program                                       &sup3;
   &Agrave;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Auml;&Ugrave;
}

</i></font><font color="#FF0000"><b>begin

  </b></font>Version   <font color="#000080">:= </font><font color="#800000">'Version 1.6, 7-16-90 -- Public Domain by John Land'</font><font color="#000080">;
                                                 </font><font color="#008000"><i>{ Sticks in EXE File      }

  </i></font>Dir       <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;                               </font><font color="#008000"><i>{ Init. global Vars.      }
  </i></font>Loop      <font color="#000080">:= </font>True<font color="#000080">;
  </font>Level     <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>TreeOnly  <font color="#000080">:= </font>False<font color="#000080">;
  </font>tooDeep   <font color="#000080">:= </font>False<font color="#000080">;
  </font>Filetotal <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>Bytetotal <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
  </font>Dirstotal <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;                                </font><font color="#008000"><i>{ Always have a root dir. }
  </i></font>ColorCnt  <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;

  </font>ClrScr<font color="#000080">;

  </font><font color="#FF0000"><b>if </b></font>ParamCount <font color="#000080">&gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
    </b></font>Read_Parm<font color="#000080">;              </font><font color="#008000"><i>{ Deal With any params.   }

  </i></font><font color="#FF0000"><b>if not </b></font>TreeOnly <font color="#FF0000"><b>then
    </b></font>DisplayHeader<font color="#000080">;

  </font>ReadFiles <font color="#000080">(</font>Dir<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">0</font><font color="#000080">);                        </font><font color="#008000"><i>{ do main read routine    }

  </i></font>TextColor<font color="#000080">(</font>Yellow<font color="#000080">);

  </font><font color="#FF0000"><b>if not </b></font>TreeOnly <font color="#FF0000"><b>then
    </b></font>DisplayTally<font color="#000080">;             </font><font color="#008000"><i>{ Display totals          }

  </i></font><font color="#FF0000"><b>if </b></font>tooDeep <font color="#FF0000"><b>then
    </b></font>WriteLn <font color="#000080">(</font>NL<font color="#000080">,</font>NL<font color="#000080">,</font><font color="#800000">''</font><font color="#000080">:</font><font color="#800000">22</font><font color="#000080">,</font><font color="#800000">'&macr; CANnot DISPLAY MorE THAN 5 LEVELS &reg;'</font><font color="#000080">,</font>NL<font color="#000080">);
                                                 </font><font color="#008000"><i>{ if ReadFiles detects &gt;5 }
                                                 { levels, tooDeep flag set}

</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DIRS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0009.PAS">Original</a><b>]</b></p></body>
</html>
