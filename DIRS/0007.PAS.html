<html>
<head><title> "Disply DIR on screen" by TREVOR J. CARLSEN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DIRS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ DIRDEMO.PAS
  Author: Trevor Carlsen. Released into the public domain 1989
                          Last modification 1992.
  Demonstrates in a very simple way how to display a directory in a screen
  Window and scroll backwards or Forwards.  }

</i></font><font color="#FF0000"><b>Uses
  </b></font>Dos<font color="#000080">,
  </font>Crt<font color="#000080">,
  </font>keyinput<font color="#000080">;

</font><font color="#FF0000"><b>Type
  </b></font>str3    <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">3</font><font color="#000080">];
  </font>str6    <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">6</font><font color="#000080">];
  </font>str16   <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">16</font><font color="#000080">];
  </font>sType   <font color="#000080">= (</font>_name<font color="#000080">,</font>_ext<font color="#000080">,</font>_date<font color="#000080">,</font>_size<font color="#000080">);
  </font>DirRec  <font color="#000080">= </font><font color="#FF0000"><b>Record
              </b></font>name  <font color="#000080">: </font>NameStr<font color="#000080">;
              </font>ext   <font color="#000080">: </font>ExtStr<font color="#000080">;
              </font>size  <font color="#000080">: </font>str6<font color="#000080">;
              </font>date  <font color="#000080">: </font>str16<font color="#000080">;
              </font>Lsize<font color="#000080">,
              </font>Ldate <font color="#000080">: </font>LongInt<font color="#000080">;
              </font>dir   <font color="#000080">: </font>Boolean<font color="#000080">;
            </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Const
  </b></font>maxdir       <font color="#000080">= </font><font color="#800000">1000</font><font color="#000080">;     </font><font color="#008000"><i>{ maximum number of directory entries }
  </i></font>months <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">12</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>str3 <font color="#000080">=
           (</font><font color="#800000">'Jan'</font><font color="#000080">,</font><font color="#800000">'Feb'</font><font color="#000080">,</font><font color="#800000">'Mar'</font><font color="#000080">,</font><font color="#800000">'Apr'</font><font color="#000080">,</font><font color="#800000">'May'</font><font color="#000080">,</font><font color="#800000">'Jun'</font><font color="#000080">,
            </font><font color="#800000">'Jul'</font><font color="#000080">,</font><font color="#800000">'Aug'</font><font color="#000080">,</font><font color="#800000">'Sep'</font><font color="#000080">,</font><font color="#800000">'Oct'</font><font color="#000080">,</font><font color="#800000">'Nov'</font><font color="#000080">,</font><font color="#800000">'Dec'</font><font color="#000080">);
  </font>WinX1 <font color="#000080">= </font><font color="#800000">14</font><font color="#000080">; </font>WinX2 <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;
  </font>WinY1 <font color="#000080">= </font><font color="#800000">65</font><font color="#000080">; </font>WinY2 <font color="#000080">= </font><font color="#800000">23</font><font color="#000080">;
  </font>LtGrayOnBlue      <font color="#000080">= </font><font color="#800000">$17</font><font color="#000080">;
  </font>BlueOnLtGray      <font color="#000080">= </font><font color="#800000">$71</font><font color="#000080">;
  </font>page              <font color="#000080">= </font><font color="#800000">22</font><font color="#000080">;
  </font>maxlines <font color="#000080">: </font>Word   <font color="#000080">= </font>page<font color="#000080">;

</font><font color="#FF0000"><b>Type
  </b></font>DataArr           <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font>maxdir<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>DirRec<font color="#000080">;

</font><font color="#FF0000"><b>Var
  </b></font>DirEntry          <font color="#000080">: </font>DataArr<font color="#000080">;
  </font>x<font color="#000080">, </font>numb           <font color="#000080">: </font>Integer<font color="#000080">;
  </font>path              <font color="#000080">: </font>DirStr<font color="#000080">;
  </font>key               <font color="#000080">: </font>Byte<font color="#000080">;
  </font>finished          <font color="#000080">: </font>Boolean<font color="#000080">;
  </font>OldAttr           <font color="#000080">: </font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>quicksort<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>s<font color="#000080">; </font>left<font color="#000080">,</font>right <font color="#000080">: </font>Word<font color="#000080">; </font>SortType<font color="#000080">: </font>sType<font color="#000080">);
  </font><font color="#FF0000"><b>Var
    </b></font>data      <font color="#000080">: </font>DataArr <font color="#FF0000"><b>Absolute </b></font>s<font color="#000080">;
    </font>pivotStr<font color="#000080">,
    </font>tempStr   <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
    </font>pivotLong<font color="#000080">,
    </font>tempLong  <font color="#000080">: </font>LongInt<font color="#000080">;
    </font>lower<font color="#000080">,
    </font>upper<font color="#000080">,
    </font>middle    <font color="#000080">: </font>Word<font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>swap<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>a<font color="#000080">,</font>b<font color="#000080">);
    </font><font color="#FF0000"><b>Var </b></font>x <font color="#000080">: </font>DirRec <font color="#FF0000"><b>Absolute </b></font>a<font color="#000080">;
        </font>y <font color="#000080">: </font>DirRec <font color="#FF0000"><b>Absolute </b></font>b<font color="#000080">;
        </font>t <font color="#000080">: </font>DirRec<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      </b></font>t <font color="#000080">:= </font>x<font color="#000080">;
      </font>x <font color="#000080">:= </font>y<font color="#000080">;
      </font>y <font color="#000080">:= </font>t<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>begin
    </b></font>lower <font color="#000080">:= </font>left<font color="#000080">;
    </font>upper <font color="#000080">:= </font>right<font color="#000080">;
    </font>middle<font color="#000080">:= (</font>left <font color="#000080">+ </font>right<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
    </font><font color="#FF0000"><b>Case </b></font>SortType <font color="#FF0000"><b>of
      </b></font>_name<font color="#000080">: </font>pivotStr   <font color="#000080">:= </font>data<font color="#000080">[</font>middle<font color="#000080">].</font>name<font color="#000080">;
      </font>_ext <font color="#000080">: </font>pivotStr   <font color="#000080">:= </font>data<font color="#000080">[</font>middle<font color="#000080">].</font>ext<font color="#000080">;
      </font>_size<font color="#000080">: </font>pivotLong  <font color="#000080">:= </font>data<font color="#000080">[</font>middle<font color="#000080">].</font>Lsize<font color="#000080">;
      </font>_date<font color="#000080">: </font>pivotLong  <font color="#000080">:= </font>data<font color="#000080">[</font>middle<font color="#000080">].</font>Ldate<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ Case SortType }
    </i></font><font color="#FF0000"><b>Repeat
      Case </b></font>SortType <font color="#FF0000"><b>of
        </b></font>_name<font color="#000080">: </font><font color="#FF0000"><b>begin
                 While </b></font>data<font color="#000080">[</font>lower<font color="#000080">].</font>name <font color="#000080">&lt; </font>pivotStr <font color="#FF0000"><b>do </b></font>inc<font color="#000080">(</font>lower<font color="#000080">);
                 </font><font color="#FF0000"><b>While </b></font>pivotStr <font color="#000080">&lt; </font>data<font color="#000080">[</font>upper<font color="#000080">].</font>name <font color="#FF0000"><b>do </b></font>dec<font color="#000080">(</font>upper<font color="#000080">);
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font>_ext <font color="#000080">: </font><font color="#FF0000"><b>begin
                 While </b></font>data<font color="#000080">[</font>lower<font color="#000080">].</font>ext <font color="#000080">&lt; </font>pivotStr <font color="#FF0000"><b>do </b></font>inc<font color="#000080">(</font>lower<font color="#000080">);
                 </font><font color="#FF0000"><b>While </b></font>pivotStr <font color="#000080">&lt; </font>data<font color="#000080">[</font>upper<font color="#000080">].</font>ext <font color="#FF0000"><b>do </b></font>dec<font color="#000080">(</font>upper<font color="#000080">);
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font>_size<font color="#000080">: </font><font color="#FF0000"><b>begin
                 While </b></font>data<font color="#000080">[</font>lower<font color="#000080">].</font>Lsize <font color="#000080">&lt; </font>pivotLong <font color="#FF0000"><b>do </b></font>inc<font color="#000080">(</font>lower<font color="#000080">);
                 </font><font color="#FF0000"><b>While </b></font>pivotLong <font color="#000080">&lt; </font>data<font color="#000080">[</font>upper<font color="#000080">].</font>Lsize <font color="#FF0000"><b>do </b></font>dec<font color="#000080">(</font>upper<font color="#000080">);
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font>_date<font color="#000080">: </font><font color="#FF0000"><b>begin
                 While </b></font>data<font color="#000080">[</font>lower<font color="#000080">].</font>Ldate <font color="#000080">&lt; </font>pivotLong <font color="#FF0000"><b>do </b></font>inc<font color="#000080">(</font>lower<font color="#000080">);
                 </font><font color="#FF0000"><b>While </b></font>pivotLong <font color="#000080">&lt; </font>data<font color="#000080">[</font>upper<font color="#000080">].</font>Ldate <font color="#FF0000"><b>do </b></font>dec<font color="#000080">(</font>upper<font color="#000080">);
               </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ Case SortType }
      </i></font><font color="#FF0000"><b>if </b></font>lower <font color="#000080">&lt;= </font>upper <font color="#FF0000"><b>then begin
        </b></font>swap<font color="#000080">(</font>data<font color="#000080">[</font>lower<font color="#000080">],</font>data<font color="#000080">[</font>upper<font color="#000080">]);
        </font>inc<font color="#000080">(</font>lower<font color="#000080">);
        </font>dec<font color="#000080">(</font>upper<font color="#000080">);
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>Until </b></font>lower <font color="#000080">&gt; </font>upper<font color="#000080">;
    </font><font color="#FF0000"><b>if </b></font>left <font color="#000080">&lt; </font>upper <font color="#FF0000"><b>then </b></font>quicksort<font color="#000080">(</font>data<font color="#000080">,</font>left<font color="#000080">,</font>upper<font color="#000080">,</font>SortType<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>lower <font color="#000080">&lt; </font>right <font color="#FF0000"><b>then </b></font>quicksort<font color="#000080">(</font>data<font color="#000080">,</font>lower<font color="#000080">,</font>right<font color="#000080">,</font>SortType<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ quicksort }

</i></font><font color="#FF0000"><b>Function </b></font>Form<font color="#000080">(</font>st <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">; </font>len <font color="#000080">: </font>Byte<font color="#000080">): </font><font color="#FF0000"><b>String</b></font><font color="#000080">;
  </font><font color="#008000"><i>{ Replaces spaces in a numeric String With zeroes  }
  </i></font><font color="#FF0000"><b>Var
    </b></font>x <font color="#000080">: </font>Byte <font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>Form <font color="#000080">:= </font>st<font color="#000080">;
    </font><font color="#FF0000"><b>For </b></font>x <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>len <font color="#FF0000"><b>do
      if </b></font>st<font color="#000080">[</font>x<font color="#000080">] = </font><font color="#800000">' ' </font><font color="#FF0000"><b>then
        </b></font>Form<font color="#000080">[</font>x<font color="#000080">] := </font><font color="#800000">'0'
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>ReadDir<font color="#000080">(</font><font color="#FF0000"><b>Var </b></font>count <font color="#000080">: </font>Integer<font color="#000080">);
  </font><font color="#008000"><i>{ Reads the current directory and places in the main Array }
  </i></font><font color="#FF0000"><b>Var
    </b></font>DirInfo    <font color="#000080">: </font>SearchRec<font color="#000080">;

  </font><font color="#FF0000"><b>Procedure </b></font>CreateRecord<font color="#000080">;
    </font><font color="#FF0000"><b>Var
      </b></font>Dt <font color="#000080">: </font>DateTime<font color="#000080">;
      </font>st <font color="#000080">: </font>str6<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      With </b></font>DirEntry<font color="#000080">[</font>count<font color="#000080">] </font><font color="#FF0000"><b>do begin
        </b></font>FSplit<font color="#000080">(</font>DirInfo<font color="#000080">.</font>name<font color="#000080">,</font>path<font color="#000080">,</font>name<font color="#000080">,</font>ext<font color="#000080">);             </font><font color="#008000"><i>{ Split File name up }
        </i></font><font color="#FF0000"><b>if </b></font>ext<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] = </font><font color="#800000">'.' </font><font color="#FF0000"><b>then                                </b></font><font color="#008000"><i>{ get rid of dot }
          </i></font>ext <font color="#000080">:= </font>copy<font color="#000080">(</font>ext<font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">3</font><font color="#000080">);
        </font>name<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font><font color="#800000">#8</font><font color="#000080">;  </font>ext<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">] := </font><font color="#800000">#3</font><font color="#000080">; </font><font color="#008000"><i>{ Force to a set length For Formatting }
        </i></font>Lsize <font color="#000080">:= </font>DirInfo<font color="#000080">.</font>size<font color="#000080">;
        </font>Ldate <font color="#000080">:= </font>DirInfo<font color="#000080">.</font>time<font color="#000080">;
        </font>str<font color="#000080">(</font>DirInfo<font color="#000080">.</font>size<font color="#000080">:</font><font color="#800000">6</font><font color="#000080">,</font>size<font color="#000080">);
        </font>UnPackTime<font color="#000080">(</font>DirInfo<font color="#000080">.</font>time<font color="#000080">,</font>Dt<font color="#000080">);
        </font>date <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
        </font>str<font color="#000080">(</font>Dt<font color="#000080">.</font>day<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">,</font>st<font color="#000080">);
        </font>date <font color="#000080">:= </font>st <font color="#000080">+ </font><font color="#800000">'-' </font><font color="#000080">+ </font>months<font color="#000080">[</font>Dt<font color="#000080">.</font>month<font color="#000080">] + </font><font color="#800000">'-'</font><font color="#000080">;
        </font>str<font color="#000080">((</font>Dt<font color="#000080">.</font>year<font color="#000080">-</font><font color="#800000">1900</font><font color="#000080">):</font><font color="#800000">2</font><font color="#000080">,</font>st<font color="#000080">);
        </font>date <font color="#000080">:= </font>date <font color="#000080">+ </font>st <font color="#000080">+ </font><font color="#800000">#255#255</font><font color="#000080">;
        </font>str<font color="#000080">(</font>Dt<font color="#000080">.</font>hour<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">,</font>st<font color="#000080">);
        </font>date <font color="#000080">:= </font>date <font color="#000080">+ </font>st <font color="#000080">+ </font><font color="#800000">':'</font><font color="#000080">;
        </font>str<font color="#000080">(</font>Dt<font color="#000080">.</font>Min<font color="#000080">:</font><font color="#800000">2</font><font color="#000080">,</font>st<font color="#000080">);
        </font>date <font color="#000080">:= </font>date <font color="#000080">+ </font>st<font color="#000080">;
        </font>date <font color="#000080">:= </font>Form<font color="#000080">(</font>date<font color="#000080">,</font>length<font color="#000080">(</font>date<font color="#000080">));
        </font>dir <font color="#000080">:= </font>DirInfo<font color="#000080">.</font>attr <font color="#FF0000"><b>and </b></font>Directory <font color="#000080">= </font>Directory<font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ With }
    </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ CreateRecord }

  </i></font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ ReadDir }
    </i></font>count <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;         </font><font color="#008000"><i>{ For keeping a Record of the number of entries read }
    </i></font>FillChar<font color="#000080">(</font>DirEntry<font color="#000080">,</font>sizeof<font color="#000080">(</font>DirEntry<font color="#000080">),</font><font color="#800000">32</font><font color="#000080">);           </font><font color="#008000"><i>{ initialize the Array }
    </i></font>FindFirst<font color="#000080">(</font><font color="#800000">'*.*'</font><font color="#000080">,</font>AnyFile<font color="#000080">,</font>DirInfo<font color="#000080">);
    </font><font color="#FF0000"><b>While </b></font><font color="#000080">(</font>DosError <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font><font color="#000080">(</font>count <font color="#000080">&lt; </font>maxdir<font color="#000080">) </font><font color="#FF0000"><b>do begin
      </b></font>inc<font color="#000080">(</font>count<font color="#000080">);
      </font>CreateRecord<font color="#000080">;
      </font>FindNext<font color="#000080">(</font>DirInfo<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ While }
    </i></font><font color="#FF0000"><b>if </b></font>count <font color="#000080">&lt; </font>page <font color="#FF0000"><b>then
      </b></font>maxlines <font color="#000080">:= </font>count<font color="#000080">;
    </font>quicksort<font color="#000080">(</font>DirEntry<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>count<font color="#000080">,</font>_name<font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ ReadDir }

</i></font><font color="#FF0000"><b>Procedure </b></font>DisplayDirectory<font color="#000080">(</font>n <font color="#000080">: </font>Integer<font color="#000080">);
  </font><font color="#FF0000"><b>Var
    </b></font>x<font color="#000080">,</font>y <font color="#000080">: </font>Integer<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>y <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>For </b></font>x <font color="#000080">:= </font>n <font color="#FF0000"><b>to </b></font>n <font color="#000080">+ </font>maxlines <font color="#FF0000"><b>do
      With </b></font>DirEntry<font color="#000080">[</font>x<font color="#000080">] </font><font color="#FF0000"><b>do begin
        </b></font>GotoXY<font color="#000080">(</font><font color="#800000">4</font><font color="#000080">,</font>y<font color="#000080">);</font>inc<font color="#000080">(</font>y<font color="#000080">);
        </font>Write<font color="#000080">(</font>name<font color="#000080">,</font><font color="#800000">'  '</font><font color="#000080">);
        </font>Write<font color="#000080">(</font>ext<font color="#000080">,</font><font color="#800000">' '</font><font color="#000080">);
        </font><font color="#FF0000"><b>if </b></font>dir <font color="#FF0000"><b>then </b></font>Write<font color="#000080">(</font><font color="#800000">'&lt;DIR&gt;'</font><font color="#000080">)
        </font><font color="#FF0000"><b>else </b></font>Write<font color="#000080">(</font><font color="#800000">'     '</font><font color="#000080">);
        </font>Write<font color="#000080">(</font>size<font color="#000080">:</font><font color="#800000">8</font><font color="#000080">,</font>date<font color="#000080">:</font><font color="#800000">18</font><font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ With }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ DisplayDirectory }

</i></font><font color="#FF0000"><b>begin </b></font><font color="#008000"><i>{ main }
  </i></font>ClrScr<font color="#000080">;
  </font>GotoXY<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">24</font><font color="#000080">);
  </font>OldAttr  <font color="#000080">:= </font>TextAttr<font color="#000080">;
  </font>TextAttr <font color="#000080">:= </font>BlueOnLtGray<font color="#000080">;
  </font>Write<font color="#000080">(</font><font color="#800000">' F1=Sort by name F2=Sort by extension F3=Sort by size F4=Sort by date '</font><font color="#000080">);
  </font>GotoXY<font color="#000080">(</font><font color="#800000">5</font><font color="#000080">,</font><font color="#800000">25</font><font color="#000080">);
  </font>Write<font color="#000080">(</font><font color="#800000">'   Use arrow keys to scroll through directory display - &lt;ESC&gt; quits   '</font><font color="#000080">);
  </font>TextAttr <font color="#000080">:= </font>LtGrayOnBlue<font color="#000080">;
  </font>Window<font color="#000080">(</font>WinX1<font color="#000080">,</font>WinX2<font color="#000080">,</font>WinY1<font color="#000080">,</font>WinY2<font color="#000080">);  </font><font color="#008000"><i>{ make the Window }
  </i></font>ClrScr<font color="#000080">;
  </font>HiddenCursor<font color="#000080">;
  </font>ReadDir<font color="#000080">(</font>numb<font color="#000080">);
  </font>x <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">; </font>finished <font color="#000080">:= </font>False<font color="#000080">;
  </font><font color="#FF0000"><b>Repeat
    </b></font>DisplayDirectory<font color="#000080">(</font>x<font color="#000080">); </font><font color="#008000"><i>{ display maxlines Files }
      </i></font><font color="#FF0000"><b>Case </b></font>KeyWord <font color="#FF0000"><b>of
      </b></font>F1 <font color="#008000"><i>{name} </i></font><font color="#000080">: </font><font color="#FF0000"><b>begin
                    </b></font>x <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
                    </font>quicksort<font color="#000080">(</font>DirEntry<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>numb<font color="#000080">,</font>_name<font color="#000080">);
                  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>F2 <font color="#008000"><i>{ext}  </i></font><font color="#000080">: </font><font color="#FF0000"><b>begin
                    </b></font>x <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
                    </font>quicksort<font color="#000080">(</font>DirEntry<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>numb<font color="#000080">,</font>_ext<font color="#000080">);
                  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>F3 <font color="#008000"><i>{size} </i></font><font color="#000080">: </font><font color="#FF0000"><b>begin
                    </b></font>x <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
                    </font>quicksort<font color="#000080">(</font>DirEntry<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>numb<font color="#000080">,</font>_size<font color="#000080">);
                  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>F4 <font color="#008000"><i>{date} </i></font><font color="#000080">: </font><font color="#FF0000"><b>begin
                    </b></font>x <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
                    </font>quicksort<font color="#000080">(</font>DirEntry<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font>numb<font color="#000080">,</font>_date<font color="#000080">);
                  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>home      <font color="#000080">: </font>x <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
      </font>endKey    <font color="#000080">: </font>x <font color="#000080">:= </font>numb <font color="#000080">- </font>maxlines<font color="#000080">;
      </font>UpArrow   <font color="#000080">: </font><font color="#FF0000"><b>if </b></font>x <font color="#000080">&gt; </font><font color="#800000">1 </font><font color="#FF0000"><b>then
                    </b></font>dec<font color="#000080">(</font>x<font color="#000080">);
      </font>DownArrow <font color="#000080">: </font><font color="#FF0000"><b>if </b></font>x <font color="#000080">&lt; (</font>numb <font color="#000080">- </font>maxlines<font color="#000080">) </font><font color="#FF0000"><b>then
                    </b></font>inc<font color="#000080">(</font>x<font color="#000080">);
      </font>PageDn    <font color="#000080">: </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>x <font color="#000080">+ </font>page<font color="#000080">) &gt; (</font>numb <font color="#000080">- </font>maxlines<font color="#000080">) </font><font color="#FF0000"><b>then
                    </b></font>x <font color="#000080">:= </font>numb <font color="#000080">- </font>maxlines
                  <font color="#FF0000"><b>else </b></font>inc<font color="#000080">(</font>x<font color="#000080">,</font>page<font color="#000080">);
      </font>PageUp    <font color="#000080">: </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>x <font color="#000080">- </font>page<font color="#000080">) &gt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
                    </b></font>dec<font color="#000080">(</font>x<font color="#000080">,</font>page<font color="#000080">)
                  </font><font color="#FF0000"><b>else </b></font>x <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
      </font>escape    <font color="#000080">: </font>finished <font color="#000080">:= </font>True
      <font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ Case }
  </i></font><font color="#FF0000"><b>Until </b></font>finished<font color="#000080">;
  </font>NormalCursor<font color="#000080">;
  </font>TextAttr <font color="#000080">:= </font>OldAttr<font color="#000080">;
  </font>ClrScr<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DIRS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0007.PAS">Original</a><b>]</b></p></body>
</html>
