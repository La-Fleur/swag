<html>
<head><title> "Recursing ALL Dirs" by STEVE ROGERS</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to DIRS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0032.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#000000">  <font color="#FF0000"><b>uses </b></font>dos<font color="#000080">;
  </font><font color="#FF0000"><b>procedure </b></font>ProcessAllFiles<font color="#000080">(</font>dir <font color="#000080">: </font>dirstr<font color="#000080">);
  </font><font color="#FF0000"><b>var
    </b></font>d <font color="#000080">: </font>searchrec<font color="#000080">;

  </font><font color="#FF0000"><b>begin
    while </b></font><font color="#000080">(</font>dir<font color="#000080">[</font>length<font color="#000080">(</font>dir<font color="#000080">)] = </font><font color="#800000">'\'</font><font color="#000080">) </font><font color="#FF0000"><b>do </b></font>dec<font color="#000080">(</font>dir<font color="#000080">[</font><font color="#800000">0</font><font color="#000080">]);

    </font><font color="#008000"><i>{ this gets the files }
    </i></font>findfirst<font color="#000080">(</font>dir<font color="#000080">+</font><font color="#800000">'\*.*'</font><font color="#000080">,</font>anyfile<font color="#000080">+</font>hidden<font color="#000080">+</font>system<font color="#000080">+</font>readonly<font color="#000080">,</font>d<font color="#000080">);
    </font><font color="#FF0000"><b>while </b></font><font color="#000080">(</font>doserror <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>do begin
      </b></font>process<font color="#000080">(</font>d<font color="#000080">.</font>name<font color="#000080">);
      </font>findnext<font color="#000080">(</font>d<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font><font color="#008000"><i>{ this gets the subs, recursively }
    </i></font>findfirst<font color="#000080">(</font>dir<font color="#000080">+</font><font color="#800000">'\*.*'</font><font color="#000080">,</font>directory<font color="#000080">,</font>d<font color="#000080">);
    </font><font color="#FF0000"><b>while </b></font><font color="#000080">(</font>doserror <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>do begin
      if </b></font><font color="#000080">(</font>d<font color="#000080">.</font>attr <font color="#FF0000"><b>and </b></font>directory <font color="#000080">= </font>directory<font color="#000080">) </font><font color="#FF0000"><b>then
        </b></font>ProcessAllFiles<font color="#000080">(</font>dir<font color="#000080">+</font><font color="#800000">'\'</font><font color="#000080">+</font>d<font color="#000080">.</font>name<font color="#000080">);
      </font>findnext<font color="#000080">(</font>d<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to DIRS SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0032.PAS">Original</a><b>]</b></p></body>
</html>
