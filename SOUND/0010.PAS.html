<html>
<head><title> "SOUNDINF.PAS" by JOE DICKSON</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SOUND SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0010.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
JOE DICKSON

&gt; Hello there.. I was just wondering if anyone had any idea
&gt; on how to play a wav/voc File over the pc speaker. I have a
&gt; Program called PC-VOICE, written by Shin K.H. (Is he here?)
&gt; that will play voc's and wav's (whats the difference?) over
&gt; the speaker.. I don't know assembly, just pascal, but I've
&gt; got a friend that can show me how to link the assembly stuff
&gt; in With the Pascal, so that shouldn't be a problem..
&gt; Also, I've tried and failed to find the format of a voc/wav
&gt; File, so if anyone has that, it would be much appriciated.
}

</i></font>Header<font color="#000080">-- </font>CT<font color="#000080">-</font>VOICE Header Block
<font color="#000080">-=-
</font>The header <font color="#FF0000"><b>is </b></font>a data block that identifies the <font color="#FF0000"><b>File as </b></font>a CT<font color="#000080">-</font>format <font color="#FF0000"><b>File</b></font><font color="#000080">.  </font>This
means that you can use the header <font color="#FF0000"><b>to </b></font>check whether the <font color="#FF0000"><b>File is </b></font>an actual
CT<font color="#000080">-</font>format <font color="#FF0000"><b>File</b></font><font color="#000080">.

</font>Bytes <font color="#800000">$00 </font><font color="#000080">- </font><font color="#800000">$13 </font><font color="#000080">(</font><font color="#800000">0</font><font color="#000080">-</font><font color="#800000">19</font><font color="#000080">)

</font>The first <font color="#800000">19 </font>Bytes <font color="#FF0000"><b>of </b></font>a VOC <font color="#FF0000"><b>File </b></font>contain the Text <font color="#000080">&quot;</font>Creative Voice <font color="#FF0000"><b>File</b></font><font color="#000080">&quot;, </font><font color="#FF0000"><b>as
</b></font>well <font color="#FF0000"><b>as </b></font>a Byte <font color="#FF0000"><b>With </b></font>the value <font color="#800000">$1A</font><font color="#000080">.  </font>This identifies the <font color="#FF0000"><b>File as </b></font>a VOC <font color="#FF0000"><b>File</b></font><font color="#000080">.

</font>Bytes <font color="#800000">$14 </font><font color="#000080">- </font><font color="#800000">$15 </font><font color="#000080">(</font><font color="#800000">20</font><font color="#000080">-</font><font color="#800000">21</font><font color="#000080">)

</font>These Bytes contain the offset address <font color="#FF0000"><b>of </b></font>the sample data <font color="#FF0000"><b>as </b></font>a
low<font color="#000080">-</font>Byte<font color="#000080">/</font>high<font color="#000080">-</font>Byte value<font color="#000080">.  </font>At this point<font color="#000080">, </font>this value <font color="#FF0000"><b>is </b></font><font color="#800000">$001A </font>because the
header <font color="#FF0000"><b>is </b></font>exactly <font color="#800000">$1A </font>Bytes long<font color="#000080">.

</font>However<font color="#000080">, </font><font color="#FF0000"><b>if </b></font>the length <font color="#FF0000"><b>of </b></font>the header changes later<font color="#000080">, </font>the Programs that access
the VOC data <font color="#FF0000"><b>in </b></font>this <font color="#FF0000"><b>File </b></font>will be able <font color="#FF0000"><b>to </b></font>use the values stored <font color="#FF0000"><b>in </b></font>these two
Bytes <font color="#FF0000"><b>to </b></font>determine the location at which the sample data begins<font color="#000080">.

</font>Bytes <font color="#800000">$16 </font><font color="#000080">- </font><font color="#800000">$17 </font><font color="#000080">(</font><font color="#800000">22</font><font color="#000080">-</font><font color="#800000">23</font><font color="#000080">)

</font>These two Bytes contain the CT<font color="#000080">-</font>Voice format version number <font color="#FF0000"><b>as </b></font>a
low<font color="#000080">-</font>Byte<font color="#000080">/</font>high<font color="#000080">-</font>Byte value<font color="#000080">.  </font>The current version number <font color="#FF0000"><b>is </b></font>still <font color="#800000">1.10 </font><font color="#000080">(</font>NOTE<font color="#000080">--</font>This
may have changed<font color="#000080">, </font>this was <font color="#FF0000"><b>published in </b></font><font color="#800000">92</font><font color="#000080">) </font>so Byte <font color="#800000">$17 </font><font color="#FF0000"><b>contains </b></font>the main
version number <font color="#000080">(</font><font color="#800000">$01</font><font color="#000080">) </font><font color="#FF0000"><b>and </b></font>Byte <font color="#800000">$16 </font><font color="#FF0000"><b>contains </b></font>the version subnumber <font color="#000080">(</font><font color="#800000">$0A</font><font color="#000080">).  </font>The
version number <font color="#FF0000"><b>is </b></font>very important because later CT<font color="#000080">-</font>Voice format versions may use
an entirely different method <font color="#FF0000"><b>For </b></font>storing the sample data than the current
version<font color="#000080">.

</font><font color="#FF0000"><b>To </b></font>ensure that the data contained <font color="#FF0000"><b>in </b></font>the <font color="#FF0000"><b>File </b></font>will be processed correctly<font color="#000080">, </font>you
should always check the <font color="#FF0000"><b>File</b></font><font color="#800000">'s version number.  if a different version number
</font>appears<font color="#000080">, </font>an appropriate warning should be displayed<font color="#000080">.

</font>Bytes <font color="#800000">$18 </font><font color="#000080">- </font><font color="#800000">$19 </font><font color="#000080">(</font><font color="#800000">24</font><font color="#000080">-</font><font color="#800000">25</font><font color="#000080">)

</font>The importance <font color="#FF0000"><b>of </b></font>the version number <font color="#FF0000"><b>is </b></font>obvious <font color="#FF0000"><b>in </b></font>Bytes <font color="#800000">$18 </font><font color="#FF0000"><b>and </b></font><font color="#800000">$19</font><font color="#000080">.  </font>These
Bytes contain the complement <font color="#FF0000"><b>of </b></font>the version number<font color="#000080">, </font>added <font color="#FF0000"><b>to </b></font><font color="#800000">$1234</font><font color="#000080">, </font><font color="#FF0000"><b>as </b></font>a
low<font color="#000080">-</font>Byte<font color="#000080">/</font>high<font color="#000080">-</font>Byte value<font color="#000080">.

</font>Therefore<font color="#000080">, </font><font color="#FF0000"><b>With </b></font>the current version number <font color="#800000">$010A</font><font color="#000080">, </font>Byte <font color="#800000">$18 </font><font color="#FF0000"><b>contains </b></font>the value
<font color="#800000">$29</font><font color="#000080">, </font><font color="#FF0000"><b>While </b></font>Byte <font color="#800000">$19 </font><font color="#FF0000"><b>contains </b></font><font color="#800000">$11</font><font color="#000080">.  </font>This results <font color="#FF0000"><b>in </b></font>the Word value <font color="#800000">$1129</font><font color="#000080">.  </font><font color="#FF0000"><b>If
</b></font>you check this value <font color="#FF0000"><b>and </b></font>succesfully compare it <font color="#FF0000"><b>to </b></font>the version number stored <font color="#FF0000"><b>in
</b></font>the previos two Bytes<font color="#000080">, </font>you can be almost certain that you<font color="#800000">'re using a VOC File.

</font>This completes the desciprtion <font color="#FF0000"><b>of </b></font>Bytes contained <font color="#FF0000"><b>in </b></font>the header<font color="#000080">.  </font>Everything
that follows these Bytes <font color="#FF0000"><b>in </b></font>the <font color="#FF0000"><b>File </b></font>belongs <font color="#FF0000"><b>to </b></font>the <font color="#FF0000"><b>File</b></font><font color="#800000">'s data blocks.

</font>The Data Blocks<font color="#000080">--  </font>The eight data blocks <font color="#FF0000"><b>of </b></font>the CT<font color="#000080">-</font>Voice format have the same
structure<font color="#000080">, </font><font color="#FF0000"><b>except For </b></font>block <font color="#800000">0.  </font>Each block begins <font color="#FF0000"><b>With </b></font>a block identifier<font color="#000080">,
</font>which <font color="#FF0000"><b>is </b></font>a Byte containing a block<font color="#000080">-</font><font color="#FF0000"><b>Type </b></font>number between <font color="#800000">0 </font><font color="#FF0000"><b>and </b></font><font color="#800000">7.  </font>This number <font color="#FF0000"><b>is
</b></font>followed by three Bytes specifying the length <font color="#FF0000"><b>of </b></font>the block<font color="#000080">, </font><font color="#FF0000"><b>and then </b></font>the
specified number <font color="#FF0000"><b>of </b></font>additional data<font color="#000080">.

</font>The three length Bytes contain increasing values <font color="#000080">(</font>i<font color="#000080">.</font>e<font color="#000080">., </font>the first Byte
represents the lowest value <font color="#FF0000"><b>and </b></font>the third Byte represents the highest<font color="#000080">).  </font>SO the
block<font color="#800000">'s length can be calculated by using the formula:

</font>Byte1 <font color="#000080">+ </font>Byte2<font color="#000080">*</font><font color="#800000">256 </font><font color="#000080">+ </font>Byte3<font color="#000080">*</font><font color="#800000">65536

</font><font color="#FF0000"><b>In </b></font>all other cases<font color="#000080">, </font>the CT<font color="#000080">-</font>Voice format stores values requiring more than one
Byte <font color="#FF0000"><b>in </b></font>a low Byte followed by  a high<font color="#000080">-</font>Byte<font color="#000080">, </font>which corresponds <font color="#FF0000"><b>to </b></font>the Word data
<font color="#FF0000"><b>Type</b></font><font color="#000080">.

</font>Block <font color="#800000">0 </font><font color="#000080">- </font><font color="#FF0000"><b>end </b></font>Block

The <font color="#FF0000"><b>end </b></font>block has the lowest block number<font color="#000080">.  </font>It indicates that there aren<font color="#800000">'t any
</font>additional data blocks<font color="#000080">.  </font>When such a block <font color="#FF0000"><b>is </b></font>reached<font color="#000080">, </font>the output <font color="#FF0000"><b>of </b></font>VOC data
during the playback <font color="#FF0000"><b>of </b></font>digitized Sounds stops<font color="#000080">.  </font>Therefore<font color="#000080">, </font>this block should be
located only at the <font color="#FF0000"><b>end of </b></font>a VOC <font color="#FF0000"><b>File</b></font><font color="#000080">.  </font>The <font color="#FF0000"><b>end </b></font>block <font color="#FF0000"><b>is </b></font>the only block that
doesn<font color="#800000">'t have Bytes indicating its block length.

</font><font color="#000080">+----------------------------+
| </font>STRUCTURE <font color="#FF0000"><b>of </b></font>THE <font color="#FF0000"><b>end </b></font>BLOCK <font color="#000080">|
|                            |
| </font>Block <font color="#FF0000"><b>Type</b></font><font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">0     </font><font color="#000080">|
| </font>Block Length<font color="#000080">: </font>None         <font color="#000080">|
| </font>Data Bytes<font color="#000080">: </font>None           <font color="#000080">|
+----------------------------+

</font>Block <font color="#800000">1 </font><font color="#000080">- </font>New Voice Block

The block <font color="#FF0000"><b>Type </b></font>number <font color="#800000">1 </font><font color="#FF0000"><b>is </b></font>the most frequently used block <font color="#FF0000"><b>Type</b></font><font color="#000080">.  </font>It <font color="#FF0000"><b>contains
</b></font>playable sample data<font color="#000080">.  </font>The three block length Bytes are followed by a Byte
specifying the sampling rate <font color="#000080">(</font>SR<font color="#000080">) </font>that was used <font color="#FF0000"><b>to Record </b></font>the Sounds<font color="#000080">.

</font>Calculatin The Sampling Rate<font color="#000080">-- </font>Since only <font color="#800000">256 </font>different values can be stored <font color="#FF0000"><b>in
</b></font>a singly Byte<font color="#000080">, </font>the actual sampling rate must be calculated from the value <font color="#FF0000"><b>of
</b></font>this Byte<font color="#000080">.

</font>Use the following formula <font color="#FF0000"><b>to do </b></font>this<font color="#000080">:

  </font>Actual_sampling_rate <font color="#000080">= -</font><font color="#800000">1000000 </font><font color="#FF0000"><b>div </b></font><font color="#000080">(</font>SR <font color="#000080">- </font><font color="#800000">256</font><font color="#000080">)

</font><font color="#FF0000"><b>To </b></font>convert a sampling rate into the corresponding Byte value<font color="#000080">, </font>reverse the
equation<font color="#000080">:

  </font>SR <font color="#000080">= </font><font color="#800000">256 </font><font color="#000080">- </font><font color="#800000">1000000 </font><font color="#FF0000"><b>div </b></font>actual_sampling_rate

The pack Byte follows the SR Byte<font color="#000080">.  </font>This value indicates whether <font color="#FF0000"><b>and </b></font>how the
sample data have been <font color="#FF0000"><b>packed</b></font><font color="#000080">.

</font>The value <font color="#800000">0 </font>indicates that the data hasn<font color="#800000">'t been packed; so 8 bits form one data
</font>value<font color="#000080">.  </font>This <font color="#FF0000"><b>is </b></font>the standard Recording format<font color="#000080">.  </font>However<font color="#000080">, </font>your Sound Blaster
card <font color="#FF0000"><b>is </b></font>also capable <font color="#FF0000"><b>of </b></font>packing data <font color="#FF0000"><b>on </b></font>a hardware level<font color="#000080">. (</font>good luck trying <font color="#FF0000"><b>to
</b></font>recreate that<font color="#000080">)

</font>A value <font color="#FF0000"><b>of </b></font><font color="#800000">1 </font><font color="#FF0000"><b>in </b></font>the pack Byte indicates that the original <font color="#800000">8 </font>bit values have
been <font color="#FF0000"><b>packed to </b></font><font color="#800000">4 </font>bits<font color="#000080">.  </font>This results <font color="#FF0000"><b>in </b></font>a pack rate <font color="#FF0000"><b>of </b></font><font color="#800000">2</font><font color="#000080">:</font><font color="#800000">1.  </font>Although the data
<font color="#FF0000"><b>requires </b></font>only half <font color="#FF0000"><b>as </b></font>much memory<font color="#000080">, </font>this method also reduces the Sound quality<font color="#000080">.

</font>The value <font color="#800000">2 </font>indicates a pack rate <font color="#FF0000"><b>of </b></font><font color="#800000">3</font><font color="#000080">:</font><font color="#800000">1</font><font color="#000080">, </font>so the data <font color="#FF0000"><b>requires </b></font>only a third <font color="#FF0000"><b>of
</b></font>the memory<font color="#000080">.  </font>Sound quality reduces significantly<font color="#000080">.

</font>A pack Byte value <font color="#FF0000"><b>of </b></font><font color="#800000">3 </font>indicates a pack rate <font color="#FF0000"><b>of </b></font><font color="#800000">4</font><font color="#000080">:</font><font color="#800000">1</font><font color="#000080">, </font>so <font color="#800000">8 </font>original bits have
been <font color="#FF0000"><b>packed </b></font>down <font color="#FF0000"><b>to </b></font><font color="#800000">2.  </font>This pack rate results <font color="#FF0000"><b>in </b></font>A LOT <font color="#FF0000"><b>of </b></font>reduction <font color="#FF0000"><b>in </b></font>Sound
quality<font color="#000080">.

</font>The pack Byte <font color="#FF0000"><b>is </b></font>followed by the actual sample data<font color="#000080">.  </font>The values contained <font color="#FF0000"><b>in
</b></font>the block length Bytes also indicate the length <font color="#FF0000"><b>of </b></font>the sample data<font color="#000080">.  </font><font color="#FF0000"><b>To
</b></font>determine the length <font color="#FF0000"><b>of </b></font>the actual sample data <font color="#FF0000"><b>in </b></font>Bytes<font color="#000080">, </font>simply subtract the SR
<font color="#FF0000"><b>and </b></font>pack Bytes from the block length<font color="#000080">.

+---------------------------------+
| </font>STRUCTRE <font color="#FF0000"><b>of </b></font>THE NEW VOICE BLOCK <font color="#000080">|
|                                 |
| </font>Block <font color="#FF0000"><b>Type</b></font><font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">1          </font><font color="#000080">|
| </font>Block Length<font color="#000080">: </font><font color="#800000">3 </font>Bytes           <font color="#000080">|
| </font>SR Byte<font color="#000080">: </font><font color="#800000">1 </font>Byte                 <font color="#000080">|
| </font>Pack Byte<font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">,</font><font color="#800000">1</font><font color="#000080">,</font><font color="#800000">2</font><font color="#000080">,</font><font color="#800000">3     </font><font color="#000080">|
| </font>Data Bytes<font color="#000080">: </font>X Bytes<font color="#000080">.            |
+---------------------------------+

</font>Block <font color="#800000">2 </font><font color="#000080">- </font>Subsequent Voice Block

Block <font color="#FF0000"><b>Type </b></font><font color="#800000">2 </font><font color="#FF0000"><b>is </b></font>used <font color="#FF0000"><b>to </b></font>divide sample data into smaller individual blocks<font color="#000080">. </font>This
method <font color="#FF0000"><b>is </b></font>used by the Creative Labs Voice Editor when you want <font color="#FF0000"><b>to </b></font>work <font color="#FF0000"><b>With </b></font>a
sample block that<font color="#800000">'s too large to fit into memory in one piece.  This block is
</font><font color="#FF0000"><b>then </b></font>simply divided into several smaller blocks<font color="#000080">.

</font>Since these blocks contain only three length Bytes <font color="#FF0000"><b>and </b></font>the actual sample data<font color="#000080">,
</font>blocks <font color="#FF0000"><b>of Type </b></font><font color="#800000">2 </font>must always be preceded by a block <font color="#FF0000"><b>of Type </b></font><font color="#800000">1.  </font>So<font color="#000080">, </font>the
sampling rate <font color="#FF0000"><b>and </b></font>the pack rate are determined by the preceeding block <font color="#FF0000"><b>Type </b></font><font color="#800000">1.

</font><font color="#000080">+-----------------------------------------+
| </font>STRUCTURE <font color="#FF0000"><b>of </b></font>THE SUBSEQUENT VOICE BLOCK <font color="#000080">|
|                                         |
| </font>Block <font color="#FF0000"><b>Type</b></font><font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">2                  </font><font color="#000080">|
| </font>Block Length<font color="#000080">: </font><font color="#800000">3 </font>Bytes                   <font color="#000080">|
| </font>Data Bytes<font color="#000080">: </font>X Bytes                     <font color="#000080">|
+-----------------------------------------+

</font>Block <font color="#800000">3 </font><font color="#000080">- </font>Silence Block

Block <font color="#FF0000"><b>Type </b></font><font color="#800000">3 </font><font color="#FF0000"><b>Uses </b></font>a small number <font color="#FF0000"><b>of </b></font>Bytes <font color="#FF0000"><b>to </b></font>represent a mass <font color="#FF0000"><b>of </b></font>zeros<font color="#000080">.  </font>First
there are the three familiar block length Bytes<font color="#000080">.  </font>The length <font color="#FF0000"><b>of </b></font>a silence block
<font color="#FF0000"><b>is </b></font>always <font color="#800000">3</font><font color="#000080">, </font>so the lowest Byte <font color="#FF0000"><b>contains </b></font>a three<font color="#000080">, </font><font color="#FF0000"><b>and then </b></font>the other two Bytes
contain zeros<font color="#000080">.

</font>The length Bytes are followed by two other Bytes<font color="#000080">, </font>which indicate how many zero
Bytes should be replaced by the silence block<font color="#000080">.

</font>This <font color="#FF0000"><b>is </b></font>followed by a Byte that indicates the sampling rate <font color="#FF0000"><b>For </b></font>the silence
block<font color="#000080">.  </font>The SR Byte <font color="#FF0000"><b>is </b></font>encoded <font color="#FF0000"><b>in </b></font>the same way <font color="#FF0000"><b>as </b></font>indicated <font color="#FF0000"><b>in </b></font>block <font color="#FF0000"><b>Type </b></font><font color="#800000">1.

</font>Silence blocks can be used <font color="#FF0000"><b>to </b></font>insert longer paUses <font color="#FF0000"><b>or </b></font>silences <font color="#FF0000"><b>in </b></font>a sample<font color="#000080">,
</font>which reduces the required data <font color="#FF0000"><b>to </b></font>a few Bytes<font color="#000080">.  </font>The Voice Editor will insert
these silence blocks through the Silence Packing <font color="#FF0000"><b>Function</b></font><font color="#000080">.

+--------------------------------+
| </font>STRUCTURE <font color="#FF0000"><b>of </b></font>THE SILENCE BLOCK <font color="#000080">|
|                                |
| </font>Block <font color="#FF0000"><b>Type</b></font><font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">3         </font><font color="#000080">|
| </font>Block Length<font color="#000080">: </font><font color="#800000">3 </font>Bytes <font color="#000080">= </font><font color="#800000">3      </font><font color="#000080">|
| </font>Duration<font color="#000080">: </font><font color="#800000">2 </font>Bytes              <font color="#000080">|
| </font>Sample Rate<font color="#000080">: </font><font color="#800000">1 </font>Byte            <font color="#000080">|
+--------------------------------+

</font>Block <font color="#800000">4 </font><font color="#000080">- </font>Marker Block

The marker block <font color="#FF0000"><b>is </b></font>an important element <font color="#FF0000"><b>of </b></font>the CT<font color="#000080">-</font>Voice format<font color="#000080">.  </font>It also has
three block length Bytes followed by two marker Bytes<font color="#000080">.  </font>The block length Bytes
always contain the value <font color="#800000">2 </font><font color="#FF0000"><b>in </b></font>the lowest Byte<font color="#000080">.

</font>When the playback routine <font color="#FF0000"><b>of </b></font><font color="#000080">&quot;</font>CT<font color="#000080">-</font>VOICE<font color="#000080">.</font>DRV<font color="#000080">&quot; </font>encounters a marker block<font color="#000080">, </font>the
value <font color="#FF0000"><b>of </b></font>the marker Byte <font color="#FF0000"><b>is </b></font>copied <font color="#FF0000"><b>to </b></font>a memory location that was specified <font color="#FF0000"><b>to
</b></font>the driver<font color="#000080">.  </font>The marker block <font color="#FF0000"><b>is </b></font>often used <font color="#FF0000"><b>to </b></font>determine where exactly <font color="#FF0000"><b>in
</b></font>playback you are<font color="#000080">.  </font>This <font color="#FF0000"><b>is </b></font>useful <font color="#FF0000"><b>For </b></font>synchronizing the action <font color="#FF0000"><b>of </b></font>your <font color="#FF0000"><b>Program
with </b></font>the playback<font color="#000080">, </font><font color="#FF0000"><b>For </b></font>a Graphical intro <font color="#FF0000"><b>For </b></font>example<font color="#000080">.

</font>Using the Voice Editor<font color="#000080">, </font>you can divide large sample data blocks into smaller
ones<font color="#000080">, </font>inserting marker blocks at important locations<font color="#000080">.  </font>This doesnt affect the
playback <font color="#FF0000"><b>of </b></font>the sample<font color="#000080">.  </font>However<font color="#000080">, </font>you<font color="#800000">'ll be able to determine, from your
</font><font color="#FF0000"><b>Program</b></font><font color="#000080">, </font>which point <font color="#FF0000"><b>of </b></font>the sample the playback routine <font color="#FF0000"><b>is </b></font>currently reading<font color="#000080">.

+-------------------------------+
| </font>STRUCTURE <font color="#FF0000"><b>of </b></font>THE MARKER BLOCK <font color="#000080">|
|                               |
| </font>Block <font color="#FF0000"><b>Type </b></font><font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">4       </font><font color="#000080">|
| </font>Block Length<font color="#000080">: </font><font color="#800000">3 </font>Bytes <font color="#000080">= </font><font color="#800000">2     </font><font color="#000080">|
| </font>Marker<font color="#000080">: </font><font color="#800000">2 </font>Bytes               <font color="#000080">|
+-------------------------------+

</font>Block <font color="#800000">5 </font><font color="#000080">- </font><font color="#FF0000"><b>Message </b></font>Block

It<font color="#800000">'s also possible to insert ASCII Texts Within a VOC File.  Use the message
</font>block <font color="#FF0000"><b>to do </b></font>this<font color="#000080">.  </font><font color="#FF0000"><b>if </b></font>you want <font color="#FF0000"><b>to </b></font>identify a specific seciont <font color="#FF0000"><b>of </b></font>a sample <font color="#FF0000"><b>File
</b></font>by adding a title<font color="#000080">, </font>simply add a block <font color="#FF0000"><b>of Type </b></font><font color="#800000">5</font><font color="#000080">, </font><font color="#FF0000"><b>in </b></font>which you can <font color="#FF0000"><b>then </b></font>store
the desired Text<font color="#000080">.

</font>This block also has three block length Bytes<font color="#000080">.  </font>These Bytes are followed by the
Text <font color="#FF0000"><b>in </b></font>ASCII format<font color="#000080">.  </font>The Text must contain a <font color="#800000">0 </font><font color="#FF0000"><b>in </b></font>the last Byte <font color="#FF0000"><b>to </b></font>indicate
the <font color="#FF0000"><b>end of </b></font>the Text<font color="#000080">.  </font>This corresponds <font color="#FF0000"><b>to </b></font>the <font color="#FF0000"><b>String </b></font>convention <font color="#FF0000"><b>of </b></font>the C
Programming language<font color="#000080">.  </font>This allows you <font color="#FF0000"><b>to </b></font>pring the Texts <font color="#FF0000"><b>in </b></font>a VOC <font color="#FF0000"><b>File
</b></font>directly from memory using the printf<font color="#000080">() </font><font color="#FF0000"><b>Function in </b></font>ANSI C<font color="#000080">.

+--------------------------------+
| </font>STRUCTURE <font color="#FF0000"><b>of </b></font>THE <font color="#FF0000"><b>MESSAGE </b></font>BLOCK <font color="#000080">|
|                                |
| </font>Block <font color="#FF0000"><b>Type</b></font><font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">5         </font><font color="#000080">|
| </font>Block Length<font color="#000080">: </font><font color="#800000">3 </font>Bytes          <font color="#000080">|
| </font>ASCII Data<font color="#000080">: </font>X Bytes            <font color="#000080">|
| </font><font color="#FF0000"><b>end </b></font>Character<font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">0      </font><font color="#000080">|
+--------------------------------+

</font>Block <font color="#800000">6 </font><font color="#000080">- </font><font color="#FF0000"><b>Repeat </b></font>Block

Another special Characteristic <font color="#FF0000"><b>of </b></font>the CT<font color="#000080">-</font>Format <font color="#FF0000"><b>is </b></font>that it<font color="#800000">'s possible to
</font>specify<font color="#000080">, </font>Within a VOC <font color="#FF0000"><b>File</b></font><font color="#000080">, </font>whether specific sample sequences should be
Repeated<font color="#000080">.  </font>Blocks <font color="#800000">6 </font><font color="#FF0000"><b>and </b></font><font color="#800000">7 </font>are used <font color="#FF0000"><b>to do </b></font>this<font color="#000080">.

</font>Block <font color="#800000">6 </font>has three block length Bytes<font color="#000080">, </font>followed by two Bytes indicating how
often the following data block should be Repeated<font color="#000080">.  </font><font color="#FF0000"><b>if </b></font>the value specified here
<font color="#FF0000"><b>is </b></font><font color="#800000">4</font><font color="#000080">, </font>the next block <font color="#FF0000"><b>is </b></font>played a total <font color="#FF0000"><b>of </b></font>five times <font color="#000080">(</font>one <font color="#000080">&quot;</font>normal<font color="#000080">&quot; </font>playback <font color="#FF0000"><b>and
</b></font>four Repeats<font color="#000080">).

+-------------------------------+
| </font>STRUCTURE <font color="#FF0000"><b>of </b></font>THE <font color="#FF0000"><b>Repeat </b></font>BLOCK <font color="#000080">|
|                               |
| </font>Block <font color="#FF0000"><b>Type</b></font><font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">6        </font><font color="#000080">|
| </font>Block Length<font color="#000080">: </font><font color="#800000">3 </font>Bytes <font color="#000080">= </font><font color="#800000">2     </font><font color="#000080">|
| </font>Counter<font color="#000080">: </font><font color="#800000">2 </font>Bytes              <font color="#000080">|
+-------------------------------+

</font>Block <font color="#800000">7 </font><font color="#000080">- </font><font color="#FF0000"><b>Repeat end </b></font>Block

Block <font color="#800000">7 </font>indicates that all blocks between block <font color="#800000">6 </font><font color="#FF0000"><b>and </b></font>block <font color="#800000">7 </font>should be
Repeated<font color="#000080">.  </font><font color="#FF0000"><b>With </b></font>this block<font color="#000080">, </font>several data blocks can be included <font color="#FF0000"><b>in </b></font>a <font color="#FF0000"><b>Repeat
</b></font>loop<font color="#000080">.  </font>However<font color="#000080">, </font>nested loops aren<font color="#800000">'t allowed.  The driver is capable of handling
</font>only one loop level<font color="#000080">.

</font>Block <font color="#FF0000"><b>Type </b></font><font color="#800000">7 </font>also has three block length Bytes<font color="#000080">, </font>which actually aren<font color="#800000">'t necessary
</font>because this block doesnt contain any additional data<font color="#000080">.  </font>Therefore<font color="#000080">, </font>the block
length <font color="#FF0000"><b>is </b></font>always <font color="#800000">0.

</font><font color="#000080">+-------------------------------+
| </font>STRUCUTRE <font color="#FF0000"><b>of Repeat end </b></font>BLOCK <font color="#000080">|
|                               |
| </font>Block <font color="#FF0000"><b>Type</b></font><font color="#000080">: </font><font color="#800000">1 </font>Byte <font color="#000080">= </font><font color="#800000">7        </font><font color="#000080">|
| </font>Block Length<font color="#000080">: </font><font color="#800000">3 </font>Bytes <font color="#000080">= </font><font color="#800000">0     </font><font color="#000080">|
+-------------------------------+

</font>We<font color="#800000">'ve now described all the different block Types used in VOC Files.  These
</font>Functions are fully supported by the CT<font color="#000080">-</font>VOICE<font color="#000080">.</font>DRV driver software<font color="#000080">.

</font><font color="#FF0000"><b>if </b></font>you<font color="#800000">'ll be writing your own Sound Programs, you should follow this format
</font>because it<font color="#800000">'s easy to use and flexible.  When needed, new block Types are easily
</font>added<font color="#000080">.  </font>Programs that dont recognize block Types should be written so they
continue operating after an unrecognized block<font color="#000080">.  </font>This <font color="#FF0000"><b>is </b></font>easy <font color="#FF0000"><b>to do </b></font>because
each <font color="#FF0000"><b>Function </b></font>specifies its own block length<font color="#000080">.

</font>BiblioGraphy<font color="#000080">: </font>Stolz<font color="#000080">, </font>Axel  <font color="#000080">&quot;</font>The Sound Blaster Book<font color="#000080">&quot;, </font>Abacus Copyright <font color="#000080">(</font>c<font color="#000080">)</font><font color="#800000">1992</font><font color="#000080">,
</font>A Data Decker Book Copyright <font color="#000080">(</font>c<font color="#000080">) </font><font color="#800000">1992

</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SOUND SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0010.PAS">Original</a><b>]</b></p></body>
</html>
