<html>
<head><title> "MODMUSIC.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SOUND SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0003.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">    <font color="#FF0000"><b>MOD File </b></font>DEMO


 ST<font color="#000080">&gt; </font>I <font color="#FF0000"><b>do</b></font><font color="#000080">, </font>however<font color="#000080">, </font>have the <font color="#FF0000"><b>MOD File </b></font>structures <font color="#FF0000"><b>in </b></font>a Text <font color="#FF0000"><b>File</b></font><font color="#000080">.
 </font>ST<font color="#000080">&gt; </font>NetMail <font color="#FF0000"><b>if </b></font>you want them<font color="#000080">.

 </font>EW<font color="#000080">&gt; </font>Hey<font color="#000080">..  </font>Could you post them here <font color="#FF0000"><b>if </b></font>their <font color="#FF0000"><b>not </b></font>too long<font color="#000080">?
 </font>EW<font color="#000080">&gt; </font>All I have <font color="#FF0000"><b>For MOD </b></font>Files <font color="#FF0000"><b>is </b></font>a <font color="#FF0000"><b>Program </b></font><font color="#000080">(</font>so so<font color="#000080">) </font>that plays them
 EW<font color="#000080">&gt; </font>through the PCSpeaker<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>it<font color="#800000">'s *ALL* in Asm, and I'</font>d love
 EW<font color="#000080">&gt; </font><font color="#FF0000"><b>to </b></font>be able <font color="#FF0000"><b>to </b></font>convert at least the <font color="#FF0000"><b>File </b></font>reading <font color="#FF0000"><b>to pascal</b></font><font color="#000080">,

 </font>The <font color="#FF0000"><b>MOD File </b></font>Format <font color="#FF0000"><b>is not </b></font>overly Complicated <font color="#FF0000"><b>in </b></font>itself<font color="#000080">, </font>but the music
 encoded therein <font color="#FF0000"><b>is </b></font>very intricate<font color="#000080">, </font>since the notes use non<font color="#000080">-</font>standard
 notations <font color="#FF0000"><b>For </b></font>the frequency<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>the effects <font color="#FF0000"><b>For </b></font>each note are very
 involved<font color="#000080">.  </font>I can<font color="#000080">, </font>however<font color="#000080">, </font>post a good skeleton <font color="#FF0000"><b>For </b></font>the <font color="#FF0000"><b>File </b></font>structure<font color="#000080">,
 </font>but <font color="#FF0000"><b>if </b></font>you want the effects commands<font color="#000080">, </font>we<font color="#800000">'ll have to go to NetMail,
 </font>since it would <font color="#FF0000"><b>not </b></font>be <font color="#FF0000"><b>in Pascal</b></font><font color="#000080">.

</font><font color="#FF0000"><b>Type </b></font>SongNameT <font color="#000080">= </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">20</font><font color="#000080">]; </font><font color="#008000"><i>{This is the first structure in the File, the
                              full name of the song in the File}
     </i></font>SampleT <font color="#000080">= </font><font color="#FF0000"><b>Record        </b></font><font color="#008000"><i>{This structure is Repeated 31 times, and
                              describes each instrument}
        </i></font>Name     <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">22</font><font color="#000080">];
        </font>Len      <font color="#000080">: </font>Word<font color="#000080">;     </font><font color="#008000"><i>{Length of the sample wave pattern, which is
                              Near the end of the File.  This number is
                              the number of Words, use MUL 2 For Bytes}
        </i></font>FineTune <font color="#000080">: </font>Byte<font color="#000080">;     </font><font color="#008000"><i>{0-7 = 0 to +7, 8-F = -8 to -1 offset from
                              normal played notes.  Useful For off-key
                              instruments}
        </i></font>Volume   <font color="#000080">: </font>Byte<font color="#000080">;     </font><font color="#008000"><i>{0-64 Normal volume of instrument}
        </i></font>RepeatAt <font color="#000080">: </font>Word<font color="#000080">;     </font><font color="#008000"><i>{offset in Words of the start of the pattern
                              Repeat For long notes.}
        </i></font>RepeatLn <font color="#000080">: </font>Word<font color="#000080">;     </font><font color="#008000"><i>{Length in Words of the Repeated part of the
                              sample pattern}
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font>VoiceT <font color="#000080">= </font><font color="#FF0000"><b>Record  </b></font><font color="#008000"><i>{This structure is not in the MOD File itself, but
                       should help in organizing all of the voice's
                       Charicteristics}
        </i></font>Sample  <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#008000"><i>{0-31    Which instrument sample to play}
        </i></font>note    <font color="#000080">: </font>Word<font color="#000080">; </font><font color="#008000"><i>{12 bits Which note. Non-standard strange numbers}
        </i></font>Effect  <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#008000"><i>{0-F     Effect to use on note}
        </i></font>EffectC <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#008000"><i>{00-FF   Control Variable to effect}
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font>SongDataT <font color="#000080">= </font><font color="#FF0000"><b>Record </b></font><font color="#008000"><i>{This Record, at offset 950, contains inFormation
                         about the song music itself}
        </i></font>SongLength <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#008000"><i>{1-128 Number of patterns (not wave) of
                            sets of musical notes}
        </i></font>Fill1      <font color="#000080">: </font>Byte<font color="#000080">; </font><font color="#008000"><i>{Set to 127}
        </i></font>Patterns   <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">127</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">; </font><font color="#008000"><i>{0-63 Outline of song}
                     {Tells which score to play where.  Number of
                      patterns is the highest number here}
        </i></font>Initials   <font color="#000080">: </font><font color="#FF0000"><b>String</b></font><font color="#000080">[</font><font color="#800000">4</font><font color="#000080">];             </font><font color="#008000"><i>{&quot;M.K.&quot;,&quot;FLT4&quot;, or &quot;FLT8&quot;}
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

     </font>PatternDataT <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">4</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">; </font><font color="#008000"><i>{This structure is Repeated
                       four times For each note in the score (4 voices,
                       4 Bytes each}

     {After this the wave patterns For the samples are placed}

</i></font><font color="#FF0000"><b>Var </b></font>Voice  <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">.. </font><font color="#800000">4</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>VoiceT<font color="#000080">;  </font><font color="#008000"><i>{Four voices}
    </i></font>Sample <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">31</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>SampleT<font color="#000080">; </font><font color="#008000"><i>{31 samples}

</i></font><font color="#FF0000"><b>Procedure </b></font>ParseData <font color="#000080">(</font>Patt <font color="#000080">: </font>PatternDataT<font color="#000080">, </font>VoiceNum <font color="#000080">: </font>Byte<font color="#000080">);
</font><font color="#008000"><i>{Stuffs voice With pattern data beFore playing}
</i></font><font color="#FF0000"><b>begin
  </b></font>Voice<font color="#000080">[</font>VoiceNum<font color="#000080">].</font>Sample  <font color="#000080">:= (</font>Patt<font color="#000080">[</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>mod </b></font><font color="#800000">16</font><font color="#000080">) </font><font color="#FF0000"><b>shl </b></font><font color="#800000">4 </font><font color="#000080">+ (</font>Patt<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>mod </b></font><font color="#800000">16</font><font color="#000080">);
  </font>Voice<font color="#000080">[</font>VoiceNum<font color="#000080">].</font>note    <font color="#000080">:= (</font>Patt<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>shl </b></font><font color="#800000">4</font><font color="#000080">) + (</font>Patt<font color="#000080">[</font><font color="#800000">2</font><font color="#000080">] </font><font color="#FF0000"><b>div </b></font><font color="#800000">16</font><font color="#000080">);
  </font>Voice<font color="#000080">[</font>VoiceNum<font color="#000080">].</font>Effect  <font color="#000080">:= (</font>Patt<font color="#000080">[</font><font color="#800000">3</font><font color="#000080">] </font><font color="#FF0000"><b>div </b></font><font color="#800000">16</font><font color="#000080">;
  </font>Voice<font color="#000080">[</font>VoiceNum<font color="#000080">].</font>EffectC <font color="#000080">:= </font>Patt<font color="#000080">[</font><font color="#800000">4</font><font color="#000080">];
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font>Anyway<font color="#000080">, </font>this should help explain how <font color="#FF0000"><b>to do </b></font>something <font color="#FF0000"><b>With </b></font>the <font color="#FF0000"><b>File</b></font><font color="#000080">.
</font><font color="#FF0000"><b>if </b></font>you need inFormation <font color="#FF0000"><b>on </b></font>what the numbers <font color="#FF0000"><b>For </b></font>the notes are <font color="#FF0000"><b>or </b></font>how
<font color="#FF0000"><b>to </b></font>interprit the effects<font color="#000080">, </font>send NetMail<font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SOUND SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0003.PAS">Original</a><b>]</b></p></body>
</html>
