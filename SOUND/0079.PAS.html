<html>
<head><title> "WAV File Header" by ANDREAS KLOECKNER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SOUND SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0079.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
&gt; I want to make a .Wav file into a midi file. Actually all I really
&gt; need are the frequencies that each note is played at... if that is
&gt; posible. Does anyone know how to read .Wav files or that know of a
&gt; program that will tell me the frequencies... I intend to make a
&gt; program that will print out the note in a wave file.. maybe only one
&gt; line of music.. but hay.. Thanks

Sounds great, huh.

Somehow, reading WAVs isn't awfully complex. There are tons of texts about
the RIFF chunks by Mickeysoft, the so-called &quot;MULTI-MEDIA-FORMATS&quot;, which
WAV is one of.

(Header, from my code:)
}
  </i></font>TWavDateiHeader<font color="#000080">=</font><font color="#FF0000"><b>record       </b></font><font color="#008000"><i>{ guess it, it's German, and so am I  }
    </i></font>RIFF<font color="#000080">:</font>FourCharCode<font color="#000080">;
    </font>Size<font color="#000080">:</font>Longint<font color="#000080">;              </font><font color="#008000"><i>{ forget this                         }
    </i></font>wave<font color="#000080">:</font>FourCharCode<font color="#000080">;
    </font>fmt_<font color="#000080">:</font>FourCharCode<font color="#000080">;
    </font>Sizefmt<font color="#000080">:</font>Longint<font color="#000080">;

    </font>FormatTag<font color="#000080">:</font>Word<font color="#000080">;            </font><font color="#008000"><i>{ 1=PCM                               }
    </i></font>Channels<font color="#000080">:</font>Word<font color="#000080">;             </font><font color="#008000"><i>{ 1=Mono, 2=Stereo                    }
    </i></font>SampleRate<font color="#000080">:</font>Longint<font color="#000080">;
    </font>AvgBytesPerSec<font color="#000080">:</font>Longint<font color="#000080">;    </font><font color="#008000"><i>{ usually same as Sp.Rate             }
    </i></font>nBlockAlign<font color="#000080">,               </font><font color="#008000"><i>{ too lazy to look it up :(           }
    </i></font>nBitsperSample<font color="#000080">:</font>Word<font color="#000080">;       </font><font color="#008000"><i>{ 8 or 16                             }
    </i></font>dat_<font color="#000080">:</font>FourCharCode<font color="#000080">;         </font><font color="#008000"><i>{ forget this                         }

    </i></font>Sizedata<font color="#000080">:</font>Longint<font color="#000080">;          </font><font color="#008000"><i>{ size of the sample data             }
  </i></font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#008000"><i>{
followed immediately by the sample data. You should be able to figure out
what the fields mean. It's kind of inflexible interpreting a chunked file
this way, but the fmt is improbable to change any more.

For getting the frequencies out of a wav, you need to do an fft (Fourier
analysis). that gets you the sinus components of the wave, which is total
nonsense for converting to midi. But you may try and do it, best is to
go for some literature on it.
}

</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SOUND SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0079.PAS">Original</a><b>]</b></p></body>
</html>
