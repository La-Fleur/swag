<html>
<head><title> "Use of the BGI" by GLENN GROTZINGER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TUTOR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0024.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">                       Turbo <font color="#FF0000"><b>Pascal for </b></font>DOS Tutorial
                           by Glenn Grotzinger
                         Part <font color="#800000">21</font><font color="#000080">: </font>Use <font color="#FF0000"><b>of </b></font>the BGI<font color="#000080">.
                 </font>copyright <font color="#000080">(</font>c<font color="#000080">) </font><font color="#800000">1995</font><font color="#000080">-</font><font color="#800000">6 </font>by Glenn Grotzinger

Here <font color="#FF0000"><b>is </b></font>a solution <font color="#FF0000"><b>to </b></font>the problem presented last time<font color="#000080">.

</font><font color="#FF0000"><b>program </b></font>part20<font color="#000080">; </font><font color="#FF0000"><b>uses </b></font>dos<font color="#000080">;

  </font><font color="#FF0000"><b>const
    </b></font>oneminute <font color="#000080">= </font><font color="#800000">273</font><font color="#000080">;  </font><font color="#008000"><i>{ # of timer ticks that happens in 15 seconds }

  </i></font><font color="#FF0000"><b>var
    </b></font>saveint09<font color="#000080">, </font>saveint1c<font color="#000080">: </font><font color="#FF0000"><b>procedure</b></font><font color="#000080">;
    </font>timecounter<font color="#000080">, </font>keycounter<font color="#000080">: </font>integer<font color="#000080">;
    </font>achar<font color="#000080">: </font>char<font color="#000080">;
    </font>timeup<font color="#000080">: </font>boolean<font color="#000080">;

  </font><font color="#008000"><i>{$F+}
  </i></font><font color="#FF0000"><b>procedure </b></font>counttime<font color="#000080">; </font>interrupt<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      </b></font>inc<font color="#000080">(</font>timecounter<font color="#000080">);
      </font><font color="#FF0000"><b>if </b></font>timecounter <font color="#000080">= </font>oneminute <font color="#FF0000"><b>then
        </b></font>timeup <font color="#000080">:= </font>true<font color="#000080">;
      </font><font color="#FF0000"><b>inline</b></font><font color="#000080">(</font><font color="#800000">$9C</font><font color="#000080">);
      </font>saveint1c<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>procedure </b></font>countkeys<font color="#000080">; </font>interrupt<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      </b></font>inc<font color="#000080">(</font>keycounter<font color="#000080">);
      </font><font color="#FF0000"><b>inline</b></font><font color="#000080">(</font><font color="#800000">$9C</font><font color="#000080">);
      </font>saveint09<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#008000"><i>{$F-}

  </i></font><font color="#FF0000"><b>begin
    </b></font>timeup <font color="#000080">:= </font>false<font color="#000080">;
    </font>timecounter <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>keycounter <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font>getintvec<font color="#000080">(</font><font color="#800000">$09</font><font color="#000080">, @</font>saveint09<font color="#000080">);
    </font>getintvec<font color="#000080">(</font><font color="#800000">$1C</font><font color="#000080">, @</font>saveint1C<font color="#000080">);
    </font>setintvec<font color="#000080">(</font><font color="#800000">$09</font><font color="#000080">, @</font>countkeys<font color="#000080">);
    </font>setintvec<font color="#000080">(</font><font color="#800000">$1C</font><font color="#000080">, @</font>counttime<font color="#000080">);

    </font><font color="#FF0000"><b>while </b></font>timeup <font color="#000080">= </font>false <font color="#FF0000"><b>do
      </b></font>read<font color="#000080">(</font>achar<font color="#000080">);

    </font>setintvec<font color="#000080">(</font><font color="#800000">$09</font><font color="#000080">, @</font>saveint09<font color="#000080">);
    </font>setintvec<font color="#000080">(</font><font color="#800000">$1C</font><font color="#000080">, @</font>saveint1C<font color="#000080">);
    </font>writeln<font color="#000080">(</font><font color="#800000">'There were '</font><font color="#000080">, </font>keycounter <font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">, </font><font color="#800000">' keys pressed.'</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">.


</font>BGI Intro
<font color="#000080">=========
</font>This part <font color="#FF0000"><b>is </b></font>basically about using the Borland Graphics <font color="#FF0000"><b>Interface</b></font><font color="#000080">.  </font>It <font color="#FF0000"><b>is
not </b></font>generally recommended <font color="#FF0000"><b>to </b></font>use it <font color="#000080">-- </font>use <font color="#FF0000"><b>assembler </b></font>instead <font color="#FF0000"><b>to </b></font>make it a
lot quicker<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>smaller<font color="#000080">.... </font>but due <font color="#FF0000"><b>to </b></font>demand<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>the ability <font color="#FF0000"><b>to </b></font>use the
BGI <font color="#FF0000"><b>for </b></font>basic graphics<font color="#000080">, </font>we will talk about use <font color="#FF0000"><b>of </b></font>the BGI<font color="#000080">.  </font><font color="#FF0000"><b>For </b></font>heavy use
<font color="#FF0000"><b>of </b></font>graphics<font color="#000080">, </font><font color="#FF0000"><b>assembler is </b></font>indeed better<font color="#000080">....

</font>BGI loader
<font color="#000080">==========
</font>Here<font color="#000080">, </font>I will describe how <font color="#FF0000"><b>to </b></font>make the BGI files functionally more useable
than <font color="#FF0000"><b>in </b></font>their current state<font color="#000080">....</font>Compile <font color="#FF0000"><b>with </b></font>looking <font color="#FF0000"><b>for </b></font>the <font color="#FF0000"><b>external </b></font>BGI
files <font color="#FF0000"><b>is </b></font>fine<font color="#000080">, </font>but will run into an annoyance quick<font color="#000080">, </font>especially <font color="#FF0000"><b>with </b></font>a
distributed utility<font color="#000080">...</font>it <font color="#FF0000"><b>is </b></font>easier <font color="#FF0000"><b>to </b></font>have the EXE available <font color="#FF0000"><b>with </b></font>the BGI
files binded <font color="#FF0000"><b>to </b></font>it than <font color="#FF0000"><b>to </b></font>make a user keep track <font color="#FF0000"><b>of </b></font>the BGI files<font color="#000080">....

</font>There <font color="#FF0000"><b>is </b></font>a utility available <font color="#FF0000"><b>in </b></font>TP called BINOBJ<font color="#000080">.  </font>The BGI files are video
control files<font color="#000080">, </font><font color="#FF0000"><b>while </b></font>CHR files are font definition files<font color="#000080">.  </font>They both are
usable <font color="#FF0000"><b>in </b></font>graphics <font color="#FF0000"><b>as </b></font>binary files<font color="#000080">...</font><font color="#FF0000"><b>and </b></font>that <font color="#FF0000"><b>is </b></font>what BINOBJ does<font color="#000080">...</font>it
converts binary files <font color="#FF0000"><b>to OBJect </b></font>files<font color="#000080">, </font>which may be handled like described
before<font color="#000080">.  </font>The proper usage <font color="#FF0000"><b>of </b></font>this utility <font color="#FF0000"><b>is</b></font><font color="#000080">...

</font>BINOBJ <font color="#000080">&lt;</font>binary <font color="#FF0000"><b>file </b></font>name<font color="#000080">&gt; &lt;</font><font color="#FF0000"><b>object file </b></font>name<font color="#000080">&gt; &lt;</font>internal <font color="#FF0000"><b>procedure </b></font>name<font color="#000080">&gt;

</font>Here <font color="#FF0000"><b>is </b></font>a sample command<font color="#000080">-</font>line<font color="#000080">.  </font><font color="#FF0000"><b>To </b></font>convert VESA16<font color="#000080">.</font>BGI <font color="#FF0000"><b>to </b></font>an OBJ<font color="#000080">, </font><font color="#FF0000"><b>do </b></font>this<font color="#000080">:

</font>BINOBJ VESA16<font color="#000080">.</font>BGI VESA16<font color="#000080">.</font>OBJ Vesa16driver

Locate the BGI files that should be <font color="#FF0000"><b>in </b></font>your TP<font color="#000080">/</font>BGI directory<font color="#000080">.
</font>You will need <font color="#FF0000"><b>to </b></font>copy them off <font color="#FF0000"><b>to </b></font>a separate directory<font color="#000080">.

</font>After you convert all BGI files like this<font color="#000080">, </font>I recommend you write a <font color="#FF0000"><b>unit
to </b></font>link the BGI files <font color="#FF0000"><b>in </b></font><font color="#000080">-- </font>optionally<font color="#000080">, </font><font color="#FF0000"><b>if </b></font>you need fonts<font color="#000080">, </font>you may write
a <font color="#FF0000"><b>unit to </b></font>link those <font color="#FF0000"><b>in </b></font>likewise<font color="#000080">.  </font>Be sure <font color="#FF0000"><b>to </b></font>define your proper <font color="#FF0000"><b>external
</b></font>procedures like it needs <font color="#FF0000"><b>to </b></font>be done<font color="#000080">.  </font>Make use <font color="#FF0000"><b>of </b></font>meaningful
names<font color="#000080">, </font><font color="#FF0000"><b>as </b></font>you will have <font color="#FF0000"><b>to </b></font>remember them <font color="#FF0000"><b>to </b></font>make use <font color="#FF0000"><b>of </b></font>the graphics <font color="#FF0000"><b>set</b></font><font color="#000080">.
</font><font color="#FF0000"><b>For </b></font>example<font color="#000080">, </font>I call my <font color="#FF0000"><b>unit </b></font>bgivideo<font color="#000080">; </font><font color="#FF0000"><b>for </b></font>each <font color="#FF0000"><b>procedure</b></font><font color="#000080">, </font>I put the first
<font color="#800000">8 </font>chars <font color="#FF0000"><b>of </b></font>the name <font color="#FF0000"><b>of </b></font>the <font color="#FF0000"><b>file</b></font><font color="#000080">, </font><font color="#FF0000"><b>and then </b></font>driver <font color="#FF0000"><b>for </b></font>the BGI files<font color="#000080">.  </font>These
<font color="#FF0000"><b>function </b></font>names will be easy <font color="#FF0000"><b>to </b></font>remember when we need <font color="#FF0000"><b>to </b></font>use them<font color="#000080">.

</font>Going into Graphics Mode
<font color="#000080">========================
</font>Now<font color="#000080">, </font>hopefully you have your BGI video <font color="#FF0000"><b>unit </b></font>ready now<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>sitting <font color="#FF0000"><b>in
</b></font>whatever directory you use <font color="#FF0000"><b>to </b></font>place your <font color="#FF0000"><b>pascal </b></font>code<font color="#000080">.  </font>Now we will discuss
about how <font color="#FF0000"><b>to </b></font>go into graphics mode using the BGI<font color="#000080">.

</font>Generally<font color="#000080">, </font>going <font color="#FF0000"><b>to </b></font>graphics mode initially would require setting up the
BGI <font color="#FF0000"><b>unit </b></font>you created<font color="#000080">, </font><font color="#FF0000"><b>and then </b></font>performing an autodetect <font color="#FF0000"><b>on </b></font>the graphics<font color="#000080">,
</font>followed by an init into graphics mode<font color="#000080">.

</font>Let us look at some sample code<font color="#000080">...

</font><font color="#FF0000"><b>program </b></font>video_example_1<font color="#000080">;</font><font color="#008000"><i>{1} </i></font><font color="#FF0000"><b>uses </b></font>graph<font color="#000080">, </font>bgivideo<font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>graphicsdriver<font color="#000080">, </font>graphicsmode<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>errormessage<font color="#000080">(</font>driver<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>writeln<font color="#000080">(</font><font color="#800000">'There was an error: '</font><font color="#000080">, </font>grapherrormsg<font color="#000080">(</font>graphresult<font color="#000080">), </font>driver<font color="#000080">);
    </font>halt<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
</b></font><font color="#008000"><i>{2}</i></font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>registerbgidriver<font color="#000080">(@</font>attdriver<font color="#000080">) &lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
     </b></font>errormessage<font color="#000080">(</font><font color="#800000">'ATT'</font><font color="#000080">);
   </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>registerbgidriver<font color="#000080">(@</font>cgadriver<font color="#000080">) &lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
     </b></font>errormessage<font color="#000080">(</font><font color="#800000">'CGA'</font><font color="#000080">);
   </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>registerbgidriver<font color="#000080">(@</font>egavgadriver<font color="#000080">) &lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
     </b></font>errormessage<font color="#000080">(</font><font color="#800000">'EGA/VGA'</font><font color="#000080">);
   </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>registerbgidriver<font color="#000080">(@</font>hercdriver<font color="#000080">) &lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
     </b></font>errormessage<font color="#000080">(</font><font color="#800000">'Herc'</font><font color="#000080">);
   </font><font color="#FF0000"><b>if </b></font><font color="#000080">(</font>registerbgidriver<font color="#000080">(@</font>pc3270driver<font color="#000080">) &lt; </font><font color="#800000">0</font><font color="#000080">) </font><font color="#FF0000"><b>then
     </b></font>errormessage<font color="#000080">(</font><font color="#800000">'PC 3270'</font><font color="#000080">);

</font><font color="#008000"><i>{3}</i></font>detectgraph<font color="#000080">(</font>graphicsdriver<font color="#000080">, </font>graphicsmode<font color="#000080">);
   </font>graphicsdriver <font color="#000080">:= </font>Detect<font color="#000080">;
</font><font color="#008000"><i>{4}</i></font>initgraph<font color="#000080">(</font>graphicsdriver<font color="#000080">, </font>graphicsmode<font color="#000080">, </font><font color="#800000">''</font><font color="#000080">);
</font><font color="#008000"><i>{5}</i></font><font color="#FF0000"><b>if </b></font>GraphResult <font color="#000080">&lt;&gt; </font>grOk <font color="#FF0000"><b>then
    begin
      </b></font>writeln<font color="#000080">(</font><font color="#800000">'Video error.'</font><font color="#000080">);
      </font>halt<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{6}</i></font><font color="#FF0000"><b>repeat
    </b></font>putpixel<font color="#000080">(</font>random<font color="#000080">(</font>getmaxx<font color="#000080">), </font>random<font color="#000080">(</font>getmaxy<font color="#000080">), </font>random<font color="#000080">(</font>getmaxcolor<font color="#000080">));
   </font><font color="#FF0000"><b>until </b></font>keypressed<font color="#000080">;
   </font>readln<font color="#000080">;

</font><font color="#008000"><i>{7}</i></font>closegraph<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>This <font color="#FF0000"><b>is </b></font>basically a random pixel place system using the video mode <font color="#FF0000"><b>in </b></font>the
recommended auto<font color="#000080">-</font>detect<font color="#000080">.  </font>Let<font color="#800000">'s go through a few of the features of the
</font>code<font color="#000080">, </font>which were marked by <font color="#008000"><i>{}</i></font><font color="#800000">'s.

</font><font color="#008000"><i>{1} </i></font><font color="#FF0000"><b>As </b></font>we see<font color="#000080">, </font>the graph<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>bgivideo units are used here<font color="#000080">.  </font>The graph
<font color="#FF0000"><b>unit is </b></font>the basic <font color="#FF0000"><b>function interface for </b></font>the BGI system<font color="#000080">.  </font>We are familiar
<font color="#FF0000"><b>with </b></font>bgivideo from earlier<font color="#000080">.

</font><font color="#008000"><i>{2} </i></font>RegisterBGIDriver<font color="#000080">() </font>must be called <font color="#FF0000"><b>for </b></font>any <font color="#FF0000"><b>and </b></font>all realistic
possibilities<font color="#000080">. </font>I recommend that only the ones listed really need <font color="#FF0000"><b>to </b></font>be
checked<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>the <font color="#FF0000"><b>function is </b></font>less than zero<font color="#000080">, </font><font color="#FF0000"><b>then </b></font>there <font color="#FF0000"><b>is </b></font>a problem<font color="#000080">.
</font>The errormessage <font color="#FF0000"><b>function </b></font>holds a <font color="#FF0000"><b>function </b></font>called grapherrormsg<font color="#000080">() </font>which
will output a direct error <font color="#FF0000"><b>as to </b></font>why things aren<font color="#800000">'t working right.

</font><font color="#008000"><i>{3} </i></font>detectgraph detects the graphics card<font color="#000080">.  </font>it takes integers represented
by graphicsdriver<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>graphicsmode<font color="#000080">....</font>graphicsdriver will hold the
recommended video <font color="#FF0000"><b>type</b></font><font color="#000080">, </font><font color="#FF0000"><b>and </b></font>graphicsmode will hold the recommended video
mode <font color="#000080">(</font>it can be changed<font color="#000080">).  </font>This <font color="#FF0000"><b>is </b></font>why we registered all the drivers<font color="#000080">...</font>it
will use whichever one it needs<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>ultimately<font color="#000080">, </font>the <font color="#FF0000"><b>program </b></font>will work <font color="#FF0000"><b>with
</b></font>all video modes<font color="#000080">.

</font><font color="#008000"><i>{4} </i></font>initgraph<font color="#000080">() </font>takes us into graphics mode<font color="#000080">.  </font>It <font color="#FF0000"><b>is </b></font>called basically <font color="#FF0000"><b>as
</b></font>indicated <font color="#FF0000"><b>in </b></font>the <font color="#FF0000"><b>program</b></font><font color="#000080">.  </font>the third param <font color="#800000">''</font><font color="#000080">, </font><font color="#FF0000"><b>is for </b></font>when we load the
BGI files externally<font color="#000080">.  </font><font color="#FF0000"><b>To do </b></font>that<font color="#000080">, </font><font color="#FF0000"><b>do not </b></font>include BGIVIDEO <font color="#FF0000"><b>and </b></font>provide
a path <font color="#FF0000"><b>to </b></font>the BGI files<font color="#000080">....</font><font color="#FF0000"><b>to </b></font>get a full auto<font color="#000080">-</font>detect capability<font color="#000080">, </font>just
make all the BGI files available<font color="#000080">....</font>it <font color="#FF0000"><b>is </b></font>easier <font color="#FF0000"><b>in </b></font>the long run <font color="#FF0000"><b>to </b></font>have
the BGI files combined <font color="#FF0000"><b>in </b></font>the exec<font color="#000080">.

</font><font color="#008000"><i>{5} </i></font><font color="#FF0000"><b>For </b></font>almost any graphics <font color="#FF0000"><b>function</b></font><font color="#000080">, </font>a variable called graphresult <font color="#FF0000"><b>is
</b></font>changed<font color="#000080">.  </font>There are graphics mode constants<font color="#000080">, </font>which will be covered later<font color="#000080">,
</font>which are <font color="#FF0000"><b>in </b></font>there representing different things<font color="#000080">.  </font>grok <font color="#FF0000"><b>is </b></font>the one which
indicates that things are OK<font color="#000080">.

</font><font color="#008000"><i>{6} </i></font>This <font color="#FF0000"><b>is </b></font>the real meat <font color="#FF0000"><b>of </b></font>the <font color="#FF0000"><b>procedure</b></font><font color="#000080">.  </font>It keeps placing pixels <font color="#FF0000"><b>of
</b></font>random position <font color="#FF0000"><b>and </b></font>color <font color="#FF0000"><b>on </b></font>the screen <font color="#FF0000"><b>until </b></font>a key <font color="#FF0000"><b>is </b></font>pressed<font color="#000080">.  </font>getmaxx
<font color="#FF0000"><b>is </b></font>the maximum screen position <font color="#FF0000"><b>on </b></font>the x axis<font color="#000080">.  </font>getmaxy <font color="#FF0000"><b>is </b></font>the maximum screen
position <font color="#FF0000"><b>on </b></font>the y axis<font color="#000080">.  </font>Graphics screens have the same kind <font color="#FF0000"><b>of </b></font>dimensional
setup <font color="#FF0000"><b>as </b></font>the crt graphics screens <font color="#FF0000"><b>do</b></font><font color="#000080">.  </font>The putpixel <font color="#FF0000"><b>procedure </b></font>takes a
x<font color="#000080">, </font>y coordinate<font color="#000080">, </font><font color="#FF0000"><b>then </b></font>a color<font color="#000080">...</font>getmaxcolor <font color="#FF0000"><b>is </b></font>a constant that holds the
maximum <font color="#800000"># </font><font color="#FF0000"><b>of </b></font>colors present <font color="#FF0000"><b>in </b></font>the current video mode<font color="#000080">.

</font><font color="#008000"><i>{7} </i></font>Closegraph <font color="#FF0000"><b>is </b></font>pretty much self<font color="#000080">-</font>explanatory<font color="#000080">.  </font>It shuts down graphics mode
<font color="#FF0000"><b>and </b></font>takes us back <font color="#FF0000"><b>to </b></font>text<font color="#000080">.

</font>BGI Font Usage
<font color="#000080">==============
</font>The CHR files you saw<font color="#000080">, </font>are font files<font color="#000080">, </font>which have an ability <font color="#FF0000"><b>to </b></font>be used <font color="#FF0000"><b>in
</b></font>graphics programs<font color="#000080">....

</font>These files can be converted <font color="#FF0000"><b>to </b></font>OBJs<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>I recommend that you <font color="#FF0000"><b>do </b></font>so <font color="#FF0000"><b>for
</b></font>purposes <font color="#FF0000"><b>of </b></font>using the fonts<font color="#000080">.....

</font>Here <font color="#FF0000"><b>is </b></font>a small example <font color="#FF0000"><b>of </b></font>loading <font color="#FF0000"><b>and </b></font>using fonts <font color="#000080">-- </font>I<font color="#800000">'m not repeating
</font>the video load code<font color="#000080">, </font>so I will omit that<font color="#000080">....

</font><font color="#FF0000"><b>program </b></font>video_example<font color="#000080">; </font><font color="#FF0000"><b>uses </b></font>graph<font color="#000080">, </font>bgivideo<font color="#000080">;

</font><font color="#FF0000"><b>var
  </b></font>graphicsdriver<font color="#000080">, </font>graphicsmode<font color="#000080">: </font>integer<font color="#000080">;
  </font>i<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#008000"><i>{1} {$L GOTH.OBJ}
</i></font><font color="#FF0000"><b>procedure </b></font>Gothfont<font color="#000080">; </font><font color="#FF0000"><b>external</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>errormessage<font color="#000080">(</font>driver<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">);
  </font><font color="#FF0000"><b>begin
    </b></font>writeln<font color="#000080">(</font><font color="#800000">'There was an error: '</font><font color="#000080">, </font>grapherrormsg<font color="#000080">(</font>graphresult<font color="#000080">), </font>driver<font color="#000080">);
    </font>halt<font color="#000080">(</font><font color="#800000">1</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>begin
  </b></font><font color="#008000"><i>{ This is the video load code }

{2}  </i></font><font color="#FF0000"><b>if </b></font>registerbgifont<font color="#000080">(@</font>gothfont<font color="#000080">) &lt; </font><font color="#800000">0 </font><font color="#FF0000"><b>then
      </b></font>errormessage<font color="#000080">(</font><font color="#800000">'Script font'</font><font color="#000080">);

    </font>i <font color="#000080">:= </font><font color="#800000">100</font><font color="#000080">;
</font><font color="#008000"><i>{3}  </i></font>settextstyle<font color="#000080">(</font>DefaultFont<font color="#000080">, </font>HorizDir<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
</font><font color="#008000"><i>{4}  </i></font>setcolor<font color="#000080">(</font>blue<font color="#000080">);
</font><font color="#008000"><i>{5}  </i></font>outtextxy<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">, </font>i<font color="#000080">, </font><font color="#800000">'This is the DEFAULT font.'</font><font color="#000080">);
</font><font color="#008000"><i>{6}  </i></font>inc<font color="#000080">(</font>i<font color="#000080">, </font>textheight<font color="#000080">(</font><font color="#800000">'T'</font><font color="#000080">)+</font><font color="#800000">2</font><font color="#000080">);
     </font>readln<font color="#000080">;
</font><font color="#008000"><i>{7}  </i></font>cleardevice<font color="#000080">;
     </font>settextstyle<font color="#000080">(</font>Gothicfont<font color="#000080">, </font>horizdir<font color="#000080">, </font><font color="#800000">2</font><font color="#000080">);
     </font>setcolor<font color="#000080">(</font>green<font color="#000080">);
     </font>outtextxy<font color="#000080">(</font><font color="#800000">20</font><font color="#000080">, </font>i<font color="#000080">, </font><font color="#800000">'This is the GOTHIC font.'</font><font color="#000080">);
     </font>readln<font color="#000080">;
     </font>closegraph<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>This basically goes into graphic mode<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>writes those two statements <font color="#FF0000"><b>to
</b></font>the screen<font color="#000080">.  </font>We will go through the areas marked by <font color="#008000"><i>{}</i></font><font color="#800000">'s..

</font><font color="#008000"><i>{1} </i></font>This <font color="#FF0000"><b>is </b></font>exactly like I described before<font color="#000080">.  </font>This <font color="#FF0000"><b>is </b></font>how we load the CHR
<font color="#FF0000"><b>file to not </b></font>make it separate<font color="#000080">.  </font>We <font color="#FF0000"><b>do </b></font>it exactly like the BGI files<font color="#000080">, </font><font color="#FF0000"><b>and
set </b></font>them up <font color="#FF0000"><b>as external </b></font>OBJ files<font color="#000080">.

</font><font color="#008000"><i>{2} </i></font>registerbgifont works exactly like registerbgidriver does<font color="#000080">...</font>it registers
the font into the <font color="#FF0000"><b>program </b></font><font color="#000080">-- </font>load fonts judiciously <font color="#000080">-- </font>only <font color="#FF0000"><b>if </b></font>you need
them<font color="#000080">.

</font><font color="#008000"><i>{3} </i></font>settextstyle<font color="#000080">() </font>changes the font<font color="#000080">, </font>direction<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>size<font color="#000080">....</font>things can
be written <font color="#FF0000"><b>out </b></font>either horizontally<font color="#000080">, </font><font color="#FF0000"><b>or </b></font>vertically<font color="#000080">.  </font>Fonts letters are <font color="#800000">8</font>X8
pixels <font color="#FF0000"><b>in </b></font>size<font color="#000080">...</font>so it <font color="#FF0000"><b>is </b></font>also possible <font color="#FF0000"><b>to </b></font>zoom the fonts<font color="#000080">...</font>the third
<font color="#FF0000"><b>is </b></font>the factor <font color="#FF0000"><b>in </b></font>which it may be done<font color="#000080">...</font>a <font color="#800000">2 </font><font color="#FF0000"><b>in </b></font>the third parameter makes the
letters <font color="#800000">16</font>X16 pixels<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>so <font color="#FF0000"><b>on and </b></font>so forth<font color="#000080">.

</font><font color="#008000"><i>{4} </i></font>setcolor<font color="#000080">(</font>blue<font color="#000080">) </font>sets the foreground graphics draw color <font color="#FF0000"><b>to </b></font>blue<font color="#000080">.

</font><font color="#008000"><i>{5} </i></font>outtextxy<font color="#000080">() </font>puts <font color="#FF0000"><b>out </b></font>a text statement at coordinate x<font color="#000080">, </font>y <font color="#FF0000"><b>for </b></font>graphics
mode<font color="#000080">.

</font><font color="#008000"><i>{6} </i></font>textheight <font color="#FF0000"><b>is </b></font>a <font color="#FF0000"><b>function </b></font>which guages the height <font color="#FF0000"><b>in </b></font>pixels <font color="#FF0000"><b>of </b></font>a text
placed <font color="#FF0000"><b>in </b></font>the statement<font color="#000080">.

</font>Font <font color="#FF0000"><b>file </b></font>names
<font color="#000080">===============
</font>DefaultFont<font color="#000080">; </font>TriplexFont<font color="#000080">; </font>SmallFont<font color="#000080">; </font>SanSerifFont<font color="#000080">; </font>GothicFont<font color="#000080">; </font>represent
  fonts<font color="#000080">.
</font>HorizDir<font color="#000080">; </font>VertDir<font color="#000080">;

</font>A VERY QUICK overview <font color="#FF0000"><b>of </b></font>commands available from BGI
<font color="#000080">====================================================
</font>Due <font color="#FF0000"><b>to </b></font>the volume <font color="#FF0000"><b>of </b></font>commands available<font color="#000080">, </font>all <font color="#FF0000"><b>of </b></font>them can <font color="#FF0000"><b>not </b></font>be sufficiently
covered <font color="#FF0000"><b>in </b></font>the space <font color="#FF0000"><b>of </b></font>this document<font color="#000080">.  </font>Most <font color="#FF0000"><b>if not </b></font>all <font color="#FF0000"><b>of </b></font>them are
straight<font color="#000080">-</font><font color="#FF0000"><b>forward to </b></font>use<font color="#000080">.  </font>Look at page <font color="#800000">185 </font><font color="#FF0000"><b>of </b></font>the Turbo <font color="#FF0000"><b>Pascal </b></font>language
guide <font color="#FF0000"><b>for </b></font>a list <font color="#FF0000"><b>of </b></font>all <font color="#FF0000"><b>of </b></font>the BGI commands<font color="#000080">.

</font>Conclusion
<font color="#000080">==========
</font>IMO<font color="#000080">, </font>Borland made the BGI very hard <font color="#FF0000"><b>to </b></font>use<font color="#000080">.  </font>I have stumbled across many
things that looked like bugs <font color="#FF0000"><b>in </b></font>their system <font color="#000080">(</font>I couldn<font color="#800000">'t use their included
</font>script font<font color="#000080">).  </font>Beyond that<font color="#000080">, </font>it works OK <font color="#FF0000"><b>for </b></font>light<font color="#000080">-</font>duty graphics<font color="#000080">.  </font>Anything
beyond that truly needs <font color="#FF0000"><b>assembler</b></font><font color="#000080">.

</font>There <font color="#FF0000"><b>is </b></font>enough knowledge here <font color="#FF0000"><b>to set </b></font>up <font color="#FF0000"><b>and </b></font>make use <font color="#FF0000"><b>of </b></font>BGI <font color="#000080">(</font><font color="#FF0000"><b>not with</b></font><font color="#000080">-
</font>standing the basic commands <font color="#FF0000"><b>in </b></font>that list <font color="#000080">-- </font><font color="#FF0000"><b>for </b></font>example<font color="#000080">, </font>rectangle<font color="#000080">....
</font>draws a rectangle<font color="#000080">....).

</font><font color="#FF0000"><b>As </b></font>another side note<font color="#000080">, </font>you may have noticed that executables you create
using methods described here are large<font color="#000080">.  </font>Get a <font color="#FF0000"><b>program </b></font>such <font color="#FF0000"><b>as </b></font>PKLITE<font color="#000080">,
</font><font color="#FF0000"><b>or </b></font>LZEXE<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>compress it<font color="#000080">.  </font>They compress down about <font color="#800000">45</font><font color="#000080">-</font><font color="#800000">55</font><font color="#000080">%, </font><font color="#FF0000"><b>in </b></font>my
experience<font color="#000080">.  </font>Graphics programs using BGI seem <font color="#FF0000"><b>to </b></font>characteristically
compile <font color="#FF0000"><b>to </b></font>be large<font color="#000080">.

</font>Practice Programming Problem <font color="#800000">#21
</font><font color="#000080">================================
</font>Make a <font color="#FF0000"><b>program </b></font>which will successively place rectangles <font color="#FF0000"><b>on </b></font>the screen <font color="#FF0000"><b>in
</b></font>random colors<font color="#000080">.  </font>Since it <font color="#FF0000"><b>is </b></font>hard <font color="#FF0000"><b>to </b></font>illustrate what I<font color="#800000">'m wanting, given
</font>this medium<font color="#000080">, </font>I will place the final executable<font color="#000080">, </font>named part21<font color="#000080">.</font>EXE <font color="#FF0000"><b>in </b></font>the
<font color="#FF0000"><b>file </b></font>at Garbo<font color="#000080">.   </font>Cut <font color="#FF0000"><b>and </b></font>paste the document after you save this<font color="#000080">, </font>please<font color="#000080">.
</font>Here are the basic stats behind the <font color="#FF0000"><b>program</b></font><font color="#000080">:

</font><font color="#800000">1</font><font color="#000080">) </font>Squares are used<font color="#000080">.  </font>use the rectangle<font color="#000080">() </font><font color="#FF0000"><b>function</b></font><font color="#000080">.  </font>it takes <font color="#FF0000"><b>for </b></font>arguments<font color="#000080">,
</font>the coordinates <font color="#FF0000"><b>of </b></font>the upper left hand corner<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>the lower right hand
corner<font color="#000080">.
</font><font color="#800000">2</font><font color="#000080">) </font>Each square drawn successively <font color="#FF0000"><b>is </b></font>one pixel larger than the previous<font color="#000080">....
</font><font color="#800000">3</font><font color="#000080">) </font>Continually draw the squares <font color="#FF0000"><b>until </b></font>the user presses a key<font color="#000080">.
</font><font color="#800000">4</font><font color="#000080">) </font>The colors are randomly determined<font color="#000080">.

</font>Look at the <font color="#FF0000"><b>program to </b></font>get an idea <font color="#FF0000"><b>of </b></font>what I am looking <font color="#FF0000"><b>for</b></font><font color="#000080">.  </font>Also please
send comments back <font color="#FF0000"><b>to </b></font>ggrotz<font color="#000080">@</font><font color="#800000">2</font>sprint<font color="#000080">.</font>net <font color="#FF0000"><b>if </b></font>it happens <font color="#FF0000"><b>to not </b></font>work <font color="#FF0000"><b>on </b></font>your
system <font color="#FF0000"><b>for </b></font>no readily apparent reason<font color="#000080">.  </font>I need <font color="#FF0000"><b>to </b></font>get an idea <font color="#FF0000"><b>of </b></font>how well
these sample video routines work<font color="#000080">.

</font>Next Time
<font color="#000080">=========
</font>Things will be indeterminate<font color="#000080">.  </font>I will be covering <font color="#FF0000"><b>object</b></font><font color="#000080">-</font>oriented <font color="#FF0000"><b>program</b></font><font color="#000080">-
</font>ming<font color="#000080">.  </font><font color="#FF0000"><b>As </b></font>I have <font color="#FF0000"><b>not set </b></font>down <font color="#FF0000"><b>and </b></font>figured <font color="#FF0000"><b>out </b></font>how many parts <font color="#FF0000"><b>object</b></font><font color="#000080">-</font>oriented
programming will take <font color="#FF0000"><b>to </b></font>cover<font color="#000080">, </font>I <font color="#FF0000"><b>do not </b></font>know<font color="#000080">.

</font>E<font color="#000080">-</font>mail ggrotz<font color="#000080">@</font><font color="#800000">2</font>sprint<font color="#000080">.</font>net <font color="#FF0000"><b>and </b></font>suggest anything that has <font color="#FF0000"><b>to do with </b></font>TP<font color="#000080">, </font>which
I may have <font color="#FF0000"><b>not </b></font>covered<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>it sounds good<font color="#000080">, </font>I will cover it<font color="#000080">!
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TUTOR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0024.PAS">Original</a><b>]</b></p></body>
</html>
