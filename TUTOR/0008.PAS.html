<html>
<head><title> "Reading and Writing to Text Files" by GLENN GROTZINGER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TUTOR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0008.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">                   Turbo <font color="#FF0000"><b>Pascal for </b></font>DOS Beginning Tutorial
                             by Glenn Grotzinger
                Part <font color="#800000">5 </font><font color="#000080">-- </font>Reading <font color="#FF0000"><b>and </b></font>Writing <font color="#FF0000"><b>to </b></font>Text Files<font color="#000080">.
             </font>All parts copyright <font color="#800000">1995</font><font color="#000080">-</font><font color="#800000">96 </font><font color="#000080">(</font>c<font color="#000080">) </font>by Glenn Grotzinger


<font color="#FF0000"><b>program </b></font>part4<font color="#000080">; </font><font color="#FF0000"><b>uses </b></font>crt<font color="#000080">;

  </font><font color="#008000"><i>{ This program offers a menu-type system in order to convert a number
    of seconds to hours, minutes, and seconds; and to convert a military
    time to AM/PM time }

  </i></font><font color="#FF0000"><b>var
    </b></font>choice<font color="#000080">: </font>integer<font color="#000080">;

  </font><font color="#FF0000"><b>procedure </b></font>showmenu<font color="#000080">;
    </font><font color="#008000"><i>{ This procedure shows the main menu. }
    </i></font><font color="#FF0000"><b>begin
      </b></font>writeln<font color="#000080">(</font><font color="#800000">'1. Convert a number of seconds to hours, minutes, and'</font><font color="#000080">,
              </font><font color="#800000">' seconds.'</font><font color="#000080">);
      </font>writeln<font color="#000080">(</font><font color="#800000">'2. Convert a given military time to AM/PM time.'</font><font color="#000080">);
      </font>writeln<font color="#000080">(</font><font color="#800000">'3. Quit the program.'</font><font color="#000080">);
      </font>writeln<font color="#000080">;
      </font>writeln<font color="#000080">(</font><font color="#800000">'Please enter a choice:'</font><font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>procedure </b></font>convseconds<font color="#000080">;
     </font><font color="#FF0000"><b>var
       </b></font>totalseconds<font color="#000080">: </font>integer<font color="#000080">;
       </font>hours<font color="#000080">, </font>minutes<font color="#000080">, </font>seconds<font color="#000080">: </font>integer<font color="#000080">;
       </font>temp<font color="#000080">: </font>integer<font color="#000080">;
     </font><font color="#FF0000"><b>begin
       </b></font>clrscr<font color="#000080">;
       </font>write<font color="#000080">(</font><font color="#800000">'Enter a total number of seconds: '</font><font color="#000080">);
       </font>readln<font color="#000080">(</font>totalseconds<font color="#000080">);
       </font>writeln<font color="#000080">;
       </font>temp <font color="#000080">:= </font>totalseconds <font color="#FF0000"><b>div </b></font><font color="#800000">60</font><font color="#000080">;
       </font>seconds <font color="#000080">:= </font>totalseconds <font color="#FF0000"><b>mod </b></font><font color="#800000">60</font><font color="#000080">;
       </font>hours <font color="#000080">:= </font>temp <font color="#FF0000"><b>div </b></font><font color="#800000">60</font><font color="#000080">;
       </font>minutes <font color="#000080">:= </font>temp <font color="#FF0000"><b>mod </b></font><font color="#800000">60</font><font color="#000080">;
       </font>writeln<font color="#000080">;
       </font>writeln<font color="#000080">(</font>totalseconds<font color="#000080">, </font><font color="#800000">' seconds is '</font><font color="#000080">, </font>hours<font color="#000080">, </font><font color="#800000">' hours, '</font><font color="#000080">, </font>minutes<font color="#000080">,
              </font><font color="#800000">' minutes, '</font><font color="#000080">, </font>seconds<font color="#000080">, </font><font color="#800000">' seconds.'</font><font color="#000080">);
       </font>writeln<font color="#000080">;
       </font>writeln<font color="#000080">(</font><font color="#800000">'Press ENTER to continue:'</font><font color="#000080">);
       </font>readln<font color="#000080">;
     </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>procedure </b></font>convmilitary<font color="#000080">;
    </font><font color="#008000"><i>{ Version 1.1.  Bug found and e-mailed to me.  It is appreciated. }
    { Involved the reporting of times from 0000 to 0059...Looks to }
    { be fixed now. (wrote this in a very dazed state -- post-surgery)}

    </i></font><font color="#FF0000"><b>var
      </b></font>hours<font color="#000080">, </font>minutes<font color="#000080">: </font>integer<font color="#000080">;
      </font>meridian<font color="#000080">: </font>char<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      </b></font>clrscr<font color="#000080">;
      </font>write<font color="#000080">(</font><font color="#800000">'Enter a military time''s hours: '</font><font color="#000080">);
      </font>readln<font color="#000080">(</font>hours<font color="#000080">);
      </font>write<font color="#000080">(</font><font color="#800000">'Enter a military time''s minutes: '</font><font color="#000080">);
      </font>readln<font color="#000080">(</font>minutes<font color="#000080">);
      </font><font color="#FF0000"><b>if </b></font>hours <font color="#000080">&gt;= </font><font color="#800000">12 </font><font color="#FF0000"><b>then
        begin
          </b></font>meridian <font color="#000080">:= </font><font color="#800000">'P'</font><font color="#000080">;
          </font>hours <font color="#000080">:= </font>hours <font color="#000080">- </font><font color="#800000">12</font><font color="#000080">;
        </font><font color="#FF0000"><b>end
      else
        </b></font>meridian <font color="#000080">:= </font><font color="#800000">'A'</font><font color="#000080">;
      </font><font color="#FF0000"><b>if </b></font>hours <font color="#000080">= </font><font color="#800000">0 </font><font color="#FF0000"><b>then
         </b></font>hours <font color="#000080">:= </font><font color="#800000">12</font><font color="#000080">;
      </font>writeln<font color="#000080">;
      </font>write<font color="#000080">(</font><font color="#800000">'It is '</font><font color="#000080">);
      </font>write<font color="#000080">(</font>hours<font color="#000080">);
      </font>write<font color="#000080">(</font><font color="#800000">':'</font><font color="#000080">);
      </font><font color="#FF0000"><b>if </b></font>minutes <font color="#000080">&lt; </font><font color="#800000">10 </font><font color="#FF0000"><b>then
        </b></font>write<font color="#000080">(</font><font color="#800000">'0'</font><font color="#000080">);
      </font>write<font color="#000080">(</font>minutes<font color="#000080">);
      </font>writeln<font color="#000080">(</font><font color="#800000">' '</font><font color="#000080">, </font>meridian<font color="#000080">, </font><font color="#800000">'M.'</font><font color="#000080">);
      </font>writeln<font color="#000080">;
      </font>writeln<font color="#000080">(</font><font color="#800000">'Press ENTER to continue:'</font><font color="#000080">);
      </font>readln<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>begin
    </b></font>choice <font color="#000080">:= </font><font color="#800000">10</font><font color="#000080">;
    </font><font color="#FF0000"><b>while </b></font>choice <font color="#000080">&lt;&gt; </font><font color="#800000">3 </font><font color="#FF0000"><b>do
      begin
        </b></font>clrscr<font color="#000080">;
        </font>showmenu<font color="#000080">;
        </font>readln<font color="#000080">(</font>choice<font color="#000080">);
        </font><font color="#FF0000"><b>case </b></font>choice <font color="#FF0000"><b>of
          </b></font><font color="#800000">1</font><font color="#000080">: </font>convseconds<font color="#000080">;
          </font><font color="#800000">2</font><font color="#000080">: </font>convmilitary<font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">.
</font>OK<font color="#000080">.  </font><font color="#FF0000"><b>On to </b></font>new stuff<font color="#000080">...

</font>Addressing Files
<font color="#000080">================
</font><font color="#FF0000"><b>To </b></font>address a <font color="#FF0000"><b>file</b></font><font color="#000080">, </font>we use the assign statement<font color="#000080">.  </font>We use a text variable <font color="#FF0000"><b>to
</b></font>refer <font color="#FF0000"><b>to </b></font>the <font color="#FF0000"><b>file</b></font><font color="#000080">, </font><font color="#FF0000"><b>and </b></font>a <font color="#FF0000"><b>string to </b></font>refer <font color="#FF0000"><b>to </b></font>the actual pathname <font color="#FF0000"><b>and </b></font>filename
<font color="#FF0000"><b>of </b></font>the <font color="#FF0000"><b>file</b></font><font color="#000080">.

</font><font color="#FF0000"><b>To </b></font>open a <font color="#FF0000"><b>file</b></font><font color="#000080">, </font>we use a reset<font color="#000080">(&lt;</font><font color="#FF0000"><b>file </b></font>variable<font color="#000080">&gt;); </font>statement <font color="#FF0000"><b>to </b></font>read it<font color="#000080">.

</font><font color="#FF0000"><b>To </b></font>write a new <font color="#FF0000"><b>file</b></font><font color="#000080">, </font>we use a rewrite<font color="#000080">(&lt;</font><font color="#FF0000"><b>file </b></font>variable<font color="#000080">&gt;); </font>statement<font color="#000080">.

</font><font color="#FF0000"><b>To </b></font>close a <font color="#FF0000"><b>file </b></font>after we are done accessing it <font color="#FF0000"><b>for </b></font>read <font color="#FF0000"><b>or </b></font>write<font color="#000080">, </font>we use
the close<font color="#000080">(&lt;</font>filevar<font color="#000080">&gt;).

</font>Special Identifiers
<font color="#000080">===================
</font>There are functions defined <font color="#FF0000"><b>in </b></font>standard <font color="#FF0000"><b>Pascal </b></font>which aid us <font color="#FF0000"><b>in </b></font>processing
text files<font color="#000080">.  </font>They are eof<font color="#000080">(&lt;</font>filevar<font color="#000080">&gt;) </font><font color="#FF0000"><b>and </b></font>eoln<font color="#000080">(&lt;</font>filevar<font color="#000080">&gt;).  </font>They return
boolean values<font color="#000080">.  </font>They are signals we can use <font color="#FF0000"><b>in </b></font>loops <font color="#FF0000"><b>to </b></font>aid us <font color="#FF0000"><b>in </b></font>finding
our way <font color="#FF0000"><b>in </b></font>text files<font color="#000080">.  </font>EOF signals when we are at the <font color="#FF0000"><b>end of </b></font>a <font color="#FF0000"><b>file</b></font><font color="#000080">.
</font>EOLN signals when we are at the <font color="#FF0000"><b>end of </b></font>a line <font color="#FF0000"><b>of </b></font>text <font color="#FF0000"><b>in </b></font>a <font color="#FF0000"><b>file</b></font><font color="#000080">.

</font>NOTE<font color="#000080">: </font>Keep <font color="#FF0000"><b>in </b></font>mind<font color="#000080">, </font>we can have <font color="#FF0000"><b>as </b></font>many files defined <font color="#FF0000"><b>as </b></font>we need<font color="#000080">.  </font>The only
limitation <font color="#FF0000"><b>is </b></font>that we can only have a maximum <font color="#FF0000"><b>of </b></font>the number <font color="#FF0000"><b>of </b></font>files defined
<font color="#FF0000"><b>in </b></font>the FILES<font color="#000080">= </font>statement <font color="#FF0000"><b>of </b></font>the config<font color="#000080">.</font>sys <font color="#FF0000"><b>of </b></font>the particular machine we are
<font color="#FF0000"><b>on </b></font>open at any one time<font color="#000080">.  </font>It <font color="#FF0000"><b>is </b></font>always prudent <font color="#FF0000"><b>to </b></font>close files after you are
done <font color="#FF0000"><b>with </b></font>them<font color="#000080">.


</font>Text <font color="#FF0000"><b>file </b></font>concepts <font color="#FF0000"><b>and </b></font>reading<font color="#000080">/</font>writing <font color="#FF0000"><b>to </b></font>text files
<font color="#000080">====================================================
</font>A sample <font color="#FF0000"><b>program to </b></font>illustrate all the items above<font color="#000080">.  </font>We will be doing a
character by character read <font color="#FF0000"><b>on </b></font>an input <font color="#FF0000"><b>file </b></font>named DATA<font color="#000080">.</font>TXT using eoln
<font color="#FF0000"><b>and </b></font>eof properly<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>uppercasing the output <font color="#FF0000"><b>of </b></font>the <font color="#FF0000"><b>file </b></font>using the
standard upcase <font color="#FF0000"><b>function</b></font><font color="#000080">. </font>The output will be written <font color="#FF0000"><b>to </b></font>another output <font color="#FF0000"><b>file
</b></font>named UPCASED<font color="#000080">.</font>TXT<font color="#000080">.

</font><font color="#FF0000"><b>program </b></font>tutorial15<font color="#000080">;
  </font><font color="#FF0000"><b>var
    </b></font>infile<font color="#000080">, </font>outfile<font color="#000080">: </font>text<font color="#000080">;
    </font>inputchar<font color="#000080">: </font>char<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>assign<font color="#000080">(</font>infile<font color="#000080">, </font><font color="#800000">'DATA.TXT'</font><font color="#000080">); </font><font color="#008000"><i>{ associate var infile with DATA.TXT }
    </i></font>reset<font color="#000080">(</font>infile<font color="#000080">); </font><font color="#008000"><i>{ open DATA.TXT for read }
    </i></font>assign<font color="#000080">(</font>outfile<font color="#000080">, </font><font color="#800000">'UPCASED.TXT'</font><font color="#000080">); </font><font color="#008000"><i>{ assoc. var outfile with UPCASED.TXT }
    </i></font>rewrite<font color="#000080">(</font>outfile<font color="#000080">); </font><font color="#008000"><i>{ open UPCASED.TXT for write }
    </i></font><font color="#FF0000"><b>while not </b></font>eof<font color="#000080">(</font>infile<font color="#000080">) </font><font color="#FF0000"><b>do </b></font><font color="#008000"><i>{ while we're not at the EOF for infile }
      </i></font><font color="#FF0000"><b>begin
        while not </b></font>eoln<font color="#000080">(</font>infile<font color="#000080">) </font><font color="#FF0000"><b>do </b></font><font color="#008000"><i>{ while not EOLN for infile }
          </i></font><font color="#FF0000"><b>begin
            </b></font>read<font color="#000080">(</font>infile<font color="#000080">, </font>inputchar<font color="#000080">);
            </font>write<font color="#000080">(</font>outfile<font color="#000080">, </font>upcase<font color="#000080">(</font>inputchar<font color="#000080">)); </font><font color="#008000"><i>{ process and output }
          </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font>writeln<font color="#000080">(</font>outfile<font color="#000080">);  </font><font color="#008000"><i>{ when end of line, advance both files down }
        </i></font>readln<font color="#000080">(</font>infile<font color="#000080">);    </font><font color="#008000"><i>{ one line }
      </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>close<font color="#000080">(</font>infile<font color="#000080">);     </font><font color="#008000"><i>{ we're done with both of these files.  Close 'em }
    </i></font>close<font color="#000080">(</font>outfile<font color="#000080">);    </font><font color="#008000"><i>{ time. }
  </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>This <font color="#FF0000"><b>program is </b></font>primarily <font color="#FF0000"><b>for </b></font>illustration purposes <font color="#FF0000"><b>of </b></font>all the new concepts
we need <font color="#FF0000"><b>to </b></font>know <font color="#FF0000"><b>in </b></font>order <font color="#FF0000"><b>to </b></font>access files <font color="#000080">(</font>there <font color="#FF0000"><b>is </b></font>a lot better way <font color="#FF0000"><b>out
</b></font>there <font color="#FF0000"><b>of </b></font>doing it<font color="#000080">).  </font><font color="#FF0000"><b>As </b></font>long <font color="#FF0000"><b>as </b></font>we remember what exactly <font color="#FF0000"><b>is </b></font>read <font color="#FF0000"><b>and
</b></font>considered <font color="#FF0000"><b>as </b></font>each <font color="#FF0000"><b>type of </b></font>variable <font color="#000080">(</font>integer<font color="#000080">, </font>char<font color="#000080">, </font><font color="#FF0000"><b>string</b></font><font color="#000080">[</font>limit<font color="#000080">], </font>etc<font color="#000080">,
</font>etc<font color="#000080">), </font>we can read all sorts <font color="#FF0000"><b>of </b></font>data from a text <font color="#FF0000"><b>file and </b></font>write data back
<font color="#FF0000"><b>out to </b></font>a text <font color="#FF0000"><b>file</b></font><font color="#000080">.  </font><font color="#FF0000"><b>To </b></font>illustrate<font color="#000080">:  </font><font color="#FF0000"><b>If </b></font>we have the following input <font color="#FF0000"><b>file
as on </b></font>disk<font color="#000080">...

</font><font color="#800000">14 23 34 53 32 </font>Glenn Grotzinger
<font color="#800000">23 23 12 33 23 </font>Clinton Sucks<font color="#000080">!

</font><font color="#FF0000"><b>If </b></font>we perform ONE read from a varied amount <font color="#FF0000"><b>of </b></font>different types from the
first position <font color="#FF0000"><b>of </b></font>the first line<font color="#000080">, </font>we will see the following<font color="#000080">:

 </font>CHARread<font color="#000080">: </font><font color="#800000">1
 </font>INTEGERread<font color="#000080">: </font><font color="#800000">14
 </font><font color="#FF0000"><b>STRING</b></font><font color="#000080">[</font><font color="#800000">20</font><font color="#000080">]</font>read<font color="#000080">: </font><font color="#800000">14 23 34 53 32 </font>Glenn
 STRINGread<font color="#000080">: </font><font color="#800000">14 23 34 53 32 </font>Glenn Grotzinger

readln<font color="#000080">/</font>writeln goes <font color="#FF0000"><b>to </b></font>the next line<font color="#000080">, </font>whichever references what we are doing
<font color="#FF0000"><b>to </b></font>the text <font color="#FF0000"><b>file</b></font><font color="#000080">.

</font>We must keep these general rules <font color="#FF0000"><b>in </b></font>mind <font color="#000080">(</font>I hope you played around <font color="#FF0000"><b>with </b></font>the
read <font color="#FF0000"><b>and </b></font>write commands a lot<font color="#000080">, </font>that playing will help you A LOT<font color="#000080">!).

</font>Another illustration <font color="#FF0000"><b>to </b></font>see usage <font color="#FF0000"><b>of </b></font>files<font color="#000080">.  </font>It<font color="#800000">'s the BETTER rewrite of
</font>tutorial15<font color="#000080">.  </font>We must also keep <font color="#FF0000"><b>in </b></font>mind that <font color="#FF0000"><b>to </b></font>read a text <font color="#FF0000"><b>file</b></font><font color="#000080">, </font>EOLN
<font color="#FF0000"><b>is not </b></font>necessarily required<font color="#000080">, </font>but EOF <font color="#FF0000"><b>is </b></font>ALWAYS REQUIRED<font color="#000080">.  </font>Improvements<font color="#000080">:
</font>We can use a <font color="#FF0000"><b>string and </b></font>write a <font color="#FF0000"><b>function to </b></font>uppercase the whole <font color="#FF0000"><b>string</b></font><font color="#000080">.
</font>Plus<font color="#000080">, </font>there<font color="#800000">'s one little logic error above...Figure out why I do the
</font>reads <font color="#FF0000"><b>and </b></font>writes different below <font color="#FF0000"><b>and </b></font>you<font color="#800000">'ll have mastered the idea of
</font>reading<font color="#000080">/</font>writing files<font color="#000080">...(</font>I intended <font color="#FF0000"><b>to </b></font>just demo the commands earlier<font color="#000080">,
</font>this <font color="#FF0000"><b>is </b></font>a demo <font color="#FF0000"><b>of </b></font>how they should be used logically<font color="#000080">...)

</font><font color="#FF0000"><b>program </b></font>tutorial16<font color="#000080">;

  </font><font color="#FF0000"><b>var
    </b></font>inputstring<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
    </font>infile<font color="#000080">, </font>outfile<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>function </b></font>upstr<font color="#000080">(</font>instring<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">):</font><font color="#FF0000"><b>string</b></font><font color="#000080">;
    </font><font color="#008000"><i>{ This function uppercases a whole string }
    </i></font><font color="#FF0000"><b>var
      </b></font>i<font color="#000080">: </font>integer<font color="#000080">;
      </font>newstr<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>begin
      </b></font>newstr <font color="#000080">:= </font><font color="#800000">''</font><font color="#000080">;
      </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font>length<font color="#000080">(</font>instring<font color="#000080">) </font><font color="#FF0000"><b>do
        </b></font>newstr <font color="#000080">:= </font>newstr <font color="#000080">+ </font>upcase<font color="#000080">(</font>instring<font color="#000080">[</font>i<font color="#000080">]);
      </font><font color="#008000"><i>{ we can piece strings together using +.  Keep it in mind }
    </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

   </font><font color="#FF0000"><b>begin
     </b></font>assign<font color="#000080">(</font>infile<font color="#000080">, </font><font color="#800000">'DATA.TXT'</font><font color="#000080">);
     </font>reset<font color="#000080">(</font>infile<font color="#000080">);
     </font>assign<font color="#000080">(</font>outfile<font color="#000080">, </font><font color="#800000">'UPCASED.TXT'</font><font color="#000080">);
     </font>rewrite<font color="#000080">(</font>outfile<font color="#000080">);
     </font>readln<font color="#000080">(</font>infile<font color="#000080">, </font>inputstring<font color="#000080">);
     </font><font color="#FF0000"><b>while not </b></font>eof<font color="#000080">(</font>infile<font color="#000080">) </font><font color="#FF0000"><b>do
       begin
         </b></font>writeln<font color="#000080">(</font>outfile<font color="#000080">, </font>upstr<font color="#000080">(</font>inputstring<font color="#000080">));
         </font>readln<font color="#000080">(</font>infile<font color="#000080">, </font>inputstring<font color="#000080">);
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
     </font>writeln<font color="#000080">(</font>outfile<font color="#000080">, </font>upstr<font color="#000080">(</font>inputstring<font color="#000080">));
     </font>close<font color="#000080">(</font>infile<font color="#000080">);
     </font>close<font color="#000080">(</font>outfile<font color="#000080">);
   </font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>Remember <font color="#FF0000"><b>to </b></font>play <font color="#FF0000"><b>with </b></font>the logic <font color="#FF0000"><b>in </b></font>accessing text files<font color="#000080">.  </font><font color="#FF0000"><b>And in </b></font>reading <font color="#FF0000"><b>and
</b></font>writing files<font color="#000080">, </font>BE SURE YOU USE FILES THAT YOU CAN STAND <font color="#FF0000"><b>TO </b></font>LOSE <font color="#FF0000"><b>IF </b></font>YOU ARE
<font color="#FF0000"><b>NOT </b></font>COMPLETELY COMFORTABLE <font color="#FF0000"><b>WITH </b></font>PROGRAMMING <font color="#FF0000"><b>FOR FILE </b></font>ACCESS<font color="#000080">.  </font><font color="#FF0000"><b>IF </b></font>A <font color="#FF0000"><b>FILE
</b></font>BY A NAME YOU USE <font color="#FF0000"><b>FOR </b></font>A <font color="#FF0000"><b>PROGRAM </b></font>ALREADY EXISTS <font color="#FF0000"><b>ON </b></font>THE DRIVE<font color="#000080">, </font><font color="#FF0000"><b>AND </b></font>YOU REWRITE
IT<font color="#000080">, </font>IT WILL BE COMPLETELY LOST<font color="#000080">!  </font>THIS MEANS ANY UNDELETE <font color="#FF0000"><b>PROGRAM </b></font>WILL <font color="#000080">*</font><font color="#FF0000"><b>NOT</b></font><font color="#000080">*
</font>BE ABLE <font color="#FF0000"><b>TO </b></font>RECOVER THE <font color="#FF0000"><b>FILE</b></font><font color="#000080">!!!!!!!!!!!   </font>I will cover <font color="#FF0000"><b>in </b></font>a later part
how <font color="#FF0000"><b>to </b></font>find <font color="#FF0000"><b>out </b></font>whether files exist <font color="#FF0000"><b>on </b></font>the drive <font color="#FF0000"><b>as </b></font>well <font color="#FF0000"><b>as </b></font>other commands
<font color="#FF0000"><b>and </b></font>functions used <font color="#FF0000"><b>in Pascal to </b></font>perform DOS<font color="#000080">-</font>like functions <font color="#000080">(</font>delete files<font color="#000080">,
</font>make directories<font color="#000080">, </font>remove directories<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>so forth<font color="#000080">).

</font>Printer Output
<font color="#000080">==============
        </font>The printer can basically be treated <font color="#FF0000"><b>as </b></font>a write<font color="#000080">-</font>only <font color="#FF0000"><b>file </b></font><font color="#000080">(</font>you only
rewrite it<font color="#000080">, </font><font color="#FF0000"><b>not </b></font>reset it<font color="#000080">).  </font><font color="#FF0000"><b>To </b></font>use the printer<font color="#000080">?  </font>Use the <font color="#FF0000"><b>unit </b></font>printer<font color="#000080">, </font>like
you did the <font color="#FF0000"><b>unit </b></font>crt <font color="#FF0000"><b>or </b></font>wincrt before <font color="#FF0000"><b>then </b></font>write <font color="#FF0000"><b>to </b></font>a text <font color="#FF0000"><b>file </b></font>variable
named lst<font color="#000080">....</font>Printer defines everything you need <font color="#FF0000"><b>to </b></font>write <font color="#FF0000"><b>to </b></font>the printer<font color="#000080">.
</font>Printer assumes LPT1<font color="#000080">, </font>so <font color="#FF0000"><b>if </b></font>your printer <font color="#FF0000"><b>is on </b></font>something <font color="#FF0000"><b>else</b></font><font color="#000080">, </font>you can
define the text <font color="#FF0000"><b>file </b></font>variable <font color="#FF0000"><b>to </b></font>be the port address <font color="#FF0000"><b>for </b></font>the printer<font color="#000080">....

</font><font color="#FF0000"><b>program </b></font>tutorial17<font color="#000080">; </font><font color="#FF0000"><b>uses </b></font>printer<font color="#000080">;
  </font><font color="#FF0000"><b>var
    </b></font>str<font color="#000080">: </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
    </font>infile<font color="#000080">: </font>text<font color="#000080">;
  </font><font color="#FF0000"><b>begin
    </b></font>assign<font color="#000080">(</font>infile<font color="#000080">, </font><font color="#800000">'PRINTME.TXT'</font><font color="#000080">);
    </font>reset<font color="#000080">(</font>infile<font color="#000080">);
    </font>readln<font color="#000080">(</font>infile<font color="#000080">, </font>str<font color="#000080">);
    </font><font color="#FF0000"><b>while not </b></font>eof<font color="#000080">(</font>infile<font color="#000080">) </font><font color="#FF0000"><b>do
      begin
        </b></font>writeln<font color="#000080">(</font>lst<font color="#000080">, </font>str<font color="#000080">);
        </font>readln<font color="#000080">(</font>infile<font color="#000080">, </font>str<font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>writeln<font color="#000080">(</font>lst<font color="#000080">, </font>str<font color="#000080">);
    </font>writeln<font color="#000080">(</font><font color="#800000">'File sent to printer on LPT1..'</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">.


</font>Practice Programming Problem Notes
<font color="#000080">==================================
        </font>Probably ALL programs I pose <font color="#FF0000"><b>on </b></font>these <font color="#FF0000"><b>in </b></font>the future will involve
at least ONE data <font color="#FF0000"><b>file </b></font>off <font color="#FF0000"><b>of </b></font>disk<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>it <font color="#FF0000"><b>is </b></font>a binary one that I have
created <font color="#FF0000"><b>for </b></font>express purpose <font color="#FF0000"><b>of </b></font>these problems<font color="#000080">, </font>I will be attaching it <font color="#FF0000"><b>to
</b></font>the tutorial <font color="#FF0000"><b>message as </b></font>a binary <font color="#FF0000"><b>file </b></font>attachment<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>its a text <font color="#FF0000"><b>file</b></font><font color="#000080">,
</font>I will probably ask you <font color="#FF0000"><b>to </b></font>create it<font color="#000080">, </font>giving you the format<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>you have
been doing source code<font color="#000080">, </font>you should be able <font color="#FF0000"><b>to </b></font>use a text <font color="#FF0000"><b>file </b></font>editor<font color="#000080">.

</font>Practice Programming Problem <font color="#800000">#5
</font><font color="#000080">===============================
        </font>Write a <font color="#FF0000"><b>program in Pascal and </b></font>entirely <font color="#FF0000"><b>Pascal </b></font>which will conduct
a worker<font color="#000080">-</font>pay recording<font color="#000080">.  </font>Be sure the <font color="#FF0000"><b>program is </b></font>modular <font color="#FF0000"><b>and uses </b></font>functions
<font color="#FF0000"><b>and </b></font>procedures <font color="#FF0000"><b>to </b></font>the best benefit<font color="#000080">, </font><font color="#FF0000"><b>as </b></font>well <font color="#FF0000"><b>as </b></font>efficiently coded <font color="#000080">(</font>be sure
you are using format codes<font color="#000080">!).  </font>We will be reading worker names <font color="#FF0000"><b>and </b></font>data
from a <font color="#FF0000"><b>file in </b></font>the current directory <font color="#FF0000"><b>with </b></font>the <font color="#FF0000"><b>program </b></font>named WORKER<font color="#000080">.</font>TXT<font color="#000080">.
</font>Format <font color="#FF0000"><b>of </b></font>input <font color="#FF0000"><b>and </b></font>output files will be covered later<font color="#000080">.  </font>What we will be
doing <font color="#FF0000"><b>is </b></font>figuring <font color="#FF0000"><b>out </b></font>how much <font color="#FF0000"><b>to </b></font>pay each <font color="#FF0000"><b>of </b></font>these employees <font color="#FF0000"><b>in </b></font>our data
<font color="#FF0000"><b>file</b></font><font color="#000080">.  </font>Points <font color="#FF0000"><b>to </b></font>keep <font color="#FF0000"><b>in </b></font>mind<font color="#000080">:

   </font><font color="#800000">1</font><font color="#000080">) </font>Gross pay <font color="#FF0000"><b>is </b></font>hourly rate <font color="#000080">* </font>hours<font color="#000080">-</font>worked <font color="#FF0000"><b>for </b></font>hours worked below <font color="#800000">40.
   2</font><font color="#000080">) </font><font color="#800000">40 </font>hours <font color="#FF0000"><b>of </b></font>time <font color="#FF0000"><b>is </b></font>full<font color="#000080">-</font>time pay<font color="#000080">, </font>beyond <font color="#800000">40 </font>hours <font color="#FF0000"><b>is </b></font>time <font color="#FF0000"><b>and </b></font>a half<font color="#000080">.
      </font>Therefore<font color="#000080">, </font>we must pay them <font color="#800000">1</font><font color="#000080">/</font><font color="#800000">2 </font>more than we normally would at the
      hourly computed rate <font color="#FF0000"><b>for </b></font>any hours above <font color="#800000">40 </font>from point <font color="#800000">1.
   3</font><font color="#000080">) </font>Income Taxes are <font color="#800000">15</font><font color="#000080">% </font><font color="#FF0000"><b>of </b></font>computed gross pay <font color="#000080">(</font>before taxes<font color="#000080">, </font>etc<font color="#000080">).
   </font><font color="#800000">4</font><font color="#000080">) </font>We must indicate all <font color="#FF0000"><b>of </b></font>these deductions by computations <font color="#FF0000"><b>in </b></font>the output<font color="#000080">.
   </font><font color="#800000">5</font><font color="#000080">) </font>We may have <font color="#800000">1 </font>employee<font color="#000080">, </font>we may have <font color="#800000">10</font><font color="#000080">,</font><font color="#800000">000.  </font>We need <font color="#FF0000"><b>to </b></font>give the
      user some indication <font color="#FF0000"><b>as to </b></font>what we are doing <font color="#000080">(</font>all we will see <font color="#FF0000"><b>is
      </b></font>a blank prompt otherwise<font color="#000080">.) </font>so they won<font color="#800000">'t think our program has hung
      </font><font color="#FF0000"><b>or </b></font>crashed<font color="#000080">.  </font>Write a <font color="#FF0000"><b>message </b></font>such <font color="#FF0000"><b>as </b></font><font color="#000080">&quot;</font>Processing <font color="#000080">&lt;</font>employee name<font color="#000080">&gt;&quot; </font><font color="#FF0000"><b>to
      </b></font>the screen <font color="#FF0000"><b>for </b></font>each employee<font color="#000080">.

</font>Write a report <font color="#FF0000"><b>of </b></font>what our deductions are from each person<font color="#800000">'s salary, and
</font>what we are paying each employee <font color="#FF0000"><b>to </b></font>a <font color="#FF0000"><b>file </b></font>named PAYOUT<font color="#000080">.</font>TXT<font color="#000080">.

</font>Format <font color="#FF0000"><b>of </b></font>WORKER<font color="#000080">.</font>TXT <font color="#000080">(</font>I recommend you <font color="#FF0000"><b>type </b></font>this <font color="#FF0000"><b>in </b></font><font color="#000080">*</font>EXACTLY<font color="#000080">* </font><font color="#FF0000"><b>and </b></font>use it<font color="#000080">)
--------------------
</font>Glenn Grotzinger    <font color="#800000">44.25  7.34
</font>Joe Schmoe          <font color="#800000">65.32  4.35
</font>Jim Nabors          <font color="#800000">40.00  10.01
</font>Sheila Roberts      <font color="#800000">32.12  6.25
</font>Kathy York          <font color="#800000">23.21  11.10
</font><font color="#000080">--------------------

(</font>the area between all the <font color="#000080">--- </font><font color="#FF0000"><b>is </b></font>the WORKER<font color="#000080">.</font>TXT <font color="#FF0000"><b>to </b></font>use<font color="#000080">.... -- </font>another note<font color="#000080">:
</font>be sure there aren<font color="#800000">'t any blank lines at the bottom of the file -- those
</font>cause problems<font color="#000080">...)
</font>First thing <font color="#FF0000"><b>on </b></font>each line <font color="#FF0000"><b>is </b></font>employee name <font color="#000080">(</font>max <font color="#FF0000"><b>of </b></font><font color="#800000">20 </font>chars<font color="#000080">).
</font>Second thing <font color="#FF0000"><b>is </b></font>total hours worked<font color="#000080">.
</font>Third thing <font color="#FF0000"><b>is </b></font>pay rate<font color="#000080">.

</font>Format <font color="#FF0000"><b>of </b></font>PAYOUT<font color="#000080">.</font>TXT
<font color="#000080">--------------------
                      </font>The International Widget<font color="#000080">, </font>Inc<font color="#000080">.
                       </font>PayOut <font color="#FF0000"><b>And </b></font>Deductions Sheet

Employee              Hours  Rate  GrossPay  Overtime  IncomeTax  NetPay
<font color="#000080">========================================================================
</font>Glenn Grotzinger      <font color="#800000">34.25  7.34   345.23     32.34     15.34    305.23
</font><font color="#000080">...


--------------------
(</font>The numbers should be correct<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>the <font color="#FF0000"><b>file </b></font>should appear sort <font color="#FF0000"><b>of </b></font>like
this<font color="#000080">, </font>but <font color="#FF0000"><b>with </b></font>more entries <font color="#000080">(</font>equivalent <font color="#FF0000"><b>to </b></font>the number <font color="#FF0000"><b>of </b></font>entries <font color="#FF0000"><b>in </b></font>the
WORKER<font color="#000080">.</font>TXT <font color="#FF0000"><b>file</b></font><font color="#000080">.  </font>This <font color="#FF0000"><b>is </b></font>only a sample illustration<font color="#000080">.)

</font>Note<font color="#000080">:  </font><font color="#FF0000"><b>In </b></font>any <font color="#FF0000"><b>program</b></font><font color="#000080">, </font>you should always make accounts <font color="#FF0000"><b>for </b></font>changes <font color="#FF0000"><b>in </b></font>the
number <font color="#FF0000"><b>of </b></font>lines <font color="#FF0000"><b>of </b></font>text <font color="#FF0000"><b>in </b></font>an input <font color="#FF0000"><b>file</b></font><font color="#000080">.  </font>Use EOF<font color="#000080">.  </font><font color="#FF0000"><b>Do not </b></font>use a
defined <font color="#FF0000"><b>set </b></font>loop<font color="#000080">.  </font>Also<font color="#000080">, </font><font color="#FF0000"><b>as </b></font>a tip<font color="#000080">, </font><font color="#FF0000"><b>to </b></font>get the output the way you want it
<font color="#FF0000"><b>to </b></font>look<font color="#000080">, </font>it doesn<font color="#800000">'t hurt to type it out as a sample, so you know how to
</font>space it when you go into the programming part <font color="#FF0000"><b>of </b></font>it<font color="#000080">.

</font>Next Time
<font color="#000080">=========
</font>We will discuss arrays <font color="#FF0000"><b>and </b></font>their usage<font color="#000080">.  </font><font color="#FF0000"><b>If </b></font>there <font color="#FF0000"><b>is </b></font>a difficulty <font color="#FF0000"><b>in </b></font>inter<font color="#000080">-
</font>preting data files <font color="#FF0000"><b>for </b></font>text files<font color="#000080">, </font>tell me<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>I will probably attach them
<font color="#FF0000"><b>as </b></font>binaries <font color="#FF0000"><b>in </b></font>the future<font color="#000080">.  </font>Please send all comments<font color="#000080">, </font>inquiries<font color="#000080">, </font>etc<font color="#000080">, </font>etc
<font color="#FF0000"><b>to </b></font>ggrotz<font color="#000080">@</font><font color="#800000">2</font>sprint<font color="#000080">.</font>net<font color="#000080">.  </font>P<font color="#000080">.</font>S<font color="#000080">.  </font>Sorry this one ain<font color="#800000">'t too fun...Couldn'</font>t think
<font color="#FF0000"><b>of </b></font>anything better <font color="#FF0000"><b>to </b></font>get you the practice <font color="#FF0000"><b>in </b></font>using text files<font color="#000080">...
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TUTOR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0008.PAS">Original</a><b>]</b></p></body>
</html>
