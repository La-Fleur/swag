<html>
<head><title> "Searching an array" by GLENN GROTZINGER</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to TUTOR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#000000">                       Turbo <font color="#FF0000"><b>Pascal for </b></font>DOS Tutorial
                            by Glenn Grotzinger
                      Part <font color="#800000">16</font><font color="#000080">: </font>Searching an <font color="#FF0000"><b>Array
                </b></font>copyright<font color="#000080">(</font>c<font color="#000080">) </font><font color="#800000">1995</font><font color="#000080">-</font><font color="#800000">96 </font>by Glenn Grotzinger

There was no defined problem <font color="#FF0000"><b>in </b></font>part <font color="#800000">15</font><font color="#000080">, </font>so we will start<font color="#000080">.

</font>Sequential <font color="#FF0000"><b>Array </b></font>Search
<font color="#000080">=======================
</font>This method <font color="#FF0000"><b>for </b></font>searching arrays <font color="#FF0000"><b>for </b></font>items <font color="#FF0000"><b>is </b></font>much like the bubblesort
<font color="#FF0000"><b>is for </b></font>sorting arrays<font color="#000080">.  </font>It works well <font color="#FF0000"><b>for </b></font>small arrays<font color="#000080">, </font>but <font color="#FF0000"><b>for </b></font>larger
arrays<font color="#000080">, </font>it <font color="#FF0000"><b>is </b></font>very inefficient<font color="#000080">, </font><font color="#FF0000"><b>if </b></font>we are merely interested <font color="#FF0000"><b>in </b></font>the
existence <font color="#FF0000"><b>of </b></font>an item <font color="#FF0000"><b>in </b></font>the <font color="#FF0000"><b>array</b></font><font color="#000080">.  </font>Basically<font color="#000080">, </font>it<font color="#800000">'s a very simple
</font>proposition <font color="#FF0000"><b>to set </b></font>up a sequential <font color="#FF0000"><b>array </b></font>search<font color="#000080">.

</font><font color="#FF0000"><b>program </b></font>example_of_sequential_search<font color="#000080">;

  </font><font color="#FF0000"><b>var
    </b></font>a<font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">15</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>integer<font color="#000080">;
    </font>i<font color="#000080">, </font>number<font color="#000080">: </font>integer<font color="#000080">;
    </font>found<font color="#000080">: </font>boolean<font color="#000080">;

  </font><font color="#FF0000"><b>begin
    </b></font>randomize<font color="#000080">;
    </font>found <font color="#000080">:= </font>false<font color="#000080">;

    </font>write<font color="#000080">(</font><font color="#800000">'The array is: '</font><font color="#000080">);
    </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">15 </font><font color="#FF0000"><b>do
      begin
        </b></font>a<font color="#000080">[</font>i<font color="#000080">] := </font>random<font color="#000080">(</font><font color="#800000">10</font><font color="#000080">) + </font><font color="#800000">1</font><font color="#000080">;
        </font>write<font color="#000080">(</font>a<font color="#000080">[</font>i<font color="#000080">], </font><font color="#800000">' '</font><font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>writeln<font color="#000080">;

    </font>writeln<font color="#000080">(</font><font color="#800000">'Enter a number, and we shall see if it is in the array'</font><font color="#000080">);
    </font>readln<font color="#000080">(</font>number<font color="#000080">);

    </font>i <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;
    </font><font color="#FF0000"><b>while </b></font>i <font color="#000080">&lt;= </font><font color="#800000">15 </font><font color="#FF0000"><b>do
      begin
        if </b></font>a<font color="#000080">[</font>i<font color="#000080">] = </font>number <font color="#FF0000"><b>then
          begin
            </b></font>writeln<font color="#000080">(</font>number<font color="#000080">, </font><font color="#800000">' was found at position '</font><font color="#000080">, </font>i<font color="#000080">);
            </font><font color="#008000"><i>{ i := 15; can be done to break the loop on the first
              encounter of the one if we are interested in just
              whether the number exists in the array }
            </i></font>found <font color="#000080">:= </font>true<font color="#000080">;
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font>inc<font color="#000080">(</font>i<font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>if not </b></font>found <font color="#FF0000"><b>then
      </b></font>writeln<font color="#000080">(</font>number<font color="#000080">, </font><font color="#800000">' was not found in the array.'</font><font color="#000080">);
  </font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>Binary Search
<font color="#000080">=============
</font>The other <font color="#FF0000"><b>type of </b></font>algorithm we will discuss <font color="#FF0000"><b>is </b></font>the binary search<font color="#000080">.  </font>It <font color="#FF0000"><b>is
to </b></font>searching an <font color="#FF0000"><b>array </b></font>what the quicksort <font color="#FF0000"><b>is to </b></font>sorting an <font color="#FF0000"><b>array</b></font><font color="#000080">.  </font>Basically<font color="#000080">,
</font>what it will <font color="#FF0000"><b>do is </b></font>keep halfing the <font color="#FF0000"><b>array</b></font><font color="#000080">...

</font>This method <font color="#FF0000"><b>of array </b></font>search has a prerequisite <font color="#FF0000"><b>of </b></font>having the data sorted<font color="#000080">.
</font>Basically<font color="#000080">, </font>we probably would want <font color="#FF0000"><b>to </b></font>sort data anyway <font color="#FF0000"><b>to </b></font>make it <font color="#FF0000"><b>in
</b></font>a readily presentable format <font color="#FF0000"><b>for </b></font>the user<font color="#000080">, </font>so this doesn<font color="#800000">'t necessarily
</font>matter  <font color="#000080">(</font>searches <font color="#FF0000"><b>and </b></font>sorts are products <font color="#FF0000"><b>of </b></font>data processing programs
normally<font color="#000080">, </font>anyway<font color="#000080">).

</font><font color="#FF0000"><b>program </b></font>example_of_binary_search<font color="#000080">;

  </font><font color="#FF0000"><b>const
    </b></font>first <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;
    </font>last <font color="#000080">= </font><font color="#800000">15</font><font color="#000080">;
  </font><font color="#FF0000"><b>var
    </b></font>a<font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font>first<font color="#000080">..</font>last<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>integer<font color="#000080">;
    </font>i<font color="#000080">, </font>number<font color="#000080">: </font>integer<font color="#000080">;
    </font>found<font color="#000080">: </font>boolean<font color="#000080">;
    </font>location<font color="#000080">: </font>integer<font color="#000080">;

  </font><font color="#FF0000"><b>procedure </b></font>bsearch<font color="#000080">(</font><font color="#FF0000"><b>var </b></font>number<font color="#000080">, </font>location<font color="#000080">: </font>integer<font color="#000080">;
                      </font>lowend<font color="#000080">, </font>highend<font color="#000080">: </font>integer<font color="#000080">; </font><font color="#FF0000"><b>var </b></font>found<font color="#000080">: </font>boolean<font color="#000080">);
    </font><font color="#FF0000"><b>var
      </b></font>midpoint<font color="#000080">: </font>integer<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      if </b></font>lowend <font color="#000080">&gt; </font>highend <font color="#FF0000"><b>then
        </b></font>found <font color="#000080">:= </font>false
      <font color="#FF0000"><b>else
        begin
          </b></font>midpoint <font color="#000080">:= (</font>lowend <font color="#000080">+ </font>highend<font color="#000080">) </font><font color="#FF0000"><b>div </b></font><font color="#800000">2</font><font color="#000080">;
          </font><font color="#FF0000"><b>if </b></font>number <font color="#000080">= </font>a<font color="#000080">[</font>midpoint<font color="#000080">] </font><font color="#FF0000"><b>then
            begin
              </b></font>found <font color="#000080">:= </font>true<font color="#000080">;
              </font>location <font color="#000080">:= </font>midpoint<font color="#000080">;
            </font><font color="#FF0000"><b>end
          else if </b></font>number <font color="#000080">&lt; </font>a<font color="#000080">[</font>midpoint<font color="#000080">] </font><font color="#FF0000"><b>then
            </b></font>bsearch<font color="#000080">(</font>number<font color="#000080">, </font>location<font color="#000080">, </font>lowend<font color="#000080">, </font>midpoint<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">, </font>found<font color="#000080">)
          </font><font color="#FF0000"><b>else if </b></font>number <font color="#000080">&gt; </font>a<font color="#000080">[</font>midpoint<font color="#000080">] </font><font color="#FF0000"><b>then
            </b></font>bsearch<font color="#000080">(</font>number<font color="#000080">, </font>location<font color="#000080">, </font>midpoint<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">, </font>highend<font color="#000080">, </font>found<font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

  </font><font color="#FF0000"><b>begin
    </b></font>randomize<font color="#000080">;
    </font>found <font color="#000080">:= </font>false<font color="#000080">;

    </font>write<font color="#000080">(</font><font color="#800000">'The array is: '</font><font color="#000080">);
    </font><font color="#FF0000"><b>for </b></font>i <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#800000">15 </font><font color="#FF0000"><b>do
      begin
        </b></font><font color="#008000"><i>{ to insure we have sorted data }
        </i></font>a<font color="#000080">[</font>i<font color="#000080">] := </font><font color="#800000">3</font><font color="#000080">*</font>i<font color="#000080">;
        </font>write<font color="#000080">(</font>a<font color="#000080">[</font>i<font color="#000080">], </font><font color="#800000">' '</font><font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font>writeln<font color="#000080">;

    </font>writeln<font color="#000080">(</font><font color="#800000">'Enter a number, and we shall see if it is in the array'</font><font color="#000080">);
    </font>readln<font color="#000080">(</font>number<font color="#000080">);

    </font>bsearch<font color="#000080">(</font>number<font color="#000080">, </font>location<font color="#000080">, </font>first<font color="#000080">, </font>last<font color="#000080">, </font>found<font color="#000080">);

    </font><font color="#FF0000"><b>if </b></font>found <font color="#FF0000"><b>then
      </b></font>writeln<font color="#000080">(</font>number<font color="#000080">, </font><font color="#800000">' was found at position '</font><font color="#000080">, </font>location<font color="#000080">)
    </font><font color="#FF0000"><b>else
      </b></font>writeln<font color="#000080">(</font>number<font color="#000080">, </font><font color="#800000">' was not found. '</font><font color="#000080">);

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font><font color="#FF0000"><b>As </b></font>you may be able <font color="#FF0000"><b>to </b></font>pick <font color="#FF0000"><b>out of </b></font>this<font color="#000080">, </font>it <font color="#FF0000"><b>is </b></font>possible <font color="#FF0000"><b>to </b></font>write an iterative
version <font color="#FF0000"><b>of </b></font>the bsearch <font color="#FF0000"><b>procedure</b></font><font color="#000080">.  </font><font color="#FF0000"><b>With </b></font>sorting the <font color="#FF0000"><b>array</b></font><font color="#000080">, </font>though<font color="#000080">, </font>this one
<font color="#FF0000"><b>is </b></font>a little better than simply going through the <font color="#FF0000"><b>array </b></font>one by one<font color="#000080">, </font>but it
still has it<font color="#800000">'s drawback of having to actually sort the information.

</font>Another method available <font color="#FF0000"><b>for </b></font>use<font color="#000080">, </font>which we will <font color="#FF0000"><b>not </b></font>discuss here <font color="#FF0000"><b>is </b></font>called
hashing<font color="#000080">, </font>which <font color="#FF0000"><b>is </b></font>a very complex matter<font color="#000080">.

</font>What should you use<font color="#000080">?  </font>The serial search I described originally could be
very good<font color="#000080">, </font><font color="#FF0000"><b>for </b></font>a limited number <font color="#FF0000"><b>of </b></font>searches <font color="#FF0000"><b>on </b></font>a small <font color="#FF0000"><b>array </b></font>size<font color="#000080">.

</font><font color="#FF0000"><b>If </b></font>it<font color="#800000">'s not good to do the serial search, and you needed to sort the data
</font>anyway<font color="#000080">, </font>the binary search <font color="#FF0000"><b>is </b></font>best<font color="#000080">.

</font>Another method you may see <font color="#FF0000"><b>as </b></font>possible <font color="#FF0000"><b>to </b></font>use will be covered later<font color="#000080">, </font>called
the binary search tree<font color="#000080">.  </font>The cost <font color="#FF0000"><b>in </b></font>that approach will be basically building
the tree initially<font color="#000080">, </font><font color="#FF0000"><b>then </b></font>traversing it<font color="#000080">.  </font>The tree <font color="#FF0000"><b>is </b></font>built based <font color="#FF0000"><b>on </b></font>specific
rules<font color="#000080">, </font>which we can exploit <font color="#FF0000"><b>to </b></font>cause a search<font color="#000080">.

</font>Practice Programming Problem <font color="#800000">#16
</font><font color="#000080">================================
</font>Randomly generate <font color="#800000">1000 </font>numbers from <font color="#800000">1</font><font color="#000080">-</font><font color="#800000">10000 </font>into an <font color="#FF0000"><b>array</b></font><font color="#000080">.
</font><font color="#FF0000"><b>Then </b></font>generate another <font color="#800000">500 </font>numbers from <font color="#800000">1</font><font color="#000080">-</font><font color="#800000">10000.
</font><font color="#FF0000"><b>If </b></font>there <font color="#FF0000"><b>is </b></font>a number from the second <font color="#FF0000"><b>set of </b></font>numbers that happens
<font color="#FF0000"><b>to </b></font>be <font color="#FF0000"><b>in </b></font>the first <font color="#FF0000"><b>set of </b></font>numbers<font color="#000080">, </font>write <font color="#FF0000"><b>out to </b></font>the <font color="#FF0000"><b>file </b></font>named
LOCATION<font color="#000080">.</font>TXT something such <font color="#FF0000"><b>as</b></font><font color="#000080">:

</font><font color="#800000">5322 </font>was found <font color="#FF0000"><b>in </b></font>position <font color="#800000">532.

</font>Only indicate the first instance <font color="#FF0000"><b>of </b></font>the number you encounter<font color="#000080">.

</font>Next Time
<font color="#000080">=========
</font>We will cover some basic concepts <font color="#FF0000"><b>of </b></font>the use <font color="#FF0000"><b>of </b></font>pointers<font color="#000080">.  </font>Please
write any comments you have <font color="#FF0000"><b>to </b></font>ggrotz<font color="#000080">@</font><font color="#800000">2</font>sprint<font color="#000080">.</font>net<font color="#000080">.  </font><font color="#FF0000"><b>As </b></font>I look at
my formatted version<font color="#000080">, </font>so <font color="#FF0000"><b>far </b></font>there has been <font color="#800000">116 </font>pages written <font color="#FF0000"><b>of
</b></font>this tutorial<font color="#000080">, </font>from part <font color="#800000">1</font><font color="#000080">, </font><font color="#FF0000"><b>not </b></font>counting this one<font color="#000080">.  </font><font color="#FF0000"><b>As </b></font>I look through
my line count figures<font color="#000080">, </font>this one <font color="#FF0000"><b>is </b></font>the smallest<font color="#000080">. (</font>interesting facts<font color="#000080">,
</font>huh<font color="#000080">?)

</font>I will ask <font color="#FF0000"><b>for </b></font>feedback <font color="#FF0000"><b>on </b></font>how I <font color="#FF0000"><b>do with </b></font>regards <font color="#FF0000"><b>to </b></font>any <font color="#FF0000"><b>of </b></font>the pointer
related texts coming up<font color="#000080">.  </font>Please <font color="#FF0000"><b>do </b></font>that<font color="#000080">.  </font>Thank you<font color="#000080">.






</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to TUTOR SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0019.PAS">Original</a><b>]</b></p></body>
</html>
