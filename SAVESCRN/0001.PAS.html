<html>
<head><title> "SAVE1.PAS" by SWAG SUPPORT TEAM</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SAVESCRN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ ----------------------------------- 1 -------------------------------- }
{
&gt; Does anyone know of an easy way to remember the current screen and
&gt; then put back when a Program is finished?  What I mean is before the
&gt; Program clears the screen or Writes to it or whatever, to store the
&gt; current screen so that it can be restored to how it was before a Program
&gt; is run?

 Well you could try directly reading from memory and saving it into some kind
of buffer like this...
}

</i></font><font color="#FF0000"><b>Var </b></font>Buffer <font color="#000080">: </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">4000</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Save_Screen<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Move<font color="#000080">(</font>Mem<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">],</font>Buffer<font color="#000080">,</font><font color="#800000">4000</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>Restore_Screen<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Move<font color="#000080">(</font>Buffer<font color="#000080">,</font>Mem<font color="#000080">[</font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">],</font><font color="#800000">4000</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
You must save the screen in a 4K Array and then put it back when
the Program is done.
}



{ ----------------------------------- 2 -------------------------------- }
</i></font><font color="#FF0000"><b>Type
   </b></font>AScreen <font color="#000080">= </font><font color="#FF0000"><b>Array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">4000</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>Byte<font color="#000080">;
</font><font color="#FF0000"><b>Var
   </b></font>P <font color="#000080">: ^</font>AScreen<font color="#000080">;    </font><font color="#008000"><i>{Pointer to the Array}
   </i></font>Scr <font color="#000080">: </font>AScreen<font color="#000080">;

</font><font color="#FF0000"><b>Procedure </b></font>SaveScreen<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>P <font color="#000080">:= </font>Ptr<font color="#000080">(</font><font color="#800000">$B800</font><font color="#000080">,</font><font color="#800000">$0</font><font color="#000080">); </font><font color="#008000"><i>{Point to video memory}
  </i></font>Move<font color="#000080">(</font>P<font color="#000080">^,</font>Scr<font color="#000080">,</font><font color="#800000">4000</font><font color="#000080">);  </font><font color="#008000"><i>{Move the screen into the Array}
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;  </font><font color="#008000"><i>{Run this proc at the beginning of the Program}

</i></font><font color="#FF0000"><b>Procedure </b></font>RestoreScreen<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Move<font color="#000080">(</font>Scr<font color="#000080">,</font>MEm<font color="#000080">[</font><font color="#800000">$B800 </font><font color="#000080">: </font><font color="#800000">0</font><font color="#000080">], </font><font color="#800000">4000</font><font color="#000080">); </font><font color="#008000"><i>{Move the saved screen to video mem}
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{Call this at the end of your Program}

{
This should do the job of saving the original screen and then restoring it when
your Program is done
}
</i></font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SAVESCRN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0001.PAS">Original</a><b>]</b></p></body>
</html>
