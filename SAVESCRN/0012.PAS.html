<html>
<head><title> "Screen Save Object" by JUAN JOSE VERGARA</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SAVESCRN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{ - SCREEN.PAS -}
</i></font><font color="#FF0000"><b>unit </b></font>screen<font color="#000080">;
</font><font color="#FF0000"><b>Interface
uses </b></font>crt<font color="#000080">,</font>dos<font color="#000080">;
  </font><font color="#FF0000"><b>type
       </b></font>ScreenRec <font color="#000080">= </font><font color="#FF0000"><b>Record
         </b></font>Character<font color="#000080">:</font>Byte<font color="#000080">;
         </font>Attribute<font color="#000080">:</font>Byte<font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
       </font>SnapShot <font color="#000080">= </font><font color="#FF0000"><b>record
         </b></font>Screen<font color="#000080">:</font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">4000</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>ScreenRec<font color="#000080">;
         </font>StoreX<font color="#000080">:</font>byte<font color="#000080">;
         </font>StoreY<font color="#000080">:</font>byte<font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
       </font>ScreenStore<font color="#000080">=</font><font color="#FF0000"><b>object
         </b></font>Memory<font color="#000080">:</font>SnapShot<font color="#000080">;
         </font><font color="#FF0000"><b>constructor </b></font>Init<font color="#000080">(</font>InitX<font color="#000080">,</font>InitY<font color="#000080">,</font>InitChar<font color="#000080">,</font>InitColor<font color="#000080">:</font>byte<font color="#000080">);
         </font><font color="#FF0000"><b>procedure </b></font>storescreen<font color="#000080">;
         </font><font color="#FF0000"><b>procedure </b></font>restorescreen<font color="#000080">;
       </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
       </font>ScreenStorePointer <font color="#000080">= ^</font>ScreenStore<font color="#000080">;
</font><font color="#FF0000"><b>Implementation
  CONSTRUCTOR </b></font>ScreenStore<font color="#000080">.</font>Init<font color="#000080">(</font>InitX<font color="#000080">,</font>InitY<font color="#000080">,</font>InitChar<font color="#000080">,</font>InitColor<font color="#000080">:</font>byte<font color="#000080">);
    </font><font color="#008000"><i>{** Initializes to Cleared Screens **}
    </i></font><font color="#FF0000"><b>var
      </b></font>Count<font color="#000080">:</font>integer<font color="#000080">;
    </font><font color="#FF0000"><b>begin
      </b></font>Count<font color="#000080">:=</font><font color="#800000">1</font><font color="#000080">;
      </font><font color="#FF0000"><b>while </b></font>Count<font color="#000080">&lt;=</font><font color="#800000">4000 </font><font color="#FF0000"><b>do
        begin
          </b></font>FillChar<font color="#000080">(</font>Memory<font color="#000080">.</font>Screen<font color="#000080">[</font>Count<font color="#000080">].</font>Character<font color="#000080">,
            </font>SizeOf<font color="#000080">(</font>Memory<font color="#000080">.</font>Screen<font color="#000080">[</font>Count<font color="#000080">].</font>Character<font color="#000080">),</font>InitChar<font color="#000080">);
          </font>FillChar<font color="#000080">(</font>Memory<font color="#000080">.</font>Screen<font color="#000080">[</font>Count<font color="#000080">].</font>Attribute<font color="#000080">,
            </font>SizeOf<font color="#000080">(</font>Memory<font color="#000080">.</font>Screen<font color="#000080">[</font>Count<font color="#000080">].</font>Attribute<font color="#000080">),</font>InitColor<font color="#000080">);
          </font>inc<font color="#000080">(</font>Count<font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>Memory<font color="#000080">.</font>StoreX<font color="#000080">:=</font>InitX<font color="#000080">;
      </font>Memory<font color="#000080">.</font>StoreY<font color="#000080">:=</font>InitY<font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>PROCEDURE </b></font>ScreenStore<font color="#000080">.</font>StoreScreen<font color="#000080">;
    </font><font color="#FF0000"><b>var
      </b></font>MonoAddress<font color="#000080">:  </font>char <font color="#FF0000"><b>absolute </b></font><font color="#800000">$B000</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">;
      </font>ColorAddress<font color="#000080">: </font>char <font color="#FF0000"><b>absolute </b></font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">;
      </font><font color="#FF0000"><b>begin
        if </b></font>lastmode<font color="#000080">=</font>mono <font color="#FF0000"><b>then
          </b></font>move<font color="#000080">(</font>monoAddress<font color="#000080">,</font>Memory<font color="#000080">.</font>Screen<font color="#000080">,</font><font color="#800000">8000</font><font color="#000080">)
        </font><font color="#FF0000"><b>else
          </b></font>move<font color="#000080">(</font>colorAddress<font color="#000080">,</font>Memory<font color="#000080">.</font>Screen<font color="#000080">,</font><font color="#800000">8000</font><font color="#000080">);
        </font>Memory<font color="#000080">.</font>StoreX<font color="#000080">:=</font>WhereX<font color="#000080">;
        </font>Memory<font color="#000080">.</font>StoreY<font color="#000080">:=</font>WhereY<font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#008000"><i>{STORESCREEN}
  </i></font><font color="#FF0000"><b>PROCEDURE </b></font>ScreenStore<font color="#000080">.</font>RestoreScreen<font color="#000080">;
    </font><font color="#FF0000"><b>var
      </b></font>MonoAddress<font color="#000080">:  </font>char <font color="#FF0000"><b>absolute </b></font><font color="#800000">$B000</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">;
      </font>ColorAddress<font color="#000080">: </font>char <font color="#FF0000"><b>absolute </b></font><font color="#800000">$B800</font><font color="#000080">:</font><font color="#800000">0000</font><font color="#000080">;
      </font><font color="#FF0000"><b>begin
        if </b></font>lastmode<font color="#000080">=</font>mono <font color="#FF0000"><b>then
          </b></font>move<font color="#000080">(</font>Memory<font color="#000080">.</font>Screen<font color="#000080">,</font>monoAddress<font color="#000080">,</font><font color="#800000">8000</font><font color="#000080">)
        </font><font color="#FF0000"><b>else
          </b></font>move<font color="#000080">(</font>Memory<font color="#000080">.</font>Screen<font color="#000080">,</font>colorAddress<font color="#000080">,</font><font color="#800000">8000</font><font color="#000080">);
        </font>gotoxy<font color="#000080">(</font>Memory<font color="#000080">.</font>StoreX<font color="#000080">,</font>Memory<font color="#000080">.</font>StoreY<font color="#000080">);
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
  </font><font color="#FF0000"><b>begin
  end</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SAVESCRN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0012.PAS">Original</a><b>]</b></p></body>
</html>
