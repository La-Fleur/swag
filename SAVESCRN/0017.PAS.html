<html>
<head><title> "Screen Saving + Frames" by LUKASZ GRABUN</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to SAVESCRN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0017.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{
Hi All!

I've been reading SWAG sources concerning text windows and screen saving many
times. Text windows from SWAG library are quite good and fast. And, what is
much more important, they pushed the screen behind them to the stack - and
when they're disposed they pop it. Quite simple, isn't it?

Well, what if you'd like push the screen before you simply _write_ sth to
screen... There's no simple screen saving procedures :((

Since now - I've got something quite simple, fast and safe:
}

{***************************************************}
{    REWRITTEN FROM ENTER POLISH COMP. MAGAZINE     }
{            BY LUKASZ GRABUN - POLAND              }
{                FIDO: 2:480/49.22                  }
{***************************************************}

</i></font><font color="#FF0000"><b>unit </b></font>OScreen<font color="#000080">;

</font><font color="#FF0000"><b>interface

const </b></font>pom <font color="#000080">: </font>Pointer <font color="#000080">= </font><font color="#FF0000"><b>nil</b></font><font color="#000080">;

</font><font color="#FF0000"><b>type  </b></font>Scrtype <font color="#000080">= </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">1</font><font color="#000080">..</font><font color="#800000">11352</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>byte<font color="#000080">;
      </font>ScreenType <font color="#000080">= </font><font color="#FF0000"><b>record
                     </b></font>scr <font color="#000080">: </font>scrtype<font color="#000080">;
                     </font>prev <font color="#000080">: </font>pointer
                   <font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>var   </b></font>SS <font color="#000080">: </font>ScrType <font color="#FF0000"><b>absolute </b></font><font color="#800000">$b800</font><font color="#000080">:</font><font color="#800000">0</font><font color="#000080">;
      </font>Screen <font color="#000080">: ^</font>ScreenType<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>PopScreen<font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>PushScreen<font color="#000080">;

</font><font color="#FF0000"><b>implementation

procedure </b></font>PushScreen<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>new<font color="#000080">(</font>Screen<font color="#000080">);
  </font>Screen<font color="#000080">^.</font>Prev<font color="#000080">:=</font>Pom<font color="#000080">;
  </font>Pom<font color="#000080">:=</font>Screen<font color="#000080">;
  </font>Screen<font color="#000080">^.</font>Scr<font color="#000080">:=</font>SS
<font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>PopScreen<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>screen<font color="#000080">:=</font>pom<font color="#000080">;
  </font>pom<font color="#000080">:=</font>screen<font color="#000080">^.</font>prev<font color="#000080">;
  </font>SS<font color="#000080">:=</font>Screen<font color="#000080">^.</font>Scr<font color="#000080">;
  </font>dispose<font color="#000080">(</font>screen<font color="#000080">)
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.

</font>When you want save screen <font color="#000080">- </font>simply write PushScreen<font color="#000080">, </font><font color="#FF0000"><b>and </b></font>when you want <font color="#FF0000"><b>to
</b></font>restore it <font color="#000080">- </font>PopScreen<font color="#000080">. </font><font color="#FF0000"><b>And </b></font>just one thing<font color="#000080">: </font>number <font color="#FF0000"><b>of </b></font>used PushScreen
procedures _must be_ equal <font color="#FF0000"><b>to </b></font>number <font color="#FF0000"><b>of </b></font>used PopScreen procs<font color="#000080">. 
</font>Enjoy<font color="#000080">!!!
                                           </font>CU L8R<font color="#000080">! - </font>Wookasz

</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to SAVESCRN SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0017.PAS">Original</a><b>]</b></p></body>
</html>
