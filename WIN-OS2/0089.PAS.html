<html>
<head><title> "Windows Sockets Unit" by MARK TOWFIQ</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to WIN-OS2 SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0089.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#FF0000"><b>unit </b></font>WinSock<font color="#000080">;

</font><font color="#008000"><i>{$C FIXED PRELOAD DISCARDABLE}

(*
 * WINSOCK.H--definitions to be used with the WINSOCK.DLL
 *
 * This header file corresponds to version 1.1 of the Windows Sockets specification.
 *
 * This file includes parts which are Copyright (c) 1982-1986 Regents
 * of the University of California.  All rights reserved.  The
 * Berkeley Software License Agreement specifies the terms and
 * conditions for redistribution.
 *
 * Original WINSOCK.H Change log:
 *
 * Fri Apr 23 16:31:01 1993  Mark Towfiq  (towfiq@Microdyne.COM)
 *	New version from David Treadwell which adds extern &quot;C&quot; around
 *	__WSAFDIsSet() and removes &quot;const&quot; from buf param of
 *	WSAAsyncGetHostByAddr().  Added change log.
 *
 * Sat May 15 10:55:00 1993 David Treadwell (davidtr@microsoft.com)
 *	Fix the IN_CLASSC macro to account for class-D multicasts.
 *	Add AF_IPX == AF_NS.
 *
 * Tue Oct 19 13:05:02 1993  Mark Towfiq (Mark.Towfiq@Sun.COM)
 *	New version from David Treadwell which changes type of counter in
 *	fd_set to u_int instead of u_short, so that it is correctly
 *	promoted in Winsdows NT and other 32-bit environments.
 *
 * Translated to BP7 by:  Randy Bratton, CServe: 72355,1466
 *
 * NOTE:  I have tried to keep the declaration order in WINSOCK.PAS the
 *        same as that in WINSOCK.H.  Most of the comments from the original
 *        WINSOCK.H have been left intact in the Pascal version.
 *        My comments are labeled with RMB.
 *
 * NO WARRANTY EXPRESSED OR IMPLIED.
 *
 * WINSOCK.PAS Revision History
 *    Version         Date      By     Comments
 *      1.00        03/04/94    RMB    Initial revision.
 *      1.01        08/22/94    RMB    General cleanup before posting to
 *                                     CompuServe.
 *      1.02        09/29/94    RMB    Added h_addr function for THostEnt
 *                                     structure.
 *      1.03        03/10/96    RMB    Fixed bug (noted by P. Payzant) in
 *                                     TWSAData. Now corresponds to WINSOCK.H
 *                                     dated 10/19/93 (except where noted).
 *)

</i></font><font color="#FF0000"><b>interface

uses
  </b></font>WinTypes<font color="#000080">;

</font><font color="#FF0000"><b>type
</b></font><font color="#008000"><i>(*
 * Basic system type definitions, taken from the BSD file sys/types.h.
 *)
  </i></font>u_char  <font color="#000080">= </font>char<font color="#000080">;
  </font>u_short <font color="#000080">= </font>word<font color="#000080">;  </font><font color="#008000"><i>(* in Borland C++, int and short are both 16-bits RMB *)
  </i></font>u_int   <font color="#000080">= </font>word<font color="#000080">;
  </font>u_long  <font color="#000080">= </font>longint<font color="#000080">;

</font><font color="#008000"><i>(*
 * Other basic types needed for the C to Pascal translation.  RMB
 *)
  </i></font>PPChar <font color="#000080">= ^</font>PChar<font color="#000080">;  </font><font color="#008000"><i>(* used with char FAR * FAR * xxx   RMB *)

(*
 * The new type to be used in all
 * instances which refer to sockets.
 *
 * Must be renamed from SOCKET as there is a function called
 * socket().  RMB
 *)
  </i></font>PSocket <font color="#000080">= ^</font>TSocket<font color="#000080">;
  </font>TSocket <font color="#000080">= </font>u_int<font color="#000080">;

</font><font color="#008000"><i>(*
 * Select uses arrays of SOCKETs.  These macros manipulate such
 * arrays.  FD_SETSIZE may be defined by the user before including
 * this file, but the default here should be &gt;= 64.
 *
 * CAVEAT IMPLEMENTOR and USER: THESE MACROS AND TYPES MUST BE
 * INCLUDED IN WINSOCK.H EXACTLY AS SHOWN HERE.
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>FD_SETSIZE <font color="#000080">=</font><font color="#800000">64</font><font color="#000080">;

</font><font color="#FF0000"><b>type
  </b></font>PFd_Set <font color="#000080">= ^</font>TFd_Set<font color="#000080">;
  </font>TFd_Set <font color="#000080">= </font><font color="#FF0000"><b>record
    </b></font>fd_count <font color="#000080">: </font>u_int<font color="#000080">;                              </font><font color="#008000"><i>(* how many are SET? *) (* RMB 03/10/96 1.03 *)
                                                   (* 10/19/93 update to original WINSOCK.H *)
    </i></font>fd_array <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>FD_SETSIZE<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>TSocket<font color="#000080">;  </font><font color="#008000"><i>(* an array of SOCKETs *)
    </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function  </b></font>__WSAFDIsSet<font color="#000080">(</font>fd<font color="#000080">: </font>TSocket<font color="#000080">; </font>aset<font color="#000080">: </font>PFd_Set<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#008000"><i>(*
**  NB:  Have not done any work with socket arrays, therefore these
**  routines have not been tested.  RMB 08/22/94 1.01
*)
</i></font><font color="#FF0000"><b>procedure </b></font>Fd_Clr<font color="#000080">(</font>fd<font color="#000080">: </font>TSocket<font color="#000080">; </font>aset<font color="#000080">: </font>PFd_Set<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Fd_Set<font color="#000080">(</font>fd<font color="#000080">: </font>TSocket<font color="#000080">; </font>aset<font color="#000080">: </font>PFd_Set<font color="#000080">);
</font><font color="#FF0000"><b>procedure </b></font>Fd_Zero<font color="#000080">(</font>aset<font color="#000080">: </font>PFd_Set<font color="#000080">);
</font><font color="#FF0000"><b>function  </b></font>Fd_IsSet<font color="#000080">(</font>fd<font color="#000080">: </font>TSocket<font color="#000080">; </font>aset<font color="#000080">: </font>PFd_Set<font color="#000080">): </font>boolean<font color="#000080">;

</font><font color="#008000"><i>(*
 * Structure used in select() call, taken from the BSD file sys/time.h.
 *)
</i></font><font color="#FF0000"><b>type
  </b></font>PTimeval <font color="#000080">= ^</font>Timeval<font color="#000080">;
  </font>Timeval <font color="#000080">= </font><font color="#FF0000"><b>record
        </b></font>tv_sec<font color="#000080">: </font>longint<font color="#000080">;         </font><font color="#008000"><i>(* seconds *)
        </i></font>tv_usec<font color="#000080">: </font>longint<font color="#000080">;        </font><font color="#008000"><i>(* and microseconds *)
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#008000"><i>(*
 * Operations on timevals.
 *
 * NB: timercmp does not work for &gt;= or &lt;=.
 *)
(*
**  DEFINES (macros) for timerisset, timercmp, and timerclear
**  not implemented.  RMB
*)

(*
 * Commands for ioctlsocket(),  taken from the BSD file fcntl.h.
 *
 *
 * Ioctl's have the command encoded in the lower word,
 * and the size of any in or out parameters in the upper
 * word.  The high 2 bits of the upper word are used
 * to encode the in/out status of the parameter; for now
 * we restrict parameters to at most 128 bytes.
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>IOCPARM_MASK <font color="#000080">=   </font><font color="#800000">$07f</font><font color="#000080">;            </font><font color="#008000"><i>(* parameters must be &lt; 128 bytes *)
  </i></font>IOC_VOID     <font color="#000080">=   </font><font color="#800000">$20000000</font><font color="#000080">;       </font><font color="#008000"><i>(* no parameters *)
  </i></font>IOC_OUT      <font color="#000080">=   </font><font color="#800000">$040000000</font><font color="#000080">;      </font><font color="#008000"><i>(* copy out parameters *)
  </i></font>IOC_IN       <font color="#000080">=   </font><font color="#800000">$080000000</font><font color="#000080">;      </font><font color="#008000"><i>(* copy in parameters *)
  </i></font>IOC_INOUT    <font color="#000080">=   (</font>IOC_IN <font color="#FF0000"><b>or </b></font>IOC_OUT<font color="#000080">);
</font>																				<font color="#008000"><i>(* 0x20000000 distinguishes new &amp;
																					 old ioctl's *)
(*
**  DEFINES (macros) for _IO, _IOR, _IOW, FIONREAD, FIONBIO, FIOASYNC,
**    SIOCSHIWAT, SIOCGHIWAT, SIOCSLOWAT, SIOCGLOWAT, SIOCATMARK
**    not implemented.  RMB
*)

(*
 * Structures returned by network data base library, taken from the
 * BSD file netdb.h.  All addresses are supplied in host order, and
 * returned in network order (suitable for use in system calls).
 *)

</i></font><font color="#FF0000"><b>type
  </b></font>PHostEnt <font color="#000080">= ^</font>THostEnt<font color="#000080">;
  </font>THostEnt <font color="#000080">= </font><font color="#FF0000"><b>record
        </b></font>h_name <font color="#000080">: </font>PChar<font color="#000080">;           </font><font color="#008000"><i>(* official name of host *)
        </i></font>h_aliases<font color="#000080">: </font>PPChar<font color="#000080">;        </font><font color="#008000"><i>(* alias list *)
        </i></font>h_addrtype<font color="#000080">: </font>integer<font color="#000080">;      </font><font color="#008000"><i>(* host address type *)
        </i></font>h_length <font color="#000080">:  </font>integer<font color="#000080">;      </font><font color="#008000"><i>(* length of address *)
        </i></font>h_addr_list<font color="#000080">: </font>PPChar<font color="#000080">;      </font><font color="#008000"><i>(* list of addresses *)
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>{
  C #define h_addr h_addr_list[0] omitted as currently only needed for
  backward compatibility.  RMB 08/22/94 1.01
}
</i></font><font color="#FF0000"><b>function </b></font>h_addr<font color="#000080">(</font>aHostEnt<font color="#000080">: </font>THostEnt<font color="#000080">): </font>PChar<font color="#000080">;  </font><font color="#008000"><i>(* RMB 09/29/94 1.02 *)

(*
 * It is assumed here that a network number
 * fits in 32 bits.
 *)
</i></font><font color="#FF0000"><b>type
  </b></font>PNetEnt <font color="#000080">= ^</font>TNetEnt<font color="#000080">;
  </font>TNetEnt <font color="#000080">= </font><font color="#FF0000"><b>record
        </b></font>n_name <font color="#000080">: </font>PChar<font color="#000080">;           </font><font color="#008000"><i>(* official name of net *)
        </i></font>n_aliases <font color="#000080">: </font>PPChar<font color="#000080">;       </font><font color="#008000"><i>(* alias list *)
        </i></font>n_addrtype <font color="#000080">: </font>integer<font color="#000080">;     </font><font color="#008000"><i>(* net address type *)
        </i></font>n_net <font color="#000080">: </font>u_long<font color="#000080">;           </font><font color="#008000"><i>(* network $ *)
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>type
  </b></font>PServEnt <font color="#000080">= ^</font>TServEnt<font color="#000080">;
  </font>TServEnt <font color="#000080">= </font><font color="#FF0000"><b>record
        </b></font>s_name <font color="#000080">: </font>PChar<font color="#000080">;           </font><font color="#008000"><i>(* official service name *)
        </i></font>s_aliases <font color="#000080">: </font>PPChar<font color="#000080">;       </font><font color="#008000"><i>(* alias list *)
        </i></font>s_port <font color="#000080">: </font>integer<font color="#000080">;         </font><font color="#008000"><i>(* port $ *)
        </i></font>s_proto <font color="#000080">: </font>PChar<font color="#000080">;          </font><font color="#008000"><i>(* protocol to use *)
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>type
  </b></font>PProtoEnt <font color="#000080">= ^</font>TProtoEnt<font color="#000080">;
  </font>TProtoEnt <font color="#000080">= </font><font color="#FF0000"><b>record
        </b></font>p_name <font color="#000080">: </font>PChar<font color="#000080">;           </font><font color="#008000"><i>(* official protocol name *)
        </i></font>p_aliases <font color="#000080">: </font>PPChar<font color="#000080">;       </font><font color="#008000"><i>(* alias list *)
        </i></font>p_proto <font color="#000080">: </font>integer<font color="#000080">;        </font><font color="#008000"><i>(* protocol $ *)
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Constants and procedures defined by the internet system,
 * Per RFC 790, September 1981, taken from the BSD file netinet/in.h.
 *)

(*
 * Protocols
 *)
</i></font><font color="#FF0000"><b>const
   </b></font>IPPROTO_IP          <font color="#000080">=    </font><font color="#800000">0</font><font color="#000080">;               </font><font color="#008000"><i>(* dummy for IP *)
   </i></font>IPPROTO_ICMP        <font color="#000080">=    </font><font color="#800000">1</font><font color="#000080">;               </font><font color="#008000"><i>(* control message protocol *)
   </i></font>IPPROTO_GGP         <font color="#000080">=    </font><font color="#800000">2</font><font color="#000080">;               </font><font color="#008000"><i>(* gateway^2 (deprecated) *)
   </i></font>IPPROTO_TCP         <font color="#000080">=    </font><font color="#800000">6</font><font color="#000080">;               </font><font color="#008000"><i>(* tcp *)
   </i></font>IPPROTO_PUP         <font color="#000080">=    </font><font color="#800000">12</font><font color="#000080">;              </font><font color="#008000"><i>(* pup *)
   </i></font>IPPROTO_UDP         <font color="#000080">=    </font><font color="#800000">17</font><font color="#000080">;              </font><font color="#008000"><i>(* user datagram protocol *)
   </i></font>IPPROTO_IDP         <font color="#000080">=    </font><font color="#800000">22</font><font color="#000080">;              </font><font color="#008000"><i>(* xns idp *)
   </i></font>IPPROTO_ND          <font color="#000080">=    </font><font color="#800000">77</font><font color="#000080">;              </font><font color="#008000"><i>(* UNOFFICIAL net disk proto *)

   </i></font>IPPROTO_RAW         <font color="#000080">=    </font><font color="#800000">255</font><font color="#000080">;             </font><font color="#008000"><i>(* raw IP packet *)
   </i></font>IPPROTO_MAX         <font color="#000080">=    </font><font color="#800000">256</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Port/socket numbers: network standard functions
 *)
   </i></font>IPPORT_ECHO         <font color="#000080">=    </font><font color="#800000">7</font><font color="#000080">;
   </font>IPPORT_DISCARD      <font color="#000080">=    </font><font color="#800000">9</font><font color="#000080">;
   </font>IPPORT_SYSTAT       <font color="#000080">=    </font><font color="#800000">11</font><font color="#000080">;
   </font>IPPORT_DAYTIME      <font color="#000080">=    </font><font color="#800000">13</font><font color="#000080">;
   </font>IPPORT_NETSTAT      <font color="#000080">=    </font><font color="#800000">15</font><font color="#000080">;
   </font>IPPORT_FTP          <font color="#000080">=    </font><font color="#800000">21</font><font color="#000080">;
   </font>IPPORT_TELNET       <font color="#000080">=    </font><font color="#800000">23</font><font color="#000080">;
   </font>IPPORT_SMTP         <font color="#000080">=    </font><font color="#800000">25</font><font color="#000080">;
   </font>IPPORT_TIMESERVER   <font color="#000080">=    </font><font color="#800000">37</font><font color="#000080">;
   </font>IPPORT_NAMESERVER   <font color="#000080">=    </font><font color="#800000">42</font><font color="#000080">;
   </font>IPPORT_WHOIS        <font color="#000080">=    </font><font color="#800000">43</font><font color="#000080">;
   </font>IPPORT_MTP          <font color="#000080">=    </font><font color="#800000">57</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Port/socket numbers: host specific functions
 *)
   </i></font>IPPORT_TFTP         <font color="#000080">=    </font><font color="#800000">69</font><font color="#000080">;
   </font>IPPORT_RJE          <font color="#000080">=    </font><font color="#800000">77</font><font color="#000080">;
   </font>IPPORT_FINGER       <font color="#000080">=    </font><font color="#800000">79</font><font color="#000080">;
   </font>IPPORT_TTYLINK      <font color="#000080">=    </font><font color="#800000">87</font><font color="#000080">;
   </font>IPPORT_SUPDUP       <font color="#000080">=    </font><font color="#800000">95</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * UNIX TCP sockets
 *)
   </i></font>IPPORT_EXECSERVER   <font color="#000080">=    </font><font color="#800000">512</font><font color="#000080">;
   </font>IPPORT_LOGINSERVER  <font color="#000080">=    </font><font color="#800000">513</font><font color="#000080">;
   </font>IPPORT_CMDSERVER    <font color="#000080">=    </font><font color="#800000">514</font><font color="#000080">;
   </font>IPPORT_EFSSERVER    <font color="#000080">=    </font><font color="#800000">520</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * UNIX UDP sockets
 *)
   </i></font>IPPORT_BIFFUDP      <font color="#000080">=    </font><font color="#800000">512</font><font color="#000080">;
   </font>IPPORT_WHOSERVER    <font color="#000080">=    </font><font color="#800000">513</font><font color="#000080">;
   </font>IPPORT_ROUTESERVER  <font color="#000080">=    </font><font color="#800000">520</font><font color="#000080">;
</font>																				<font color="#008000"><i>(* 520+1 also used *)

(*
 * Ports &lt; IPPORT_RESERVED are reserved for
 * privileged processes (e.g. root).
 *)
   </i></font>IPPORT_RESERVED    <font color="#000080">=     </font><font color="#800000">1024</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Link numbers
 *)
   </i></font>IMPLINK_IP         <font color="#000080">=     </font><font color="#800000">155</font><font color="#000080">;
   </font>IMPLINK_LOWEXPER   <font color="#000080">=     </font><font color="#800000">156</font><font color="#000080">;
   </font>IMPLINK_HIGHEXPER  <font color="#000080">=     </font><font color="#800000">158</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Internet address (old style... should be updated)
 *)
</i></font><font color="#FF0000"><b>type
  </b></font>PIn_Addr <font color="#000080">= ^</font>TIn_Addr<font color="#000080">;
  </font>TIn_Addr <font color="#000080">= </font><font color="#FF0000"><b>record
        case </b></font>integer <font color="#FF0000"><b>of
          </b></font><font color="#800000">1</font><font color="#000080">: (</font>S_un_b <font color="#000080">: </font><font color="#FF0000"><b>record
                      </b></font>s_b1<font color="#000080">,
                      </font>s_b2<font color="#000080">,
                      </font>s_b3<font color="#000080">,
                      </font>s_b4 <font color="#000080">: </font>u_char<font color="#000080">;
                      </font><font color="#FF0000"><b>end</b></font><font color="#000080">);
          </font><font color="#800000">2</font><font color="#000080">: (</font>S_un_w <font color="#000080">: </font><font color="#FF0000"><b>record
                      </b></font>s_w1<font color="#000080">,
                      </font>s_w2 <font color="#000080">: </font>u_short<font color="#000080">;
                      </font><font color="#FF0000"><b>end</b></font><font color="#000080">);
          </font><font color="#800000">3</font><font color="#000080">: (</font>S_addr <font color="#000080">: </font>u_long<font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>s_addr<font color="#000080">(</font>s_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_long<font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>s_host<font color="#000080">(</font>s_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_char<font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>s_net<font color="#000080">(</font>s_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_char<font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>s_imp<font color="#000080">(</font>s_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_short<font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>s_impno<font color="#000080">(</font>s_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_char<font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>s_lh<font color="#000080">(</font>s_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_char<font color="#000080">;

</font><font color="#008000"><i>(*
 * Definitions of bits in internet address integers.
 * On subnets, the decomposition of addresses to host and net parts
 * is done according to subnet mask, not the masks here.
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>IN_CLASSA_NET       <font color="#000080">=    </font><font color="#800000">$ff000000</font><font color="#000080">;
  </font>IN_CLASSA_NSHIFT    <font color="#000080">=    </font><font color="#800000">24</font><font color="#000080">;
  </font>IN_CLASSA_HOST      <font color="#000080">=    </font><font color="#800000">$00ffffff</font><font color="#000080">;
  </font>IN_CLASSA_MAX       <font color="#000080">=    </font><font color="#800000">128</font><font color="#000080">;

  </font>IN_CLASSB_NET       <font color="#000080">=    </font><font color="#800000">$ffff0000</font><font color="#000080">;
  </font>IN_CLASSB_NSHIFT    <font color="#000080">=    </font><font color="#800000">16</font><font color="#000080">;
  </font>IN_CLASSB_HOST      <font color="#000080">=    </font><font color="#800000">$0000ffff</font><font color="#000080">;
  </font>IN_CLASSB_MAX       <font color="#000080">=    </font><font color="#800000">65536</font><font color="#000080">;

  </font>IN_CLASSC_NET       <font color="#000080">=    </font><font color="#800000">$ffffff00</font><font color="#000080">;
  </font>IN_CLASSC_NSHIFT    <font color="#000080">=    </font><font color="#800000">8</font><font color="#000080">;
  </font>IN_CLASSC_HOST      <font color="#000080">=    </font><font color="#800000">$000000ff</font><font color="#000080">;

  </font>INADDR_ANY          <font color="#000080">=    </font><font color="#800000">$000000000</font><font color="#000080">;
  </font>INADDR_LOOPBACK     <font color="#000080">=    </font><font color="#800000">$7f000001</font><font color="#000080">;
  </font>INADDR_BROADCAST    <font color="#000080">=    </font><font color="#800000">$ffffffff</font><font color="#000080">;
  </font>INADDR_NONE         <font color="#000080">=    </font><font color="#800000">$ffffffff</font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>In_ClassA<font color="#000080">(</font>i <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>In_ClassB<font color="#000080">(</font>i <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>In_ClassC<font color="#000080">(</font>i <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;

</font><font color="#008000"><i>(*
 * Socket address, internet style.
 *)
</i></font><font color="#FF0000"><b>type
  </b></font>PSockAddr_In <font color="#000080">= ^</font>TSockAddr_In<font color="#000080">;
  </font>TSockAddr_in <font color="#000080">= </font><font color="#FF0000"><b>record
          </b></font>sin_family  <font color="#000080">: </font>integer<font color="#000080">;
          </font>sin_port    <font color="#000080">: </font>u_short<font color="#000080">;
          </font>sin_addr    <font color="#000080">: </font>TIn_Addr<font color="#000080">;
          </font>sin_zero    <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">7</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>char<font color="#000080">;
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>const
  </b></font>WSADESCRIPTION_LEN   <font color="#000080">=   </font><font color="#800000">256</font><font color="#000080">;
  </font>WSASYS_STATUS_LEN    <font color="#000080">=   </font><font color="#800000">128</font><font color="#000080">;

</font><font color="#FF0000"><b>type
  </b></font>PWSAData <font color="#000080">= ^</font>TWSAData<font color="#000080">;
  </font>TWSAData <font color="#000080">= </font><font color="#FF0000"><b>record
          </b></font>wVersion       <font color="#000080">: </font>word<font color="#000080">;
          </font>wHighVersion   <font color="#000080">: </font>word<font color="#000080">;
          </font>szDescription  <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>WSADESCRIPTION_LEN<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>char<font color="#000080">;  </font><font color="#008000"><i>(* RMB 03/10/96 1.03 *)
          </i></font>szSystemStatus <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font>WSASYS_STATUS_LEN<font color="#000080">] </font><font color="#FF0000"><b>of </b></font>char<font color="#000080">;   </font><font color="#008000"><i>(* RMB 03/10/96 1.03 *)
          </i></font>iMaxSockets    <font color="#000080">: </font>u_short<font color="#000080">;
          </font>iMaxUdpDg      <font color="#000080">: </font>u_short<font color="#000080">;
          </font>lpVendorInfo   <font color="#000080">: </font>PChar<font color="#000080">;
          </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Options for use with [gs]etsockopt at the IP level.
 *)
</i></font><font color="#FF0000"><b>const

  </b></font>IP_OPTIONS  <font color="#000080">=    </font><font color="#800000">1</font><font color="#000080">;               </font><font color="#008000"><i>(* set/get IP per-packet options *)

(*
 * Definitions related to sockets: types, address families, options,
 * taken from the BSD file sys/socket.h.
 *)

(*
 * This is used instead of -1, since the
 * SOCKET type is unsigned.
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>INVALID_SOCKET <font color="#000080">= </font>TSocket<font color="#000080">(</font><font color="#FF0000"><b>not </b></font><font color="#800000">0</font><font color="#000080">);
  </font>SOCKET_ERROR   <font color="#000080">= -</font><font color="#800000">1</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Types
 *)
  </i></font>SOCK_STREAM     <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;               </font><font color="#008000"><i>(* stream socket *)
  </i></font>SOCK_DGRAM      <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;               </font><font color="#008000"><i>(* datagram socket *)
  </i></font>SOCK_RAW        <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">;               </font><font color="#008000"><i>(* raw-protocol interface *)
  </i></font>SOCK_RDM        <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;               </font><font color="#008000"><i>(* reliably-delivered message *)
  </i></font>SOCK_SEQPACKET  <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;               </font><font color="#008000"><i>(* sequenced packet stream *)

(*
 * Option flags per-socket.
 *)
  </i></font>SO_DEBUG        <font color="#000080">= </font><font color="#800000">$0001</font><font color="#000080">;          </font><font color="#008000"><i>(* turn on debugging info recording *)
  </i></font>SO_ACCEPTCONN   <font color="#000080">= </font><font color="#800000">$0002</font><font color="#000080">;          </font><font color="#008000"><i>(* socket has had listen() *)
  </i></font>SO_REUSEADDR    <font color="#000080">= </font><font color="#800000">$0004</font><font color="#000080">;          </font><font color="#008000"><i>(* allow local address reuse *)
  </i></font>SO_KEEPALIVE    <font color="#000080">= </font><font color="#800000">$0008</font><font color="#000080">;          </font><font color="#008000"><i>(* keep connections alive *)
  </i></font>SO_DONTROUTE    <font color="#000080">= </font><font color="#800000">$0010</font><font color="#000080">;          </font><font color="#008000"><i>(* just use interface addresses *)
  </i></font>SO_BROADCAST    <font color="#000080">= </font><font color="#800000">$0020</font><font color="#000080">;          </font><font color="#008000"><i>(* permit sending of broadcast msgs *)
  </i></font>SO_USELOOPBACK  <font color="#000080">= </font><font color="#800000">$0040</font><font color="#000080">;          </font><font color="#008000"><i>(* bypass hardware when possible *)
  </i></font>SO_LINGER       <font color="#000080">= </font><font color="#800000">$0080</font><font color="#000080">;          </font><font color="#008000"><i>(* linger on close if data present *)
  </i></font>SO_OOBINLINE    <font color="#000080">= </font><font color="#800000">$0100</font><font color="#000080">;          </font><font color="#008000"><i>(* leave received OOB data in line *)

  </i></font>SO_DONTLINGER   <font color="#000080">= </font>u_int<font color="#000080">(</font><font color="#FF0000"><b>not </b></font>SO_LINGER<font color="#000080">);

</font><font color="#008000"><i>(*
 * Additional options.
 *)
  </i></font>SO_SNDBUF       <font color="#000080">= </font><font color="#800000">$1001</font><font color="#000080">;          </font><font color="#008000"><i>(* send buffer size *)
  </i></font>SO_RCVBUF       <font color="#000080">= </font><font color="#800000">$1002</font><font color="#000080">;          </font><font color="#008000"><i>(* receive buffer size *)
  </i></font>SO_SNDLOWAT     <font color="#000080">= </font><font color="#800000">$1003</font><font color="#000080">;          </font><font color="#008000"><i>(* send low-water mark *)
  </i></font>SO_RCVLOWAT     <font color="#000080">= </font><font color="#800000">$1004</font><font color="#000080">;          </font><font color="#008000"><i>(* receive low-water mark *)
  </i></font>SO_SNDTIMEO     <font color="#000080">= </font><font color="#800000">$1005</font><font color="#000080">;          </font><font color="#008000"><i>(* send timeout *)
  </i></font>SO_RCVTIMEO     <font color="#000080">= </font><font color="#800000">$1006</font><font color="#000080">;          </font><font color="#008000"><i>(* receive timeout *)
  </i></font>SO_ERROR        <font color="#000080">= </font><font color="#800000">$1007</font><font color="#000080">;          </font><font color="#008000"><i>(* get error status and clear *)
  </i></font>SO_TYPE         <font color="#000080">= </font><font color="#800000">$1008</font><font color="#000080">;          </font><font color="#008000"><i>(* get socket type *)

(*
 * TCP options.
 *)
  </i></font>TCP_NODELAY     <font color="#000080">= </font><font color="#800000">$0001</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Address families.
 *)
  </i></font>AF_UNSPEC       <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;               </font><font color="#008000"><i>(* unspecified *)
  </i></font>AF_UNIX         <font color="#000080">= </font><font color="#800000">1</font><font color="#000080">;               </font><font color="#008000"><i>(* local to host (pipes, portals) *)
  </i></font>AF_INET         <font color="#000080">= </font><font color="#800000">2</font><font color="#000080">;               </font><font color="#008000"><i>(* internetwork: UDP, TCP, etc. *)
  </i></font>AF_IMPLINK      <font color="#000080">= </font><font color="#800000">3</font><font color="#000080">;               </font><font color="#008000"><i>(* arpanet imp addresses *)
  </i></font>AF_PUP          <font color="#000080">= </font><font color="#800000">4</font><font color="#000080">;               </font><font color="#008000"><i>(* pup protocols: e.g. BSP *)
  </i></font>AF_CHAOS        <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;               </font><font color="#008000"><i>(* mit CHAOS protocols *)
  </i></font>AF_NS           <font color="#000080">= </font><font color="#800000">6</font><font color="#000080">;               </font><font color="#008000"><i>(* XEROX NS protocols *)
  </i></font>AF_IPX          <font color="#000080">= </font><font color="#800000">6</font><font color="#000080">;               </font><font color="#008000"><i>(* IPX and SPX *) (* RMB 03/10/96 1.03 *)
                                                       (* 05/15/93 update to original WINSOCK.H *)
  </i></font>AF_ISO          <font color="#000080">= </font><font color="#800000">7</font><font color="#000080">;               </font><font color="#008000"><i>(* ISO protocols *)
  </i></font>AF_OSI          <font color="#000080">= </font>AF_ISO<font color="#000080">;          </font><font color="#008000"><i>(* OSI is ISO *)
  </i></font>AF_ECMA         <font color="#000080">= </font><font color="#800000">8</font><font color="#000080">;               </font><font color="#008000"><i>(* european computer manufacturers *)
  </i></font>AF_DATAKIT      <font color="#000080">= </font><font color="#800000">9</font><font color="#000080">;               </font><font color="#008000"><i>(* datakit protocols *)
  </i></font>AF_CCITT        <font color="#000080">= </font><font color="#800000">10</font><font color="#000080">;              </font><font color="#008000"><i>(* CCITT protocols, X.25 etc *)
  </i></font>AF_SNA          <font color="#000080">= </font><font color="#800000">11</font><font color="#000080">;              </font><font color="#008000"><i>(* IBM SNA *)
  </i></font>AF_DECnet       <font color="#000080">= </font><font color="#800000">12</font><font color="#000080">;              </font><font color="#008000"><i>(* DECnet *)
  </i></font>AF_DLI          <font color="#000080">= </font><font color="#800000">13</font><font color="#000080">;              </font><font color="#008000"><i>(* Direct data link interface *)
  </i></font>AF_LAT          <font color="#000080">= </font><font color="#800000">14</font><font color="#000080">;              </font><font color="#008000"><i>(* LAT *)
  </i></font>AF_HYLINK       <font color="#000080">= </font><font color="#800000">15</font><font color="#000080">;              </font><font color="#008000"><i>(* NSC Hyperchannel *)
  </i></font>AF_APPLETALK    <font color="#000080">= </font><font color="#800000">16</font><font color="#000080">;              </font><font color="#008000"><i>(* AppleTalk *)
  </i></font>AF_NETBIOS      <font color="#000080">= </font><font color="#800000">17</font><font color="#000080">;              </font><font color="#008000"><i>(* NetBios-style addresses *)

  </i></font>AF_MAX          <font color="#000080">= </font><font color="#800000">18</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Structure used by kernel to store most
 * addresses.
 *)
</i></font><font color="#FF0000"><b>type
  </b></font>PSockAddr <font color="#000080">= ^</font>TSockAddr<font color="#000080">;
  </font>TSockAddr <font color="#000080">= </font><font color="#FF0000"><b>record
        </b></font>sa_family <font color="#000080">: </font>u_short<font color="#000080">;            </font><font color="#008000"><i>(* address family *)
        </i></font>sa_data <font color="#000080">: </font><font color="#FF0000"><b>array</b></font><font color="#000080">[</font><font color="#800000">0</font><font color="#000080">..</font><font color="#800000">13</font><font color="#000080">] </font><font color="#FF0000"><b>of </b></font>char<font color="#000080">; </font><font color="#008000"><i>(* up to 14 bytes of direct address *)
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Structure used by kernel to pass protocol
 * information in raw sockets.
 *)
</i></font><font color="#FF0000"><b>type
  </b></font>PSockProto <font color="#000080">= ^</font>TSockProto<font color="#000080">;
  </font>TSockProto <font color="#000080">= </font><font color="#FF0000"><b>record
        </b></font>sp_family <font color="#000080">: </font>u_short<font color="#000080">;              </font><font color="#008000"><i>(* address family *)
        </i></font>sp_protocol <font color="#000080">: </font>u_short<font color="#000080">;            </font><font color="#008000"><i>(* protocol *)
        </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Protocol families, same as address families for now.
 *)
</i></font><font color="#FF0000"><b>const

  </b></font>PF_UNSPEC       <font color="#000080">= </font>AF_UNSPEC<font color="#000080">;
  </font>PF_UNIX         <font color="#000080">= </font>AF_UNIX<font color="#000080">;
  </font>PF_INET         <font color="#000080">= </font>AF_INET<font color="#000080">;
  </font>PF_IMPLINK      <font color="#000080">= </font>AF_IMPLINK<font color="#000080">;
  </font>PF_PUP          <font color="#000080">= </font>AF_PUP<font color="#000080">;
  </font>PF_CHAOS        <font color="#000080">= </font>AF_CHAOS<font color="#000080">;
  </font>PF_NS           <font color="#000080">= </font>AF_NS<font color="#000080">;
  </font>PF_IPX          <font color="#000080">= </font>AF_IPX<font color="#000080">;  </font><font color="#008000"><i>(* RMB 3/9/96 1.03 *)
                             (* 5/15/93 update to original WINSOCK.H *)
  </i></font>PF_ISO          <font color="#000080">= </font>AF_ISO<font color="#000080">;
  </font>PF_OSI          <font color="#000080">= </font>AF_OSI<font color="#000080">;
  </font>PF_ECMA         <font color="#000080">= </font>AF_ECMA<font color="#000080">;
  </font>PF_DATAKIT      <font color="#000080">= </font>AF_DATAKIT<font color="#000080">;
  </font>PF_CCITT        <font color="#000080">= </font>AF_CCITT<font color="#000080">;
  </font>PF_SNA          <font color="#000080">= </font>AF_SNA<font color="#000080">;
  </font>PF_DECnet       <font color="#000080">= </font>AF_DECnet<font color="#000080">;
  </font>PF_DLI          <font color="#000080">= </font>AF_DLI<font color="#000080">;
  </font>PF_LAT          <font color="#000080">= </font>AF_LAT<font color="#000080">;
  </font>PF_HYLINK       <font color="#000080">= </font>AF_HYLINK<font color="#000080">;
  </font>PF_APPLETALK    <font color="#000080">= </font>AF_APPLETALK<font color="#000080">;

  </font>PF_MAX          <font color="#000080">= </font>AF_MAX<font color="#000080">;

</font><font color="#008000"><i>(*
 * Structure used for manipulating linger option.
 *)
</i></font><font color="#FF0000"><b>type
  </b></font>PLinger <font color="#000080">= ^</font>TLinger<font color="#000080">;
  </font>TLinger <font color="#000080">= </font><font color="#FF0000"><b>record
          </b></font>l_onoff  <font color="#000080">: </font>WordBool<font color="#000080">; </font><font color="#008000"><i>{was u_short RMB} (* option on/off *) (* RMB 03/10/96 1.03 *)
          </i></font>l_linger <font color="#000080">: </font>u_short<font color="#000080">;                    </font><font color="#008000"><i>(* linger time *)
          </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Level number for (get/set)sockopt() to apply to socket itself.
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>SOL_SOCKET      <font color="#000080">= -</font><font color="#800000">1</font><font color="#000080">; </font><font color="#008000"><i>{was $ffff  RMB}  (* options for socket level *)

(*
 * Maximum queue length specifiable by listen.
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>SOMAXCONN       <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">;

  </font>MSG_OOB         <font color="#000080">= </font><font color="#800000">$1</font><font color="#000080">;             </font><font color="#008000"><i>(* process out-of-band data *)
  </i></font>MSG_PEEK        <font color="#000080">= </font><font color="#800000">$2</font><font color="#000080">;             </font><font color="#008000"><i>(* peek at incoming message *)
  </i></font>MSG_DONTROUTE   <font color="#000080">= </font><font color="#800000">$4</font><font color="#000080">;             </font><font color="#008000"><i>(* send without using routing tables *)

  </i></font>MSG_MAXIOVLEN   <font color="#000080">= </font><font color="#800000">16</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Define constant based on rfc883, used by gethostbyxxxx() calls.
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>MAXGETHOSTSTRUCT        <font color="#000080">= </font><font color="#800000">1024</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Define flags to be used with the WSAAsyncSelect() call.
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>FD_READ         <font color="#000080">= </font><font color="#800000">$01</font><font color="#000080">;
  </font>FD_WRITE        <font color="#000080">= </font><font color="#800000">$02</font><font color="#000080">;
  </font>FD_OOB          <font color="#000080">= </font><font color="#800000">$04</font><font color="#000080">;
  </font>FD_ACCEPT       <font color="#000080">= </font><font color="#800000">$08</font><font color="#000080">;
  </font>FD_CONNECT      <font color="#000080">= </font><font color="#800000">$10</font><font color="#000080">;
  </font>FD_CLOSE        <font color="#000080">= </font><font color="#800000">$20</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * All Windows Sockets error constants are biased by WSABASEERR from
 * the &quot;normal&quot;
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>WSABASEERR              <font color="#000080">= </font><font color="#800000">10000</font><font color="#000080">;

</font><font color="#008000"><i>(*
 * Windows Sockets definitions of regular Microsoft C error constants
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>WSAEINTR                <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">4</font><font color="#000080">);
  </font>WSAEBADF                <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">9</font><font color="#000080">);
  </font>WSAEACCES               <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">13</font><font color="#000080">);
  </font>WSAEFAULT               <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">14</font><font color="#000080">);
  </font>WSAEINVAL               <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">22</font><font color="#000080">);
  </font>WSAEMFILE               <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">24</font><font color="#000080">);

</font><font color="#008000"><i>(*
 * Windows Sockets definitions of regular Berkeley error constants
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>WSAEWOULDBLOCK          <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">35</font><font color="#000080">);
  </font>WSAEINPROGRESS          <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">36</font><font color="#000080">);
  </font>WSAEALREADY             <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">37</font><font color="#000080">);
  </font>WSAENOTSOCK             <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">38</font><font color="#000080">);
  </font>WSAEDESTADDRREQ         <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">39</font><font color="#000080">);
  </font>WSAEMSGSIZE             <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">40</font><font color="#000080">);
  </font>WSAEPROTOTYPE           <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">41</font><font color="#000080">);
  </font>WSAENOPROTOOPT          <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">42</font><font color="#000080">);
  </font>WSAEPROTONOSUPPORT      <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">43</font><font color="#000080">);
  </font>WSAESOCKTNOSUPPORT      <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">44</font><font color="#000080">);
  </font>WSAEOPNOTSUPP           <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">45</font><font color="#000080">);
  </font>WSAEPFNOSUPPORT         <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">46</font><font color="#000080">);
  </font>WSAEAFNOSUPPORT         <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">47</font><font color="#000080">);
  </font>WSAEADDRINUSE           <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">48</font><font color="#000080">);
  </font>WSAEADDRNOTAVAIL        <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">49</font><font color="#000080">);
  </font>WSAENETDOWN             <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">50</font><font color="#000080">);
  </font>WSAENETUNREACH          <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">51</font><font color="#000080">);
  </font>WSAENETRESET            <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">52</font><font color="#000080">);
  </font>WSAECONNABORTED         <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">53</font><font color="#000080">);
  </font>WSAECONNRESET           <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">54</font><font color="#000080">);
  </font>WSAENOBUFS              <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">55</font><font color="#000080">);
  </font>WSAEISCONN              <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">56</font><font color="#000080">);
  </font>WSAENOTCONN             <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">57</font><font color="#000080">);
  </font>WSAESHUTDOWN            <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">58</font><font color="#000080">);
  </font>WSAETOOMANYREFS         <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">59</font><font color="#000080">);
  </font>WSAETIMEDOUT            <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">60</font><font color="#000080">);
  </font>WSAECONNREFUSED         <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">61</font><font color="#000080">);
  </font>WSAELOOP                <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">62</font><font color="#000080">);
  </font>WSAENAMETOOLONG         <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">63</font><font color="#000080">);
  </font>WSAEHOSTDOWN            <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">64</font><font color="#000080">);
  </font>WSAEHOSTUNREACH         <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">65</font><font color="#000080">);
  </font>WSAENOTEMPTY            <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">66</font><font color="#000080">);
  </font>WSAEPROCLIM             <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">67</font><font color="#000080">);
  </font>WSAEUSERS               <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">68</font><font color="#000080">);
  </font>WSAEDQUOT               <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">69</font><font color="#000080">);
  </font>WSAESTALE               <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">70</font><font color="#000080">);
  </font>WSAEREMOTE              <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">71</font><font color="#000080">);

</font><font color="#008000"><i>(*
 * Extended Windows Sockets error constant definitions
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>WSASYSNOTREADY          <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">91</font><font color="#000080">);
  </font>WSAVERNOTSUPPORTED      <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">92</font><font color="#000080">);
  </font>WSANOTINITIALISED       <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">93</font><font color="#000080">);

</font><font color="#008000"><i>(*
 * Error return codes from gethostbyname() and gethostbyaddr()
 * (when using the resolver). Note that these errors are
 * retrieved via WSAGetLastError() and must therefore follow
 * the rules for avoiding clashes with error numbers from
 * specific implementations or language run-time systems.
 * For this reason the codes are based at WSABASEERR+1001.
 * Note also that [WSA]NO_ADDRESS is defined only for
 * compatibility purposes.
 *)

</i></font><font color="#FF0000"><b>function </b></font>h_errno <font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>const
</b></font><font color="#008000"><i>(* Authoritative Answer: Host not found *)
  </i></font>WSAHOST_NOT_FOUND       <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">1001</font><font color="#000080">);
  </font>HOST_NOT_FOUND          <font color="#000080">= </font>WSAHOST_NOT_FOUND<font color="#000080">;

</font><font color="#008000"><i>(* Non-Authoritative: Host not found, or SERVERFAIL *)
  </i></font>WSATRY_AGAIN            <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">1002</font><font color="#000080">);
  </font>TRY_AGAIN               <font color="#000080">= </font>WSATRY_AGAIN<font color="#000080">;

</font><font color="#008000"><i>(* Non recoverable errors, FORMERR, REFUSED, NOTIMP *)
  </i></font>WSANO_RECOVERY          <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">1003</font><font color="#000080">);
  </font>NO_RECOVERY             <font color="#000080">= </font>WSANO_RECOVERY<font color="#000080">;

</font><font color="#008000"><i>(* Valid name, no data record of requested type *)
  </i></font>WSANO_DATA              <font color="#000080">= (</font>WSABASEERR<font color="#000080">+</font><font color="#800000">1004</font><font color="#000080">);
  </font>NO_DATA                 <font color="#000080">= </font>WSANO_DATA<font color="#000080">;

</font><font color="#008000"><i>(* no address, look for MX record *)
  </i></font>WSANO_ADDRESS           <font color="#000080">= </font>WSANO_DATA<font color="#000080">;
  </font>NO_ADDRESS              <font color="#000080">= </font>WSANO_ADDRESS<font color="#000080">;

</font><font color="#008000"><i>(*
 * Windows Sockets errors redefined as regular Berkeley error constants
 *)
</i></font><font color="#FF0000"><b>const
  </b></font>EWOULDBLOCK             <font color="#000080">= </font>WSAEWOULDBLOCK<font color="#000080">;
  </font>EINPROGRESS             <font color="#000080">= </font>WSAEINPROGRESS<font color="#000080">;
  </font>EALREADY                <font color="#000080">= </font>WSAEALREADY<font color="#000080">;
  </font>ENOTSOCK                <font color="#000080">= </font>WSAENOTSOCK<font color="#000080">;
  </font>EDESTADDRREQ            <font color="#000080">= </font>WSAEDESTADDRREQ<font color="#000080">;
  </font>EMSGSIZE                <font color="#000080">= </font>WSAEMSGSIZE<font color="#000080">;
  </font>EPROTOTYPE              <font color="#000080">= </font>WSAEPROTOTYPE<font color="#000080">;
  </font>ENOPROTOOPT             <font color="#000080">= </font>WSAENOPROTOOPT<font color="#000080">;
  </font>EPROTONOSUPPORT         <font color="#000080">= </font>WSAEPROTONOSUPPORT<font color="#000080">;
  </font>ESOCKTNOSUPPORT         <font color="#000080">= </font>WSAESOCKTNOSUPPORT<font color="#000080">;
  </font>EOPNOTSUPP              <font color="#000080">= </font>WSAEOPNOTSUPP<font color="#000080">;
  </font>EPFNOSUPPORT            <font color="#000080">= </font>WSAEPFNOSUPPORT<font color="#000080">;
  </font>EAFNOSUPPORT            <font color="#000080">= </font>WSAEAFNOSUPPORT<font color="#000080">;
  </font>EADDRINUSE              <font color="#000080">= </font>WSAEADDRINUSE<font color="#000080">;
  </font>EADDRNOTAVAIL           <font color="#000080">= </font>WSAEADDRNOTAVAIL<font color="#000080">;
  </font>ENETDOWN                <font color="#000080">= </font>WSAENETDOWN<font color="#000080">;
  </font>ENETUNREACH             <font color="#000080">= </font>WSAENETUNREACH<font color="#000080">;
  </font>ENETRESET               <font color="#000080">= </font>WSAENETRESET<font color="#000080">;
  </font>ECONNABORTED            <font color="#000080">= </font>WSAECONNABORTED<font color="#000080">;
  </font>ECONNRESET              <font color="#000080">= </font>WSAECONNRESET<font color="#000080">;
  </font>ENOBUFS                 <font color="#000080">= </font>WSAENOBUFS<font color="#000080">;
  </font>EISCONN                 <font color="#000080">= </font>WSAEISCONN<font color="#000080">;
  </font>ENOTCONN                <font color="#000080">= </font>WSAENOTCONN<font color="#000080">;
  </font>ESHUTDOWN               <font color="#000080">= </font>WSAESHUTDOWN<font color="#000080">;
  </font>ETOOMANYREFS            <font color="#000080">= </font>WSAETOOMANYREFS<font color="#000080">;
  </font>ETIMEDOUT               <font color="#000080">= </font>WSAETIMEDOUT<font color="#000080">;
  </font>ECONNREFUSED            <font color="#000080">= </font>WSAECONNREFUSED<font color="#000080">;
  </font>ELOOP                   <font color="#000080">= </font>WSAELOOP<font color="#000080">;
  </font>ENAMETOOLONG            <font color="#000080">= </font>WSAENAMETOOLONG<font color="#000080">;
  </font>EHOSTDOWN               <font color="#000080">= </font>WSAEHOSTDOWN<font color="#000080">;
  </font>EHOSTUNREACH            <font color="#000080">= </font>WSAEHOSTUNREACH<font color="#000080">;
  </font>ENOTEMPTY               <font color="#000080">= </font>WSAENOTEMPTY<font color="#000080">;
  </font>EPROCLIM                <font color="#000080">= </font>WSAEPROCLIM<font color="#000080">;
  </font>EUSERS                  <font color="#000080">= </font>WSAEUSERS<font color="#000080">;
  </font>EDQUOT                  <font color="#000080">= </font>WSAEDQUOT<font color="#000080">;
  </font>ESTALE                  <font color="#000080">= </font>WSAESTALE<font color="#000080">;
  </font>EREMOTE                 <font color="#000080">= </font>WSAEREMOTE<font color="#000080">;

</font><font color="#008000"><i>(* Socket function prototypes *)

</i></font><font color="#FF0000"><b>function </b></font>accept<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font>addr<font color="#000080">: </font>PSockAddr<font color="#000080">; </font>addrlen<font color="#000080">: </font>PInteger<font color="#000080">): </font>TSOCKET<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>bind<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>addr<font color="#000080">: </font>PSockAddr<font color="#000080">; </font>namelen<font color="#000080">: </font>integer<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>closesocket<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>connect<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>name<font color="#000080">: </font>PSockAddr<font color="#000080">; </font>namelen<font color="#000080">: </font>integer<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getpeername<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font>name<font color="#000080">: </font>PSockAddr<font color="#000080">; </font>namelen<font color="#000080">: </font>PInteger<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getsockname<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font>name<font color="#000080">: </font>PSockAddr<font color="#000080">; </font>namelen<font color="#000080">: </font>PInteger<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getsockopt<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font>level<font color="#000080">: </font>integer<font color="#000080">; </font>optname<font color="#000080">: </font>integer<font color="#000080">;
                    </font>optval<font color="#000080">: </font>PChar<font color="#000080">; </font>optlen<font color="#000080">: </font>PInteger<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>htonl<font color="#000080">(</font>hostlong<font color="#000080">: </font>u_long<font color="#000080">): </font>u_long<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>htons<font color="#000080">(</font>hostshort<font color="#000080">: </font>u_short<font color="#000080">): </font>u_short<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>inet_addr<font color="#000080">(</font><font color="#FF0000"><b>const </b></font>cp<font color="#000080">: </font>PChar<font color="#000080">): </font>longint<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>inet_ntoa<font color="#000080">(</font>ain<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>PChar<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>ioctlsocket<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font>cmd<font color="#000080">: </font>longint<font color="#000080">; </font>argp<font color="#000080">: </font>PLongint<font color="#000080">) : </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>listen <font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font>backlog<font color="#000080">: </font>integer<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>ntohl<font color="#000080">(</font>netlong<font color="#000080">: </font>u_long<font color="#000080">): </font>u_long<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>ntohs<font color="#000080">(</font>netshort<font color="#000080">: </font>u_short<font color="#000080">): </font>u_short<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>recv<font color="#000080">(</font>s <font color="#000080">: </font>TSOCKET<font color="#000080">; </font>buf<font color="#000080">: </font>PChar<font color="#000080">; </font>len<font color="#000080">: </font>integer<font color="#000080">; </font>flags<font color="#000080">: </font>integer<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>recvfrom<font color="#000080">(</font>s <font color="#000080">: </font>TSOCKET<font color="#000080">; </font>buf<font color="#000080">: </font>PChar<font color="#000080">; </font>len<font color="#000080">: </font>integer<font color="#000080">; </font>flags<font color="#000080">: </font>integer<font color="#000080">;
                  </font>from<font color="#000080">: </font>PSockAddr<font color="#000080">; </font>fromlen<font color="#000080">: </font>PInteger<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>select<font color="#000080">(</font>nfds<font color="#000080">: </font>integer<font color="#000080">; </font>readfds<font color="#000080">: </font>PFd_Set<font color="#000080">; </font>writefds<font color="#000080">: </font>PFd_Set<font color="#000080">;
                </font>exceptfds<font color="#000080">: </font>PFd_Set<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>timeout<font color="#000080">: </font>PTimeval<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>send<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>buf<font color="#000080">: </font>PChar<font color="#000080">; </font>len<font color="#000080">: </font>integer<font color="#000080">; </font>flags<font color="#000080">: </font>integer<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>sendto<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>buf<font color="#000080">: </font>PChar<font color="#000080">; </font>len<font color="#000080">: </font>integer<font color="#000080">; </font>flags<font color="#000080">: </font>integer<font color="#000080">;
                </font><font color="#FF0000"><b>const </b></font>ato<font color="#000080">: </font>PSockAddr<font color="#000080">; </font>tolen<font color="#000080">: </font>integer<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>setsockopt<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font>level<font color="#000080">: </font>integer<font color="#000080">; </font>optname<font color="#000080">: </font>integer<font color="#000080">;
                    </font><font color="#FF0000"><b>const </b></font>optval<font color="#000080">: </font>PChar<font color="#000080">; </font>optlen<font color="#000080">: </font>integer<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>shutdown<font color="#000080">(</font>s<font color="#000080">: </font>TSOCKET<font color="#000080">; </font>how<font color="#000080">: </font>integer<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>socket<font color="#000080">(</font>af<font color="#000080">: </font>integer<font color="#000080">; </font>atype<font color="#000080">: </font>integer<font color="#000080">; </font>protocol<font color="#000080">: </font>integer<font color="#000080">): </font>TSOCKET<font color="#000080">;

</font><font color="#008000"><i>(* Database function prototypes *)

</i></font><font color="#FF0000"><b>function </b></font>gethostbyaddr<font color="#000080">(</font><font color="#FF0000"><b>const </b></font>addr<font color="#000080">: </font>PChar<font color="#000080">; </font>len<font color="#000080">: </font>integer<font color="#000080">; </font>atype<font color="#000080">: </font>integer<font color="#000080">): </font>PHostEnt<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>gethostbyname<font color="#000080">(</font><font color="#FF0000"><b>const </b></font>name<font color="#000080">: </font>PChar<font color="#000080">): </font>PHostEnt<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>gethostname<font color="#000080">(</font>name<font color="#000080">: </font>PChar<font color="#000080">; </font>namelen<font color="#000080">: </font>integer<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getprotobyname<font color="#000080">(</font><font color="#FF0000"><b>const </b></font>name<font color="#000080">: </font>PChar<font color="#000080">): </font>PProtoEnt<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getprotobynumber<font color="#000080">(</font>proto<font color="#000080">: </font>integer<font color="#000080">): </font>PProtoEnt<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getservbyname<font color="#000080">(</font><font color="#FF0000"><b>const </b></font>name<font color="#000080">: </font>PChar<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>proto<font color="#000080">: </font>PChar<font color="#000080">): </font>PServEnt<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>getservbyport<font color="#000080">(</font>port<font color="#000080">: </font>integer<font color="#000080">; </font><font color="#FF0000"><b>const </b></font>proto<font color="#000080">: </font>PChar<font color="#000080">): </font>PServEnt<font color="#000080">;


</font><font color="#008000"><i>(* Microsoft Windows Extension function prototypes *)

</i></font><font color="#FF0000"><b>function </b></font>WSAAsyncGetHostByAddr<font color="#000080">(</font>hWnd<font color="#000080">: </font>HWND<font color="#000080">; </font>wMsg<font color="#000080">: </font>u_int<font color="#000080">;
                               </font><font color="#FF0000"><b>const </b></font>addr<font color="#000080">: </font>PChar<font color="#000080">; </font>len<font color="#000080">: </font>integer<font color="#000080">; </font>atype<font color="#000080">: </font>integer<font color="#000080">;
                               </font>buf<font color="#000080">: </font>PChar<font color="#000080">; </font>buflen<font color="#000080">: </font>integer<font color="#000080">): </font>THandle<font color="#000080">;  </font><font color="#008000"><i>(* RMB 03/10/96 1.03 *)
                                                  (* 04/23/93 update to original WINSOCK.H *)

</i></font><font color="#FF0000"><b>function </b></font>WSAAsyncGetHostByName<font color="#000080">(</font>hWnd<font color="#000080">: </font>HWND<font color="#000080">; </font>wMsg<font color="#000080">: </font>u_int<font color="#000080">;
                               </font><font color="#FF0000"><b>const </b></font>name<font color="#000080">: </font>PChar<font color="#000080">; </font>buf<font color="#000080">: </font>PChar<font color="#000080">;
                               </font>buflen<font color="#000080">: </font>integer<font color="#000080">): </font>THandle<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetProtoByName<font color="#000080">(</font>hWnd<font color="#000080">: </font>HWND<font color="#000080">; </font>wMsg<font color="#000080">: </font>u_int<font color="#000080">;
                                </font><font color="#FF0000"><b>const </b></font>name<font color="#000080">: </font>PChar<font color="#000080">; </font>buf<font color="#000080">: </font>PChar<font color="#000080">;
                                </font>buflen<font color="#000080">: </font>integer<font color="#000080">): </font>THandle<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetProtoByNumber<font color="#000080">(</font>hWnd<font color="#000080">: </font>HWND<font color="#000080">; </font>wMsg<font color="#000080">: </font>u_int<font color="#000080">;
                                  </font>number<font color="#000080">: </font>integer<font color="#000080">; </font>buf<font color="#000080">: </font>PChar<font color="#000080">;
                                  </font>buflen<font color="#000080">: </font>integer<font color="#000080">): </font>THandle<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetServByName<font color="#000080">(</font>hWnd<font color="#000080">: </font>HWND<font color="#000080">; </font>wMsg<font color="#000080">: </font>u_int<font color="#000080">;
                               </font><font color="#FF0000"><b>const </b></font>name<font color="#000080">: </font>PChar<font color="#000080">;
                               </font><font color="#FF0000"><b>const </b></font>proto<font color="#000080">: </font>PChar<font color="#000080">;
                               </font>buf<font color="#000080">: </font>PChar<font color="#000080">; </font>buflen<font color="#000080">: </font>integer<font color="#000080">): </font>THandle<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetServByPort<font color="#000080">(</font>hWnd<font color="#000080">: </font>HWND<font color="#000080">; </font>wMsg<font color="#000080">: </font>u_int<font color="#000080">; </font>port<font color="#000080">: </font>integer<font color="#000080">;
                               </font><font color="#FF0000"><b>const </b></font>proto<font color="#000080">: </font>PChar<font color="#000080">; </font>buf<font color="#000080">: </font>PChar<font color="#000080">;
                               </font>buflen<font color="#000080">: </font>integer<font color="#000080">): </font>THandle<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAAsyncSelect<font color="#000080">(</font>s <font color="#000080">: </font>TSocket<font color="#000080">; </font>hWnd<font color="#000080">: </font>HWND<font color="#000080">; </font>wMsg<font color="#000080">: </font>u_int<font color="#000080">;
                        </font>lEvent<font color="#000080">: </font>longint<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSACancelAsyncRequest<font color="#000080">(</font>hAsyncTaskHandle<font color="#000080">: </font>THandle<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSACancelBlockingCall<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSACleanup<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAGetLastError<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAIsBlocking<font color="#000080">: </font>boolean<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSASetBlockingHook<font color="#000080">(</font>lpBlockFunc<font color="#000080">: </font>TFarProc<font color="#000080">): </font>TFarProc<font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>WSASetLastError<font color="#000080">(</font>iError<font color="#000080">: </font>integer<font color="#000080">);

</font><font color="#FF0000"><b>function </b></font>WSAStartup<font color="#000080">(</font>wVersionRequired<font color="#000080">: </font>word<font color="#000080">; </font>lpWSAData<font color="#000080">: </font>PWSAData<font color="#000080">): </font>integer<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAUnhookBlockingHook<font color="#000080">: </font>integer<font color="#000080">;

</font><font color="#008000"><i>(*
 * Windows message parameter composition and decomposition
 * macros.
 *
 * WSAMAKEASYNCREPLY is inteneded for use by the Windows Sockets implementation
 * when constructing the response to a WSAAsyncGetXByX() routine.
 *)
</i></font><font color="#FF0000"><b>function </b></font>WSAMakeAsyncReply<font color="#000080">(</font>buflen<font color="#000080">, </font>error<font color="#000080">: </font>word<font color="#000080">): </font>longint<font color="#000080">;
</font><font color="#008000"><i>(*
 * WSAMAKESELECTREPLY is intended for use by the Windows Sockets implementation
 * when constructing the response to WSAAsyncSelect().
 *)
</i></font><font color="#FF0000"><b>function </b></font>WSAMakeSelectReply<font color="#000080">(</font>event<font color="#000080">, </font>error<font color="#000080">: </font>word<font color="#000080">): </font>longint<font color="#000080">;
</font><font color="#008000"><i>(*
 * WSAGETASYNCBUFLEN is intended for use by the Windows Sockets application
 * to extract the buffer length from the lParam in the response
 * to a WSAGetXByY().
 *)
</i></font><font color="#FF0000"><b>function </b></font>WSAGetAsyncBuflen<font color="#000080">(</font>lparam<font color="#000080">: </font>longint<font color="#000080">): </font>word<font color="#000080">;
</font><font color="#008000"><i>(*
 * WSAGETASYNCERROR is intended for use by the Windows Sockets application
 * to extract the error code from the lParam in the response
 * to a WSAGetXByY().
 *)
</i></font><font color="#FF0000"><b>function </b></font>WSAGetAsyncError<font color="#000080">(</font>lparam<font color="#000080">: </font>longint<font color="#000080">): </font>word<font color="#000080">;
</font><font color="#008000"><i>(*
 * WSAGETSELECTEVENT is intended for use by the Windows Sockets application
 * to extract the event code from the lParam in the response
 * to a WSAAsyncSelect().
 *)
</i></font><font color="#FF0000"><b>function </b></font>WSAGetSelectEvent<font color="#000080">(</font>lparam<font color="#000080">: </font>longint<font color="#000080">): </font>word<font color="#000080">;
</font><font color="#008000"><i>(*
 * WSAGETSELECTERROR is intended for use by the Windows Sockets application
 * to extract the error code from the lParam in the response
 * to a WSAAsyncSelect().
 *)
</i></font><font color="#FF0000"><b>function </b></font>WSAGetSelectError<font color="#000080">(</font>lparam<font color="#000080">: </font>longint<font color="#000080">): </font>word<font color="#000080">;

</font><font color="#FF0000"><b>implementation

uses
  </b></font>WinProcs<font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>accept<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">1</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>bind<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">2</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>closesocket<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">3</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>connect<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">4</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>getpeername<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">5</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>getsockname<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">6</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>getsockopt<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">7</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>htonl<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">8</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>htons<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">9</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>inet_addr<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">10</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>inet_ntoa<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">11</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>ioctlsocket<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">12</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>listen<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">13</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>ntohl<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">14</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>ntohs<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">15</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>recv<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">16</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>recvfrom<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">17</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>select<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">18</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>send<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">19</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>sendto<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">20</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>setsockopt<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">21</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>shutdown<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">22</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>socket<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">23</font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>gethostbyaddr<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">51</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>gethostbyname<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">52</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>getprotobyname<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">53</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>getprotobynumber<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">54</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>getservbyname<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">55</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>getservbyport<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">56</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>gethostname<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">57</font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAAsyncSelect<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">101</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetHostByAddr<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">102</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetHostByName<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">103</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetProtoByNumber<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">104</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetProtoByName<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">105</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetServByPort<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">106</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAAsyncGetServByName<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">107</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSACancelAsyncRequest<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">108</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSASetBlockingHook<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">109</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAUnhookBlockingHook<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">110</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAGetLastError<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">111</font><font color="#000080">;
</font><font color="#FF0000"><b>procedure </b></font>WSASetLastError<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">112</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSACancelBlockingCall<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">113</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAIsBlocking<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">114</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSAStartup<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">115</font><font color="#000080">;
</font><font color="#FF0000"><b>function </b></font>WSACleanup<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">116</font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>__WSAFDIsSet<font color="#000080">; </font><font color="#FF0000"><b>external </b></font><font color="#800000">'WINSOCK' </font>index <font color="#800000">151</font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>Fd_Clr<font color="#000080">(</font>fd<font color="#000080">: </font>TSocket<font color="#000080">; </font>aset<font color="#000080">: </font>PFd_Set<font color="#000080">);
</font><font color="#FF0000"><b>var
  </b></font>i<font color="#000080">: </font>u_int<font color="#000080">;
</font><font color="#FF0000"><b>begin
  for </b></font>i <font color="#000080">:= </font><font color="#800000">0 </font><font color="#FF0000"><b>to </b></font>aset<font color="#000080">^.</font>fd_count <font color="#FF0000"><b>do
    begin
    if </b></font>aset<font color="#000080">^.</font>fd_array<font color="#000080">[</font>i<font color="#000080">] = </font>fd <font color="#FF0000"><b>then </b></font><font color="#008000"><i>(* found the one to clear *)
      </i></font><font color="#FF0000"><b>begin
      while </b></font>i <font color="#000080">&lt; (</font>aset<font color="#000080">^.</font>fd_count<font color="#000080">-</font><font color="#800000">1</font><font color="#000080">) </font><font color="#FF0000"><b>do
        begin
        </b></font>aset<font color="#000080">^.</font>fd_array<font color="#000080">[</font>i<font color="#000080">] := </font>aset<font color="#000080">^.</font>fd_array<font color="#000080">[</font>i<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">];
        </font>inc<font color="#000080">(</font>i<font color="#000080">);
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
      </font>dec<font color="#000080">(</font>aset<font color="#000080">^.</font>fd_count<font color="#000080">);
      </font>break<font color="#000080">;
      </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>Fd_Set<font color="#000080">(</font>fd<font color="#000080">: </font>TSocket<font color="#000080">; </font>aset<font color="#000080">: </font>PFd_Set<font color="#000080">);
</font><font color="#FF0000"><b>begin
  if </b></font>aset<font color="#000080">^.</font>fd_count <font color="#000080">&lt; </font>FD_SETSIZE <font color="#FF0000"><b>then
    begin
    </b></font>aset<font color="#000080">^.</font>fd_array<font color="#000080">[</font>aset<font color="#000080">^.</font>fd_count<font color="#000080">] := </font>fd<font color="#000080">;
    </font>inc<font color="#000080">(</font>aset<font color="#000080">^.</font>fd_count<font color="#000080">);
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>procedure </b></font>Fd_Zero<font color="#000080">(</font>aset<font color="#000080">: </font>PFd_Set<font color="#000080">);
</font><font color="#FF0000"><b>begin
  </b></font>aset<font color="#000080">^.</font>fd_count <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>Fd_IsSet<font color="#000080">(</font>fd<font color="#000080">: </font>TSocket<font color="#000080">; </font>aset<font color="#000080">: </font>PFd_Set<font color="#000080">): </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>Fd_IsSet <font color="#000080">:= (</font>__WSAFDIsSet<font color="#000080">(</font>fd<font color="#000080">, </font>aSet<font color="#000080">) &gt; </font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>h_addr<font color="#000080">(</font>aHostEnt<font color="#000080">: </font>THostEnt<font color="#000080">): </font>PChar<font color="#000080">;  </font><font color="#008000"><i>(* RMB 09/29/94 1.02 *)
</i></font><font color="#FF0000"><b>begin
  </b></font>h_addr <font color="#000080">:= </font>aHostEnt<font color="#000080">.</font>h_addr_list<font color="#000080">^;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>s_addr<font color="#000080">(</font>S_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_long<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>s_addr <font color="#000080">:= </font>S_un<font color="#000080">.</font>S_addr<font color="#000080">;  </font><font color="#008000"><i>(* can be used for most tcp &amp; ip code *)
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>s_host<font color="#000080">(</font>S_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_char<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>s_host <font color="#000080">:= </font>S_un<font color="#000080">.</font>S_un_b<font color="#000080">.</font>s_b2<font color="#000080">;  </font><font color="#008000"><i>(* host on imp *)
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>s_net<font color="#000080">(</font>S_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_char<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>s_net <font color="#000080">:= </font>S_un<font color="#000080">.</font>S_un_b<font color="#000080">.</font>s_b1<font color="#000080">;  </font><font color="#008000"><i>(* network *)
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>s_imp<font color="#000080">(</font>S_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_short<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>s_imp <font color="#000080">:= </font>S_un<font color="#000080">.</font>S_un_w<font color="#000080">.</font>s_w2<font color="#000080">; </font><font color="#008000"><i>(* imp *)
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>s_impno<font color="#000080">(</font>S_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_char<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>s_impno <font color="#000080">:= </font>S_un<font color="#000080">.</font>S_un_b<font color="#000080">.</font>s_b4<font color="#000080">; </font><font color="#008000"><i>(* imp $ *)
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>s_lh<font color="#000080">(</font>S_un<font color="#000080">: </font>TIn_Addr<font color="#000080">): </font>u_char<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>s_lh <font color="#000080">:= </font>S_un<font color="#000080">.</font>S_un_b<font color="#000080">.</font>s_b3<font color="#000080">;  </font><font color="#008000"><i>(* logical host *)
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>In_ClassA<font color="#000080">(</font>i <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>In_ClassA <font color="#000080">:= ((</font>i <font color="#FF0000"><b>and </b></font><font color="#800000">$80000000</font><font color="#000080">) = </font><font color="#800000">0</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>In_ClassB<font color="#000080">(</font>i <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>In_ClassB <font color="#000080">:= ((</font>i <font color="#FF0000"><b>and  </b></font><font color="#800000">$c0000000</font><font color="#000080">) = </font><font color="#800000">$80000000</font><font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>In_ClassC<font color="#000080">(</font>i <font color="#000080">: </font>longint<font color="#000080">) : </font>boolean<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>In_ClassC <font color="#000080">:= ((</font>i <font color="#FF0000"><b>and </b></font><font color="#800000">$e0000000</font><font color="#000080">) = </font><font color="#800000">$c0000000</font><font color="#000080">);   </font><font color="#008000"><i>(* RMB 03/10/96 1.03 *)
                                                  (* 05/15/93 to original WINSOCK.H *)
</i></font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>h_errno <font color="#000080">: </font>integer<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>h_errno <font color="#000080">:= </font>WSAGetLastError<font color="#000080">;
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAMakeAsyncReply<font color="#000080">(</font>buflen<font color="#000080">, </font>error<font color="#000080">: </font>word<font color="#000080">): </font>longint<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>WSAMakeAsyncReply <font color="#000080">:= </font>MakeLong<font color="#000080">(</font>buflen<font color="#000080">, </font>error<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAMakeSelectReply<font color="#000080">(</font>event<font color="#000080">, </font>error<font color="#000080">: </font>word<font color="#000080">): </font>longint<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>WSAMakeSelectReply <font color="#000080">:= </font>MakeLong<font color="#000080">(</font>event<font color="#000080">, </font>error<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAGetAsyncBuflen<font color="#000080">(</font>lparam<font color="#000080">: </font>longint<font color="#000080">): </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>WSAGetAsyncBuflen <font color="#000080">:= </font>LoWord<font color="#000080">(</font>lparam<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAGetAsyncError<font color="#000080">(</font>lparam<font color="#000080">: </font>longint<font color="#000080">): </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>WSAGetAsyncError <font color="#000080">:= </font>HiWord<font color="#000080">(</font>lparam<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAGetSelectEvent<font color="#000080">(</font>lparam<font color="#000080">: </font>longint<font color="#000080">): </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>WSAGetSelectEvent <font color="#000080">:= </font>LoWord<font color="#000080">(</font>lparam<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>function </b></font>WSAGetSelectError<font color="#000080">(</font>lparam<font color="#000080">: </font>longint<font color="#000080">): </font>word<font color="#000080">;
</font><font color="#FF0000"><b>begin
  </b></font>WSAGetSelectError <font color="#000080">:= </font>HiWord<font color="#000080">(</font>lparam<font color="#000080">);
</font><font color="#FF0000"><b>end</b></font><font color="#000080">;

</font><font color="#FF0000"><b>END</b></font><font color="#000080">.
</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to WIN-OS2 SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0089.PAS">Original</a><b>]</b></p></body>
</html>
