<html>
<head><title> "Expanding Tabs" by MICHAEL TEATOR</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to WIN-OS2 SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0069.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code>
<font color="#FF0000"><b>program </b></font>ExpandTabsWindows<font color="#000080">;

</font><font color="#008000"><i>{
    Public domain by Michael Teator
    February 1995
}

</i></font><font color="#FF0000"><b>uses
    </b></font>WinCrt<font color="#000080">;

</font><font color="#FF0000"><b>const
    </b></font>Space<font color="#000080">:  </font>byte <font color="#000080">=  </font><font color="#800000">32</font><font color="#000080">;

</font><font color="#FF0000"><b>type
    </b></font>TextFile <font color="#000080">=  </font><font color="#FF0000"><b>file of </b></font>byte<font color="#000080">;

</font><font color="#FF0000"><b>var
    </b></font>OutputFile<font color="#000080">, </font>InputFile<font color="#000080">:  </font>TextFile<font color="#000080">;
    </font>OutputName<font color="#000080">, </font>InputName<font color="#000080">:  </font><font color="#FF0000"><b>string</b></font><font color="#000080">;
    </font>t<font color="#000080">, </font>Pos<font color="#000080">, </font>TabSpace<font color="#000080">, </font>ch<font color="#000080">:   </font>byte<font color="#000080">;

</font><font color="#FF0000"><b>begin

    </b></font>writeln <font color="#000080">(</font><font color="#800000">'Tab Epander 1.0  Public Domain by Michael Teator'</font><font color="#000080">);
    </font>writeln<font color="#000080">;
    </font>write <font color="#000080">(</font><font color="#800000">'Input File: '</font><font color="#000080">);
    </font>readln <font color="#000080">(</font>InputName<font color="#000080">);

    </font>write <font color="#000080">(</font><font color="#800000">'Output File: '</font><font color="#000080">);
    </font>readln <font color="#000080">(</font>OutputName<font color="#000080">);
    </font><font color="#FF0000"><b>if </b></font>InputName <font color="#000080">= </font>OutputName <font color="#FF0000"><b>then begin
        </b></font>writeln <font color="#000080">(</font><font color="#800000">'Output file cannot be the same as the input file.'</font><font color="#000080">);
        </font>halt <font color="#000080">(</font><font color="#800000">1</font><font color="#000080">)
    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;

    </font>write <font color="#000080">(</font><font color="#800000">'Spaces between tabs: '</font><font color="#000080">);
    </font>readln <font color="#000080">(</font>TabSpace<font color="#000080">);

    </font><font color="#FF0000"><b>if </b></font>TabSpace <font color="#000080">&lt; </font><font color="#800000">1 </font><font color="#FF0000"><b>then </b></font>TabSpace <font color="#000080">:= </font><font color="#800000">1</font><font color="#000080">;

    </font>assign <font color="#000080">(</font>InputFile<font color="#000080">, </font>InputName<font color="#000080">);
    </font>assign <font color="#000080">(</font>OutputFile<font color="#000080">, </font>OutputName<font color="#000080">);
    </font>reset <font color="#000080">(</font>InputFile<font color="#000080">);
    </font>rewrite <font color="#000080">(</font>OutputFile<font color="#000080">);

    </font>Pos <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
    </font><font color="#FF0000"><b>while not </b></font>eof<font color="#000080">(</font>InputFile<font color="#000080">) </font><font color="#FF0000"><b>do begin
        </b></font>read <font color="#000080">(</font>InputFile<font color="#000080">, </font>ch<font color="#000080">);
        </font><font color="#FF0000"><b>case </b></font>ch <font color="#FF0000"><b>of
            </b></font><font color="#800000">9</font><font color="#000080">:      </font><font color="#FF0000"><b>for </b></font>t <font color="#000080">:= </font><font color="#800000">1 </font><font color="#FF0000"><b>to </b></font><font color="#000080">(</font>TabSpace <font color="#000080">- (</font>Pos <font color="#FF0000"><b>mod </b></font>TabSpace<font color="#000080">)) </font><font color="#FF0000"><b>do begin
                        </b></font>write <font color="#000080">(</font>OutputFile<font color="#000080">, </font>Space<font color="#000080">);
                        </font>inc <font color="#000080">(</font>Pos<font color="#000080">)
                    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
            </font><font color="#800000">13</font><font color="#000080">, </font><font color="#800000">10</font><font color="#000080">: </font><font color="#FF0000"><b>begin
                        </b></font>Pos <font color="#000080">:= </font><font color="#800000">0</font><font color="#000080">;
                        </font>write <font color="#000080">(</font>OutputFile<font color="#000080">, </font>ch<font color="#000080">)
                    </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>else    begin
                    </b></font>write <font color="#000080">(</font>OutputFile<font color="#000080">, </font>ch<font color="#000080">);
                    </font>inc <font color="#000080">(</font>Pos<font color="#000080">)
                </font><font color="#FF0000"><b>end</b></font><font color="#000080">;
        </font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ case }
    </i></font><font color="#FF0000"><b>end</b></font><font color="#000080">; </font><font color="#008000"><i>{ while }

    </i></font>close <font color="#000080">(</font>InputFile<font color="#000080">);
    </font>close <font color="#000080">(</font>OutputFile<font color="#000080">);
    </font>writeln <font color="#000080">(</font><font color="#800000">'Done.'</font><font color="#000080">)

</font><font color="#FF0000"><b>end</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to WIN-OS2 SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0069.PAS">Original</a><b>]</b></p></body>
</html>
