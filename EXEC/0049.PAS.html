<html>
<head><title> "Change constants in EXE files" by AVONTURE CHRISTOPHE</title><link rel="STYLESHEET" type="text/css" href="../swagsource.css"></head>
<body><p align="center"><b>[</b><a href="index.html">Back to EXEC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0049.PAS">Original</a><b>]</b></p><!--StartFragment--><pre><code><font color="#008000"><i>{

   The purpose of this program is to extract show how we can put a constant
   into our program and then, when the program is running, modify this
   constant in the EXE file.  So, on the next run, the constant will be
   modified.

   WARNING: A PROGRAM LIKE THAT CAN'T BE NEVER COMPRESSED BY PKLITE, LZEXE,
            DIET OR ANY OTHER  EXE COMPRESSOR.  THIS  PROGRAM CAN'T ALSO BE
            ENCRYPTED BY A PROGRAM!!!   SO BE CAREFULL!!!

   Try to  run  this program  severall times  from  the DOS prompt and NEVER
   FROM THE PASCAL IDE.



               &Eacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&raquo;
               &ordm;                                        &ordm;&deg;
               &ordm;          AVONTURE CHRISTOPHE           &ordm;&deg;
               &ordm;              AVC SOFTWARE              &ordm;&deg;
               &ordm;     BOULEVARD EDMOND MACHTENS 157/53   &ordm;&deg;
               &ordm;           B-1080 BRUXELLES             &ordm;&deg;
               &ordm;              BELGIQUE                  &ordm;&deg;
               &ordm;                                        &ordm;&deg;
               &Egrave;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&Iacute;&frac14;&deg;
               &deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;&deg;

}

</i></font><font color="#FF0000"><b>Uses </b></font>Crt<font color="#000080">;

</font><font color="#FF0000"><b>Const </b></font>Tour       <font color="#000080">: </font>Integer <font color="#000080">= </font><font color="#800000">0</font><font color="#000080">;
      </font>Taille_Psp <font color="#000080">: </font>Integer <font color="#000080">= </font><font color="#800000">256</font><font color="#000080">;

</font><font color="#FF0000"><b>Var   </b></font>Fich       <font color="#000080">: </font><font color="#FF0000"><b>File</b></font><font color="#000080">;
      </font>Taille_Hdr <font color="#000080">: </font>Word<font color="#000080">;

</font><font color="#FF0000"><b>Begin

       </b></font>Assign <font color="#000080">(</font>Fich<font color="#000080">,</font>ParamStr<font color="#000080">(</font><font color="#800000">0</font><font color="#000080">));
       </font>Reset <font color="#000080">(</font>Fich<font color="#000080">,</font><font color="#800000">1</font><font color="#000080">);
       </font>Seek <font color="#000080">(</font>Fich<font color="#000080">, </font><font color="#800000">8</font><font color="#000080">);
       </font>BlockRead <font color="#000080">(</font>Fich<font color="#000080">, </font>Taille_Hdr<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);
       </font>Tour <font color="#000080">:= </font>Tour<font color="#000080">+</font><font color="#800000">1</font><font color="#000080">;
       </font>Writeln <font color="#000080">(</font><font color="#800000">'You have used this program '</font><font color="#000080">,</font>tour<font color="#000080">,</font><font color="#800000">' times'</font><font color="#000080">);
       </font>Seek <font color="#000080">(</font>Fich<font color="#000080">, </font>LongInt<font color="#000080">(</font>Taille_Hdr<font color="#000080">) </font><font color="#FF0000"><b>Shl </b></font><font color="#800000">4
           </font><font color="#000080">+(</font>Dseg<font color="#000080">-</font>PrefixSeg<font color="#000080">) </font><font color="#FF0000"><b>shl </b></font><font color="#800000">4</font><font color="#000080">-</font>Taille_Psp<font color="#000080">+</font>Ofs<font color="#000080">(</font>Tour<font color="#000080">));
       </font>BlockWrite <font color="#000080">(</font>Fich<font color="#000080">, </font>Tour<font color="#000080">, </font><font color="#800000">1</font><font color="#000080">);

       </font><font color="#FF0000"><b>If </b></font><font color="#000080">(</font>Tour <font color="#000080">= </font><font color="#800000">5</font><font color="#000080">) </font><font color="#FF0000"><b>then
          Begin
             </b></font>Writeln <font color="#000080">(</font><font color="#800000">'You have already used this program five times.  '</font><font color="#000080">+
                      </font><font color="#800000">'Is it cool?'</font><font color="#000080">);

          </font><font color="#FF0000"><b>End</b></font><font color="#000080">;
</font><font color="#FF0000"><b>End</b></font><font color="#000080">.</font>
</code></pre><!--EndFragment--><p align="center"><b>[</b><a href="index.html">Back to EXEC SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="../index.html">Back to Main SWAG index</a><b>]</b>&nbsp;&nbsp;<b>[</b><a href="0049.PAS">Original</a><b>]</b></p></body>
</html>
